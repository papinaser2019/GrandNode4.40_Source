function JalaliDate(){this.g_days_in_month=[31,28,31,30,31,30,31,31,30,31,30,31],this.j_days_in_month=[31,31,31,31,31,31,30,30,30,30,30,29];this.jalaliToGregorian=function(r,y,t){r=parseInt(r);y=parseInt(y);t=parseInt(t);var o=r-979;var w=y-1;var q=t-1;var s=365*o+parseInt(o/33)*8+parseInt((o%33+3)/4);for(var u=0;u<w;++u){s+=this.j_days_in_month[u]}s+=q;var x=s+79;var i=1600+400*parseInt(x/146097);x=x%146097;var z=true;if(x>=36525){x--;i+=100*parseInt(x/36524);x=x%36524;if(x>=365){x++}else{z=false}}i+=4*parseInt(x/1461);x%=1461;if(x>=366){z=false;x--;i+=parseInt(x/365);x=x%365}for(var u=0;x>=this.g_days_in_month[u]+(u==1&&z);u++){x-=this.g_days_in_month[u]+(u==1&&z)}var v=u+1;var p=x+1;return[i,v,p]};this.checkDate=function(d,f,e){return !(d<0||d>32767||f<1||f>12||e<1||e>(this.j_days_in_month[f-1]+(f==12&&!((d-979)%33%4))))};this.gregorianToJalali=function(z,u,i){z=parseInt(z);u=parseInt(u);i=parseInt(i);var o=z-1600;var w=u-1;var r=i-1;var y=365*o+parseInt((o+3)/4)-parseInt((o+99)/100)+parseInt((o+399)/400);for(var v=0;v<w;++v){y+=this.g_days_in_month[v]}if(w>1&&((o%4==0&&o%100!=0)||(o%400==0))){++y}y+=r;var t=y-79;var p=parseInt(t/12053);t%=12053;var q=979+33*p+4*parseInt(t/1461);t%=1461;if(t>=366){q+=parseInt((t-1)/365);t=(t-1)%365}for(var v=0;v<11&&t>=this.j_days_in_month[v];++v){t-=this.j_days_in_month[v]}var x=v+1;var s=t+1;return[q,x,s]};this.setJalali=function(){this.jalalidate=this.gregorianToJalali(this.gregoriandate.getFullYear(),this.gregoriandate.getMonth()+1,this.gregoriandate.getDate());this.jalalidate[1]--};this.getDate=function(){return this.jalalidate[2]};this.getDay=function(){return this.gregoriandate.getDay()};this.getFullYear=function(){return this.jalalidate[0]};this.getHours=function(){return this.gregoriandate.getHours()};this.getMilliseconds=function(){return this.gregoriandate.getMilliseconds()};this.getMinutes=function(){return this.gregoriandate.getMinutes()};this.getMonth=function(){return this.jalalidate[1]};this.getSeconds=function(){return this.gregoriandate.getSeconds()};this.getTime=function(){return this.gregoriandate.getTime()};this.getTimezoneOffset=function(){return this.gregoriandate.getTimezoneOffset()};this.getUTCDate=function(){return this.gregoriandate.getUTCDate()};this.getUTCDay=function(){return this.gregoriandate.getUTCDay()};this.getUTCFullYear=function(){return this.gregoriandate.getUTCFullYear()};this.getUTCHours=function(){return this.gregoriandate.getUTCHours()};this.getUTCMilliseconds=function(){return this.gregoriandate.getUTCMilliseconds()};this.getUTCMinutes=function(){return this.gregoriandate.getUTCMinutes()};this.getUTCMonth=function(){return this.gregoriandate.getUTCMonth()};this.getUTCSeconds=function(){return this.gregoriandate.getUTCSeconds()};this.getYear=function(){return this.gregoriandate.getYear()};this.setDate=function(e){var f=-1*(this.jalalidate[2]-e);var d=this.gregoriandate.setDate(this.gregoriandate.getDate()+f);this.gregoriandate.setHours(0,0,0,0);this.setJalali();return d};this.setFullYear=function(n,m,p){var k=parseInt(n);var j=parseInt(m);var l=parseInt(p);if(isNaN(m)){j=0}if(isNaN(p)){l=1}if(j<0){j=0}if(j==12){k++;j=0}if(l<1){l=1}var o=this.jalaliToGregorian(k,j+1,l);var d=this.gregoriandate.setFullYear(o[0],o[1]-1,o[2]);this.gregoriandate.setHours(0,0,0,0);if(m<0||p<1){if(m<0){d=this.gregoriandate.setMonth(this.gregoriandate.getMonth()+m)}if(p<1){d=this.gregoriandate.setDate(this.gregoriandate.getDate()+p-1)}this.setHours(1,0,0,0);this.setJalali()}else{this.jalalidate=[k,j,l]}return d};this.setHours=function(f,i,h,j){if(i==undefined){var g=this.gregoriandate.setHours(f)}else{if(h==undefined){var g=this.gregoriandate.setHours(f,i)}else{if(j==undefined){var g=this.gregoriandate.setHours(f,i,h)}else{var g=this.gregoriandate.setHours(f,i,h,j)}}}this.setJalali();return g};this.setMilliseconds=function(d){var c=this.gregoriandate.setMilliseconds(d);this.setJalali();return c};this.setMinutes=function(d){var c=this.gregoriandate.setMinutes(d);this.setJalali();return c};this.setMonth=function(j,d){var h=this.jalalidate[0];var g=parseInt(j);var i=this.jalalidate[2];if(isNaN(d)==false){i=parseInt(d)}return this.setFullYear(h,g,i)};this.setSeconds=function(f,e){var d=this.gregoriandate.setSeconds(f,e);this.setJalali();return d};this.setTime=function(d){var c=this.gregoriandate.setTime(d);this.setJalali();return c};this.setUTCDate=function(b){return this.gregoriandate.setUTCDate(b)};this.setUTCFullYear=function(f,e,d){return this.gregoriandate.setUTCFullYear(f,e,d)};this.setUTCHours=function(g,f,h,e){return this.gregoriandate.setUTCHours(g,f,h,e)};this.setUTCMilliseconds=function(b){return this.gregoriandate.setUTCMilliseconds(b)};this.setUTCMinutes=function(e,f,d){return this.gregoriandate.setUTCMinutes(e,f,d)};this.setUTCMonth=function(d,c){return this.gregoriandate.setUTCMonth(d,c)};this.setUTCSeconds=function(c,d){return this.gregoriandate.setUTCSeconds(c,d)};this.toDateString=function(){return this.jalalidate[0]+"/"+this.jalalidate[1]+"/"+this.jalalidate[2]};this.toISOString=function(){return this.toDateString()};this.toJSON=function(){return this.toDateString()};this.toLocaleDateString=function(){return this.toDateString()};this.toLocaleTimeString=function(){return this.gregoriandate.toLocaleTimeString()};this.toLocaleString=function(){return this.toDateString()+" "+this.toLocaleTimeString()};this.toString=function(){return this.toLocaleString()};this.toTimeString=function(){return this.toLocaleTimeString()};this.toUTCString=function(){return this.gregoriandate.toUTCString()};this.UTC=function(j,h,l,m,d,n,k){return Date.UTC(j,h,l,m,d,n,k)};this.valueOf=function(){return this.gregoriandate.valueOf()};this.gregoriandate=new Date();this.gregoriandate.setHours(0,0,0,0);if(arguments.length==0){}else{if(arguments.length==3){if(arguments[0]==1900||arguments[0]==2099){this.gregoriandate.setFullYear(arguments[0],arguments[1],arguments[2])}else{this.setFullYear(arguments[0],arguments[1],arguments[2])}}else{if(arguments.length==6){this.setFullYear(arguments[0],arguments[1],arguments[2]);this.setHours(arguments[3],arguments[4],arguments[5])}else{if(arguments.length==7){this.setFullYear(arguments[0],arguments[1],arguments[2]);this.setHours(arguments[3],arguments[4],arguments[5],arguments[6])}else{if(arguments.length==1&&typeof(arguments[0])==="number"){this.gregoriandate.setTime(arguments[0])}else{if(arguments.length==1&&arguments[0].jalalidate!==undefined){this.gregoriandate=arguments[0].gregoriandate}else{if(arguments.length==1&&arguments[0] instanceof Date){this.gregoriandate=arguments[0]}else{}}}}}}}this.setJalali()}JalaliDate.parse=function(l){try{if("string"!=typeof l){l=l.toString()}if(l.indexOf("Date(")>-1){var d=new Date(parseInt(l.replace(/^\/Date\((.*?)\)\/$/,"$1"),10));var i=new JalaliDate(d).getFullYear(),e=new JalaliDate(d).getMonth(),j=new JalaliDate(d).getDate();return new JalaliDate(i,e,j)}else{var i=parseInt(l.substring(0,4)),e=parseInt(l.substring(5,7)),j=parseInt(l.substring(8,10));return new JalaliDate(i,e-1,j)}}catch(k){return new JalaliDate(1300,1,1)}};(function(a,b){b([],a)})(function(){(function(au,aD,u){var q=aD.kendo=aD.kendo||{cultures:{}},ab=au.extend,aO=au.each,b=au.isArray,y=au.proxy,at=au.noop,N=Math,T,i=aD.JSON||{},aF={},f=/%/,P=/\{(\d+)(:[^\}]+)?\}/g,aI=/(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+)?/i,h=/^(\+|-?)\d+(\.?)\d*$/,aj="function",aG="string",M="number",A="object",ag="null",W="boolean",af="undefined",an={},S={},w=[].slice,d=aD.Globalize;q.version="2014.3.1314";function aE(){}aE.extend=function(aT){var aU=function(){},aV,aS=this,aQ=aT&&aT.init?aT.init:function(){aS.apply(this,arguments)},aR;aU.prototype=aS.prototype;aR=aQ.fn=aQ.prototype=new aU();for(aV in aT){if(aT[aV]!=null&&aT[aV].constructor===Object){aR[aV]=ab(true,{},aU.prototype[aV],aT[aV])}else{aR[aV]=aT[aV]}}aR.constructor=aQ;aQ.extend=aS.extend;return aQ};aE.prototype._initOptions=function(aQ){this.options=aM({},this.options,aQ)};var ax=q.isFunction=function(aQ){return typeof aQ==="function"};var x=function(){this._defaultPrevented=true};var aq=function(){return this._defaultPrevented===true};var F=aE.extend({init:function(){this._events={}},bind:function(aW,aU,aV){var aX=this,aY,aR=typeof aW===aG?[aW]:aW,aS,aT,a0,aQ=typeof aU===aj,aZ;if(aU===u){for(aY in aW){aX.bind(aY,aW[aY])}return aX}for(aY=0,aS=aR.length;aY<aS;aY++){aW=aR[aY];a0=aQ?aU:aU[aW];if(a0){if(aV){aT=a0;a0=function(){aX.unbind(aW,a0);aT.apply(aX,arguments)};a0.original=aT}aZ=aX._events[aW]=aX._events[aW]||[];aZ.push(a0)}}return aX},one:function(aR,aQ){return this.bind(aR,aQ,true)},first:function(aU,aT){var aV=this,aW,aQ=typeof aU===aG?[aU]:aU,aR,aY,aS=typeof aT===aj,aX;for(aW=0,aR=aQ.length;aW<aR;aW++){aU=aQ[aW];aY=aS?aT:aT[aU];if(aY){aX=aV._events[aU]=aV._events[aU]||[];aX.unshift(aY)}}return aV},trigger:function(aR,aV){var aU=this,aS=aU._events[aR],aQ,aT;if(aS){aV=aV||{};aV.sender=aU;aV._defaultPrevented=false;aV.preventDefault=x;aV.isDefaultPrevented=aq;aS=aS.slice();for(aQ=0,aT=aS.length;aQ<aT;aQ++){aS[aQ].call(aU,aV)}return aV._defaultPrevented===true}return false},unbind:function(aR,aT){var aU=this,aS=aU._events[aR],aQ;if(aR===u){aU._events={}}else{if(aS){if(aT){for(aQ=aS.length-1;aQ>=0;aQ--){if(aS[aQ]===aT||aS[aQ].original===aT){aS.splice(aQ,1)}}}else{aU._events[aR]=[]}}}return aU}});function j(aQ,aT){if(aT){return"'"+aQ.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'"}else{var aS=aQ.charAt(0),aR=aQ.substring(1);if(aS==="="){return"+("+aR+")+"}else{if(aS===":"){return"+e("+aR+")+"}else{return";"+aQ+";o+="}}}}var aL=/^\w+/,az=/\$\{([^}]*)\}/g,n=/\\\}/g,K=/__CURLY__/g,e=/\\#/g,C=/__SHARP__/g,Q=["","0","00","000","0000"];T={paramName:"data",useWithBlock:true,render:function(aS,aU){var aQ,aT,aR="";for(aQ=0,aT=aU.length;aQ<aT;aQ++){aR+=aS(aU[aQ])}return aR},compile:function(aZ,a0){var aR=ab({},this,a0),aU=aR.paramName,aS=aU.match(aL)[0],aW=aR.useWithBlock,aQ="var o,e=kendo.htmlEncode;",aX,aT,aY;if(ax(aZ)){return aZ}aQ+=aW?"with("+aU+"){":"";aQ+="o=";aT=aZ.replace(n,"__CURLY__").replace(az,"#=e($1)#").replace(K,"}").replace(e,"__SHARP__").split("#");for(aY=0;aY<aT.length;aY++){aQ+=j(aT[aY],aY%2===0)}aQ+=aW?";}":";";aQ+="return o;";aQ=aQ.replace(C,"#");try{aX=new Function(aS,aQ);aX._slotCount=Math.floor(aT.length/2);return aX}catch(aV){throw new Error(q.format("Invalid template:'{0}' Generated code:'{1}'",aZ,aQ))}}};function r(aR,aS,aQ){aR=aR+"";aS=aS||2;aQ=aS-aR.length;if(aQ){return Q[aS].substring(0,aQ)+aR}return aR}(function(){var aX=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,aW,aQ,aU={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},aS,aT={}.toString;if(typeof Date.prototype.toJSON!==aj){Date.prototype.toJSON=function(){var aY=this;return isFinite(aY.valueOf())?r(aY.getUTCFullYear(),4)+"-"+r(aY.getUTCMonth()+1)+"-"+r(aY.getUTCDate())+"T"+r(aY.getUTCHours())+":"+r(aY.getUTCMinutes())+":"+r(aY.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}function aR(aY){aX.lastIndex=0;return aX.test(aY)?'"'+aY.replace(aX,function(aZ){var a0=aU[aZ];return typeof a0===aG?a0:"\\u"+("0000"+aZ.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+aY+'"'}function aV(a6,a3){var a0,aZ,a7,aY,a4=aW,a2,a5=a3[a6],a1;if(a5&&typeof a5===A&&typeof a5.toJSON===aj){a5=a5.toJSON(a6)}if(typeof aS===aj){a5=aS.call(a3,a6,a5)}a1=typeof a5;if(a1===aG){return aR(a5)}else{if(a1===M){return isFinite(a5)?String(a5):ag}else{if(a1===W||a1===ag){return String(a5)}else{if(a1===A){if(!a5){return ag}aW+=aQ;a2=[];if(aT.apply(a5)==="[object Array]"){aY=a5.length;for(a0=0;a0<aY;a0++){a2[a0]=aV(a0,a5)||ag}a7=a2.length===0?"[]":aW?"[\n"+aW+a2.join(",\n"+aW)+"\n"+a4+"]":"["+a2.join(",")+"]";aW=a4;return a7}if(aS&&typeof aS===A){aY=aS.length;for(a0=0;a0<aY;a0++){if(typeof aS[a0]===aG){aZ=aS[a0];a7=aV(aZ,a5);if(a7){a2.push(aR(aZ)+(aW?": ":":")+a7)}}}}else{for(aZ in a5){if(Object.hasOwnProperty.call(a5,aZ)){a7=aV(aZ,a5);if(a7){a2.push(aR(aZ)+(aW?": ":":")+a7)}}}}a7=a2.length===0?"{}":aW?"{\n"+aW+a2.join(",\n"+aW)+"\n"+a4+"}":"{"+a2.join(",")+"}";aW=a4;return a7}}}}}if(typeof i.stringify!==aj){i.stringify=function(a1,aZ,a0){var aY;aW="";aQ="";if(typeof a0===M){for(aY=0;aY<a0;aY+=1){aQ+=" "}}else{if(typeof a0===aG){aQ=a0}}aS=aZ;if(aZ&&typeof aZ!==aj&&(typeof aZ!==A||typeof aZ.length!==M)){throw new Error("JSON.stringify")}return aV("",{"":a1})}}})();(function(){var a3=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g,a2=/^(n|c|p|e)(\d*)$/i,aU=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,aX=/\,/g,a8="",aT=".",a1=",",aR="#",a5="0",aQ="??",a6="en-US",aW={}.toString;q.cultures["en-US"]={name:a6,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}};function aV(a9){if(a9){if(a9.numberFormat){return a9}if(typeof a9===aG){var ba=q.cultures;return ba[a9]||ba[a9.split("-")[0]]||null}return null}return null}function aZ(a9){if(a9){a9=aV(a9)}return a9||q.cultures.current}function aS(a9){a9.groupSizes=a9.groupSize;a9.percent.groupSizes=a9.percent.groupSize;a9.currency.groupSizes=a9.currency.groupSize}q.culture=function(bb){var ba=q.cultures,a9;if(bb!==u){a9=aV(bb)||ba[a6];a9.calendar=a9.calendars.standard;ba.current=a9;if(d&&!d.load){aS(a9.numberFormat)}}else{return ba.current}};q.findCulture=aV;q.getCulture=aZ;q.culture(a6);function a0(be,bd,ba){ba=aZ(ba);var bb=be;var bc=ba.calendars.standard,bf=bc.days,a9=bc.months;bd=bc.patterns[bd]||bd;return bd.replace(a3,function(bi){var bj;var bg;var bh;if(typeof be.jalalidate&&be.getYear()>0){bb=new JalaliDate(be)}if(bi==="d"){bg=bb.getDate()}else{if(bi==="dd"){bg=r(bb.getDate())}else{if(bi==="ddd"){bg=bf.namesAbbr[bb.getDay()]}else{if(bi==="dddd"){bg=bf.names[bb.getDay()]}else{if(bi==="M"){bg=bb.getMonth()+1}else{if(bi==="MM"){bg=r(bb.getMonth()+1)}else{if(bi==="MMM"){bg=a9.namesAbbr[bb.getMonth()]}else{if(bi==="MMMM"){bg=a9.names[bb.getMonth()]}else{if(bi==="yy"){bg=r(bb.getFullYear()%100)}else{if(bi==="yyyy"){bg=r(bb.getFullYear(),4)}else{if(bi==="h"){bg=bb.getHours()%12||12}else{if(bi==="hh"){bg=r(bb.getHours()%12||12)}else{if(bi==="H"){bg=bb.getHours()}else{if(bi==="HH"){bg=r(bb.getHours())}else{if(bi==="m"){bg=bb.getMinutes()}else{if(bi==="mm"){bg=r(bb.getMinutes())}else{if(bi==="s"){bg=bb.getSeconds()}else{if(bi==="ss"){bg=r(bb.getSeconds())}else{if(bi==="f"){bg=N.floor(bb.getMilliseconds()/100)}else{if(bi==="ff"){bg=bb.getMilliseconds();if(bg>99){bg=N.floor(bg/10)}bg=r(bg)}else{if(bi==="fff"){bg=r(bb.getMilliseconds(),3)}else{if(bi==="tt"){bg=bb.getHours()<12?bc.AM[0]:bc.PM[0]}else{if(bi==="zzz"){bj=bb.getTimezoneOffset();bh=bj<0;bg=N.abs(bj/60).toString().split(".")[0];bj=N.abs(bj)-(bg*60);bg=(bh?"+":"-")+r(bg);bg+=":"+r(bj)}else{if(bi==="zz"||bi==="z"){bg=bb.getTimezoneOffset()/60;bh=bg<0;bg=N.abs(bg).toString().split(".")[0];bg=(bh?"+":"-")+(bi==="zz"?r(bg):bg)}}}}}}}}}}}}}}}}}}}}}}}}return bg!==u?bg:bi.slice(1,bi.length-1)})}function aY(bJ,br,bD){bD=aZ(bD);var bI=bD.numberFormat,bC=bI.groupSize[0],bq=bI[a1],bH=bI[aT],bF=bI.decimals,bc=bI.pattern[0],a9=[],bf,ba,bx,bk,bt,bi=bJ<0,bw,bg,bm,bn,bs=a8,bA=a8,bG,bj,bu,bE,bl,bd,be,bB,bz,bb,by,bv,bp,bo=-1,bh;if(bJ===u){return a8}if(!isFinite(bJ)){return bJ}if(!br){return bD.name.length?bJ.toLocaleString():bJ.toString()}bt=a2.exec(br);if(bt){br=bt[1].toLowerCase();ba=br==="c";bx=br==="p";if(ba||bx){bI=ba?bI.currency:bI.percent;bC=bI.groupSize[0];bq=bI[a1];bH=bI[aT];bF=bI.decimals;bf=bI.symbol;bc=bI.pattern[bi?0:1]}bk=bt[2];if(bk){bF=+bk}if(br==="e"){return bk?bJ.toExponential(bF):bJ.toExponential()}if(bx){bJ*=100}bJ=a7(bJ,bF);bi=bJ<0;bJ=bJ.split(aT);bw=bJ[0];bg=bJ[1];if(bi){bw=bw.substring(1)}bA=bw;bm=bw.length;if(bm>=bC){bA=a8;for(bG=0;bG<bm;bG++){if(bG>0&&(bm-bG)%bC===0){bA+=bq}bA+=bw.charAt(bG)}}if(bg){bA+=bH+bg}if(br==="n"&&!bi){return bA}bJ=a8;for(bG=0,bj=bc.length;bG<bj;bG++){bu=bc.charAt(bG);if(bu==="n"){bJ+=bA}else{if(bu==="$"||bu==="%"){bJ+=bf}else{bJ+=bu}}}return bJ}if(bi){bJ=-bJ}if(br.indexOf("'")>-1||br.indexOf('"')>-1||br.indexOf("\\")>-1){br=br.replace(aU,function(bK){var bL=bK.charAt(0).replace("\\",""),bM=bK.slice(1).replace(bL,"");a9.push(bM);return aQ})}br=br.split(";");if(bi&&br[1]){br=br[1];bl=true}else{if(bJ===0){br=br[2]||br[0];if(br.indexOf(aR)==-1&&br.indexOf(a5)==-1){return br}}else{br=br[0]}}by=br.indexOf("%");bv=br.indexOf("$");bx=by!=-1;ba=bv!=-1;if(bx){bJ*=100}if(ba&&br[bv-1]==="\\"){br=br.split("\\").join("");ba=false}if(ba||bx){bI=ba?bI.currency:bI.percent;bC=bI.groupSize[0];bq=bI[a1];bH=bI[aT];bF=bI.decimals;bf=bI.symbol}bE=br.indexOf(a1)>-1;if(bE){br=br.replace(aX,a8)}bd=br.indexOf(aT);bj=br.length;if(bd!=-1){bg=bJ.toString().split("e");if(bg[1]){bg=a7(bJ,Math.abs(bg[1]))}else{bg=bg[0]}bg=bg.split(aT)[1]||a8;bB=br.lastIndexOf(a5)-bd;be=br.lastIndexOf(aR)-bd;bz=bB>-1;bb=be>-1;bG=bg.length;if(!bz&&!bb){br=br.substring(0,bd)+br.substring(bd+1);bj=br.length;bd=-1;bG=0}if(bz&&bB>be){bG=bB}else{if(be>bB){if(bb&&bG>be){bG=be}else{if(bz&&bG<bB){bG=bB}}}}if(bG>-1){bJ=a7(bJ,bG)}}else{bJ=a7(bJ)}be=br.indexOf(aR);bp=bB=br.indexOf(a5);if(be==-1&&bB!=-1){bo=bB}else{if(be!=-1&&bB==-1){bo=be}else{bo=be>bB?bB:be}}be=br.lastIndexOf(aR);bB=br.lastIndexOf(a5);if(be==-1&&bB!=-1){bh=bB}else{if(be!=-1&&bB==-1){bh=be}else{bh=be>bB?be:bB}}if(bo==bj){bh=bo}if(bo!=-1){bA=bJ.toString().split(aT);bw=bA[0];bg=bA[1]||a8;bm=bw.length;bn=bg.length;if(bi&&(bJ*-1)>=0){bi=false}if(bE){if(bm===bC&&bm<bd-bp){bw=bq+bw}else{if(bm>bC){bA=a8;for(bG=0;bG<bm;bG++){if(bG>0&&(bm-bG)%bC===0){bA+=bq}bA+=bw.charAt(bG)}bw=bA}}}bJ=br.substring(0,bo);if(bi&&!bl){bJ+="-"}for(bG=bo;bG<bj;bG++){bu=br.charAt(bG);if(bd==-1){if(bh-bG<bm){bJ+=bw;break}}else{if(bB!=-1&&bB<bG){bs=a8}if((bd-bG)<=bm&&bd-bG>-1){bJ+=bw;bG=bd}if(bd===bG){bJ+=(bg?bH:a8)+bg;bG+=bh-bd+1;continue}}if(bu===a5){bJ+=bu;bs=bu}else{if(bu===aR){bJ+=bs}}}if(bh>=bo){bJ+=br.substring(bh+1)}if(ba||bx){bA=a8;for(bG=0,bj=bJ.length;bG<bj;bG++){bu=bJ.charAt(bG);bA+=(bu==="$"||bu==="%")?bf:bu}bJ=bA}bj=a9.length;if(bj){for(bG=0;bG<bj;bG++){bJ=bJ.replace(aQ,a9[bG])}}}return bJ}var a7=function(ba,a9){a9=a9||0;ba=ba.toString().split("e");ba=Math.round(+(ba[0]+"e"+(ba[1]?(+ba[1]+a9):a9)));ba=ba.toString().split("e");ba=+(ba[0]+"e"+(ba[1]?(+ba[1]-a9):-a9));return ba.toFixed(a9)};var a4=function(bb,a9,ba){if(a9=="y"){}if(a9){if(aW.call(bb)==="[object Date]"||bb instanceof JalaliDate){return a0(bb,a9,ba)}else{if(typeof bb===M){return aY(bb,a9,ba)}}}return bb!==u?bb:""};if(d&&!d.load){a4=function(ba,bb,a9){if(au.isPlainObject(a9)){a9=a9.name}return d.format(ba,bb,a9)}}q.format=function(a9){var ba=arguments;return a9.replace(P,function(bc,bb,bd){var be=ba[parseInt(bb,10)+1];if(bd==":y"){}return a4(be,bd?bd.substring(1):"",q.culture().name)})};q._extractFormat=function(a9){if(a9.slice(0,3)==="{0:"){a9=a9.slice(3,a9.length-1)}return a9};q._activeElement=function(){try{return document.activeElement}catch(a9){return document.documentElement.activeElement}};q._round=a7;q.toString=a4})();(function(){var aX=/\u00A0/g,a4=/[eE][\-+]?[0-9]+/,a3=/[+|\-]\d{1,2}/,a0=/[+|\-]\d{1,2}:?\d{2}/,a5=/^\/Date\((.*?)\)\/$/,a6=/[+-]\d*/,aZ=["G","g","d","F","D","y","m","T","t"],aY={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},aW={}.toString;function a2(a8,a9,a7){return !(a8>=a9&&a8<=a7)}function aV(a7){return a7.charAt(0)}function a1(a7){return au.map(a7,aV)}function aT(a8,a7){if(!a7&&a8.getHours()===23){a8.setHours(a8.getHours()+2)}}function aR(a9){var a7=0,a8=a9.length,ba=[];for(;a7<a8;a7++){ba[a7]=(a9[a7]+"").toLowerCase()}return ba}function aS(a9){var a7={},a8;for(a8 in a9){a7[a8]=aR(a9[a8])}return a7}function aQ(br,bw,by){if(!br){return null}var bq=function(bF){var bG=0;while(bw[bn]===bF){bG++;bn++}if(bG>0){bn-=1}return bG},bE=function(bH){var bG=aY[bH]||new RegExp("^\\d{1,"+bH+"}"),bF=br.substr(bD,bH).match(bG);if(bF){bF=bF[0];bD+=bF.length;return parseInt(bF,10)}return null},bg=function(bL,bG){var bH=0,bI=bL.length,bF,bK,bJ;for(;bH<bI;bH++){bF=bL[bH];bK=bF.length;bJ=br.substr(bD,bK);if(bG){bJ=bJ.toLowerCase()}if(bJ==bF){bD+=bK;return bH+1}}return null},bt=function(){var bF=false;if(br.charAt(bD)===bw[bn]){bD++;bF=true}return bF},bm=by.calendars.standard,bj=null,bC=null,bv=null,bx=null,bs=null,bk=null,bh=null,bn=0,bD=0,bu=false,bA=new Date(),bd=bm.twoDigitYearMax||2029,bo=bA.getFullYear(),bi,bc,ba,bz,bl,a9,a7,bp,bb,bB,bf,a8,be;if(!bw){bw="d"}bz=bm.patterns[bw];if(bz){bw=bz}bw=bw.split("");ba=bw.length;for(;bn<ba;bn++){bi=bw[bn];if(bu){if(bi==="'"){bu=false}else{bt()}}else{if(bi==="d"){bc=bq("d");if(!bm._lowerDays){bm._lowerDays=aS(bm.days)}bv=bc<3?bE(2):bg(bm._lowerDays[bc==3?"namesAbbr":"names"],true);if(bv===null||a2(bv,1,31)){return null}}else{if(bi==="M"){bc=bq("M");if(!bm._lowerMonths){bm._lowerMonths=aS(bm.months)}bC=bc<3?bE(2):bg(bm._lowerMonths[bc==3?"namesAbbr":"names"],true);if(bC===null||a2(bC,1,12)){return null}bC-=1}else{if(bi==="y"){bc=bq("y");bj=bE(bc);if(bj===null){return null}if(bc==2){if(typeof bd==="string"){bd=bo+parseInt(bd,10)}bj=(bo-bo%100)+bj;if(bj>bd){bj-=100}}}else{if(bi==="h"){bq("h");bx=bE(2);if(bx==12){bx=0}if(bx===null||a2(bx,0,11)){return null}}else{if(bi==="H"){bq("H");bx=bE(2);if(bx===null||a2(bx,0,23)){return null}}else{if(bi==="m"){bq("m");bs=bE(2);if(bs===null||a2(bs,0,59)){return null}}else{if(bi==="s"){bq("s");bk=bE(2);if(bk===null||a2(bk,0,59)){return null}}else{if(bi==="f"){bc=bq("f");be=br.substr(bD,bc).match(aY[3]);bh=bE(bc);if(bh!==null){be=be[0].length;if(be<3){bh*=Math.pow(10,(3-be))}if(bc>3){bh=parseInt(bh.toString().substring(0,3),10)}}if(bh===null||a2(bh,0,999)){return null}}else{if(bi==="t"){bc=bq("t");bp=bm.AM;bb=bm.PM;if(bc===1){bp=a1(bp);bb=a1(bb)}bl=bg(bb);if(!bl&&!bg(bp)){return null}}else{if(bi==="z"){a9=true;bc=bq("z");if(br.substr(bD,1)==="Z"){bt();continue}a7=br.substr(bD,6).match(bc>2?a0:a3);if(!a7){return null}a7=a7[0].split(":");bB=a7[0];bf=a7[1];if(!bf&&bB.length>3){bD=bB.length-2;bf=bB.substring(bD);bB=bB.substring(0,bD)}bB=parseInt(bB,10);if(a2(bB,-12,13)){return null}if(bc>2){bf=parseInt(bf,10);if(isNaN(bf)||a2(bf,0,59)){return null}}}else{if(bi==="'"){bu=true;bt()}else{if(!bt()){return null}}}}}}}}}}}}}}a8=bx!==null||bs!==null||bk||null;if(bj===null&&bC===null&&bv===null&&a8){bj=bo;bC=bA.getMonth();bv=bA.getDate()}else{if(bj===null){bj=bo}if(bv===null){bv=1}}if(bl&&bx<12){bx+=12}if(a9){if(bB){bx+=-bB}if(bf){bs+=-bf}br=new Date(Date.UTC(bj,bC,bv,bx,bs,bk,bh))}else{br=new Date(bj,bC,bv,bx,bs,bk,bh);aT(br,bx)}if(bj<100){br.setFullYear(bj)}if(br.getDate()!==bv&&a9===u){return null}return br}function aU(a8){var a7=a8.substr(0,1)==="-"?-1:1;a8=a8.substring(1);a8=(parseInt(a8.substr(0,2),10)*60)+parseInt(a8.substring(2),10);return a7*a8}q.parseDate=function(bd,bc,bb){if(aW.call(bd)==="[object Date]"||bd instanceof JalaliDate){return bd}if(bd!==null&&bd!==""&&bd!=u&&bc=="yyyy/MM/dd"){return JalaliDate.parse(bd)}var be=0;var ba=null;var a7,a8;var bf;var a9;if(bd&&bd.indexOf("/D")===0){ba=a5.exec(bd);if(ba){ba=ba[1];bf=a6.exec(ba.substring(1));ba=new JalaliDate(parseInt(ba,10));if(bf){bf=aU(bf[0]);ba=q.timezone.apply(ba,0);ba=q.timezone.convert(ba,0,-1*bf)}return ba}}bb=q.getCulture(bb);if(!bc){bc=[];a8=bb.calendar.patterns;a7=aZ.length;for(;be<a7;be++){bc[be]=a8[aZ[be]]}be=0;bc=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mm:ss.fffffff","yyyy-MM-ddTHH:mm:ss.fff","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"].concat(bc)}bc=b(bc)?bc:[bc];a7=bc.length;for(;be<a7;be++){ba=aQ(bd,bc[be],bb);if(ba){return ba}}return ba};q.parseInt=function(a9,a8){var a7=q.parseFloat(a9,a8);if(a7){a7=a7|0}return a7};q.parseFloat=function(bh,bc,bg){if(!bh&&bh!==0){return null}if(typeof bh===M){return bh}bh=bh.toString();bc=q.getCulture(bc);var bb=bc.numberFormat,be=bb.percent,bf=bb.currency,a9=bf.symbol,a8=be.symbol,ba=bh.indexOf("-"),bd,a7;if(a4.test(bh)){bh=parseFloat(bh.replace(bb["."],"."));if(isNaN(bh)){bh=null}return bh}if(ba>0){return null}else{ba=ba>-1}if(bh.indexOf(a9)>-1||(bg&&bg.toLowerCase().indexOf("c")>-1)){bb=bf;bd=bb.pattern[0].replace("$",a9).split("n");if(bh.indexOf(bd[0])>-1&&bh.indexOf(bd[1])>-1){bh=bh.replace(bd[0],"").replace(bd[1],"");ba=true}}else{if(bh.indexOf(a8)>-1){a7=true;bb=be;a9=a8}}bh=bh.replace("-","").replace(a9,"").replace(aX," ").split(bb[","].replace(aX," ")).join("").replace(bb["."],".");bh=parseFloat(bh);if(isNaN(bh)){bh=null}else{if(ba){bh*=-1}}if(bh&&a7){bh/=100}return bh};if(d&&!d.load){q.parseDate=function(a8,a9,a7){if(aW.call(a8)==="[object Date]"){return a8}return d.parseDate(a8,a9,a7)};q.parseFloat=function(a8,a7){if(typeof a8===M){return a8}if(a8===u||a8===null){return null}if(au.isPlainObject(a7)){a7=a7.name}a8=d.parseFloat(a8,a7);return isNaN(a8)?null:a8}}})();function z(aR){var aT=aR.css(q.support.transitions.css+"box-shadow")||aR.css("box-shadow"),aQ=aT?aT.match(aI)||[0,0,0,0,0]:[0,0,0,0,0],aS=N.max((+aQ[3]),+(aQ[4]||0));return{left:(-aQ[1])+aS,right:(+aQ[1])+aS,bottom:(+aQ[2])+aS}}function p(aV,a0){var aW=aF.browser,a1,aX=aV.css("direction")=="rtl";if(!aV.parent().hasClass("k-animation-container")){var aT=z(aV),aR=aV[0].style.width,aZ=aV[0].style.height,aU=f.test(aR),aY=f.test(aZ);if(aW.opera){aT.left=aT.right=aT.bottom=5}a1=aU||aY;if(!aU&&(!a0||(a0&&aR))){aR=aV.outerWidth()}if(!aY&&(!a0||(a0&&aZ))){aZ=aV.outerHeight()}aV.wrap(au("<div/>").addClass("k-animation-container").css({width:aR,height:aZ,marginLeft:aT.left*(aX?1:-1),paddingLeft:aT.left,paddingRight:aT.right,paddingBottom:aT.bottom}));if(a1){aV.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})}}else{var aQ=aV.parent(".k-animation-container"),aS=aQ[0].style;if(aQ.is(":hidden")){aQ.show()}a1=f.test(aS.width)||f.test(aS.height);if(!a1){aQ.css({width:aV.outerWidth(),height:aV.outerHeight(),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"})}}if(aW.msie&&N.floor(aW.version)<=7){aV.css({zoom:1});aV.children(".k-menu").width(aV.width())}return aV.parent()}function aM(aQ){var aR=1,aS=arguments.length;for(aR=1;aR<aS;aR++){a(aQ,arguments[aR])}return aQ}function a(aY,aQ){var aV=q.data.ObservableArray,aS=q.data.LazyObservableArray,a0=q.data.DataSource,aU=q.data.HierarchicalDataSource,aZ,aT,aR,aW,aX;for(aZ in aQ){aT=aQ[aZ];aR=typeof aT;if(aR===A&&aT!==null){aW=aT.constructor}else{aW=null}if(aW&&aW!==Array&&aW!==aV&&aW!==aS&&aW!==a0&&aW!==aU){if(aT instanceof Date){aY[aZ]=new Date(aT.getTime())}else{if(ax(aT.clone)){aY[aZ]=aT.clone()}else{aX=aY[aZ];if(typeof(aX)===A){aY[aZ]=aX||{}}else{aY[aZ]={}}a(aY[aZ],aT)}}}else{if(aR!==af){aY[aZ]=aT}}}return aY}function U(aQ,aT,aR){for(var aS in aT){if(aT.hasOwnProperty(aS)&&aT[aS].test(aQ)){return aS}}return aR!==u?aR:aQ}function s(aQ){return aQ.replace(/([a-z][A-Z])/g,function(aR){return aR.charAt(0)+"-"+aR.charAt(1).toLowerCase()})}function ah(aQ){return aQ.replace(/\-(\w)/g,function(aS,aR){return aR.toUpperCase()})}function g(aS,aR){var aT={},aQ;if(document.defaultView&&document.defaultView.getComputedStyle){aQ=document.defaultView.getComputedStyle(aS,"");if(aR){au.each(aR,function(aU,aV){aT[aV]=aQ.getPropertyValue(aV)})}}else{aQ=aS.currentStyle;if(aR){au.each(aR,function(aU,aV){aT[aV]=aQ[ah(aV)]})}}if(!q.size(aT)){aT=aQ}return aT}(function(){aF._scrollbar=u;aF.scrollbar=function(aZ){if(!isNaN(aF._scrollbar)&&!aZ){return aF._scrollbar}else{var a0=document.createElement("div"),aY;a0.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block";a0.innerHTML="&nbsp;";document.body.appendChild(a0);aF._scrollbar=aY=a0.offsetWidth-a0.scrollWidth;document.body.removeChild(a0);return aY}};aF.isRtl=function(aY){return au(aY).closest(".k-rtl").length>0};var aT=document.createElement("table");try{aT.innerHTML="<tr><td></td></tr>";aF.tbodyInnerHtml=true}catch(aW){aF.tbodyInnerHtml=false}aF.touch="ontouchstart" in aD;aF.msPointers=aD.MSPointerEvent;aF.pointers=aD.PointerEvent;var aV=aF.transitions=false,aS=aF.transforms=false,aU="HTMLElement" in aD?HTMLElement.prototype:[];aF.hasHW3D=("WebKitCSSMatrix" in aD&&"m11" in new aD.WebKitCSSMatrix())||"MozPerspective" in document.documentElement.style||"msPerspective" in document.documentElement.style;aO(["Moz","webkit","O","ms"],function(){var a0=this.toString(),aY=typeof aT.style[a0+"Transition"]===aG;if(aY||typeof aT.style[a0+"Transform"]===aG){var aZ=a0.toLowerCase();aS={css:(aZ!="ms")?"-"+aZ+"-":"",prefix:a0,event:(aZ==="o"||aZ==="webkit")?aZ:""};if(aY){aV=aS;aV.event=aV.event?aV.event+"TransitionEnd":"transitionend"}return false}});aT=null;aF.transforms=aS;aF.transitions=aV;aF.devicePixelRatio=aD.devicePixelRatio===u?1:aD.devicePixelRatio;try{aF.screenWidth=aD.outerWidth||aD.screen?aD.screen.availWidth:aD.innerWidth;aF.screenHeight=aD.outerHeight||aD.screen?aD.screen.availHeight:aD.innerHeight}catch(aW){aF.screenWidth=aD.screen.availWidth;aF.screenHeight=aD.screen.availHeight}aF.detectOS=function(aY){var a1=false,a6,a3=[],a5=!/mobile safari/i.test(aY),a4={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},a2={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},aZ={tablet:/playbook|ipad|fire/i},a7={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(var a0 in a4){if(a4.hasOwnProperty(a0)){a3=aY.match(a4[a0]);if(a3){if(a0=="windows"&&"plugins" in navigator){return false}a1={};a1.device=a0;a1.tablet=U(a0,aZ,false);a1.browser=U(aY,a7,"default");a1.name=U(a0,a2);a1[a1.name]=true;a1.majorVersion=a3[2];a1.minorVersion=a3[3].replace("_",".");a6=a1.minorVersion.replace(".","").substr(0,2);a1.flatVersion=a1.majorVersion+a6+(new Array(3-(a6.length<3?a6.length:2)).join("0"));a1.cordova=typeof aD.PhoneGap!==af||typeof aD.cordova!==af;a1.appMode=aD.navigator.standalone||(/file|local|wmapp/).test(aD.location.protocol)||a1.cordova;if(a1.android&&(aF.devicePixelRatio<1.5&&a1.flatVersion<400||a5)&&(aF.screenWidth>800||aF.screenHeight>800)){a1.tablet=a0}break}}}return a1};var aX=aF.mobileOS=aF.detectOS(navigator.userAgent);aF.wpDevicePixelRatio=aX.wp?screen.width/320:0;aF.kineticScrollNeeded=aX&&(aF.touch||aF.msPointers||aF.pointers);aF.hasNativeScrolling=false;if(aX.ios||(aX.android&&aX.majorVersion>2)||aX.wp){aF.hasNativeScrolling=aX}aF.mouseAndTouchPresent=aF.touch&&!(aF.mobileOS.ios||aF.mobileOS.android);aF.detectBrowser=function(a1){var a0=false,aZ=[],aY={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var a2 in aY){if(aY.hasOwnProperty(a2)){aZ=a1.match(aY[a2]);if(aZ){a0={};a0[a2]=true;a0[aZ[1].toLowerCase().split(" ")[0].split("/")[0]]=true;a0.version=parseInt(document.documentMode||aZ[2],10);break}}}return a0};aF.browser=aF.detectBrowser(navigator.userAgent);aF.zoomLevel=function(){try{return aF.touch?(document.documentElement.clientWidth/aD.innerWidth):aF.browser.msie&&aF.browser.version>=10?((top||aD).document.documentElement.offsetWidth/(top||aD).innerWidth):1}catch(aY){return 1}};aF.cssBorderSpacing=typeof document.documentElement.style.borderSpacing!="undefined"&&!(aF.browser.msie&&aF.browser.version<8);(function(a1){var aZ="",a0=au(document.documentElement),aY=parseInt(a1.version,10);if(a1.msie){aZ="ie"}else{if(a1.mozilla){aZ="ff"}else{if(a1.safari){aZ="safari"}else{if(a1.webkit){aZ="webkit"}else{if(a1.opera){aZ="opera"}}}}}if(aZ){aZ="k-"+aZ+" k-"+aZ+aY}if(aF.mobileOS){aZ+=" k-mobile"}a0.addClass(aZ)})(aF.browser);aF.eventCapture=document.documentElement.addEventListener;var aQ=document.createElement("input");aF.placeholder="placeholder" in aQ;aF.propertyChangeEvent="onpropertychange" in aQ;aF.input=(function(){var a0=["number","date","time","month","week","datetime","datetime-local"];var a2=a0.length;var a3="test";var aZ={};var aY=0;var a1;for(;aY<a2;aY++){a1=a0[aY];aQ.setAttribute("type",a1);aQ.value=a3;aZ[a1.replace("-","")]=aQ.type!=="text"&&aQ.value!==a3}return aZ})();aQ.style.cssText="float:left;";aF.cssFloat=!!aQ.style.cssFloat;aQ=null;aF.stableSort=(function(){var aY=513;var aZ=[{index:0,field:"b"}];for(var a0=1;a0<aY;a0++){aZ.push({index:a0,field:"a"})}aZ.sort(function(a2,a1){return a2.field>a1.field?1:(a2.field<a1.field?-1:0)});return aZ[0].index===1})();aF.matchesSelector=aU.webkitMatchesSelector||aU.mozMatchesSelector||aU.msMatchesSelector||aU.oMatchesSelector||aU.matchesSelector||aU.matches||function(aY){var aZ=document.querySelectorAll?(this.parentNode||document).querySelectorAll(aY)||[]:au(aY),a0=aZ.length;while(a0--){if(aZ[a0]==this){return true}}return false};aF.pushState=aD.history&&aD.history.pushState;var aR=document.documentMode;aF.hashChange=("onhashchange" in aD)&&!(aF.browser.msie&&(!aR||aR<=8))})();function H(aS){var aQ=0,aR;for(aR in aS){if(aS.hasOwnProperty(aR)&&aR!="toJSON"){aQ++}}return aQ}function aB(aS,aT,aR){if(!aT){aT="offset"}var aQ=aS[aT](),aU=aF.mobileOS;if(aF.browser.msie&&(aF.pointers||aF.msPointers)&&!aR){aQ.top-=(aD.pageYOffset-document.documentElement.scrollTop);aQ.left-=(aD.pageXOffset-document.documentElement.scrollLeft)}return aQ}var ad={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}};function aC(aQ){var aR={};aO((typeof aQ==="string"?aQ.split(" "):aQ),function(aS){aR[aS]=this});return aR}function aw(aQ){return new q.effects.Element(aQ)}var ao={};au.extend(ao,{enabled:true,Element:function(aQ){this.element=au(aQ)},promise:function(aR,aQ){if(!aR.is(":visible")){aR.css({display:aR.data("olddisplay")||"block"}).css("display")}if(aQ.hide){aR.data("olddisplay",aR.css("display")).hide()}if(aQ.init){aQ.init()}if(aQ.completeCallback){aQ.completeCallback(aR)}aR.dequeue()},disable:function(){this.enabled=false;this.promise=this.promiseShim},enable:function(){this.enabled=true;this.promise=this.animatedPromise}});ao.promiseShim=ao.promise;function Y(aS,aT,aR,aQ){if(typeof aS===aG){if(ax(aT)){aQ=aT;aT=400;aR=false}if(ax(aR)){aQ=aR;aR=false}if(typeof aT===W){aR=aT;aT=400}aS={effects:aS,duration:aT,reverse:aR,complete:aQ}}return ab({effects:{},duration:400,reverse:false,init:at,teardown:at,hide:false},aS,{completeCallback:aS.complete,complete:at})}function V(aV,aU,aX,aT,aS){var aR=0,aW=aV.length,aQ;for(;aR<aW;aR++){aQ=au(aV[aR]);aQ.queue(function(){ao.promise(aQ,Y(aU,aX,aT,aS))})}return aV}function v(aS,aR,aQ,aT){if(aR){aR=aR.split(" ");aO(aR,function(aU,aV){aS.toggleClass(aV,aT)})}return aS}if(!("kendoAnimate" in au.fn)){ab(au.fn,{kendoStop:function(aR,aQ){return this.stop(aR,aQ)},kendoAnimate:function(aS,aT,aR,aQ){return V(this,aS,aT,aR,aQ)},kendoAddClass:function(aR,aQ){return q.toggleClass(this,aR,aQ,true)},kendoRemoveClass:function(aR,aQ){return q.toggleClass(this,aR,aQ,false)},kendoToggleClass:function(aS,aR,aQ){return q.toggleClass(this,aS,aR,aQ)}})}var Z=/&/g,aK=/</g,ay=/"/g,B=/'/g,ac=/>/g;function J(aQ){return(""+aQ).replace(Z,"&amp;").replace(aK,"&lt;").replace(ac,"&gt;").replace(ay,"&quot;").replace(B,"&#39;")}var ar=function(aQ){return aQ.target};if(aF.touch){ar=function(aR){var aQ="originalEvent" in aR?aR.originalEvent.changedTouches:"changedTouches" in aR?aR.changedTouches:null;return aQ?document.elementFromPoint(aQ[0].clientX,aQ[0].clientY):aR.target};aO(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(aQ,aR){au.fn[aR]=function(aS){return this.bind(aR,aS)}})}if(aF.touch){if(!aF.mobileOS){aF.mousedown="mousedown touchstart";aF.mouseup="mouseup touchend";aF.mousemove="mousemove touchmove";aF.mousecancel="mouseleave touchcancel";aF.click="click";aF.resize="resize"}else{aF.mousedown="touchstart";aF.mouseup="touchend";aF.mousemove="touchmove";aF.mousecancel="touchcancel";aF.click="touchend";aF.resize="orientationchange"}}else{if(aF.pointers){aF.mousemove="pointermove";aF.mousedown="pointerdown";aF.mouseup="pointerup";aF.mousecancel="pointercancel";aF.click="pointerup";aF.resize="orientationchange resize"}else{if(aF.msPointers){aF.mousemove="MSPointerMove";aF.mousedown="MSPointerDown";aF.mouseup="MSPointerUp";aF.mousecancel="MSPointerCancel";aF.click="MSPointerUp";aF.resize="orientationchange resize"}else{aF.mousemove="mousemove";aF.mousedown="mousedown";aF.mouseup="mouseup";aF.mousecancel="mouseleave";aF.click="click";aF.resize="resize"}}}var G=function(aS,aW){var aR=aW||"d",aT,aQ,aV,aX,aU=1;for(aQ=0,aV=aS.length;aQ<aV;aQ++){aX=aS[aQ];if(aX!==""){aT=aX.indexOf("[");if(aT!==0){if(aT==-1){aX="."+aX}else{aU++;aX="."+aX.substring(0,aT)+" || {})"+aX.substring(aT)}}aU++;aR+=aX+((aQ<aV-1)?" || {})":")")}}return new Array(aU).join("(")+aR},ae=/^([a-z]+:)?\/\//i;ab(q,{ui:q.ui||{},fx:q.fx||aw,effects:q.effects||ao,mobile:q.mobile||{},data:q.data||{},dataviz:q.dataviz||{},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},support:q.support||aF,animate:q.animate||V,ns:"",attr:function(aQ){return"data-"+q.ns+aQ},getShadows:z,wrap:p,deepExtend:aM,getComputedStyles:g,size:H,toCamelCase:ah,toHyphens:s,getOffset:q.getOffset||aB,parseEffects:q.parseEffects||aC,toggleClass:q.toggleClass||v,directions:q.directions||ad,Observable:F,Class:aE,Template:T,template:y(T.compile,T),render:y(T.render,T),stringify:y(i.stringify,i),eventTarget:ar,htmlEncode:J,isLocalUrl:function(aQ){return aQ&&!ae.test(aQ)},expr:function(aS,aQ,aR){aS=aS||"";if(typeof aQ==aG){aR=aQ;aQ=false}aR=aR||"d";if(aS&&aS.charAt(0)!=="["){aS="."+aS}if(aQ){aS=G(aS.split("."),aR)}else{aS=aR+aS}return aS},getter:function(aS,aR){var aQ=aS+aR;return an[aQ]=an[aQ]||new Function("d","return "+q.expr(aS,aR))},setter:function(aQ){return S[aQ]=S[aQ]||new Function("d,value",q.expr(aQ)+"=value")},accessor:function(aQ){return{get:q.getter(aQ),set:q.setter(aQ)}},guid:function(){var aS="",aQ,aR;for(aQ=0;aQ<32;aQ++){aR=N.random()*16|0;if(aQ==8||aQ==12||aQ==16||aQ==20){aS+="-"}aS+=(aQ==12?4:(aQ==16?(aR&3|8):aR)).toString(16)}return aS},roleSelector:function(aQ){return aQ.replace(/(\S+)/g,"["+q.attr("role")+"=$1],").slice(0,-1)},directiveSelector:function(aS){var aR=aS.split(" ");if(aR){for(var aQ=0;aQ<aR.length;aQ++){if(aR[aQ]!="view"){aR[aQ]=aR[aQ].replace(/(\w*)(view|bar|strip|over)$/,"$1-$2")}}}return aR.join(" ").replace(/(\S+)/g,"kendo-mobile-$1,").slice(0,-1)},triggeredByInput:function(aQ){return(/^(label|input|textarea|select)$/i).test(aQ.target.tagName)},logToConsole:function(aR){var aQ=aD.console;if(!q.suppressLog&&typeof(aQ)!="undefined"&&aQ.log){aQ.log(aR)}}});var k=F.extend({init:function(aR,aQ){var aS=this;aS.element=q.jQuery(aR).handler(aS);aS.angular("init",aQ);F.fn.init.call(aS);var aT=aQ?aQ.dataSource:null;if(aT){aQ=ab({},aQ,{dataSource:{}})}aQ=aS.options=ab(true,{},aS.options,aQ);if(aT){aQ.dataSource=aT}if(!aS.element.attr(q.attr("role"))){aS.element.attr(q.attr("role"),(aQ.name||"").toLowerCase())}aS.element.data("kendo"+aQ.prefix+aQ.name,aS);aS.bind(aS.events,aQ)},events:[],options:{prefix:""},_hasBindingTarget:function(){return !!this.element[0].kendoBindingTarget},_tabindex:function(aT){aT=aT||this.wrapper;var aR=this.element,aQ="tabindex",aS=aT.attr(aQ)||aR.attr(aQ);aR.removeAttr(aQ);aT.attr(aQ,!isNaN(aS)?aS:0)},setOptions:function(aQ){this._setEvents(aQ);au.extend(this.options,aQ)},_setEvents:function(aR){var aT=this,aQ=0,aS=aT.events.length,aU;for(;aQ<aS;aQ++){aU=aT.events[aQ];if(aT.options[aU]&&aR[aU]){aT.unbind(aU,aT.options[aU])}}aT.bind(aT.events,aR)},resize:function(aS){var aR=this.getSize(),aQ=this._size;if(aS||!aQ||aR.width!==aQ.width||aR.height!==aQ.height){this._size=aR;this._resize(aR);this.trigger("resize",aR)}},getSize:function(){return q.dimensions(this.element)},size:function(aQ){if(!aQ){return this.getSize()}else{this.setSize(aQ)}},setSize:au.noop,_resize:au.noop,destroy:function(){var aQ=this;aQ.element.removeData("kendo"+aQ.options.prefix+aQ.options.name);aQ.element.removeData("handler");aQ.unbind()},angular:function(){}});var c=k.extend({dataItems:function(){return this.dataSource.flatView()},_angularItems:function(aR){var aQ=this;aQ.angular(aR,function(){return{elements:aQ.items(),data:au.map(aQ.dataItems(),function(aS){return{dataItem:aS}})}})}});q.dimensions=function(aQ,aR){var aS=aQ[0];if(aR){aQ.css(aR)}return{width:aS.offsetWidth,height:aS.offsetHeight}};q.notify=at;var L=/template$/i,D=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,ai=/^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]*\]$/,al=/([A-Z])/g;function aN(aQ,aR){var aS;if(aR.indexOf("data")===0){aR=aR.substring(4);aR=aR.charAt(0).toLowerCase()+aR.substring(1)}aR=aR.replace(al,"-$1");aS=aQ.getAttribute("data-"+q.ns+aR);if(aS===null){aS=u}else{if(aS==="null"){aS=null}else{if(aS==="true"){aS=true}else{if(aS==="false"){aS=false}else{if(h.test(aS)){aS=parseFloat(aS)}else{if(D.test(aS)&&!ai.test(aS)){aS=new Function("return ("+aS+")")()}}}}}}return aS}function am(aS,aR){var aQ={},aT,aU;for(aT in aR){aU=aN(aS,aT);if(aU!==u){if(L.test(aT)){aU=q.template(au("#"+aU).html())}aQ[aT]=aU}}return aQ}q.initWidget=function(aW,a4,aY){var a5,aZ,aX,a2,aR,aV,a1,aQ,aS,a0;if(!aY){aY=q.ui.roles}else{if(aY.roles){aY=aY.roles}}aW=aW.nodeType?aW:aW[0];aV=aW.getAttribute("data-"+q.ns+"role");if(!aV){return}aS=aV.indexOf(".")===-1;if(aS){aX=aY[aV]}else{aX=q.getter(aV)(aD)}var aU=au(aW).data(),aT=aX?"kendo"+aX.fn.options.prefix+aX.fn.options.name:"";if(aS){a0=new RegExp("^kendo.*"+aV+"$","i")}else{a0=new RegExp("^"+aT+"$","i")}for(var a3 in aU){if(a3.match(a0)){if(a3===aT){a5=aU[a3]}else{return aU[a3]}}}if(!aX){return}aQ=aN(aW,"dataSource");a4=au.extend({},am(aW,aX.fn.options),a4);if(aQ){if(typeof aQ===aG){a4.dataSource=q.getter(aQ)(aD)}else{a4.dataSource=aQ}}for(a2=0,aR=aX.fn.events.length;a2<aR;a2++){aZ=aX.fn.events[a2];a1=aN(aW,aZ);if(a1!==u){a4[aZ]=q.getter(a1)(aD)}}if(!a5){a5=new aX(aW,a4)}else{if(!au.isEmptyObject(a4)){a5.setOptions(a4)}}return a5};q.rolesFromNamespaces=function(aT){var aR=[],aQ,aS;if(!aT[0]){aT=[q.ui,q.dataviz.ui]}for(aQ=0,aS=aT.length;aQ<aS;aQ++){aR[aQ]=aT[aQ].roles}return ab.apply(null,[{}].concat(aR.reverse()))};q.init=function(aQ){var aR=q.rolesFromNamespaces(w.call(arguments,1));au(aQ).find("[data-"+q.ns+"role]").addBack().each(function(){q.initWidget(this,{},aR)})};q.destroy=function(aQ){au(aQ).find("[data-"+q.ns+"role]").addBack().each(function(){var aS=au(this).data();for(var aR in aS){if(aR.indexOf("kendo")===0&&typeof aS[aR].destroy===aj){aS[aR].destroy()}}})};function o(aR,aQ){return au.contains(aR,aQ)?-1:1}function aH(){var aQ=au(this);return(au.inArray(aQ.attr("data-"+q.ns+"role"),["slider","rangeslider"])>-1)||aQ.is(":visible")}q.resize=function(aQ,aS){var aR=au(aQ).find("[data-"+q.ns+"role]").addBack().filter(aH);if(!aR.length){return}var aT=au.makeArray(aR);aT.sort(o);au.each(aT,function(){var aU=q.widgetInstance(au(this));if(aU){aU.resize(aS)}})};q.parseOptions=am;ab(q.ui,{Widget:k,DataBoundWidget:c,roles:{},progress:function(aR,aU){var aY=aR.find(".k-loading-mask"),aW=q.support,aT=aW.browser,aV,aQ,aS,aX;if(aU){if(!aY.length){aV=aW.isRtl(aR);aQ=aV?"right":"left";aX=aR.scrollLeft();aS=aT.webkit?(!aV?0:aR[0].scrollWidth-aR.width()-2*aX):0;aY=au("<div class='k-loading-mask'><span class='k-loading-text'>Loading...</span><div class='k-loading-image'/><div class='k-loading-color'/></div>").width("100%").height("100%").css("top",aR.scrollTop()).css(aQ,Math.abs(aX)+aS).prependTo(aR)}}else{if(aY){aY.remove()}}},plugin:function(aU,aS,aT){var aR=aU.fn.options.name,aQ;aS=aS||q.ui;aT=aT||"";aS[aR]=aU;aS.roles[aR.toLowerCase()]=aU;aQ="getKendo"+aT+aR;aR="kendo"+aT+aR;au.fn[aR]=function(aW){var aX=this,aV;if(typeof aW===aG){aV=w.call(arguments,1);this.each(function(){var aZ=au.data(this,aR),a0,aY;if(!aZ){throw new Error(q.format("Cannot call method '{0}' of {1} before it is initialized",aW,aR))}a0=aZ[aW];if(typeof a0!==aj){throw new Error(q.format("Cannot find method '{0}' of {1}",aW,aR))}aY=a0.apply(aZ,aV);if(aY!==u){aX=aY;return false}})}else{this.each(function(){new aU(this,aW)})}return aX};au.fn[aR].widget=aU;au.fn[aQ]=function(){return this.data(aR)}}});var av={bind:function(){return this},nullObject:true,options:{}};var ap=k.extend({init:function(aR,aQ){k.fn.init.call(this,aR,aQ);this.element.autoApplyNS();this.wrapper=this.element;this.element.addClass("km-widget")},destroy:function(){k.fn.destroy.call(this);this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var aQ=this.element.closest(q.roleSelector("view splitview modalview drawer"));return q.widgetInstance(aQ,q.mobile.ui)||av},viewHasNativeScrolling:function(){var aQ=this.view();return aQ&&aQ.options.useNativeScrolling},container:function(){var aQ=this.element.closest(q.roleSelector("view layout modalview drawer splitview"));return q.widgetInstance(aQ.eq(0),q.mobile.ui)||av}});ab(q.mobile,{init:function(aQ){q.init(aQ,q.mobile.ui,q.ui,q.dataviz.ui)},appLevelNativeScrolling:function(){return q.mobile.application&&q.mobile.application.options&&q.mobile.application.options.useNativeScrolling},roles:{},ui:{Widget:ap,DataBoundWidget:c.extend(ap.prototype),roles:{},plugin:function(aQ){q.ui.plugin(aQ,q.mobile.ui,"Mobile")}}});aM(q.dataviz,{init:function(aQ){q.init(aQ,q.dataviz.ui)},ui:{roles:{},themes:{},views:[],plugin:function(aQ){q.ui.plugin(aQ,q.dataviz.ui)}},roles:{}});q.touchScroller=function(aR,aQ){return au(aR).map(function(aS,aT){aT=au(aT);if(aF.kineticScrollNeeded&&q.mobile.ui.Scroller&&!aT.data("kendoMobileScroller")){aT.kendoMobileScroller(aQ);return aT.data("kendoMobileScroller")}else{return false}})[0]};q.preventDefault=function(aQ){aQ.preventDefault()};q.widgetInstance=function(aS,aV){var aX=aS.data(q.ns+"role"),aT=[],aR,aU;if(aX){if(aX==="content"){aX="scroller"}if(aV){if(aV[0]){for(aR=0,aU=aV.length;aR<aU;aR++){aT.push(aV[aR].roles[aX])}}else{aT.push(aV.roles[aX])}}else{aT=[q.ui.roles[aX],q.dataviz.ui.roles[aX],q.mobile.ui.roles[aX]]}if(aX.indexOf(".")>=0){aT=[q.getter(aX)(aD)]}for(aR=0,aU=aT.length;aR<aU;aR++){var aW=aT[aR];if(aW){var aQ=aS.data("kendo"+aW.fn.options.prefix+aW.fn.options.name);if(aQ){return aQ}}}}};q.onResize=function(aR){var aQ=aR;if(aF.mobileOS.android){aQ=function(){setTimeout(aR,600)}}au(aD).on(aF.resize,aQ);return aQ};q.unbindResize=function(aQ){au(aD).off(aF.resize,aQ)};q.attrValue=function(aR,aQ){return aR.data(q.ns+aQ)};q.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};function aJ(aR,aQ){var aS=aR.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(aS)?!aR.disabled:"a"===aS?aR.href||aQ:aQ)&&t(aR)}function t(aQ){return !au(aQ).parents().addBack().filter(function(){return au.css(this,"visibility")==="hidden"||au.expr.filters.hidden(this)}).length}au.extend(au.expr[":"],{kendoFocusable:function(aR){var aQ=au.attr(aR,"tabindex");return aJ(aR,!isNaN(aQ)&&aQ>-1)}});var X=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"];var m="label, input, [data-rel=external]";var ak={setupMouseMute:function(){var aQ=0,aT=X.length,aR=document.documentElement;if(ak.mouseTrap||!aF.eventCapture){return}ak.mouseTrap=true;ak.bustClick=false;ak.captureMouse=false;var aS=function(aU){if(ak.captureMouse){if(aU.type==="click"){if(ak.bustClick&&!au(aU.target).is(m)){aU.preventDefault();aU.stopPropagation()}}else{aU.stopPropagation()}}};for(;aQ<aT;aQ++){aR.addEventListener(X[aQ],aS,true)}},muteMouse:function(aQ){ak.captureMouse=true;if(aQ.data.bustClick){ak.bustClick=true}clearTimeout(ak.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(ak.mouseTrapTimeoutID);ak.mouseTrapTimeoutID=setTimeout(function(){ak.captureMouse=false;ak.bustClick=false},400)}};var E={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};if(aF.touch&&(aF.mobileOS.ios||aF.mobileOS.android)){E={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}}else{if(aF.pointers){E={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}}else{if(aF.msPointers){E={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}}}}if(aF.msPointers&&!("onmspointerenter" in aD)){au.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(aR,aQ){au.event.special[aR]={delegateType:aQ,bindType:aQ,handle:function(aU){var aS,aW=this,aV=aU.relatedTarget,aT=aU.handleObj;if(!aV||(aV!==aW&&!au.contains(aW,aV))){aU.type=aT.origType;aS=aT.handler.apply(this,arguments);aU.type=aQ}return aS}}})}var aA=function(aQ){return(E[aQ]||aQ)},O=/([^ ]+)/g;q.applyEventMap=function(aQ,aR){aQ=aQ.replace(O,aA);if(aR){aQ=aQ.replace(O,"$1."+aR)}return aQ};var I=au.fn.on;function l(aQ,aR){return new l.fn.init(aQ,aR)}ab(true,l,au);l.fn=l.prototype=new au();l.fn.constructor=l;l.fn.init=function(aQ,aR){if(aR&&aR instanceof au&&!(aR instanceof l)){aR=l(aR)}return au.fn.init.call(this,aQ,aR,R)};l.fn.init.prototype=l.fn;var R=l(document);ab(l.fn,{handler:function(aQ){this.data("handler",aQ);return this},autoApplyNS:function(aQ){this.data("kendoNS",aQ||q.guid());return this},on:function(){var aW=this,aV=aW.data("kendoNS");if(arguments.length===1){return I.call(aW,arguments[0])}var aU=aW,aS=w.call(arguments);if(typeof aS[aS.length-1]===af){aS.pop()}var aX=aS[aS.length-1],aT=q.applyEventMap(aS[0],aV);if(aF.mouseAndTouchPresent&&aT.search(/mouse|click/)>-1&&this[0]!==document.documentElement){ak.setupMouseMute();var aQ=aS.length===2?null:aS[1],aR=aT.indexOf("click")>-1&&aT.indexOf("touchend")>-1;I.call(this,{touchstart:ak.muteMouse,touchend:ak.unMuteMouse},aQ,{bustClick:aR})}if(typeof aX===aG){aU=aW.data("handler");aX=aU[aX];aS[aS.length-1]=function(aY){aX.call(aU,aY)}}aS[0]=aT;I.apply(aW,aS);return aW},kendoDestroy:function(aQ){aQ=aQ||this.data("kendoNS");if(aQ){this.off("."+aQ)}return this}});q.jQuery=l;q.eventMap=E;q.timezone=(function(){var aQ={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11};var aZ={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};function aU(a7,a8){var a4;var a9;var ba;var a5=a8[3];var a6=a8[4];var a3=a8[5];var a2=a8[8];if(!a2){a8[8]=a2={}}if(a2[a7]){return a2[a7]}if(!isNaN(a6)){a4=new Date(Date.UTC(a7,aQ[a5],a6,a3[0],a3[1],a3[2],0))}else{if(a6.indexOf("last")===0){a4=new Date(Date.UTC(a7,aQ[a5]+1,1,a3[0]-24,a3[1],a3[2],0));a9=aZ[a6.substr(4,3)];ba=a4.getUTCDay();a4.setUTCDate(a4.getUTCDate()+a9-ba-(a9>ba?7:0))}else{if(a6.indexOf(">=")>=0){a4=new Date(Date.UTC(a7,aQ[a5],a6.substr(5),a3[0],a3[1],a3[2],0));a9=aZ[a6.substr(0,3)];ba=a4.getUTCDay();a4.setUTCDate(a4.getUTCDate()+a9-ba+(a9<ba?7:0))}}}return a2[a7]=a4}function aX(a3,a8,a2){a8=a8[a2];if(!a8){var a6=a2.split(":");var a7=0;if(a6.length>1){a7=a6[0]*60+Number(a6[1])}return[-1000000,"max","-","Jan",1,[0,0,0],a7,"-"]}var a4=new Date(a3).getUTCFullYear();a8=jQuery.grep(a8,function(a9){var bb=a9[0];var ba=a9[1];return bb<=a4&&(ba>=a4||(bb==a4&&ba=="only")||ba=="max")});a8.push(a3);a8.sort(function(ba,a9){if(typeof ba!="number"){ba=Number(aU(a4,ba))}if(typeof a9!="number"){a9=Number(aU(a4,a9))}return ba-a9});var a5=a8[jQuery.inArray(a3,a8)-1]||a8[a8.length-1];return isNaN(a5)?a5:null}function aV(a5,a4,a7){var a6=a4[a7];if(typeof a6==="string"){a6=a4[a6]}if(!a6){throw new Error('Timezone "'+a7+'" is either incorrect, or kendo.timezones.min.js is not included.')}for(var a2=a6.length-1;a2>=0;a2--){var a8=a6[a2][3];if(a8&&a5>a8){break}}var a3=a6[a2+1];if(!a3){throw new Error('Timezone "'+a7+'" not found on '+a5+".")}return a3}function aT(a4,a3,a6,a5){if(typeof a4!=M){a4=Date.UTC(a4.getFullYear(),a4.getMonth(),a4.getDate(),a4.getHours(),a4.getMinutes(),a4.getSeconds(),a4.getMilliseconds())}var a2=aV(a4,a3,a5);return{zone:a2,rule:aX(a4,a6,a2[1])}}function aR(a3,a4){if(a4=="Etc/UTC"||a4=="Etc/GMT"){return 0}var a6=aT(a3,this.zones,this.rules,a4);var a2=a6.zone;var a5=a6.rule;return q.parseFloat(a5?a2[0]-a5[6]:a2[0])}function a1(a3,a4){var a7=aT(a3,this.zones,this.rules,a4);var a2=a7.zone;var a6=a7.rule;var a5=a2[2];if(a5.indexOf("/")>=0){return a5.split("/")[a6&&+a6[6]?1:0]}else{if(a5.indexOf("%s")>=0){return a5.replace("%s",(!a6||a6[7]=="-")?"":a6[7])}}return a5}function aW(a4,a3,a2){if(typeof a3==aG){a3=this.offset(a4,a3)}if(typeof a2==aG){a2=this.offset(a4,a2)}var a5=a4.getTimezoneOffset();a4=new Date(a4.getTime()+(a3-a2)*60000);var a6=a4.getTimezoneOffset();return new Date(a4.getTime()+(a6-a5)*60000)}function aY(a2,a3){return this.convert(a2,a2.getTimezoneOffset(),a3)}function aS(a2,a3){return this.convert(a2,a3,a2.getTimezoneOffset())}function a0(a2){return this.apply(new Date(a2),"Etc/UTC")}return{zones:{},rules:{},offset:aR,convert:aW,apply:aY,remove:aS,abbr:a1,toLocalDate:a0}})();q.date=(function(){var aV=60000,aW=86400000;function aU(a8,a7){if(a7===0&&a8.getHours()===23){a8.setHours(a8.getHours()+2);return true}return false}function aX(ba,a8,a9){var a7=ba.getHours();a9=a9||1;a8=((a8-ba.getDay())+(7*a9))%7;ba.setDate(ba.getDate()+a8);aU(ba,a7)}function aT(a9,a7,a8){a9=new Date(a9);aX(a9,a7,a8);return a9}function a3(a7){return new Date(a7.getFullYear(),a7.getMonth(),1)}function a6(a8){var a9=new Date(a8.getFullYear(),a8.getMonth()+1,0),ba=a3(a8),a7=Math.abs(a9.getTimezoneOffset()-ba.getTimezoneOffset());if(a7){a9.setHours(ba.getHours()+(a7/60))}return a9}function aS(a7){a7=new Date(a7.getFullYear(),a7.getMonth(),a7.getDate(),0,0,0);aU(a7,0);return a7}function aQ(a7){return Date.UTC(a7.getFullYear(),a7.getMonth(),a7.getDate(),a7.getHours(),a7.getMinutes(),a7.getSeconds(),a7.getMilliseconds())}function a2(a7){return a7.getTime()-aS(a7)}function aR(ba,a9,a7){var a8=a2(a9),bb=a2(a7),bc;if(!ba||a8==bb){return true}if(a9>=a7){a7+=aW}bc=a2(ba);if(a8>bc){bc+=aW}if(bb<a8){bb+=aW}return bc>=a8&&bc<=bb}function a0(ba,a9,a7){var a8=a9.getTime(),bb=a7.getTime(),bc;if(a8>=bb){bb+=aW}bc=ba.getTime();return bc>=a8&&bc<=bb}function a5(a8,a9){var a7=a8.getHours();a8=new Date(a8);a4(a8,a9*aW);aU(a8,a7);return a8}function a4(a8,a7,a9){var ba=a8.getTimezoneOffset();var bb;a8.setTime(a8.getTime()+a7);if(!a9){bb=a8.getTimezoneOffset()-ba;a8.setTime(a8.getTime()+bb*aV)}}function a1(){return aS(new Date())}function aZ(a7){return aS(a7).getTime()==a1().getTime()}function aY(a7){var a8=new Date(1980,1,1,0,0,0);if(a7){a8.setHours(a7.getHours(),a7.getMinutes(),a7.getSeconds(),a7.getMilliseconds())}return a8}return{adjustDST:aU,dayOfWeek:aT,setDayOfWeek:aX,getDate:aS,isInDateRange:a0,isInTimeRange:aR,isToday:aZ,nextDay:function(a7){return a5(a7,1)},previousDay:function(a7){return a5(a7,-1)},toUtcTime:aQ,MS_PER_DAY:aW,MS_PER_HOUR:60*aV,MS_PER_MINUTE:aV,setTime:a4,addDays:a5,today:a1,toInvariantTime:aY,firstDayOfMonth:a3,lastDayOfMonth:a6,getMilliseconds:a2}})();q.stripWhitespace=function(aR){if(document.createNodeIterator){var aS=document.createNodeIterator(aR,NodeFilter.SHOW_TEXT,function(aU){return aU.parentNode==aR?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},false);while(aS.nextNode()){if(aS.referenceNode&&!aS.referenceNode.textContent.trim()){aS.referenceNode.parentNode.removeChild(aS.referenceNode)}}}else{for(var aQ=0;aQ<aR.childNodes.length;aQ++){var aT=aR.childNodes[aQ];if(aT.nodeType==3&&!/\S/.test(aT.nodeValue)){aR.removeChild(aT);aQ--}if(aT.nodeType==1){q.stripWhitespace(aT)}}}};var aP=aD.requestAnimationFrame||aD.webkitRequestAnimationFrame||aD.mozRequestAnimationFrame||aD.oRequestAnimationFrame||aD.msRequestAnimationFrame||function(aQ){setTimeout(aQ,1000/60)};q.animationFrame=function(aQ){aP.call(aD,aQ)};var aa=[];q.queueAnimation=function(aQ){aa[aa.length]=aQ;if(aa.length===1){q.runNextAnimation()}};q.runNextAnimation=function(){q.animationFrame(function(){if(aa[0]){aa.shift()();if(aa[0]){q.runNextAnimation()}}})};q.parseQueryStringParams=function(aR){var aV=aR.split("?")[1]||"",aT={},aU=aV.split(/&|=/),aS=aU.length,aQ=0;for(;aQ<aS;aQ+=2){if(aU[aQ]!==""){aT[decodeURIComponent(aU[aQ])]=decodeURIComponent(aU[aQ+1])}}return aT};q.elementUnderCursor=function(aQ){return document.elementFromPoint(aQ.x.client,aQ.y.client)};q.wheelDeltaY=function(aR){var aS=aR.originalEvent,aQ=aS.wheelDeltaY,aT;if(aS.wheelDelta){if(aQ===u||aQ){aT=aS.wheelDelta}}else{if(aS.detail&&aS.axis===aS.VERTICAL_AXIS){aT=(-aS.detail)*10}}return aT};q.throttle=function(aT,aS){var aU;var aQ=0;if(!aS||aS<=0){return aT}var aR=function(){var aY=this;var aW=+new Date()-aQ;var aX=arguments;function aV(){aT.apply(aY,aX);aQ=+new Date()}if(!aQ){return aV()}if(aU){clearTimeout(aU)}if(aW>aS){aV()}else{aU=setTimeout(aV,aS-aW)}};aR.cancel=function(){clearTimeout(aU)};return aR};q.caret=function(aU,aR,aT){var aQ;var aY=aR!==u;if(aT===u){aT=aR}if(aU[0]){aU=aU[0]}if(aY&&aU.disabled){return}try{if(aU.selectionStart!==u){if(aY){aU.focus();aU.setSelectionRange(aR,aT)}else{aR=[aU.selectionStart,aU.selectionEnd]}}else{if(document.selection){if(au(aU).is(":visible")){aU.focus()}aQ=aU.createTextRange();if(aY){aQ.collapse(true);aQ.moveStart("character",aR);aQ.moveEnd("character",aT-aR);aQ.select()}else{var aS=aQ.duplicate(),aW,aX;aQ.moveToBookmark(document.selection.createRange().getBookmark());aS.setEndPoint("EndToStart",aQ);aW=aS.text.length;aX=aW+aQ.text.length;aR=[aW,aX]}}}}catch(aV){aR=[]}return aR};q.compileMobileDirective=function(aR,aS){var aQ=aD.angular;aR.attr("data-"+q.ns+"role",aR[0].tagName.toLowerCase().replace("kendo-mobile-","").replace("-",""));aQ.element(aR).injector().invoke(["$compile",function(aT){var aU=aQ.element(aR).scope();if(aS){aS(aU)}aT(aR)(aU);if(!/^\$(digest|apply)$/.test(aU.$$phase)){aU.$digest()}}]);return q.widgetInstance(aR,q.mobile.ui)};q.antiForgeryTokens=function(){var aR={},aQ=au("meta[name=csrf-token]").attr("content"),aS=au("meta[name=csrf-param]").attr("content");au("input[name^='__RequestVerificationToken']").each(function(){aR[this.name]=this.value});if(aS!==u&&aQ!==u){aR[aS]=aQ}return aR};(function(){function aS(aW,a1,aV){var aY=au("<form>").attr({action:aV,method:"POST"});var aZ=q.antiForgeryTokens();aZ.fileName=a1;var a0=aW.split(";base64,");aZ.contentType=a0[0].replace("data:","");aZ.base64=a0[1];for(var aX in aZ){if(aZ.hasOwnProperty(aX)){au("<input>").attr({value:aZ[aX],name:aX,type:"hidden"}).appendTo(aY)}}aY.appendTo("body").submit().remove()}var aT=document.createElement("a");var aR="download" in aT;function aQ(aX,a2){var aY=aX;if(typeof aX=="string"){var aZ=aX.split(";base64,");var a1=aZ[0];var aW=atob(aZ[1]);var a0=new Uint8Array(aW.length);for(var aV=0;aV<aW.length;aV++){a0[aV]=aW.charCodeAt(aV)}aY=new Blob([a0.buffer],{type:a1})}navigator.msSaveBlob(aY,a2)}function aU(aV,aX){if(aD.Blob&&aV instanceof Blob){aV=URL.createObjectURL(aV)}aT.download=aX;aT.href=aV;var aW=document.createEvent("MouseEvents");aW.initMouseEvent("click",true,false,aD,0,0,0,0,0,false,false,false,false,0,null);aT.dispatchEvent(aW)}q.saveAs=function(aV){var aW=aS;if(!aV.forceProxy){if(aR){aW=aU}else{if(navigator.msSaveBlob){aW=aQ}}}aW(aV.dataURI,aV.fileName,aV.proxyURL)}})()})(jQuery,window);(function(e,f){var p=window.kendo,n="change",w="back",d="same",j=p.support,a=window.location,m=window.history,t=50,i=p.support.browser.msie,s=/^#*/,r=window.document;function h(z,x){if(!x){return z}if(z+"/"===x){z=x}var y=new RegExp("^"+x,"i");if(!y.test(z)){z=x+"/"+z}return a.protocol+"//"+(a.host+"/"+z).replace(/\/\/+/g,"/")}function v(x){return x?"#!":"#"}function k(y){var x=a.href;if(y==="#!"&&x.indexOf("#")>-1&&x.indexOf("#!")<0){return null}return x.split(y)[1]||""}function g(x,y){if(y.indexOf(x)===0){return(y.substr(x.length)).replace(/\/\//g,"/")}else{return y}}var o=p.Class.extend({back:function(){if(i){setTimeout(function(){m.back()})}else{m.back()}},forward:function(){if(i){setTimeout(function(){m.forward()})}else{m.forward()}},length:function(){return m.length},replaceLocation:function(x){a.replace(x)}});var l=o.extend({init:function(x){this.root=x},navigate:function(x){m.pushState({},r.title,h(x,this.root))},replace:function(x){m.replaceState({},r.title,h(x,this.root))},normalize:function(x){return g(this.root,x)},current:function(){var x=a.pathname;if(a.search){x+=a.search}return g(this.root,x)},change:function(x){e(window).bind("popstate.kendo",x)},stop:function(){e(window).unbind("popstate.kendo")},normalizeCurrent:function(y){var z,x=y.root,B=a.pathname,A=k(v(y.hashBang));if(x===B+"/"){z=x}if(x===B&&A){z=h(A.replace(s,""),x)}if(z){m.pushState({},r.title,z)}}});function q(x){return x.replace(/^(#)?/,"#")}function c(x){return x.replace(/^(#(!)?)?/,"#!")}var u=o.extend({init:function(x){this._id=p.guid();this.prefix=v(x);this.fix=x?c:q},navigate:function(x){a.hash=this.fix(x)},replace:function(x){this.replaceLocation(this.fix(x))},normalize:function(x){if(x.indexOf(this.prefix)<0){return x}else{return x.split(this.prefix)[1]}},change:function(x){if(j.hashChange){e(window).on("hashchange."+this._id,x)}else{this._interval=setInterval(x,t)}},stop:function(){e(window).off("hashchange."+this._id);clearInterval(this._interval)},current:function(){return k(this.prefix)},normalizeCurrent:function(y){var z=a.pathname,x=y.root;if(y.pushState&&x!==z){this.replaceLocation(x+this.prefix+g(x,z));return true}return false}});var b=p.Observable.extend({start:function(y){y=y||{};this.bind([n,w,d],y);if(this._started){return}this._started=true;y.root=y.root||"/";var x=this.createAdapter(y),z;if(x.normalizeCurrent(y)){return}z=x.current();e.extend(this,{adapter:x,root:y.root,historyLength:x.length(),current:z,locations:[z]});x.change(e.proxy(this,"_checkUrl"))},createAdapter:function(x){return j.pushState&&x.pushState?new l(x.root):new u(x.hashBang)},stop:function(){if(!this._started){return}this.adapter.stop();this.unbind(n);this._started=false},change:function(x){this.bind(n,x)},replace:function(y,x){this._navigate(y,x,function(z){z.replace(y);this.locations[this.locations.length-1]=this.current})},navigate:function(y,x){if(y==="#:back"){this.backCalled=true;this.adapter.back();return}this._navigate(y,x,function(z){z.navigate(y);this.locations.push(this.current)})},_navigate:function(A,y,z){var x=this.adapter;A=x.normalize(A);if(this.current===A||this.current===decodeURIComponent(A)){this.trigger(d);return}if(!y){if(this.trigger(n,{url:A})){return}}this.current=A;z.call(this,x);this.historyLength=x.length()},_checkUrl:function(){var x=this.adapter,D=x.current(),C=x.length(),z=this.historyLength===C,y=D===this.locations[this.locations.length-2]&&z,B=this.backCalled,A=this.current;if(D===null||this.current===D||this.current===decodeURIComponent(D)){return true}this.historyLength=C;this.backCalled=false;this.current=D;if(y&&this.trigger("back",{url:A,to:D})){x.forward();this.current=A;return}if(this.trigger(n,{url:D,backButtonPressed:!B})){if(y){x.forward()}else{x.back();this.historyLength--}this.current=A;return}if(y){this.locations.pop()}else{this.locations.push(D)}}});p.History=b;p.History.HistoryAdapter=o;p.History.HashAdapter=u;p.History.PushStateAdapter=l;p.absoluteURL=h;p.history=new b()})(window.kendo.jQuery);(function(){var l=window.kendo,k=l.history,m=l.Observable,o="init",c="routeMissing",h="change",d="back",n="same",b=/\((.*?)\)/g,q=/(\(\?)?:\w+/g,i=/\*\w+/g,g=/[\-{}\[\]+?.,\\\^$|#\s]/g;function f(s,r){return r?s:"([^/]+)"}function e(s,r){return new RegExp("^"+s.replace(g,"\\$&").replace(b,"(?:$1)?").replace(q,f).replace(i,"(.*?)")+"$",r?"i":"")}function p(r){return r.replace(/(\?.*)|(#.*)/g,"")}var j=l.Class.extend({init:function(s,t,r){if(!(s instanceof RegExp)){s=e(s,r)}this.route=s;this._callback=t},callback:function(s){var u,r=0,t,v=l.parseQueryStringParams(s);s=p(s);u=this.route.exec(s).slice(1);t=u.length;for(;r<t;r++){if(typeof u[r]!=="undefined"){u[r]=decodeURIComponent(u[r])}}u.push(v);this._callback.apply(null,u)},worksWith:function(r){if(this.route.test(p(r))){this.callback(r);return true}else{return false}}});var a=m.extend({init:function(r){if(!r){r={}}m.fn.init.call(this);this.routes=[];this.pushState=r.pushState;this.hashBang=r.hashBang;this.root=r.root;this.ignoreCase=r.ignoreCase!==false;this.bind([o,c,h,n],r)},destroy:function(){k.unbind(h,this._urlChangedProxy);k.unbind(n,this._sameProxy);k.unbind(d,this._backProxy);this.unbind()},start:function(){var v=this,u=function(){v._same()},t=function(w){v._back(w)},s=function(w){v._urlChanged(w)};k.start({same:u,change:s,back:t,pushState:v.pushState,hashBang:v.hashBang,root:v.root});var r={url:k.current||"/",preventDefault:$.noop};if(!v.trigger(o,r)){v._urlChanged(r)}this._urlChangedProxy=s;this._backProxy=t},route:function(r,s){this.routes.push(new j(r,s,this.ignoreCase))},navigate:function(s,r){l.history.navigate(s,r)},replace:function(s,r){l.history.replace(s,r)},_back:function(r){if(this.trigger(d,{url:r.url,to:r.to})){r.preventDefault()}},_same:function(r){this.trigger(n)},_urlChanged:function(w){var u=w.url;if(!u){u="/"}if(this.trigger(h,{url:w.url,params:l.parseQueryStringParams(w.url),backButtonPressed:w.backButtonPressed})){w.preventDefault();return}var r=0,s=this.routes,t,v=s.length;for(;r<v;r++){t=s[r];if(t.worksWith(u)){return}}if(this.trigger(c,{url:u,params:l.parseQueryStringParams(u),backButtonPressed:w.backButtonPressed})){w.preventDefault()}}});l.Router=a})();(function(e,c){var i=window.kendo,h=e.extend,f={eq:"eq",neq:"ne",gt:"gt",gte:"ge",lt:"lt",lte:"le",contains:"substringof",doesnotcontain:"substringof",endswith:"endswith",startswith:"startswith"},g=h({},f,{contains:"contains"}),d={pageSize:e.noop,page:e.noop,filter:function(m,l,k){if(l){m.$filter=b(l,k)}},sort:function(m,k){var l=e.map(k,function(o){var n=o.field.replace(/\./g,"/");if(o.dir==="desc"){n+=" desc"}return n}).join(",");if(l){m.$orderby=l}},skip:function(l,k){if(k){l.$skip=k}},take:function(l,k){if(k){l.$top=k}}},a={read:{dataType:"jsonp"}};function b(l,k){var w=[],p=l.logic||"and",v,o,s,r,u,n,t,q,m=l.filters;for(v=0,o=m.length;v<o;v++){l=m[v];s=l.field;t=l.value;n=l.operator;if(l.filters){l=b(l,k)}else{q=l.ignoreCase;s=s.replace(/\./g,"/");l=f[n];if(k){l=g[n]}if(l&&t!==c){r=e.type(t);if(r==="string"){u="'{1}'";t=t.replace(/'/g,"''");if(q===true){s="tolower("+s+")"}}else{if(r==="date"){if(k){u="{1:yyyy-MM-ddTHH:mm:ss+00:00}"}else{u="datetime'{1:yyyy-MM-ddTHH:mm:ss}'"}}else{u="{1}"}}if(l.length>3){if(l!=="substringof"){u="{0}({2},"+u+")"}else{u="{0}("+u+",{2})";if(n==="doesnotcontain"){if(k){u="{0}({2},'{1}') eq -1";l="indexof"}else{u+=" eq false"}}}}else{u="{2} {0} "+u}l=i.format(u,l,t,s)}}w.push(l)}l=w.join(" "+p+" ");if(w.length>1){l="("+l+")"}return l}function j(l){for(var k in l){if(k.indexOf("@odata")===0){delete l[k]}}}h(true,i.data,{schemas:{odata:{type:"json",data:function(k){return k.d.results||[k.d]},total:"d.__count"}},transports:{odata:{read:{cache:true,dataType:"jsonp",jsonp:"$callback"},update:{cache:true,dataType:"json",contentType:"application/json",type:"PUT"},create:{cache:true,dataType:"json",contentType:"application/json",type:"POST"},destroy:{cache:true,dataType:"json",type:"DELETE"},parameterMap:function(m,o,k){var q,p,n,l;m=m||{};o=o||"read";l=(this.options||a)[o];l=l?l.dataType:"json";if(o==="read"){q={$inlinecount:"allpages"};if(l!="json"){q.$format="json"}for(n in m){if(d[n]){d[n](q,m[n],k)}else{q[n]=m[n]}}}else{if(l!=="json"){throw new Error("Only json dataType can be used for "+o+" operation.")}if(o!=="destroy"){for(n in m){p=m[n];if(typeof p==="number"){m[n]=p+""}}q=i.stringify(m)}}return q}}}});h(true,i.data,{schemas:{"odata-v4":{type:"json",data:function(k){k=e.extend({},k);j(k);if(k.value){return k.value}return[k]},total:function(k){return k["@odata.count"]}}},transports:{"odata-v4":{read:{cache:true,dataType:"json"},update:{cache:true,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"PUT"},create:{cache:true,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"POST"},destroy:{cache:true,dataType:"json",type:"DELETE"},parameterMap:function(l,m){var k=i.data.transports.odata.parameterMap(l,m,true);if(m=="read"){k.$count=true;delete k.$inlinecount}return k}}}})})(window.kendo.jQuery);(function(d,c){var h=window.kendo,f=d.isArray,k=d.isPlainObject,b=d.map,j=d.each,g=d.extend,i=h.getter,a=h.Class;var e=a.extend({init:function(w){var r=this,t=w.total,q=w.model,o=w.parse,u=w.errors,v=w.serialize,p=w.data;if(q){if(k(q)){var n=w.modelBase||h.data.Model;if(q.fields){j(q.fields,function(y,x){if(k(x)&&x.field){x=g(x,{field:r.getter(x.field)})}else{x={field:r.getter(x)}}q.fields[y]=x})}var m=q.id;if(m){var l={};l[r.xpathToMember(m,true)]={field:r.getter(m)};q.fields=g(l,q.fields);q.id=r.xpathToMember(m)}q=n.define(q)}r.model=q}if(t){if(typeof t=="string"){t=r.getter(t);r.total=function(x){return parseInt(t(x),10)}}else{if(typeof t=="function"){r.total=t}}}if(u){if(typeof u=="string"){u=r.getter(u);r.errors=function(x){return u(x)||null}}else{if(typeof u=="function"){r.errors=u}}}if(p){if(typeof p=="string"){p=r.xpathToMember(p);r.data=function(z){var x=r.evaluate(z,p),y;x=f(x)?x:[x];if(r.model&&q.fields){y=new r.model();return b(x,function(B){if(B){var A={},C;for(C in q.fields){A[C]=y._parse(C,q.fields[C].field(B))}return A}})}return x}}else{if(typeof p=="function"){r.data=p}}}if(typeof o=="function"){var s=r.parse;r.parse=function(y){var x=o.call(r,y);return s.call(r,x)}}if(typeof v=="function"){r.serialize=v}},total:function(l){return this.data(l).length},errors:function(l){return l?l.errors:null},serialize:function(l){return l},parseDOM:function(r){var v={},t,n,p,s,q,m,o=r.attributes,l=o.length,u;for(u=0;u<l;u++){m=o[u];v["@"+m.nodeName]=m.nodeValue}for(n=r.firstChild;n;n=n.nextSibling){p=n.nodeType;if(p===3||p===4){v["#text"]=n.nodeValue}else{if(p===1){t=this.parseDOM(n);s=n.nodeName;q=v[s];if(f(q)){q.push(t)}else{if(q!==c){q=[q,t]}else{q=t}}v[s]=q}}}return v},evaluate:function(p,r){var n=r.split("."),s,m,o,q,l;while(s=n.shift()){p=p[s];if(f(p)){m=[];r=n.join(".");for(l=0,o=p.length;l<o;l++){q=this.evaluate(p[l],r);q=f(q)?q:[q];m.push.apply(m,q)}return m}}return p},parse:function(n){var o,m,l={};o=n.documentElement||d.parseXML(n).documentElement;m=this.parseDOM(o);l[o.nodeName]=m;return l},xpathToMember:function(m,l){if(!m){return""}m=m.replace(/^\//,"").replace(/\//g,".");if(m.indexOf("@")>=0){return m.replace(/\.?(@.*)/,l?"$1":'["$1"]')}if(m.indexOf("text()")>=0){return m.replace(/(\.?text\(\))/,l?"#text":'["#text"]')}return m},getter:function(l){return i(this.xpathToMember(l),true)}});d.extend(true,h.data,{XmlDataReader:e,readers:{xml:e}})})(window.kendo.jQuery);(function(aI,x){var at=aI.extend,B=aI.proxy,I=aI.isPlainObject,aC=aI.isEmptyObject,b=aI.isArray,p=aI.grep,aL=aI.ajax,z,a0=aI.each,aG=aI.noop,t=window.kendo,aM=t.isFunction,O=t.Observable,aR=t.Class,aU="string",aA="function",aK="create",i="read",aS="update",E="destroy",K="change",Q="sync",n="get",J="error",aJ="requestStart",aE="progress",ae="requestEnd",ag=[aK,i,aS,E],ah=function(a1){return a1},Z=t.getter,an=t.stringify,ab=Math,f=[].push,az=[].join,aP=[].pop,aD=[].splice,ak=[].shift,A=[].slice,aT=[].unshift,aB={}.toString,P=t.support.stableSort,ax=/^\/Date\((.*?)\)\/$/,ai=/(\r+|\n+)/g,aN=/(?=['\\])/g;var am=O.extend({init:function(a3,a1){var a2=this;a2.type=a1||aj;O.fn.init.call(a2);a2.length=a3.length;a2.wrapAll(a3,a2)},at:function(a1){return this[a1]},toJSON:function(){var a1,a3=this.length,a4,a2=new Array(a3);for(a1=0;a1<a3;a1++){a4=this[a1];if(a4 instanceof aj){a4=a4.toJSON()}a2[a1]=a4}return a2},parent:aG,wrapAll:function(a5,a6){var a4=this,a1,a3,a2=function(){return a4};a6=a6||[];for(a1=0,a3=a5.length;a1<a3;a1++){a6[a1]=a4.wrap(a5[a1],a2)}return a6},wrap:function(a1,a2){var a3=this,a4;if(a1!==null&&aB.call(a1)==="[object Object]"){a4=a1 instanceof a3.type||a1 instanceof F;if(!a4){a1=a1 instanceof aj?a1.toJSON():a1;a1=new a3.type(a1)}a1.parent=a2;a1.bind(K,function(a5){a3.trigger(K,{field:a5.field,node:a5.node,index:a5.index,items:a5.items||[this],action:a5.node?(a5.action||"itemloaded"):"itemchange"})})}return a1},push:function(){var a3=this.length,a2=this.wrapAll(arguments),a1;a1=f.apply(this,a2);this.trigger(K,{action:"add",index:a3,items:a2});return a1},slice:A,sort:[].sort,join:az,pop:function(){var a2=this.length,a1=aP.apply(this);if(a2){this.trigger(K,{action:"remove",index:a2-1,items:[a1]})}return a1},splice:function(a4,a6,a7){var a3=this.wrapAll(A.call(arguments,2)),a2,a5,a1;a2=aD.apply(this,[a4,a6].concat(a3));if(a2.length){this.trigger(K,{action:"remove",index:a4,items:a2});for(a5=0,a1=a2.length;a5<a1;a5++){if(a2[a5].children){a2[a5].unbind(K)}}}if(a7){this.trigger(K,{action:"add",index:a4,items:a3})}return a2},shift:function(){var a2=this.length,a1=ak.apply(this);if(a2){this.trigger(K,{action:"remove",index:0,items:[a1]})}return a1},unshift:function(){var a2=this.wrapAll(arguments),a1;a1=aT.apply(this,a2);this.trigger(K,{action:"add",index:0,items:a2});return a1},indexOf:function(a4){var a3=this,a1,a2;for(a1=0,a2=a3.length;a1<a2;a1++){if(a3[a1]===a4){return a1}}return -1},forEach:function(a3){var a1=0,a2=this.length;for(;a1<a2;a1++){a3(this[a1],a1,this)}},map:function(a4){var a2=0,a1=[],a3=this.length;for(;a2<a3;a2++){a1[a2]=a4(this[a2],a2,this)}return a1},filter:function(a5){var a2=0,a1=[],a4,a3=this.length;for(;a2<a3;a2++){a4=this[a2];if(a5(a4,a2,this)){a1[a1.length]=a4}}return a1},find:function(a4){var a1=0,a3,a2=this.length;for(;a1<a2;a1++){a3=this[a1];if(a4(a3,a1,this)){return a3}}},every:function(a4){var a1=0,a3,a2=this.length;for(;a1<a2;a1++){a3=this[a1];if(!a4(a3,a1,this)){return false}}return true},some:function(a4){var a1=0,a3,a2=this.length;for(;a1<a2;a1++){a3=this[a1];if(a4(a3,a1,this)){return true}}return false},remove:function(a2){var a1=this.indexOf(a2);if(a1!==-1){this.splice(a1,1)}},empty:function(){this.splice(0,this.length)}});var aq=am.extend({init:function(a3,a2){O.fn.init.call(this);this.type=a2||aj;for(var a1=0;a1<a3.length;a1++){this[a1]=a3[a1]}this.length=a1;this._parent=B(function(){return this},this)},at:function(a1){var a2=this[a1];if(!(a2 instanceof this.type)){a2=this[a1]=this.wrap(a2,this._parent)}else{a2.parent=this._parent}return a2}});function ay(a1,a2,a4,a3){return function(a7){var a6={},a5;for(a5 in a7){a6[a5]=a7[a5]}if(a3){a6.field=a4+"."+a7.field}else{a6.field=a4}if(a2==K&&a1._notifyChange){a1._notifyChange(a6)}a1.trigger(a2,a6)}}var aj=O.extend({init:function(a3){var a2=this,a5,a4,a1=function(){return a2};O.fn.init.call(this);for(a4 in a3){a5=a3[a4];if(typeof a5==="object"&&a5&&!a5.getTime&&a4.charAt(0)!="_"){a5=a2.wrap(a5,a4,a1)}a2[a4]=a5}a2.uid=t.guid()},shouldSerialize:function(a1){return this.hasOwnProperty(a1)&&a1!=="_events"&&typeof this[a1]!==aA&&a1!=="uid"},forEach:function(a2){for(var a1 in this){if(this.shouldSerialize(a1)){a2(this[a1],a1)}}},toJSON:function(){var a1={},a2,a3;for(a3 in this){if(this.shouldSerialize(a3)){a2=this[a3];if(a2 instanceof aj||a2 instanceof am){a2=a2.toJSON()}a1[a3]=a2}}return a1},get:function(a3){var a2=this,a1;a2.trigger(n,{field:a3});if(a3==="this"){a1=a2}else{a1=t.getter(a3,true)(a2)}return a1},_set:function(a5,a2){var a1=this;var a7=a5.indexOf(".")>=0;if(a7){var a6=a5.split("."),a4="";while(a6.length>1){a4+=a6.shift();var a3=t.getter(a4,true)(a1);if(a3 instanceof aj){a3.set(a6.join("."),a2);return a7}a4+="."}}t.setter(a5)(a1,a2);return a7},set:function(a4,a2){var a1=this,a5=a4.indexOf(".")>=0,a3=t.getter(a4,true)(a1);if(a3!==a2){if(!a1.trigger("set",{field:a4,value:a2})){if(!a5){a2=a1.wrap(a2,a4,function(){return a1})}if(!a1._set(a4,a2)||a4.indexOf("(")>=0||a4.indexOf("[")>=0){a1.trigger(K,{field:a4})}}}},parent:aG,wrap:function(a2,a7,a4){var a6=this,a3=aB.call(a2);if(a2!=null&&(a3==="[object Object]"||a3==="[object Array]")){var a1=a2 instanceof am;var a5=a2 instanceof s;if(a3==="[object Object]"&&!a5&&!a1){if(!(a2 instanceof aj)){a2=new aj(a2)}if(a2.parent()!=a4()){a2.bind(n,ay(a6,n,a7,true));a2.bind(K,ay(a6,K,a7,true))}}else{if(a3==="[object Array]"||a1||a5){if(!a1&&!a5){a2=new am(a2)}if(a2.parent()!=a4()){a2.bind(K,ay(a6,K,a7,false))}}}a2.parent=a4}return a2}});function aX(a1,a5){if(a1===a5){return true}var a4=aI.type(a1),a2=aI.type(a5),a3;if(a4!==a2){return false}if(a4==="date"){return a1.getTime()===a5.getTime()}if(a4!=="object"&&a4!=="array"){return false}for(a3 in a1){if(!aX(a1[a3],a5[a3])){return false}}return true}var X={number:function(a1){return t.parseFloat(a1)},date:function(a1){return t.parseDate(a1)},"boolean":function(a1){if(typeof a1===aU){return a1.toLowerCase()==="true"}return a1!=null?!!a1:a1},string:function(a1){return a1!=null?(a1+""):a1},"default":function(a1){return a1}};var aW={string:"",number:0,date:new Date(),"boolean":false,"default":""};function av(a3,a1){var a2,a4;for(a4 in a3){a2=a3[a4];if(I(a2)&&a2.field&&a2.field===a1){return a2}else{if(a2===a1){return a2}}}return null}var F=aj.extend({init:function(a4){var a3=this;if(!a4||aI.isEmptyObject(a4)){a4=aI.extend({},a3.defaults,a4);if(a3._initializers){for(var a1=0;a1<a3._initializers.length;a1++){var a2=a3._initializers[a1];a4[a2]=a3.defaults[a2]()}}}aj.fn.init.call(a3,a4);a3.dirty=false;if(a3.idField){a3.id=a3.get(a3.idField);if(a3.id===x){a3.id=a3._defaultId}}},shouldSerialize:function(a1){return aj.fn.shouldSerialize.call(this,a1)&&a1!=="uid"&&!(this.idField!=="id"&&a1==="id")&&a1!=="dirty"&&a1!=="_accessors"},_parse:function(a4,a3){var a2=this,a6=a4,a1=(a2.fields||{}),a5;a4=a1[a4];if(!a4){a4=av(a1,a6)}if(a4){a5=a4.parse;if(!a5&&a4.type){a5=X[a4.type.toLowerCase()]}}return a5?a5(a3):a3},_notifyChange:function(a2){var a1=a2.action;if(a1=="add"||a1=="remove"){this.dirty=true}},editable:function(a1){a1=(this.fields||{})[a1];return a1?a1.editable!==false:true},set:function(a4,a3,a2){var a1=this;if(a1.editable(a4)){a3=a1._parse(a4,a3);if(!aX(a3,a1.get(a4))){a1.dirty=true;aj.fn.set.call(a1,a4,a3,a2)}}},accept:function(a4){var a2=this,a1=function(){return a2},a5;for(a5 in a4){var a3=a4[a5];if(a5.charAt(0)!="_"){a3=a2.wrap(a4[a5],a5,a1)}a2._set(a5,a3)}if(a2.idField){a2.id=a2.get(a2.idField)}a2.dirty=false},isNew:function(){return this.id===this._defaultId}});F.define=function(a3,be){if(be===x){be=a3;a3=F}var a7,a6=at({defaults:{}},be),a1,bb,ba,bd,bc,a4,a8={},a9,a2=a6.id,a5=[];if(a2){a6.idField=a2}if(a6.id){delete a6.id}if(a2){a6.defaults[a2]=a6._defaultId=""}if(aB.call(a6.fields)==="[object Array]"){for(bc=0,a4=a6.fields.length;bc<a4;bc++){bb=a6.fields[bc];if(typeof bb===aU){a8[bb]={}}else{if(bb.field){a8[bb.field]=bb}}}a6.fields=a8}for(a1 in a6.fields){bb=a6.fields[a1];ba=bb.type||"default";bd=null;a9=a1;a1=typeof(bb.field)===aU?bb.field:a1;if(!bb.nullable){bd=a6.defaults[a9!==a1?a9:a1]=bb.defaultValue!==x?bb.defaultValue:aW[ba.toLowerCase()];if(typeof bd==="function"){a5.push(a1)}}if(be.id===a1){a6._defaultId=bd}a6.defaults[a9!==a1?a9:a1]=bd;bb.parse=bb.parse||X[ba]}if(a5.length>0){a6._initializers=a5}a7=a3.extend(a6);a7.define=function(bf){return F.define(a7,bf)};if(a6.fields){a7.fields=a6.fields;a7.idField=a6.idField}return a7};var N={selector:function(a1){return aM(a1)?a1:Z(a1)},compare:function(a2){var a1=this.selector(a2);return function(a4,a3){a4=a1(a4);a3=a1(a3);if(a4==null&&a3==null){return 0}if(a4==null){return -1}if(a3==null){return 1}if(a4.localeCompare){return a4.localeCompare(a3)}return a4>a3?1:(a4<a3?-1:0)}},create:function(a1){var a2=a1.compare||this.compare(a1.field);if(a1.dir=="desc"){return function(a4,a3){return a2(a3,a4,true)}}return a2},combine:function(a1){return function(a5,a4){var a3=a1[0](a5,a4),a2,a6;for(a2=1,a6=a1.length;a2<a6;a2++){a3=a3||a1[a2](a5,a4)}return a3}}};var aV=at({},N,{asc:function(a2){var a1=this.selector(a2);return function(a4,a3){var a6=a1(a4);var a5=a1(a3);if(a6&&a6.getTime&&a5&&a5.getTime){a6=a6.getTime();a5=a5.getTime()}if(a6===a5){return a4.__position-a3.__position}if(a6==null){return -1}if(a5==null){return 1}if(a6.localeCompare){return a6.localeCompare(a5)}return a6>a5?1:-1}},desc:function(a2){var a1=this.selector(a2);return function(a4,a3){var a6=a1(a4);var a5=a1(a3);if(a6&&a6.getTime&&a5&&a5.getTime){a6=a6.getTime();a5=a5.getTime()}if(a6===a5){return a4.__position-a3.__position}if(a6==null){return 1}if(a5==null){return -1}if(a5.localeCompare){return a5.localeCompare(a6)}return a6<a5?1:-1}},create:function(a1){return this[a1.dir](a1.field)}});z=function(a5,a4){var a2,a3=a5.length,a1=new Array(a3);for(a2=0;a2<a3;a2++){a1[a2]=a4(a5[a2],a2,a5)}return a1};var y=(function(){function a2(a3){return a3.replace(aN,"\\").replace(ai,"")}function a1(a7,a4,a3,a6){var a5;if(a3!=null){if(typeof a3===aU){a3=a2(a3);a5=ax.exec(a3);if(a5){a3=new Date(+a5[1])}else{if(a6){a3="'"+a3.toLowerCase()+"'";a4="("+a4+" || '').toLowerCase()"}else{a3="'"+a3+"'"}}}if(a3.getTime){a4="("+a4+"?"+a4+".getTime():"+a4+")";a3=a3.getTime()}}return a4+" "+a7+" "+a3}return{eq:function(a4,a3,a5){return a1("==",a4,a3,a5)},neq:function(a4,a3,a5){return a1("!=",a4,a3,a5)},gt:function(a4,a3,a5){return a1(">",a4,a3,a5)},gte:function(a4,a3,a5){return a1(">=",a4,a3,a5)},lt:function(a4,a3,a5){return a1("<",a4,a3,a5)},lte:function(a4,a3,a5){return a1("<=",a4,a3,a5)},startswith:function(a4,a3,a5){if(a5){a4="("+a4+" || '').toLowerCase()";if(a3){a3=a3.toLowerCase()}}if(a3){a3=a2(a3)}return a4+".lastIndexOf('"+a3+"', 0) == 0"},endswith:function(a4,a3,a5){if(a5){a4="("+a4+" || '').toLowerCase()";if(a3){a3=a3.toLowerCase()}}if(a3){a3=a2(a3)}return a4+".indexOf('"+a3+"', "+a4+".length - "+(a3||"").length+") >= 0"},contains:function(a4,a3,a5){if(a5){a4="("+a4+" || '').toLowerCase()";if(a3){a3=a3.toLowerCase()}}if(a3){a3=a2(a3)}return a4+".indexOf('"+a3+"') >= 0"},doesnotcontain:function(a4,a3,a5){if(a5){a4="("+a4+" || '').toLowerCase()";if(a3){a3=a3.toLowerCase()}}if(a3){a3=a2(a3)}return a4+".indexOf('"+a3+"') == -1"}}})();function af(a1){this.data=a1||[]}af.filterExpr=function(a9){var a8=[],a6={and:" && ",or:" || "},bc,a5,a2,bb,a1=[],a7=[],ba,a4,a3=a9.filters;for(bc=0,a5=a3.length;bc<a5;bc++){a2=a3[bc];ba=a2.field;a4=a2.operator;if(a2.filters){bb=af.filterExpr(a2);a2=bb.expression.replace(/__o\[(\d+)\]/g,function(be,bd){bd=+bd;return"__o["+(a7.length+bd)+"]"}).replace(/__f\[(\d+)\]/g,function(be,bd){bd=+bd;return"__f["+(a1.length+bd)+"]"});a7.push.apply(a7,bb.operators);a1.push.apply(a1,bb.fields)}else{if(typeof ba===aA){bb="__f["+a1.length+"](d)";a1.push(ba)}else{bb=t.expr(ba)}if(typeof a4===aA){a2="__o["+a7.length+"]("+bb+", "+a2.value+")";a7.push(a4)}else{a2=y[(a4||"eq").toLowerCase()](bb,a2.value,a2.ignoreCase!==x?a2.ignoreCase:true)}}a8.push(a2)}return{expression:"("+a8.join(a6[a9.logic])+")",fields:a1,operators:a7}};function R(a4,a1){if(a4){var a3=typeof a4===aU?{field:a4,dir:a1}:a4,a2=b(a3)?a3:(a3!==x?[a3]:[]);return p(a2,function(a5){return !!a5.dir})}}var aw={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain"};function aY(a6){var a1,a5,a3,a2,a4=a6.filters;if(a4){for(a1=0,a5=a4.length;a1<a5;a1++){a3=a4[a1];a2=a3.operator;if(a2&&typeof a2===aU){a3.operator=aw[a2.toLowerCase()]||a2}aY(a3)}}}function ar(a1){if(a1&&!aC(a1)){if(b(a1)||!a1.filters){a1={logic:"and",filters:b(a1)?a1:[a1]}}aY(a1);return a1}}af.normalizeFilter=ar;function al(a1){return b(a1)?a1:[a1]}function v(a4,a1){var a3=typeof a4===aU?{field:a4,dir:a1}:a4,a2=b(a3)?a3:(a3!==x?[a3]:[]);return z(a2,function(a5){return{field:a5.field,dir:a5.dir||"asc",aggregates:a5.aggregates}})}af.prototype={toArray:function(){return this.data},range:function(a1,a2){return new af(this.data.slice(a1,a1+a2))},skip:function(a1){return new af(this.data.slice(a1))},take:function(a1){return new af(this.data.slice(0,a1))},select:function(a1){return new af(z(this.data,a1))},order:function(a1,a2){var a3={dir:a2};if(a1){if(a1.compare){a3.compare=a1.compare}else{a3.field=a1}}return new af(this.data.slice(0).sort(N.create(a3)))},orderBy:function(a1){return this.order(a1,"asc")},orderByDescending:function(a1){return this.order(a1,"desc")},sort:function(a7,a2,a5){var a1,a6,a4=R(a7,a2),a3=[];a5=a5||N;if(a4.length){for(a1=0,a6=a4.length;a1<a6;a1++){a3.push(a5.create(a4[a1]))}return this.orderBy({compare:a5.combine(a3)})}return this},filter:function(a5){var a9,a7,a2,a8,ba,a4=this.data,a6,a3,bb=[],a1;a5=ar(a5);if(!a5||a5.filters.length===0){return this}a8=af.filterExpr(a5);a6=a8.fields;a3=a8.operators;ba=a1=new Function("d, __f, __o","return "+a8.expression);if(a6.length||a3.length){a1=function(bc){return ba(bc,a6,a3)}}for(a9=0,a2=a4.length;a9<a2;a9++){a7=a4[a9];if(a1(a7)){bb.push(a7)}}return new af(bb)},group:function(a2,a4){a2=v(a2||[]);a4=a4||this.data;var a3=this,a1=new af(a3.data),a5;if(a2.length>0){a5=a2[0];a1=a1.groupBy(a5).select(function(a7){var a6=new af(a4).filter([{field:a7.field,operator:"eq",value:a7.value,ignoreCase:false}]);return{field:a7.field,value:a7.value,items:a2.length>1?new af(a7.items).group(a2.slice(1),a6.toArray()).toArray():a7.items,hasSubgroups:a2.length>1,aggregates:a6.aggregate(a5.aggregates)}})}return a1},groupBy:function(a1){if(aC(a1)||!this.data.length){return new af([])}var a6=a1.field,a5=this._sortForGrouping(a6,a1.dir||"asc"),a3=t.accessor(a6),ba,a2=a3.get(a5[0],a6),a8={field:a6,value:a2,items:[]},a9,a7,a4,bb=[a8];for(a7=0,a4=a5.length;a7<a4;a7++){ba=a5[a7];a9=a3.get(ba,a6);if(!G(a2,a9)){a2=a9;a8={field:a6,value:a2,items:[]};bb.push(a8)}a8.items.push(ba)}return new af(bb)},_sortForGrouping:function(a5,a2){var a1,a3,a4=this.data;if(!P){for(a1=0,a3=a4.length;a1<a3;a1++){a4[a1].__position=a1}a4=new af(a4).sort(a5,a2,aV).toArray();for(a1=0,a3=a4.length;a1<a3;a1++){delete a4[a1].__position}return a4}return this.sort(a5,a2).toArray()},aggregate:function(a5){var a3,a2,a1={},a4={};if(a5&&a5.length){for(a3=0,a2=this.data.length;a3<a2;a3++){k(a1,a5,this.data[a3],a3,a2,a4)}}return a1}};function G(a2,a1){if(a2&&a2.getTime&&a1&&a1.getTime){return a2.getTime()===a1.getTime()}return a2===a1}function k(a3,a6,bb,a7,a2,a1){a6=a6||[];var ba,a4,a8,a5=a6.length;for(ba=0;ba<a5;ba++){a4=a6[ba];a8=a4.aggregate;var a9=a4.field;a3[a9]=a3[a9]||{};a1[a9]=a1[a9]||{};a1[a9][a8]=a1[a9][a8]||{};a3[a9][a8]=u[a8.toLowerCase()](a3[a9][a8],bb,t.accessor(a9),a7,a2,a1[a9][a8])}}var u={sum:function(a2,a3,a1){var a4=a1.get(a3);if(!aa(a2)){a2=a4}else{if(aa(a4)){a2+=a4}}return a2},count:function(a1){return(a1||0)+1},average:function(a2,a5,a1,a3,a4,a7){var a6=a1.get(a5);if(a7.count===x){a7.count=0}if(!aa(a2)){a2=a6}else{if(aa(a6)){a2+=a6}}if(aa(a6)){a7.count++}if(a3==a4-1&&aa(a2)){a2=a2/a7.count}return a2},max:function(a2,a3,a1){var a4=a1.get(a3);if(!aa(a2)&&!j(a2)){a2=a4}if(a2<a4&&(aa(a4)||j(a4))){a2=a4}return a2},min:function(a2,a3,a1){var a4=a1.get(a3);if(!aa(a2)&&!j(a2)){a2=a4}if(a2>a4&&(aa(a4)||j(a4))){a2=a4}return a2}};function aa(a1){return typeof a1==="number"&&!isNaN(a1)}function j(a1){return a1&&a1.getTime}function D(a4){var a2,a3=a4.length,a1=new Array(a3);for(a2=0;a2<a3;a2++){a1[a2]=a4[a2].toJSON()}return a1}af.process=function(a3,ba){ba=ba||{};var a5=new af(a3),a9=ba.group,a4=v(a9||[]).concat(R(ba.sort||[])),a6,a7=ba.filterCallback,a1=ba.filter,a8=ba.skip,a2=ba.take;if(a1){a5=a5.filter(a1);if(a7){a5=a7(a5)}a6=a5.toArray().length}if(a4){a5=a5.sort(a4);if(a9){a3=a5.toArray()}}if(a8!==x&&a2!==x){a5=a5.range(a8,a2)}if(a9){a5=a5.group(a9,a3)}return{total:a6,data:a5.toArray()}};var ap=aR.extend({init:function(a1){this.data=a1.data},read:function(a1){a1.success(this.data)},update:function(a1){a1.success(a1.data)},create:function(a1){a1.success(a1.data)},destroy:function(a1){a1.success(a1.data)}});var aZ=aR.extend({init:function(a2){var a3=this,a1;a2=a3.options=at({},a3.options,a2);a0(ag,function(a4,a5){if(typeof a2[a5]===aU){a2[a5]={url:a2[a5]}}});a3.cache=a2.cache?V.create(a2.cache):{find:aG,add:aG};a1=a2.parameterMap;if(aM(a2.push)){a3.push=a2.push}if(!a3.push){a3.push=ah}a3.parameterMap=aM(a1)?a1:function(a5){var a4={};a0(a5,function(a6,a7){if(a6 in a1){a6=a1[a6];if(I(a6)){a7=a6.value(a7);a6=a6.key}}a4[a6]=a7});return a4}},options:{parameterMap:ah},create:function(a1){return aL(this.setup(a1,aK))},read:function(a4){var a5=this,a6,a3,a1,a2=a5.cache;a4=a5.setup(a4,i);a6=a4.success||aG;a3=a4.error||aG;a1=a2.find(a4.data);if(a1!==x){a6(a1)}else{a4.success=function(a7){a2.add(a4.data,a7);a6(a7)};aI.ajax(a4)}},update:function(a1){return aL(this.setup(a1,aS))},destroy:function(a1){return aL(this.setup(a1,E))},setup:function(a2,a3){a2=a2||{};var a5=this,a4,a1=a5.options[a3],a6=aM(a1.data)?a1.data(a2.data):a1.data;a2=at(true,{},a1,a2);a4=at(true,{},a6,a2.data);a2.data=a5.parameterMap(a4,a3);if(aM(a2.url)){a2.url=a2.url(a4)}return a2}});var V=aR.extend({init:function(){this._store={}},add:function(a1,a2){if(a1!==x){this._store[an(a1)]=a2}},find:function(a1){return this._store[an(a1)]},clear:function(){this._store={}},remove:function(a1){delete this._store[an(a1)]}});V.create=function(a2){var a1={inmemory:function(){return new V()}};if(I(a2)&&aM(a2.find)){return a2}if(a2===true){return new V()}return a1[a2]()};function S(a3,a7,a2,a6,ba){var a4,a8,a5,a9,a1;for(a9=0,a1=a3.length;a9<a1;a9++){a4=a3[a9];for(a8 in a7){a5=ba[a8];if(a5&&a5!==a8){a4[a5]=a7[a8](a4);delete a4[a8]}}}}function w(a3,a7,a2,a6,ba){var a4,a8,a5,a9,a1;for(a9=0,a1=a3.length;a9<a1;a9++){a4=a3[a9];for(a8 in a7){a4[a8]=a2._parse(a8,a7[a8](a4));a5=ba[a8];if(a5&&a5!==a8){delete a4[a5]}}}}function T(a3,a6,a2,a5,a9){var a4,a7,a8,a1;for(a7=0,a1=a3.length;a7<a1;a7++){a4=a3[a7];a8=a5[a4.field];if(a8&&a8!=a4.field){a4.field=a8}a4.value=a2._parse(a4.field,a4.value);if(a4.hasSubgroups){T(a4.items,a6,a2,a5,a9)}else{w(a4.items,a6,a2,a5,a9)}}}function ac(a5,a2,a4,a3,a1,a6){return function(a7){a7=a5(a7);if(a7&&!aC(a3)){if(aB.call(a7)!=="[object Array]"&&!(a7 instanceof am)){a7=[a7]}a4(a7,a3,new a2(),a1,a6)}return a7||[]}}var Y=aR.extend({init:function(a5){var ba=this,a7,a3,a8,a2;a5=a5||{};for(a7 in a5){a3=a5[a7];ba[a7]=typeof a3===aU?Z(a3):a3}a2=a5.modelBase||F;if(I(ba.model)){ba.model=a8=a2.define(ba.model)}var a1=B(ba.data,ba);ba._dataAccessFunction=a1;if(ba.model){var a6=B(ba.groups,ba),a4=B(ba.serialize,ba),bb={},bc={},a9={},bf={},bd=false,be;a8=ba.model;if(a8.fields){a0(a8.fields,function(bi,bh){var bg;be=bi;if(I(bh)&&bh.field){be=bh.field}else{if(typeof bh===aU){be=bh}}if(I(bh)&&bh.from){bg=bh.from}bd=bd||(bg&&bg!==bi)||be!==bi;bc[bi]=Z(bg||be);a9[bi]=Z(bi);bb[bg||be]=bi;bf[bi]=bg||be});if(!a5.serialize&&bd){ba.serialize=ac(a4,a8,S,a9,bb,bf)}}ba._dataAccessFunction=a1;ba.data=ac(a1,a8,w,bc,bb,bf);ba.groups=ac(a6,a8,T,bc,bb,bf)}},errors:function(a1){return a1?a1.errors:null},parse:ah,data:ah,total:function(a1){return a1.length},groups:ah,aggregates:function(){return{}},serialize:function(a1){return a1}});function d(a8,a4,a6,a3){var a7,a1=0,a2;while(a4.length&&a3){a7=a4[a1];a2=a7.items;var a5=a2.length;if(a8&&a8.field===a7.field&&a8.value===a7.value){if(a8.hasSubgroups&&a8.items.length){d(a8.items[a8.items.length-1],a7.items,a6,a3)}else{a2=a2.slice(a6,a6+a3);a8.items=a8.items.concat(a2)}a4.splice(a1--,1)}else{if(a7.hasSubgroups&&a2.length){d(a7,a2,a6,a3)}else{a2=a2.slice(a6,a6+a3);a7.items=a2;if(!a7.items.length){a4.splice(a1--,1)}}}if(a2.length===0){a6-=a5}else{a6=0;a3-=a2.length}if(++a1>=a4.length){break}}if(a1<a4.length){a4.splice(a1,a4.length-a1)}}function ao(a6){var a2,a1=[],a5,a3,a4;for(a2=0,a5=a6.length;a2<a5;a2++){var a7=a6.at(a2);if(a7.hasSubgroups){a1=a1.concat(ao(a7.items))}else{a3=a7.items;for(a4=0;a4<a3.length;a4++){a1.push(a3.at(a4))}}}return a1}function au(a5,a3){var a1,a4,a6,a2;if(a3){for(a1=0,a4=a5.length;a1<a4;a1++){a6=a5.at(a1);if(a6.hasSubgroups){au(a6.items,a3)}else{a6.items=new aq(a6.items,a3)}}}}function q(a4,a3){for(var a1=0,a2=a4.length;a1<a2;a1++){if(a4[a1].hasSubgroups){if(q(a4[a1].items,a3)){return true}}else{if(a3(a4[a1].items,a4[a1])){return true}}}}function e(a2,a4,a3,a5){for(var a1=0;a1<a2.length;a1++){if(a2[a1].data===a4){break}if(L(a2[a1].data,a3,a5)){break}}}function L(a2,a4,a5){for(var a1=0,a3=a2.length;a1<a3;a1++){if(a2[a1]&&a2[a1].hasSubgroups){return L(a2[a1].items,a4,a5)}else{if(a2[a1]===a4||a2[a1]===a5){a2[a1]=a5;return true}}}}function r(a6,a4,a1,a5,a3){for(var a8=0,a2=a6.length;a8<a2;a8++){var a9=a6[a8];if(!a9||a9 instanceof a5){continue}if(a9.hasSubgroups!==x&&!a3){r(a9.items,a4,a1,a5,a3)}else{for(var a7=0;a7<a4.length;a7++){if(a4[a7]===a9){a6[a8]=a4.at(a7);e(a1,a4,a9,a6[a8]);break}}}}}function M(a5,a3){var a1,a4;for(a1=0,a4=a5.length;a1<a4;a1++){var a2=a5.at(a1);if(a2.uid==a3.uid){a5.splice(a1,1);return a2}}}function a(a2,a3){var a4,a6,a1,a5;for(a1=a2.length-1,a5=0;a1>=a5;a1--){a6=a2[a1];a4={value:a3.get(a6.field),field:a6.field,items:a4?[a4]:[a3],hasSubgroups:!!a4,aggregates:{}}}return a4}function aO(a2,a1){if(a1){return o(a2,function(a3){if(a3.uid){return a3.uid==a1.uid}return a3[a1.idField]===a1.id})}return -1}function aQ(a2,a1){if(a1){return o(a2,function(a3){return a3.uid==a1.uid})}return -1}function o(a4,a2){var a1,a3;for(a1=0,a3=a4.length;a1<a3;a1++){if(a2(a4[a1])){return a1}}return -1}function C(a1,a2){if(a1&&!aC(a1)){var a3=a1[a2];var a4;if(I(a3)){a4=a3.from||a3.field||a2}else{a4=a1[a2]||a2}if(aM(a4)){return a2}return a4}return a2}function H(a6,a2){var a1,a3,a5={};for(var a4 in a6){if(a4!=="filters"){a5[a4]=a6[a4]}}if(a6.filters){a5.filters=[];for(a1=0,a3=a6.filters.length;a1<a3;a1++){a5.filters[a1]=H(a6.filters[a1],a2)}}else{a5.field=C(a2.fields,a5.field)}return a5}function U(a4,a3){var a2,a5,a1=[],a8,a7;for(a2=0,a5=a4.length;a2<a5;a2++){a8={};a7=a4[a2];for(var a6 in a7){a8[a6]=a7[a6]}a8.field=C(a3.fields,a8.field);if(a8.aggregates&&b(a8.aggregates)){a8.aggregates=U(a8.aggregates,a3)}a1.push(a8)}return a1}var s=O.extend({init:function(a2){var a4=this,a1,a5;if(a2){a5=a2.data}a2=a4.options=at({},a4.options,a2);a4._map={};a4._prefetch={};a4._data=[];a4._pristineData=[];a4._ranges=[];a4._view=[];a4._pristineTotal=0;a4._destroyed=[];a4._pageSize=a2.pageSize;a4._page=a2.page||(a2.pageSize?1:x);a4._sort=R(a2.sort);a4._filter=ar(a2.filter);a4._group=v(a2.group);a4._aggregate=a2.aggregate;a4._total=a2.total;a4._shouldDetachObservableParents=true;O.fn.init.call(a4);a4.transport=h.create(a2,a5);if(aM(a4.transport.push)){a4.transport.push({pushCreate:B(a4._pushCreate,a4),pushUpdate:B(a4._pushUpdate,a4),pushDestroy:B(a4._pushDestroy,a4)})}if(a2.offlineStorage!=null){if(typeof a2.offlineStorage=="string"){var a3=a2.offlineStorage;a4._storage={getItem:function(){return JSON.parse(localStorage.getItem(a3))},setItem:function(a6){localStorage.setItem(a3,an(a6))}}}else{a4._storage=a2.offlineStorage}}a4.reader=new t.data.readers[a2.schema.type||"json"](a2.schema);a1=a4.reader.model||{};a4._detachObservableParents();a4._data=a4._observe(a4._data);a4._online=true;a4.bind(["push",J,K,aJ,Q,ae,aE],a2)},options:{data:null,schema:{modelBase:F},offlineStorage:null,serverSorting:false,serverPaging:false,serverFiltering:false,serverGrouping:false,serverAggregates:false,batch:false},online:function(a1){if(a1!==x){if(this._online!=a1){this._online=a1;if(a1){this.sync()}}}else{return this._online}},offlineData:function(a1){if(this.options.offlineStorage==null){return null}if(a1!==x){return this._storage.setItem(a1)}return this._storage.getItem()||{}},_isServerGrouped:function(){var a1=this.group()||[];return this.options.serverGrouping&&a1.length},_pushCreate:function(a1){this._push(a1,"pushCreate")},_pushUpdate:function(a1){this._push(a1,"pushUpdate")},_pushDestroy:function(a1){this._push(a1,"pushDestroy")},_push:function(a1,a2){var a3=this._readData(a1);if(!a3){a3=a1}this[a2](a3)},_flatData:function(a3,a2){if(a3){if(this._isServerGrouped()){return ao(a3)}if(!a2){for(var a1=0;a1<a3.length;a1++){a3.at(a1)}}}return a3},parent:aG,get:function(a4){var a1,a2,a3=this._flatData(this._data);for(a1=0,a2=a3.length;a1<a2;a1++){if(a3[a1].id==a4){return a3[a1]}}},getByUid:function(a4){var a1,a2,a3=this._flatData(this._data);if(!a3){return}for(a1=0,a2=a3.length;a1<a2;a1++){if(a3[a1].uid==a4){return a3[a1]}}},indexOf:function(a1){return aQ(this._data,a1)},at:function(a1){return this._data.at(a1)},data:function(a3){var a2=this;if(a3!==x){a2._detachObservableParents();a2._data=this._observe(a3);a2._pristineData=a3.slice(0);a2._storeData();a2._ranges=[];a2.trigger("reset");a2._addRange(a2._data);a2._total=a2._data.length;a2._pristineTotal=a2._total;a2._process(a2._data)}else{if(a2._data){for(var a1=0;a1<a2._data.length;a1++){a2._data.at(a1)}}return a2._data}},view:function(a1){if(a1===x){return this._view}else{this._view=this._observeView(a1)}},_observeView:function(a3){var a2=this;r(a3,a2._data,a2._ranges,a2.reader.model||aj,a2._isServerGrouped());var a1=new aq(a3,a2.reader.model);a1.parent=function(){return a2.parent()};return a1},flatView:function(){var a1=this.group()||[];if(a1.length){return ao(this._view)}else{return this._view}},add:function(a1){return this.insert(this._data.length,a1)},_createNewModel:function(a1){if(this.reader.model){return new this.reader.model(a1)}if(a1 instanceof aj){return a1}return new aj(a1)},insert:function(a2,a1){if(!a1){a1=a2;a2=0}if(!(a1 instanceof F)){a1=this._createNewModel(a1)}if(this._isServerGrouped()){this._data.splice(a2,0,a(this.group(),a1))}else{this._data.splice(a2,0,a1)}return a1},pushCreate:function(a4){if(!b(a4)){a4=[a4]}var a7=[];var a3=this.options.autoSync;this.options.autoSync=false;try{for(var a2=0;a2<a4.length;a2++){var a5=a4[a2];var a1=this.add(a5);a7.push(a1);var a6=a1.toJSON();if(this._isServerGrouped()){a6=a(this.group(),a6)}this._pristineData.push(a6)}}finally{this.options.autoSync=a3}if(a7.length){this.trigger("push",{type:"create",items:a7})}},pushUpdate:function(a2){if(!b(a2)){a2=[a2]}var a6=[];for(var a1=0;a1<a2.length;a1++){var a4=a2[a1];var a3=this._createNewModel(a4);var a5=this.get(a3.id);if(a5){a6.push(a5);a5.accept(a4);a5.trigger(K);this._updatePristineForModel(a5,a4)}else{this.pushCreate(a4)}}if(a6.length){this.trigger("push",{type:"update",items:a6})}},pushDestroy:function(a1){var a2=this._removeItems(a1);if(a2.length){this.trigger("push",{type:"destroy",items:a2})}},_removeItems:function(a3){if(!b(a3)){a3=[a3]}var a6=[];var a2=this.options.autoSync;this.options.autoSync=false;try{for(var a1=0;a1<a3.length;a1++){var a5=a3[a1];var a4=this._createNewModel(a5);var a7=false;this._eachItem(this._data,function(a9){for(var a8=0;a8<a9.length;a8++){var ba=a9.at(a8);if(ba.id===a4.id){a6.push(ba);a9.splice(a8,1);a7=true;break}}});if(a7){this._removePristineForModel(a4);this._destroyed.pop()}}}finally{this.options.autoSync=a2}return a6},remove:function(a2){var a1,a4=this,a3=a4._isServerGrouped();this._eachItem(a4._data,function(a5){a1=M(a5,a2);if(a1&&a3){if(!a1.isNew||!a1.isNew()){a4._destroyed.push(a1)}return true}});this._removeModelFromRanges(a2);this._updateRangesLength();return a2},sync:function(){var a5=this,a7,a1,a2=[],a4=[],a8=a5._destroyed,a3=a5._flatData(a5._data);var a9;if(a5.online()){if(!a5.reader.model){return}for(a7=0,a1=a3.length;a7<a1;a7++){if(a3[a7].isNew()){a2.push(a3[a7])}else{if(a3[a7].dirty){a4.push(a3[a7])}}}var a6=[];a6.push.apply(a6,a5._send("create",a2));a6.push.apply(a6,a5._send("update",a4));a6.push.apply(a6,a5._send("destroy",a8));a9=aI.when.apply(null,a6).then(function(){var ba,bb;for(ba=0,bb=arguments.length;ba<bb;ba++){a5._accept(arguments[ba])}a5._storeData(true);a5._change({action:"sync"});a5.trigger(Q)})}else{a5._storeData(true);a5._change({action:"sync"});a9=aI.Deferred().resolve().promise()}return a9},cancelChanges:function(a1){var a2=this;if(a1 instanceof t.data.Model){a2._cancelModel(a1)}else{a2._destroyed=[];a2._detachObservableParents();a2._data=a2._observe(a2._pristineData);if(a2.options.serverPaging){a2._total=a2._pristineTotal}a2._change()}},hasChanges:function(){var a1,a2,a3=this._data;if(this._destroyed.length){return true}for(a1=0,a2=a3.length;a1<a2;a1++){if((a3[a1].isNew&&a3[a1].isNew())||a3[a1].dirty){return true}}return false},_accept:function(a9){var a4=this,a1=a9.models,a3=a9.response,a6=0,a8=a4._isServerGrouped(),a7=a4._pristineData,a5=a9.type,a2;a4.trigger(ae,{response:a3,type:a5});if(a3&&!aC(a3)){a3=a4.reader.parse(a3);if(a4._handleCustomErrors(a3)){return}a3=a4.reader.data(a3);if(!b(a3)){a3=[a3]}}else{a3=aI.map(a1,function(ba){return ba.toJSON()})}if(a5==="destroy"){a4._destroyed=[]}for(a6=0,a2=a1.length;a6<a2;a6++){if(a5!=="destroy"){a1[a6].accept(a3[a6]);if(a5==="create"){a7.push(a8?a(a4.group(),a1[a6]):a3[a6])}else{if(a5==="update"){a4._updatePristineForModel(a1[a6],a3[a6])}}}else{a4._removePristineForModel(a1[a6])}}},_updatePristineForModel:function(a2,a1){this._executeOnPristineForModel(a2,function(a4,a3){t.deepExtend(a3[a4],a1)})},_executeOnPristineForModel:function(a1,a2){this._eachPristineItem(function(a3){var a4=aO(a3,a1);if(a4>-1){a2(a4,a3);return true}})},_removePristineForModel:function(a1){this._executeOnPristineForModel(a1,function(a3,a2){a2.splice(a3,1)})},_readData:function(a2){var a1=!this._isServerGrouped()?this.reader.data:this.reader.groups;return a1.call(this.reader,a2)},_eachPristineItem:function(a1){this._eachItem(this._pristineData,a1)},_eachItem:function(a1,a2){if(a1&&a1.length){if(this._isServerGrouped()){q(a1,a2)}else{a2(a1)}}},_pristineForModel:function(a2){var a3,a1,a4=function(a5){a1=aO(a5,a2);if(a1>-1){a3=a5[a1];return true}};this._eachPristineItem(a4);return a3},_cancelModel:function(a1){var a2=this._pristineForModel(a1);this._eachItem(this._data,function(a4){var a3=aQ(a4,a1);if(a3>=0){if(a2&&(!a1.isNew()||a2.__state__)){a4[a3].accept(a2)}else{a4.splice(a3,1)}}})},_promise:function(a3,a4,a1){var a2=this;return aI.Deferred(function(a5){a2.trigger(aJ,{type:a1});a2.transport[a1].call(a2.transport,at({success:function(a6){a5.resolve({response:a6,models:a4,type:a1})},error:function(a7,a6,a8){a5.reject(a7);a2.error(a7,a6,a8)}},a3))}).promise()},_send:function(a7,a5){var a4=this,a1,a3,a2=[],a6=a4.reader.serialize(D(a5));if(a4.options.batch){if(a5.length){a2.push(a4._promise({data:{models:a6}},a5,a7))}}else{for(a1=0,a3=a5.length;a1<a3;a1++){a2.push(a4._promise({data:a6[a1]},[a5[a1]],a7))}}return a2},read:function(a3){var a2=this,a4=a2._params(a3);var a1=aI.Deferred();a2._queueRequest(a4,function(){var a5=a2.trigger(aJ,{type:"read"});if(!a5){a2.trigger(aE);a2._ranges=[];a2.trigger("reset");if(a2.online()){a2.transport.read({data:a4,success:function(a6){a2.success(a6);a1.resolve()},error:function(){var a6=A.call(arguments);a2.error.apply(a2,a6);a1.reject.apply(a1,a6)}})}else{if(a2.options.offlineStorage!=null){a2.success(a2.offlineData());a1.resolve()}}}else{a2._dequeueRequest();a1.resolve(a5)}});return a1.promise()},_readAggregates:function(a1){return this.reader.aggregates(a1)},success:function(a7){var a5=this,a3=a5.options;a5.trigger(ae,{response:a7,type:"read"});if(a5.online()){a7=a5.reader.parse(a7);if(a5._handleCustomErrors(a7)){a5._dequeueRequest();return}a5._total=a5.reader.total(a7);if(a5._aggregate&&a3.serverAggregates){a5._aggregateResult=a5._readAggregates(a7)}a7=a5._readData(a7)}else{a7=a5._readData(a7);var a2=[];for(var a1=0;a1<a7.length;a1++){var a4=a7[a1];var a6=a4.__state__;if(a6=="destroy"){this._destroyed.push(this._createNewModel(a4))}else{a2.push(a4)}}a7=a2;a5._total=a7.length}a5._pristineTotal=a5._total;a5._pristineData=a7.slice(0);a5._detachObservableParents();a5._data=a5._observe(a7);if(a5.options.offlineStorage!=null){a5._eachItem(a5._data,function(a9){for(var a8=0;a8<a9.length;a8++){var ba=a9.at(a8);if(ba.__state__=="update"){ba.dirty=true}}})}a5._storeData();a5._addRange(a5._data);a5._process(a5._data);a5._dequeueRequest()},_detachObservableParents:function(){if(this._data&&this._shouldDetachObservableParents){for(var a1=0;a1<this._data.length;a1++){if(this._data[a1].parent){this._data[a1].parent=aG}}}},_storeData:function(a5){var a4=this._isServerGrouped();var a3=this.reader.model;function a2(bc){var bb=[];for(var a8=0;a8<bc.length;a8++){var a9=bc.at(a8);var ba=a9.toJSON();if(a4&&a9.items){ba.items=a2(a9.items)}else{ba.uid=a9.uid;if(a3){if(a9.isNew()){ba.__state__="create"}else{if(a9.dirty){ba.__state__="update"}}}}bb.push(ba)}return bb}if(this.options.offlineStorage!=null){var a7=a2(this._data);for(var a1=0;a1<this._destroyed.length;a1++){var a6=this._destroyed[a1].toJSON();a6.__state__="destroy";a7.push(a6)}this.offlineData(a7);if(a5){this._pristineData=a7}}},_addRange:function(a3){var a2=this,a4=a2._skip||0,a1=a4+a2._flatData(a3,true).length;a2._ranges.push({start:a4,end:a1,data:a3});a2._ranges.sort(function(a5,a6){return a5.start-a6.start})},error:function(a3,a1,a2){this._dequeueRequest();this.trigger(ae,{});this.trigger(J,{xhr:a3,status:a1,errorThrown:a2})},_params:function(a3){var a2=this,a1=at({take:a2.take(),skip:a2.skip(),page:a2.page(),pageSize:a2.pageSize(),sort:a2._sort,filter:a2._filter,group:a2._group,aggregate:a2._aggregate},a3);if(!a2.options.serverPaging){delete a1.take;delete a1.skip;delete a1.page;delete a1.pageSize}if(!a2.options.serverGrouping){delete a1.group}else{if(a2.reader.model&&a1.group){a1.group=U(a1.group,a2.reader.model)}}if(!a2.options.serverFiltering){delete a1.filter}else{if(a2.reader.model&&a1.filter){a1.filter=H(a1.filter,a2.reader.model)}}if(!a2.options.serverSorting){delete a1.sort}else{if(a2.reader.model&&a1.sort){a1.sort=U(a1.sort,a2.reader.model)}}if(!a2.options.serverAggregates){delete a1.aggregate}else{if(a2.reader.model&&a1.aggregate){a1.aggregate=U(a1.aggregate,a2.reader.model)}}return a1},_queueRequest:function(a1,a3){var a2=this;if(!a2._requestInProgress){a2._requestInProgress=true;a2._pending=x;a3()}else{a2._pending={callback:B(a3,a2),options:a1}}},_dequeueRequest:function(){var a1=this;a1._requestInProgress=false;if(a1._pending){a1._queueRequest(a1._pending.options,a1._pending.callback)}},_handleCustomErrors:function(a1){if(this.reader.errors){var a2=this.reader.errors(a1);if(a2){this.trigger(J,{xhr:null,status:"customerror",errorThrown:"custom error",errors:a2});return true}}return false},_observe:function(a4){var a3=this,a1=a3.reader.model,a2=false;a3._shouldDetachObservableParents=true;if(a1&&a4.length){a2=!(a4[0] instanceof a1)}if(a4 instanceof am){a3._shouldDetachObservableParents=false;if(a2){a4.type=a3.reader.model;a4.wrapAll(a4,a4)}}else{var a5=a3.pageSize()?aq:am;a4=new a5(a4,a3.reader.model);a4.parent=function(){return a3.parent()}}if(a3._isServerGrouped()){au(a4,a1)}if(a3._changeHandler&&a3._data&&a3._data instanceof am){a3._data.unbind(K,a3._changeHandler)}else{a3._changeHandler=B(a3._change,a3)}return a4.bind(K,a3._changeHandler)},_change:function(a6){var a4=this,a1,a3,a5=a6?a6.action:"";if(a5==="remove"){for(a1=0,a3=a6.items.length;a1<a3;a1++){if(!a6.items[a1].isNew||!a6.items[a1].isNew()){a4._destroyed.push(a6.items[a1])}}}if(a4.options.autoSync&&(a5==="add"||a5==="remove"||a5==="itemchange")){a4.sync()}else{var a2=parseInt(a4._total,10);if(!aa(a4._total)){a2=parseInt(a4._pristineTotal,10)}if(a5==="add"){a2+=a6.items.length}else{if(a5==="remove"){a2-=a6.items.length}else{if(a5!=="itemchange"&&a5!=="sync"&&!a4.options.serverPaging){a2=a4._pristineTotal}else{if(a5==="sync"){a2=a4._pristineTotal=parseInt(a4._total,10)}}}}a4._total=a2;a4._process(a4._data,a6)}},_calculateAggregates:function(a4,a1){a1=a1||{};var a3=new af(a4),a5=a1.aggregate,a2=a1.filter;if(a2){a3=a3.filter(a2)}return a3.aggregate(a5)},_process:function(a4,a5){var a3=this,a2={},a1;if(a3.options.serverPaging!==true){a2.skip=a3._skip;a2.take=a3._take||a3._pageSize;if(a2.skip===x&&a3._page!==x&&a3._pageSize!==x){a2.skip=(a3._page-1)*a3._pageSize}}if(a3.options.serverSorting!==true){a2.sort=a3._sort}if(a3.options.serverFiltering!==true){a2.filter=a3._filter}if(a3.options.serverGrouping!==true){a2.group=a3._group}if(a3.options.serverAggregates!==true){a2.aggregate=a3._aggregate;a3._aggregateResult=a3._calculateAggregates(a4,a2)}a1=a3._queryProcess(a4,a2);a3.view(a1.data);if(a1.total!==x&&!a3.options.serverFiltering){a3._total=a1.total}a5=a5||{};a5.items=a5.items||a3._view;a3.trigger(K,a5)},_queryProcess:function(a2,a1){return af.process(a2,a1)},_mergeState:function(a1){var a2=this;if(a1!==x){a2._pageSize=a1.pageSize;a2._page=a1.page;a2._sort=a1.sort;a2._filter=a1.filter;a2._group=a1.group;a2._aggregate=a1.aggregate;a2._skip=a1.skip;a2._take=a1.take;if(a2._skip===x){a2._skip=a2.skip();a1.skip=a2.skip()}if(a2._take===x&&a2._pageSize!==x){a2._take=a2._pageSize;a1.take=a2._take}if(a1.sort){a2._sort=a1.sort=R(a1.sort)}if(a1.filter){a2._filter=a1.filter=ar(a1.filter)}if(a1.group){a2._group=a1.group=v(a1.group)}if(a1.aggregate){a2._aggregate=a1.aggregate=al(a1.aggregate)}}return a1},query:function(a3){var a2;var a4=this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates;if(a4||((this._data===x||this._data.length===0)&&!this._destroyed.length)){return this.read(this._mergeState(a3))}var a1=this.trigger(aJ,{type:"read"});if(!a1){this.trigger(aE);a2=this._queryProcess(this._data,this._mergeState(a3));if(!this.options.serverFiltering){if(a2.total!==x){this._total=a2.total}else{this._total=this._data.length}}this._aggregateResult=this._calculateAggregates(this._data,a3);this.view(a2.data);this.trigger(ae,{});this.trigger(K,{items:a2.data})}return aI.Deferred().resolve(a1).promise()},fetch:function(a3){var a2=this;var a1=function(a4){if(a4!==true&&aM(a3)){a3.call(a2)}};return this._query().then(a1)},_query:function(a1){var a2=this;return a2.query(at({},{page:a2.page(),pageSize:a2.pageSize(),sort:a2.sort(),filter:a2.filter(),group:a2.group(),aggregate:a2.aggregate()},a1))},next:function(a1){var a3=this,a4=a3.page(),a2=a3.total();a1=a1||{};if(!a4||(a2&&a4+1>a3.totalPages())){return}a3._skip=a4*a3.take();a4+=1;a1.page=a4;a3._query(a1);return a4},prev:function(a1){var a2=this,a3=a2.page();a1=a1||{};if(!a3||a3===1){return}a2._skip=a2._skip-a2.take();a3-=1;a1.page=a3;a2._query(a1);return a3},page:function(a3){var a2=this,a1;if(a3!==x){a3=ab.max(ab.min(ab.max(a3,1),a2.totalPages()),1);a2._query({page:a3});return}a1=a2.skip();return a1!==x?ab.round((a1||0)/(a2.take()||1))+1:x},pageSize:function(a2){var a1=this;if(a2!==x){a1._query({pageSize:a2,page:1});return}return a1.take()},sort:function(a2){var a1=this;if(a2!==x){a1._query({sort:a2});return}return a1._sort},filter:function(a2){var a1=this;if(a2===x){return a1._filter}a1._query({filter:a2,page:1})},group:function(a2){var a1=this;if(a2!==x){a1._query({group:a2});return}return a1._group},total:function(){return parseInt(this._total||0,10)},aggregate:function(a2){var a1=this;if(a2!==x){a1._query({aggregate:a2});return}return a1._aggregate},aggregates:function(){return this._aggregateResult},totalPages:function(){var a2=this,a1=a2.pageSize()||a2.total();return ab.ceil((a2.total()||0)/a1)},inRange:function(a4,a2){var a3=this,a1=ab.min(a4+a2,a3.total());if(!a3.options.serverPaging&&a3._data.length>0){return true}return a3._findRange(a4,a1).length>0},lastRange:function(){var a1=this._ranges;return a1[a1.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var a1=this._ranges;return a1.length&&a1[0].data.length&&a1[0].data[0].uid},enableRequestsInProgress:function(){this._skipRequestsInProgress=false},range:function(a8,a2){a8=ab.min(a8||0,this.total());var a6=this,a7=ab.max(ab.floor(a8/a2),0)*a2,ba=ab.min(a7+a2,a6.total()),a3;a6._skipRequestsInProgress=false;a3=a6._findRange(a8,ab.min(a8+a2,a6.total()));if(a3.length){a6._skipRequestsInProgress=true;a6._pending=x;a6._skip=a8>a6.skip()?ab.min(ba,(a6.totalPages()-1)*a6.take()):a7;a6._take=a2;var a1=a6.options.serverPaging;var a4=a6.options.serverSorting;var a9=a6.options.serverFiltering;var a5=a6.options.serverAggregates;try{a6.options.serverPaging=true;if(!a6._isServerGrouped()&&!(a6.group()&&a6.group().length)){a6.options.serverSorting=true}a6.options.serverFiltering=true;a6.options.serverPaging=true;a6.options.serverAggregates=true;if(a1){a6._detachObservableParents();a6._data=a3=a6._observe(a3)}a6._process(a3)}finally{a6.options.serverPaging=a1;a6.options.serverSorting=a4;a6.options.serverFiltering=a9;a6.options.serverAggregates=a5}return}if(a2!==x){if(!a6._rangeExists(a7,ba)){a6.prefetch(a7,a2,function(){if(a8>a7&&ba<a6.total()&&!a6._rangeExists(ba,ab.min(ba+a2,a6.total()))){a6.prefetch(ba,a2,function(){a6.range(a8,a2)})}else{a6.range(a8,a2)}})}else{if(a7<a8){a6.prefetch(ba,a2,function(){a6.range(a8,a2)})}}}},_findRange:function(a9,a7){var bd=this,a4=bd._ranges,bf,bj=[],be,ba,a8,a3,bh,bg,a1,a6=bd.options,bb=a6.serverSorting||a6.serverPaging||a6.serverFiltering||a6.serverGrouping||a6.serverAggregates,a2,bc,a5;for(be=0,a5=a4.length;be<a5;be++){bf=a4[be];if(a9>=bf.start&&a9<=bf.end){bc=0;for(ba=be;ba<a5;ba++){bf=a4[ba];a2=bd._flatData(bf.data,true);if(a2.length&&a9+bc>=bf.start){bh=bf.data;bg=bf.end;if(!bb){var bi=v(bd.group()||[]).concat(R(bd.sort()||[]));a1=bd._queryProcess(bf.data,{sort:bi,filter:bd.filter()});a2=bh=a1.data;if(a1.total!==x){bg=a1.total}}a8=0;if(a9+bc>bf.start){a8=(a9+bc)-bf.start}a3=a2.length;if(bg>a7){a3=a3-(bg-a7)}bc+=a3-a8;bj=bd._mergeGroups(bj,bh,a8,a3);if(a7<=bf.end&&bc==a7-a9){return bj}}}break}}return[]},_mergeGroups:function(a5,a2,a4,a3){if(this._isServerGrouped()){var a1=a2.toJSON(),a6;if(a5.length){a6=a5[a5.length-1]}d(a6,a1,a4,a3);return a5.concat(a1)}return a5.concat(a2.slice(a4,a3))},skip:function(){var a1=this;if(a1._skip===x){return(a1._page!==x?(a1._page-1)*(a1.take()||1):x)}return a1._skip},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(a3,a1,a4){var a2=this;return function(ba){var a9=false,a7={start:a3,end:a1,data:[]},a5,a8,a6;a2._dequeueRequest();a2.trigger(ae,{response:ba,type:"read"});ba=a2.reader.parse(ba);a6=a2._readData(ba);if(a6.length){for(a5=0,a8=a2._ranges.length;a5<a8;a5++){if(a2._ranges[a5].start===a3){a9=true;a7=a2._ranges[a5];break}}if(!a9){a2._ranges.push(a7)}}a7.data=a2._observe(a6);a7.end=a7.start+a2._flatData(a7.data,true).length;a2._ranges.sort(function(bb,bc){return bb.start-bc.start});a2._total=a2.reader.total(ba);if(!a2._skipRequestsInProgress){if(a4&&a6.length){a4()}else{a2.trigger(K,{})}}}},prefetch:function(a5,a2,a6){var a4=this,a3=ab.min(a5+a2,a4.total()),a1={take:a2,skip:a5,page:a5/a2+1,pageSize:a2,sort:a4._sort,filter:a4._filter,group:a4._group,aggregate:a4._aggregate};if(!a4._rangeExists(a5,a3)){clearTimeout(a4._timeout);a4._timeout=setTimeout(function(){a4._queueRequest(a1,function(){if(!a4.trigger(aJ,{type:"read"})){a4.transport.read({data:a4._params(a1),success:a4._prefetchSuccessHandler(a5,a3,a6)})}else{a4._dequeueRequest()}})},100)}else{if(a6){a6()}}},_rangeExists:function(a6,a3){var a5=this,a2=a5._ranges,a1,a4;for(a1=0,a4=a2.length;a1<a4;a1++){if(a2[a1].start<=a6&&a2[a1].end>=a3){return true}}return false},_removeModelFromRanges:function(a4){var a2,a6,a3;for(var a1=0,a5=this._ranges.length;a1<a5;a1++){a3=this._ranges[a1];this._eachItem(a3.data,function(a7){a2=M(a7,a4);if(a2){a6=true}});if(a6){break}}},_updateRangesLength:function(){var a2=0,a3,a5;for(var a1=0,a4=this._ranges.length;a1<a4;a1++){a3=this._ranges[a1];a3.start=a3.start-a2;a5=this._flatData(a3.data,true).length;a2=a3.end-a5;a3.end=a3.start+a5}}});var h={};h.create=function(a1,a3){var a4,a2=a1.transport;if(a2){a2.read=typeof a2.read===aU?{url:a2.read}:a2.read;if(a1.type){t.data.transports=t.data.transports||{};t.data.schemas=t.data.schemas||{};if(t.data.transports[a1.type]&&!I(t.data.transports[a1.type])){a4=new t.data.transports[a1.type](at(a2,{data:a3}))}else{a2=at(true,{},t.data.transports[a1.type],a2)}a1.schema=at(true,{},t.data.schemas[a1.type],a1.schema)}if(!a4){a4=aM(a2.read)?a2:new aZ(a2)}}else{a4=new ap({data:a1.data||[]})}return a4};s.create=function(ba){if(b(ba)||ba instanceof am){ba={data:ba}}var a1=ba||{},a3=a1.data,a5=a1.fields,a9=a1.table,a7=a1.select,a8,a2,a4={},a6;if(!a3&&a5&&!a1.transport){if(a9){a3=g(a9,a5)}else{if(a7){a3=m(a7,a5)}}}if(t.data.Model&&a5&&(!a1.schema||!a1.schema.model)){for(a8=0,a2=a5.length;a8<a2;a8++){a6=a5[a8];if(a6.type){a4[a6.field]=a6}}if(!aC(a4)){a1.schema=at(true,a1.schema,{model:{fields:a4}})}}a1.data=a3;a9=null;a1.table=null;return a1 instanceof s?a1:new s(a1)};function m(a8,a7){var bb=aI(a8)[0].children,ba,a1,a4=[],a6,a3=a7[0],a2=a7[1],a9,a5;for(ba=0,a1=bb.length;ba<a1;ba++){a6={};a5=bb[ba];if(a5.disabled){continue}a6[a3.field]=a5.text;a9=a5.attributes.value;if(a9&&a9.specified){a9=a5.value}else{a9=a5.text}a6[a2.field]=a9;a4.push(a6)}return a4}function g(bc,a6){var a3=aI(bc)[0].tBodies[0],bd=a3?a3.rows:[],a7,a1,ba,a9=a6.length,a2=[],bb,a4,a8,a5;for(a7=0,a1=bd.length;a7<a1;a7++){a4={};a5=true;bb=bd[a7].cells;for(ba=0;ba<a9;ba++){a8=bb[ba];if(a8.nodeName.toLowerCase()!=="th"){a5=false;a4[a6[ba].field]=a8.innerHTML}}if(!a5){a2.push(a4)}}return a2}var aH=F.define({idField:"id",init:function(a5){var a4=this,a1=a4.hasChildren||a5&&a5.hasChildren,a3="items",a2={};t.data.Model.fn.init.call(a4,a5);if(typeof a4.children===aU){a3=a4.children}a2={schema:{data:a3,model:{hasChildren:a1,id:a4.idField,fields:a4.fields}}};if(typeof a4.children!==aU){at(a2,a4.children)}a2.data=a5;if(!a1){a1=a2.schema.data}if(typeof a1===aU){a1=t.getter(a1)}if(aM(a1)){a4.hasChildren=!!a1.call(a4,a4)}a4._childrenOptions=a2;if(a4.hasChildren){a4._initChildren()}a4._loaded=!!(a5&&(a5[a3]||a5._loaded))},_initChildren:function(){var a3=this;var a2,a4,a1;if(!(a3.children instanceof ad)){a2=a3.children=new ad(a3._childrenOptions);a4=a2.transport;a1=a4.parameterMap;a4.parameterMap=function(a6,a5){a6[a3.idField||"id"]=a3.id;if(a1){a6=a1(a6,a5)}return a6};a2.parent=function(){return a3};a2.bind(K,function(a5){a5.node=a5.node||a3;a3.trigger(K,a5)});a2.bind(J,function(a5){var a6=a3.parent();if(a6){a5.node=a5.node||a3;a6.trigger(J,a5)}});a3._updateChildrenField()}},append:function(a1){this._initChildren();this.loaded(true);this.children.add(a1)},hasChildren:false,level:function(){var a1=this.parentNode(),a2=0;while(a1&&a1.parentNode){a2++;a1=a1.parentNode?a1.parentNode():null}return a2},_updateChildrenField:function(){var a1=this._childrenOptions.schema.data;this[a1||"items"]=this.children.data()},_childrenLoaded:function(){this._loaded=true;this._updateChildrenField()},load:function(){var a1={};var a4="_query";var a2,a3;if(this.hasChildren){this._initChildren();a2=this.children;a1[this.idField||"id"]=this.id;if(!this._loaded){a2._data=x;a4="read"}a2.one(K,B(this._childrenLoaded,this));a3=a2[a4](a1)}else{this.loaded(true)}return a3||aI.Deferred().resolve().promise()},parentNode:function(){var a1=this.parent();return a1.parent()},loaded:function(a1){if(a1!==x){this._loaded=a1}else{return this._loaded}},shouldSerialize:function(a1){return F.fn.shouldSerialize.call(this,a1)&&a1!=="children"&&a1!=="_loaded"&&a1!=="hasChildren"&&a1!=="_childrenOptions"}});function W(a1){return function(){var a3=this._data,a2=s.fn[a1].apply(this,A.call(arguments));if(this._data!=a3){this._attachBubbleHandlers()}return a2}}var ad=s.extend({init:function(a1){var a2=aH.define({children:a1});s.fn.init.call(this,at(true,{},{schema:{modelBase:a2,model:a2}},a1));this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var a1=this;a1._data.bind(J,function(a2){a1.trigger(J,a2)})},remove:function(a3){var a2=a3.parentNode(),a4=this,a1;if(a2&&a2._initChildren){a4=a2.children}a1=s.fn.remove.call(a4,a3);if(a2&&!a4.data().length){a2.hasChildren=false}return a1},success:W("success"),data:W("data"),insert:function(a3,a2){var a1=this.parent();if(a1&&a1._initChildren){a1.hasChildren=true;a1._initChildren()}return s.fn.insert.call(this,a3,a2)},_find:function(a7,a6){var a1,a4,a3,a5,a2;a3=s.fn[a7].call(this,a6);if(a3){return a3}a5=this._flatData(this._data);if(!a5){return}for(a1=0,a4=a5.length;a1<a4;a1++){a2=a5[a1].children;if(!(a2 instanceof ad)){continue}a3=a2[a7](a6);if(a3){return a3}}},get:function(a1){return this._find("get",a1)},getByUid:function(a1){return this._find("getByUid",a1)}});function c(ba,a9){var bd=aI(ba).children(),bf,a4,a6=[],a7,a5=a9[0].field,a8=a9[1]&&a9[1].field,bc=a9[2]&&a9[2].field,bh=a9[3]&&a9[3].field,bg,a2,be,bb,a3;function a1(bj,bi){return bj.filter(bi).add(bj.find(bi))}for(bf=0,a4=bd.length;bf<a4;bf++){a7={_loaded:true};bg=bd.eq(bf);be=bg[0].firstChild;a3=bg.children();ba=a3.filter("ul");a3=a3.filter(":not(ul)");a2=bg.attr("data-id");if(a2){a7.id=a2}if(be){a7[a5]=be.nodeType==3?be.nodeValue:a3.text()}if(a8){a7[a8]=a1(a3,"a").attr("href")}if(bh){a7[bh]=a1(a3,"img").attr("src")}if(bc){bb=a1(a3,".k-sprite").prop("className");a7[bc]=bb&&aI.trim(bb.replace("k-sprite",""))}if(ba.length){a7.items=c(ba.eq(0),a9)}if(bg.attr("data-hasChildren")=="true"){a7.hasChildren=true}a6.push(a7)}return a6}ad.create=function(a2){a2=a2&&a2.push?{data:a2}:a2;var a5=a2||{},a4=a5.data,a1=a5.fields,a3=a5.list;if(a4&&a4._dataSource){return a4._dataSource}if(!a4&&a1&&!a5.transport){if(a3){a4=c(a3,a1)}}a5.data=a4;return a5 instanceof ad?a5:new ad(a5)};var aF=t.Observable.extend({init:function(a3,a4,a2){t.Observable.fn.init.call(this);this._prefetching=false;this.dataSource=a3;this.prefetch=!a2;var a1=this;a3.bind("change",function(){a1._change()});a3.bind("reset",function(){a1._reset()});this._syncWithDataSource();this.setViewSize(a4)},setViewSize:function(a1){this.viewSize=a1;this._recalculate()},at:function(a3){var a2=this.pageSize,a4,a1=true,a5;if(a3>=this.total()){this.trigger("endreached",{index:a3});return null}if(!this.useRanges){return this.dataSource.view()[a3]}if(this.useRanges){if(a3<this.dataOffset||a3>=this.skip+a2){a1=this.range(Math.floor(a3/a2)*a2)}if(a3===this.prefetchThreshold){this._prefetch()}if(a3===this.midPageThreshold){this.range(this.nextMidRange,true)}else{if(a3===this.nextPageThreshold){this.range(this.nextFullRange)}else{if(a3===this.pullBackThreshold){if(this.offset===this.skip){this.range(this.previousMidRange)}else{this.range(this.previousFullRange)}}}}if(a1){return this.dataSource.at(a3-this.dataOffset)}else{this.trigger("endreached",{index:a3});return null}}},indexOf:function(a1){return this.dataSource.data().indexOf(a1)+this.dataOffset},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var a2=this,a1=a2.pageSize,a4=a2.skip-a2.viewSize+a1,a3=ab.max(ab.floor(a4/a1),0)*a1;this.offset=a4;this.dataSource.prefetch(a3,a1,function(){a2._goToRange(a4,true)})},range:function(a5,a6){if(this.offset===a5){return true}var a2=this,a1=this.pageSize,a3=ab.max(ab.floor(a5/a1),0)*a1,a4=this.dataSource;if(a6){a3+=a1}if(a4.inRange(a5,a1)){this.offset=a5;this._recalculate();this._goToRange(a5);return true}else{if(this.prefetch){a4.prefetch(a3,a1,function(){a2.offset=a5;a2._recalculate();a2._goToRange(a5,true)});return false}}return true},syncDataSource:function(){var a1=this.offset;this.offset=null;this.range(a1)},destroy:function(){this.unbind()},_prefetch:function(){var a2=this,a1=this.pageSize,a4=this.skip+a1,a3=this.dataSource;if(!a3.inRange(a4,a1)&&!this._prefetching&&this.prefetch){this._prefetching=true;this.trigger("prefetching",{skip:a4,take:a1});a3.prefetch(a4,a1,function(){a2._prefetching=false;a2.trigger("prefetched",{skip:a4,take:a1})})}},_goToRange:function(a1,a2){if(this.offset!==a1){return}this.dataOffset=a1;this._expanding=a2;this.dataSource.range(a1,this.pageSize);this.dataSource.enableRequestsInProgress()},_reset:function(){this._syncPending=true},_change:function(){var a1=this.dataSource;this.length=this.useRanges?a1.lastRange().end:a1.view().length;if(this._syncPending){this._syncWithDataSource();this._recalculate();this._syncPending=false;this.trigger("reset",{offset:this.offset})}this.trigger("resize");if(this._expanding){this.trigger("expand")}delete this._expanding},_syncWithDataSource:function(){var a1=this.dataSource;this._firstItemUid=a1.firstItemUid();this.dataOffset=this.offset=a1.skip()||0;this.pageSize=a1.pageSize();this.useRanges=a1.options.serverPaging},_recalculate:function(){var a1=this.pageSize,a3=this.offset,a4=this.viewSize,a2=Math.ceil(a3/a1)*a1;this.skip=a2;this.midPageThreshold=a2+a1-1;this.nextPageThreshold=a2+a4-1;this.prefetchThreshold=a2+Math.floor(a1/3*2);this.pullBackThreshold=this.offset-1;this.nextMidRange=a2+a1-a4;this.nextFullRange=a2;this.previousMidRange=a3-a4;this.previousFullRange=a2-a1}});var l=t.Observable.extend({init:function(a3,a1){var a2=this;t.Observable.fn.init.call(a2);this.dataSource=a3;this.batchSize=a1;this._total=0;this.buffer=new aF(a3,a1*3);this.buffer.bind({endreached:function(a4){a2.trigger("endreached",{index:a4.index})},prefetching:function(a4){a2.trigger("prefetching",{skip:a4.skip,take:a4.take})},prefetched:function(a4){a2.trigger("prefetched",{skip:a4.skip,take:a4.take})},reset:function(){a2._total=0;a2.trigger("reset")},resize:function(){a2._total=Math.ceil(this.length/a2.batchSize);a2.trigger("resize",{total:a2.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(a4){var a2=this.buffer,a7=a4*this.batchSize,a3=this.batchSize,a1=[],a6;if(a2.offset>a7){a2.at(a2.offset-1)}for(var a5=0;a5<a3;a5++){a6=a2.at(a7+a5);if(a6===x){break}a1.push(a6)}return a1},total:function(){return this._total},destroy:function(){this.buffer.destroy();this.unbind()}});at(true,t.data,{readers:{json:Y},Query:af,DataSource:s,HierarchicalDataSource:ad,Node:aH,ObservableObject:aj,ObservableArray:am,LazyObservableArray:aq,LocalTransport:ap,RemoteTransport:aZ,Cache:V,DataReader:Y,Model:F,Buffer:aF,BatchBuffer:l})})(window.kendo.jQuery);(function(z,o){var A=window.kendo,f=A.support.browser,h=A.Observable,q=A.data.ObservableObject,t=A.data.ObservableArray,i={}.toString,n={},r=Array.prototype.slice,b=A.Class,M,K=z.proxy,L="value",c="source",d="events",a="checked",B=true,y="change";(function(){var N=document.createElement("a");if(N.innerText!==o){M="innerText"}else{if(N.textContent!==o){M="textContent"}}try{delete N.test}catch(O){B=false}})();var k=h.extend({init:function(N,P){var O=this;h.fn.init.call(O);O.source=N[0];O.parents=N;O.path=P;O.dependencies={};O.dependencies[P]=true;O.observable=O.source instanceof h;O._access=function(Q){O.dependencies[Q.field]=true};if(O.observable){O._change=function(Q){O.change(Q)};O.source.bind(y,O._change)}},_parents:function(){var N=this.parents;var P=this.get();if(P&&typeof P.parent=="function"){var O=P.parent();if(z.inArray(O,N)<0){N=[O].concat(N)}}return N},change:function(R){var N,O,Q=R.field,P=this;if(P.path==="this"){P.trigger(y,R)}else{for(N in P.dependencies){if(N.indexOf(Q)===0){O=N.charAt(Q.length);if(!O||O==="."||O==="["){P.trigger(y,R);break}}}}},start:function(N){N.bind("get",this._access)},stop:function(N){N.unbind("get",this._access)},get:function(){var P=this,Q=P.source,O=0,R=P.path,N=Q;if(!P.observable){return N}P.start(P.source);N=Q.get(R);while(N===o&&Q){Q=P.parents[++O];if(Q instanceof q){N=Q.get(R)}}if(N===o){Q=P.source;while(N===o&&Q){Q=Q.parent();if(Q instanceof q){N=Q.get(R)}}}if(typeof N==="function"){O=R.lastIndexOf(".");if(O>0){Q=Q.get(R.substring(0,O))}P.start(Q);if(Q!==P.source){N=N.call(Q,P.source)}else{N=N.call(Q)}P.stop(Q)}if(Q&&Q!==P.source){P.currentSource=Q;Q.unbind(y,P._change).bind(y,P._change)}P.stop(P.source);return N},set:function(O){var N=this.currentSource||this.source;var P=A.getter(this.path)(N);if(typeof P==="function"){if(N!==this.source){P.call(N,this.source,O)}else{P.call(N,O)}}else{N.set(this.path,O)}},destroy:function(){if(this.observable){this.source.unbind(y,this._change);if(this.currentSource){this.currentSource.unbind(y,this._change)}}this.unbind()}});var H=k.extend({get:function(){var P=this.source,Q=this.path,N=0,O;O=P.get(Q);while(!O&&P){P=this.parents[++N];if(P instanceof q){O=P.get(Q)}}return K(O,P)}});var x=k.extend({init:function(P,Q,N){var O=this;k.fn.init.call(O,P,Q);O.template=N},render:function(O){var N;this.start(this.source);N=A.render(this.template,O);this.stop(this.source);return N}});var D=b.extend({init:function(O,P,N){this.element=O;this.bindings=P;this.options=N},bind:function(P,O){var N=this;P=O?P[O]:P;P.bind(y,function(Q){N.refresh(O||Q)});N.refresh(O)},destroy:function(){}});n.attr=D.extend({refresh:function(N){this.element.setAttribute(N,this.bindings.attr[N].get())}});n.style=D.extend({refresh:function(N){this.element.style[N]=this.bindings.style[N].get()||""}});n.enabled=D.extend({refresh:function(){if(this.bindings.enabled.get()){this.element.removeAttribute("disabled")}else{this.element.setAttribute("disabled","disabled")}}});n.readonly=D.extend({refresh:function(){if(this.bindings.readonly.get()){this.element.setAttribute("readonly","readonly")}else{this.element.removeAttribute("readonly")}}});n.disabled=D.extend({refresh:function(){if(this.bindings.disabled.get()){this.element.setAttribute("disabled","disabled")}else{this.element.removeAttribute("disabled")}}});n.events=D.extend({init:function(O,P,N){D.fn.init.call(this,O,P,N);this.handlers={}},refresh:function(O){var N=z(this.element),Q=this.bindings.events[O],P=this.handlers[O];if(P){N.off(O,P)}P=this.handlers[O]=Q.get();N.on(O,Q.source,P)},destroy:function(){var N=z(this.element),O;for(O in this.handlers){N.off(O,this.handlers[O])}}});n.text=D.extend({refresh:function(){var N=this.bindings.text.get();if(N==null){N=""}this.element[M]=N}});n.visible=D.extend({refresh:function(){if(this.bindings.visible.get()){this.element.style.display=""}else{this.element.style.display="none"}}});n.invisible=D.extend({refresh:function(){if(!this.bindings.invisible.get()){this.element.style.display=""}else{this.element.style.display="none"}}});n.html=D.extend({refresh:function(){this.element.innerHTML=this.bindings.html.get()}});n.value=D.extend({init:function(O,P,N){D.fn.init.call(this,O,P,N);this._change=K(this.change,this);this.eventName=N.valueUpdate||y;z(this.element).on(this.eventName,this._change);this._initChange=false},change:function(){this._initChange=this.eventName!=y;var O=this.element.value;var N=this.element.type;if(N=="date"){O=A.parseDate(O,"yyyy-MM-dd")}else{if(N=="datetime-local"){O=A.parseDate(O,["yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm"])}else{if(N=="number"){O=A.parseFloat(O)}}}this.bindings[L].set(O);this._initChange=false},refresh:function(){if(!this._initChange){var O=this.bindings[L].get();if(O==null){O=""}var N=this.element.type;if(N=="date"){O=A.toString(O,"yyyy-MM-dd")}else{if(N=="datetime-local"){O=A.toString(O,"yyyy-MM-ddTHH:mm:ss")}}this.element.value=O}this._initChange=false},destroy:function(){z(this.element).off(this.eventName,this._change)}});n.source=D.extend({init:function(O,Q,N){D.fn.init.call(this,O,Q,N);var P=this.bindings.source.get();if(P instanceof A.data.DataSource&&N.autoBind!==false){P.fetch()}},refresh:function(P){var N=this,O=N.bindings.source.get();if(O instanceof t||O instanceof A.data.DataSource){P=P||{};if(P.action=="add"){N.add(P.index,P.items)}else{if(P.action=="remove"){N.remove(P.index,P.items)}else{if(P.action!="itemchange"){N.render()}}}}else{N.render()}},container:function(){var N=this.element;if(N.nodeName.toLowerCase()=="table"){if(!N.tBodies[0]){N.appendChild(document.createElement("tbody"))}N=N.tBodies[0]}return N},template:function(){var N=this.options,O=N.template,P=this.container().nodeName.toLowerCase();if(!O){if(P=="select"){if(N.valueField||N.textField){O=A.format('<option value="#:{0}#">#:{1}#</option>',N.valueField||N.textField,N.textField||N.valueField)}else{O="<option>#:data#</option>"}}else{if(P=="tbody"){O="<tr><td>#:data#</td></tr>"}else{if(P=="ul"||P=="ol"){O="<li>#:data#</li>"}else{O="#:data#"}}}O=A.template(O)}return O},add:function(R,S){var Q=this.container(),U,V,O,N,T=Q.cloneNode(false),P=Q.children[R];z(T).html(A.render(this.template(),S));if(T.children.length){U=this.bindings.source._parents();for(V=0,O=S.length;V<O;V++){N=T.children[0];Q.insertBefore(N,P||null);v(N,S[V],this.options.roles,[S[V]].concat(U))}}},remove:function(P,O){var N,Q=this.container();for(N=0;N<O.length;N++){var R=Q.children[P];e(R);Q.removeChild(R)}},render:function(){var S=this.bindings.source.get(),O,N,R,P=this.container(),Q=this.template();if(S instanceof A.data.DataSource){S=S.view()}if(!(S instanceof t)&&i.call(S)!=="[object Array]"){S=[S]}if(this.bindings.template){m(P);z(P).html(this.bindings.template.render(S));if(P.children.length){O=this.bindings.source._parents();for(N=0,R=S.length;N<R;N++){v(P.children[N],S[N],this.options.roles,[S[N]].concat(O))}}}else{z(P).html(A.render(Q,S))}}});n.input={checked:D.extend({init:function(O,P,N){D.fn.init.call(this,O,P,N);this._change=K(this.change,this);z(this.element).change(this._change)},change:function(){var O=this.element;var Q=this.value();if(O.type=="radio"){this.bindings[a].set(Q)}else{if(O.type=="checkbox"){var P=this.bindings[a].get();var N;if(P instanceof t){Q=this.element.value;if(Q!=="on"&&Q!=="off"){N=P.indexOf(Q);if(N>-1){P.splice(N,1)}else{P.push(Q)}}}else{this.bindings[a].set(Q)}}}},refresh:function(){var P=this.bindings[a].get(),O=P,N=this.element;if(N.type=="checkbox"){if(O instanceof t){P=this.element.value;if(O.indexOf(P)>=0){P=true}}N.checked=P===true}else{if(N.type=="radio"&&P!=null){if(N.value===P.toString()){N.checked=true}}}},value:function(){var N=this.element,O=N.value;if(N.type=="checkbox"){O=N.checked}return O},destroy:function(){z(this.element).off(y,this._change)}})};n.select={value:D.extend({init:function(O,P,N){D.fn.init.call(this,O,P,N);this._change=K(this.change,this);z(this.element).change(this._change)},change:function(){var W=[],Q=this.element,N,T=this.options.valueField||this.options.textField,O=this.options.valuePrimitive,R,S,V,U,P;for(U=0,P=Q.options.length;U<P;U++){R=Q.options[U];if(R.selected){V=R.attributes.value;if(V&&V.specified){V=R.value}else{V=R.text}W.push(V)}}if(T){N=this.bindings.source.get();if(N instanceof A.data.DataSource){N=N.view()}for(S=0;S<W.length;S++){for(U=0,P=N.length;U<P;U++){if(N[U].get(T)==W[S]){W[S]=N[U];break}}}}V=this.bindings[L].get();if(V instanceof t){V.splice.apply(V,[0,V.length].concat(W))}else{if(!O&&(V instanceof q||V===null||V===o||!T)){this.bindings[L].set(W[0])}else{this.bindings[L].set(W[0].get(T))}}},refresh:function(){var O,N=this.element,V=N.options,S=this.bindings[L].get(),T=S,R=this.options.valueField||this.options.textField,U=false,Q;if(!(T instanceof t)){T=new t([S])}N.selectedIndex=-1;for(var P=0;P<T.length;P++){S=T[P];if(R&&S instanceof q){S=S.get(R)}for(O=0;O<V.length;O++){Q=V[O].value;if(Q===""&&S!==""){Q=V[O].text}if(Q==S){V[O].selected=true;U=true}}}},destroy:function(){z(this.element).off(y,this._change)}})};function E(N,P,O){return D.extend({init:function(S,T,Q){var R=this;D.fn.init.call(R,S.element[0],T,Q);R.widget=S;R._dataBinding=K(R.dataBinding,R);R._dataBound=K(R.dataBound,R);R._itemChange=K(R.itemChange,R)},itemChange:function(Q){v(Q.item[0],Q.data,this._ns(Q.ns),[Q.data].concat(this.bindings[N]._parents()))},dataBinding:function(U){var Q,S,T=this.widget,R=U.removedItems||T.items();for(Q=0,S=R.length;Q<S;Q++){e(R[Q])}},_ns:function(R){R=R||A.ui;var Q=[A.ui,A.dataviz.ui,A.mobile.ui];Q.splice(z.inArray(R,Q),1);Q.unshift(R);return A.rolesFromNamespaces(Q)},dataBound:function(U){var Y,R,T=this.widget,V=U.addedItems||T.items(),Q=T[P],W,X,S=Q.group()||[];if(V.length){W=U.addedDataItems||Q.flatView();X=this.bindings[N]._parents();for(Y=0,R=W.length;Y<R;Y++){v(V[Y],W[Y],this._ns(U.ns),[W[Y]].concat(X))}}},refresh:function(T){var Q=this,S,R=Q.widget;T=T||{};if(!T.action){Q.destroy();R.bind("dataBinding",Q._dataBinding);R.bind("dataBound",Q._dataBound);R.bind("itemChange",Q._itemChange);S=Q.bindings[N].get();if(R[P] instanceof A.data.DataSource&&R[P]!=S){if(S instanceof A.data.DataSource){R[O](S)}else{if(S&&S._dataSource){R[O](S._dataSource)}else{R[P].data(S)}}}}},destroy:function(){var Q=this.widget;Q.unbind("dataBinding",this._dataBinding);Q.unbind("dataBound",this._dataBound);Q.unbind("itemChange",this._itemChange)}})}n.widget={events:D.extend({init:function(O,P,N){D.fn.init.call(this,O.element[0],P,N);this.widget=O;this.handlers={}},refresh:function(N){var P=this.bindings.events[N],O=this.handlers[N];if(O){this.widget.unbind(N,O)}O=P.get();this.handlers[N]=function(Q){Q.data=P.source;O(Q);if(Q.data===P.source){delete Q.data}};this.widget.bind(N,this.handlers[N])},destroy:function(){var N;for(N in this.handlers){this.widget.unbind(N,this.handlers[N])}}}),checked:D.extend({init:function(O,P,N){D.fn.init.call(this,O.element[0],P,N);this.widget=O;this._change=K(this.change,this);this.widget.bind(y,this._change)},change:function(){this.bindings[a].set(this.value())},refresh:function(){this.widget.check(this.bindings[a].get()===true)},value:function(){var N=this.element,O=N.value;if(O=="on"||O=="off"){O=N.checked}return O},destroy:function(){this.widget.unbind(y,this._change)}}),visible:D.extend({init:function(O,P,N){D.fn.init.call(this,O.element[0],P,N);this.widget=O},refresh:function(){var N=this.bindings.visible.get();this.widget.wrapper[0].style.display=N?"":"none"}}),invisible:D.extend({init:function(O,P,N){D.fn.init.call(this,O.element[0],P,N);this.widget=O},refresh:function(){var N=this.bindings.invisible.get();this.widget.wrapper[0].style.display=N?"none":""}}),enabled:D.extend({init:function(O,P,N){D.fn.init.call(this,O.element[0],P,N);this.widget=O},refresh:function(){if(this.widget.enable){this.widget.enable(this.bindings.enabled.get())}}}),disabled:D.extend({init:function(O,P,N){D.fn.init.call(this,O.element[0],P,N);this.widget=O},refresh:function(){if(this.widget.enable){this.widget.enable(!this.bindings.disabled.get())}}}),source:E("source","dataSource","setDataSource"),value:D.extend({init:function(P,Q,N){D.fn.init.call(this,P.element[0],Q,N);this.widget=P;this._change=z.proxy(this.change,this);this.widget.first(y,this._change);var O=this.bindings.value.get();this._valueIsObservableObject=!N.valuePrimitive&&(O==null||O instanceof q);this._valueIsObservableArray=O instanceof t;this._initChange=false},change:function(){var U=this.widget.value(),R=this.options.dataValueField||this.options.dataTextField,P=i.call(U)==="[object Array]",V=this._valueIsObservableObject,Q,W,X=[],Y,T,S,O,N;this._initChange=true;if(R){if(this.bindings.source){N=this.bindings.source.get()}if(U===""&&(V||this.options.valuePrimitive)){U=null}else{if(!N||N instanceof A.data.DataSource){N=this.widget.dataSource.view()}if(P){W=U.length;X=U.slice(0)}for(S=0,O=N.length;S<O;S++){Y=N[S];T=Y.get(R);if(P){for(Q=0;Q<W;Q++){if(T==X[Q]){X[Q]=Y;break}}}else{if(T==U){U=V?Y:T;break}}}if(X[0]){if(this._valueIsObservableArray){U=X}else{if(V||!R){U=X[0]}else{U=X[0].get(R)}}}}}this.bindings.value.set(U);this._initChange=false},refresh:function(){if(!this._initChange){var R=this.options.dataValueField||this.options.dataTextField,Q=this.bindings.value.get(),N=0,P,O=[];if(Q===o){Q=null}if(R){if(Q instanceof t){for(P=Q.length;N<P;N++){O[N]=Q[N].get(R)}Q=O}else{if(Q instanceof q){Q=Q.get(R)}}}this.widget.value(Q)}this._initChange=false},destroy:function(){this.widget.unbind(y,this._change)}}),gantt:{dependencies:E("dependencies","dependencies","setDependenciesDataSource")},multiselect:{value:D.extend({init:function(O,P,N){D.fn.init.call(this,O.element[0],P,N);this.widget=O;this._change=z.proxy(this.change,this);this.widget.first(y,this._change);this._initChange=false},change:function(){var V=this,Y=V.bindings[L].get(),N=V.options.valuePrimitive,aa=N?V.widget.value():V.widget.dataItems();var X=this.options.dataValueField||this.options.dataTextField;aa=aa.slice(0);V._initChange=true;if(Y instanceof t){var U=[];var R=aa.length;var T=0,S=0;var Q=Y[T];var W=false;var P;var O;var Z;while(Q){Z=false;for(S=0;S<R;S++){if(N){W=aa[S]==Q}else{O=aa[S];O=O.get?O.get(X):O;W=O==(Q.get?Q.get(X):Q)}if(W){aa.splice(S,1);R-=1;Z=true;break}}if(!Z){U.push(Q);w(Y,T,1);P=T}else{T+=1}Q=Y[T]}w(Y,Y.length,0,aa);if(U.length){Y.trigger("change",{action:"remove",items:U,index:P})}if(aa.length){Y.trigger("change",{action:"add",items:aa,index:Y.length-1})}}else{V.bindings[L].set(aa)}V._initChange=false},refresh:function(){if(!this._initChange){var S=this.options.dataValueField||this.options.dataTextField,R=this.bindings.value.get(),N=0,Q,O=[],P;if(R===o){R=null}if(S){if(R instanceof t){for(Q=R.length;N<Q;N++){P=R[N];O[N]=P.get?P.get(S):P}R=O}else{if(R instanceof q){R=R.get(S)}}}this.widget.value(R)}},destroy:function(){this.widget.unbind(y,this._change)}})},scheduler:{source:E("source","dataSource","setDataSource").extend({dataBound:function(T){var N;var P;var S=this.widget;var R=T.addedItems||S.items();var Q,O;if(R.length){Q=T.addedDataItems||S.dataItems();O=this.bindings.source._parents();for(N=0,P=Q.length;N<P;N++){v(R[N],Q[N],this._ns(T.ns),[Q[N]].concat(O))}}}})}};var w=function(S,U,Q,V){V=V||[];Q=Q||0;var R=V.length;var P=S.length;var O=[].slice.call(S,U+Q);var N=O.length;var T;if(R){R=U+R;T=0;for(;U<R;U++){S[U]=V[T];T++}S.length=R}else{if(Q){S.length=U;Q+=U;while(U<Q){delete S[--Q]}}}if(N){N=U+N;T=0;for(;U<N;U++){S[U]=O[T];T++}S.length=N}U=S.length;while(U<P){delete S[U];U++}};var C=b.extend({init:function(O,N){this.target=O;this.options=N;this.toDestroy=[]},bind:function(T){var S=this.target.nodeName.toLowerCase(),P,O,N,R,Q=n[S]||{};for(P in T){if(P==L){O=true}else{if(P==c){N=true}else{if(P==d){R=true}else{this.applyBinding(P,T,Q)}}}}if(N){this.applyBinding(c,T,Q)}if(O){this.applyBinding(L,T,Q)}if(R){this.applyBinding(d,T,Q)}},applyBinding:function(P,T,R){var O=R[P]||n[P],N=this.toDestroy,Q,S=T[P];if(O){O=new O(this.target,T,this.options);N.push(O);if(S instanceof k){O.bind(S);N.push(S)}else{for(Q in S){O.bind(S,Q);N.push(S[Q])}}}else{if(P!=="template"){throw new Error("The "+P+" binding is not supported by the "+this.target.nodeName.toLowerCase()+" element")}}},destroy:function(){var N,P,O=this.toDestroy;for(N=0,P=O.length;N<P;N++){O[N].destroy()}}});var g=C.extend({bind:function(S){var P=this,R,O=false,N=false,Q=n.widget[P.target.options.name.toLowerCase()]||{};for(R in S){if(R==L){O=true}else{if(R==c){N=true}else{P.applyBinding(R,S,Q)}}}if(N){P.applyBinding(c,S,Q)}if(O){P.applyBinding(L,S,Q)}},applyBinding:function(P,T,R){var O=R[P]||n.widget[P],N=this.toDestroy,Q,S=T[P];if(O){O=new O(this.target,T,this.target.options);N.push(O);if(S instanceof k){O.bind(S);N.push(S)}else{for(Q in S){O.bind(S,Q);N.push(S[Q])}}}else{throw new Error("The "+P+" binding is not supported by the "+this.target.options.name+" widget")}}});function l(N,O){var P=A.initWidget(N,{},O);if(P){return new g(P)}}var I=/[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g,F=/\s/g;function J(Q){var V={},T,N,O,P,U,S,R;R=Q.match(I);for(T=0,N=R.length;T<N;T++){O=R[T];P=O.indexOf(":");U=O.substring(0,P);S=O.substring(P+1);if(S.charAt(0)=="{"){S=J(S)}V[U]=S}return V}function s(R,P,O){var Q,N={};for(Q in R){N[Q]=new O(P,R[Q])}return N}function v(S,N,T,W){var R=S.getAttribute("data-"+A.ns+"role"),X,V=S.getAttribute("data-"+A.ns+"bind"),Q=S.children,P=[],Y=true,O,Z={},U;W=W||[N];if(R||V){G(S)}if(R){U=l(S,T)}if(V){V=J(V.replace(F,""));if(!U){Z=A.parseOptions(S,{textField:"",valueField:"",template:"",valueUpdate:y,valuePrimitive:false,autoBind:true});Z.roles=T;U=new C(S,Z)}U.source=N;O=s(V,W,k);if(Z.template){O.template=new x(W,"",Z.template)}if(O.click){V.events=V.events||{};V.events.click=V.click;O.click.destroy();delete O.click}if(O.source){Y=false}if(V.attr){O.attr=s(V.attr,W,k)}if(V.style){O.style=s(V.style,W,k)}if(V.events){O.events=s(V.events,W,H)}U.bind(O)}if(U){S.kendoBindingTarget=U}if(Y&&Q){for(X=0;X<Q.length;X++){P[X]=Q[X]}for(X=0;X<P.length;X++){v(P[X],N,T,W)}}}function j(S,O){var N,R,Q,P=A.rolesFromNamespaces([].slice.call(arguments,2));O=A.observable(O);S=z(S);for(N=0,R=S.length;N<R;N++){Q=S[N];if(Q.nodeType===1){v(Q,O,P)}}}function G(N){var O=N.kendoBindingTarget;if(O){O.destroy();if(B){delete N.kendoBindingTarget}else{if(N.removeAttribute){N.removeAttribute("kendoBindingTarget")}else{N.kendoBindingTarget=null}}}}function e(N){G(N);m(N)}function m(P){var O=P.children;if(O){for(var N=0,Q=O.length;N<Q;N++){e(O[N])}}}function u(P){var N,O;P=z(P);for(N=0,O=P.length;N<O;N++){e(P[N])}}function p(P,O){var N=P.element,Q=N[0].kendoBindingTarget;if(Q){j(N,Q.source,O)}}A.unbind=u;A.bind=j;A.data.binders=n;A.data.Binder=D;A.notify=p;A.observable=function(N){if(!(N instanceof q)){N=new q(N)}return N};A.observableHierarchy=function(P){var O=A.data.HierarchicalDataSource.create(P);function N(S){var R,Q;for(R=0;R<S.length;R++){S[R]._initChildren();Q=S[R].children;Q.fetch();S[R].items=Q.data();N(S[R].items)}}O.fetch();N(O.data());O._data._dataSource=O;return O._data}})(window.kendo.jQuery);(function(R,q){var V=window.kendo,B=V.effects,ad=R.each,p=R.extend,ah=R.proxy,ab=V.support,f=ab.browser,J=ab.transforms,l=ab.transitions,n={scale:0,scalex:0,scaley:0,scale3d:0},h={translate:0,translatex:0,translatey:0,translate3d:0},N=(typeof document.documentElement.style.zoom!=="undefined")&&!J,M=/matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i,al=/^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i,F=/translatex?$/i,X=/(zoom|fade|expand)(\w+)/,a=/(zoom|fade|expand)/,r=/[xy]$/i,Y=["perspective","rotate","rotatex","rotatey","rotatez","rotate3d","scale","scalex","scaley","scalez","scale3d","skew","skewx","skewy","translate","translatex","translatey","translatez","translate3d","matrix","matrix3d"],U=["rotate","scale","scalex","scaley","skew","skewx","skewy","translate","translatex","translatey","matrix"],an={rotate:"deg",scale:"",skew:"px",translate:"px"},W=J.css,ai=Math.round,v="",am="px",Z="none",P="auto",i="width",Q="height",ag="hidden",A="origin",H="abortId",ac="overflow",z="translate",aa="position",af="completeCallback",ak=W+"transition",aj=W+"transform",ap=W+"backface-visibility",x=W+"perspective",ao="1500px",k="perspective("+ao+")",j=ab.mobileOS&&ab.mobileOS.majorVersion==7,m={left:{reverse:"right",property:"left",transition:"translatex",vertical:false,modifier:-1},right:{reverse:"left",property:"left",transition:"translatex",vertical:false,modifier:1},down:{reverse:"up",property:"top",transition:"translatey",vertical:true,modifier:1},up:{reverse:"down",property:"top",transition:"translatey",vertical:true,modifier:-1},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out",modifier:-1},out:{reverse:"in",modifier:1},vertical:{reverse:"vertical"},horizontal:{reverse:"horizontal"}};V.directions=m;p(R.fn,{kendoStop:function(ar,aq){if(l){return B.stopQueue(this,ar||false,aq||false)}else{return this.stop(ar,aq)}}});if(J&&!l){ad(U,function(aq,ar){R.fn[ar]=function(av){if(typeof av=="undefined"){return C(this,ar)}else{var au=R(this)[0],at=ar+"("+av+an[ar.replace(r,"")]+")";if(au.style.cssText.indexOf(aj)==-1){R(this).css(aj,at)}else{au.style.cssText=au.style.cssText.replace(new RegExp(ar+"\\(.*?\\)","i"),at)}}return this};R.fx.step[ar]=function(at){R(at.elem)[ar](at.now)}});var E=R.fx.prototype.cur;R.fx.prototype.cur=function(){if(U.indexOf(this.prop)!=-1){return parseFloat(R(this.elem)[this.prop]())}return E.apply(this,arguments)}}V.toggleClass=function(at,ar,aq,au){if(ar){ar=ar.split(" ");if(l){aq=p({exclusive:"all",duration:400,ease:"ease-out"},aq);at.css(ak,aq.exclusive+" "+aq.duration+"ms "+aq.ease);setTimeout(function(){at.css(ak,"").css(Q)},aq.duration)}ad(ar,function(av,aw){at.toggleClass(aw,au)})}return at};V.parseEffects=function(aq,at){var ar={};if(typeof aq==="string"){ad(aq.split(" "),function(au,ay){var ax=!a.test(ay),av=ay.replace(X,function(aC,aB,aD){return aB+":"+aD.toLowerCase()}),aw=av.split(":"),aA=aw[1],az={};if(aw.length>1){az.direction=(at&&ax?m[aA].reverse:aA)}ar[aw[0]]=az})}else{ad(aq,function(au){var av=this.direction;if(av&&at&&!a.test(au)){this.direction=m[av].reverse}ar[au]=this})}return ar};function ae(aq){return parseInt(aq,10)}function g(aq,ar){return ae(aq.css(ar))}function G(at){var ar=[];for(var aq in at){ar.push(aq)}return ar}function b(ar){for(var aq in ar){if(Y.indexOf(aq)!=-1&&U.indexOf(aq)==-1){delete ar[aq]}}return ar}function o(au,at){var aw=[],av={},aq,ar,ax,ay;for(ar in at){aq=ar.toLowerCase();ay=J&&Y.indexOf(aq)!=-1;if(!ab.hasHW3D&&ay&&U.indexOf(aq)==-1){delete at[ar]}else{ax=at[ar];if(ay){aw.push(ar+"("+ax+")")}else{av[ar]=ax}}}if(aw.length){av[aj]=aw.join(" ")}return av}if(l){p(B,{transition:function(ar,aw,az){var av,at=0,ay=ar.data("keys")||[],aq;az=p({duration:200,ease:"ease-out",complete:null,exclusive:"all"},az);var au=false;var ax=function(){if(!au){au=true;if(aq){clearTimeout(aq);aq=null}ar.removeData(H).dequeue().css(ak,"").css(ak);az.complete.call(ar)}};az.duration=R.fx?R.fx.speeds[az.duration]||az.duration:az.duration;av=o(ar,aw);R.merge(ay,G(av));ar.data("keys",R.unique(ay)).height();ar.css(ak,az.exclusive+" "+az.duration+"ms "+az.ease).css(ak);ar.css(av).css(aj);if(l.event){ar.one(l.event,ax);if(az.duration!==0){at=500}}aq=setTimeout(ax,az.duration+at);ar.data(H,aq);ar.data(af,ax)},stopQueue:function(at,av,ar){var au,aq=at.data("keys"),ax=(!ar&&aq),aw=at.data(af);if(ax){au=V.getComputedStyles(at[0],aq)}if(aw){aw()}if(ax){at.css(au)}return at.removeData("keys").stop(av)}})}function C(at,av){if(J){var ar=at.css(aj);if(ar==Z){return av=="scale"?1:0}var aq=ar.match(new RegExp(av+"\\s*\\(([\\d\\w\\.]+)")),au=0;if(aq){au=ae(aq[1])}else{aq=ar.match(M)||[0,0,0,0,0];av=av.toLowerCase();if(F.test(av)){au=parseFloat(aq[3]/aq[2])}else{if(av=="translatey"){au=parseFloat(aq[4]/aq[2])}else{if(av=="scale"){au=parseFloat(aq[2])}else{if(av=="rotate"){au=parseFloat(Math.atan2(aq[2],aq[1]))}}}}}return au}else{return parseFloat(at.css(av))}}var D=V.Class.extend({init:function(ar,aq){var at=this;at.element=ar;at.effects=[];at.options=aq;at.restore=[]},run:function(at){var az=this,aE,aC,aq,av=at.length,ay=az.element,aF=az.options,aD=R.Deferred(),ar={},ax={},aA,au,aw;az.effects=at;aD.then(R.proxy(az,"complete"));ay.data("animating",true);for(aC=0;aC<av;aC++){aE=at[aC];aE.setReverse(aF.reverse);aE.setOptions(aF);az.addRestoreProperties(aE.restore);aE.prepare(ar,ax);au=aE.children();for(aq=0,aw=au.length;aq<aw;aq++){au[aq].duration(aF.duration).run()}}for(var aB in aF.effects){p(ax,aF.effects[aB].properties)}if(!ay.is(":visible")){p(ar,{display:ay.data("olddisplay")||"block"})}if(J&&!aF.reset){aA=ay.data("targetTransform");if(aA){ar=p(aA,ar)}}ar=o(ay,ar);if(J&&!l){ar=b(ar)}ay.css(ar).css(aj);for(aC=0;aC<av;aC++){at[aC].setup()}if(aF.init){aF.init()}ay.data("targetTransform",ax);B.animate(ay,ax,p({},aF,{complete:aD.resolve}));return aD.promise()},stop:function(){R(this.element).kendoStop(true,true)},addRestoreProperties:function(at){var ar=this.element,av,aq=0,au=at.length;for(;aq<au;aq++){av=at[aq];this.restore.push(av);if(!ar.data(av)){ar.data(av,ar.css(av))}}},restoreCallback:function(){var ar=this.element;for(var aq=0,at=this.restore.length;aq<at;aq++){var au=this.restore[aq];ar.css(au,ar.data(au))}},complete:function(){var aw=this,aq=0,at=aw.element,ar=aw.options,av=aw.effects,au=av.length;at.removeData("animating").dequeue();if(ar.hide){at.data("olddisplay",at.css("display")).hide()}this.restoreCallback();if(N&&!J){setTimeout(R.proxy(this,"restoreCallback"),0)}for(;aq<au;aq++){av[aq].teardown()}if(ar.completeCallback){ar.completeCallback(at)}}});B.promise=function(av,ar){var ay=[],ax,au=new D(av,ar),at=V.parseEffects(ar.effects),aw;ar.effects=at;for(var aq in at){ax=B[I(aq)];if(ax){aw=new ax(av,at[aq].direction);ay.push(aw)}}if(ay[0]){au.run(ay)}else{if(!av.is(":visible")){av.css({display:av.data("olddisplay")||"block"}).css("display")}if(ar.init){ar.init()}av.dequeue();au.complete()}};p(B,{animate:function(au,ar,aq){var at=aq.transition!==false;delete aq.transition;if(l&&"transition" in B&&at){B.transition(au,ar,aq)}else{if(J){au.animate(b(ar),{queue:false,show:false,hide:false,duration:aq.duration,complete:aq.complete})}else{au.each(function(){var aw=R(this),av={};ad(Y,function(aE,aD){var az,aG=ar?ar[aD]+" ":null;if(aG){var aF=ar;if(aD in n&&ar[aD]!==q){az=aG.match(al);if(J){p(aF,{scale:+az[0]})}}else{if(aD in h&&ar[aD]!==q){var aC=aw.css(aa),ax=(aC=="absolute"||aC=="fixed");if(!aw.data(z)){if(ax){aw.data(z,{top:g(aw,"top")||0,left:g(aw,"left")||0,bottom:g(aw,"bottom"),right:g(aw,"right")})}else{aw.data(z,{top:g(aw,"marginTop")||0,left:g(aw,"marginLeft")||0})}}var aB=aw.data(z);az=aG.match(al);if(az){var aA=aD==z+"y"?+null:+az[1],ay=aD==z+"y"?+az[1]:+az[2];if(ax){if(!isNaN(aB.right)){if(!isNaN(aA)){p(aF,{right:aB.right-aA})}}else{if(!isNaN(aA)){p(aF,{left:aB.left+aA})}}if(!isNaN(aB.bottom)){if(!isNaN(ay)){p(aF,{bottom:aB.bottom-ay})}}else{if(!isNaN(ay)){p(aF,{top:aB.top+ay})}}}else{if(!isNaN(aA)){p(aF,{marginLeft:aB.left+aA})}if(!isNaN(ay)){p(aF,{marginTop:aB.top+ay})}}}}}if(!J&&aD!="scale"&&aD in aF){delete aF[aD]}if(aF){p(av,aF)}}});if(f.msie){delete av.scale}aw.animate(av,{queue:false,show:false,hide:false,duration:aq.duration,complete:aq.complete})})}}}});B.animatedPromise=B.promise;var s=V.Class.extend({init:function(aq,at){var ar=this;ar.element=aq;ar._direction=at;ar.options={};ar._additionalEffects=[];if(!ar.restore){ar.restore=[]}},reverse:function(){this._reverse=true;return this.run()},play:function(){this._reverse=false;return this.run()},add:function(aq){this._additionalEffects.push(aq);return this},direction:function(aq){this._direction=aq;return this},duration:function(aq){this._duration=aq;return this},compositeRun:function(){var at=this,aq=new D(at.element,{reverse:at._reverse,duration:at._duration}),ar=at._additionalEffects.concat([at]);return aq.run(ar)},run:function(){if(this._additionalEffects&&this._additionalEffects[0]){return this.compositeRun()}var ax=this,aw=ax.element,aB=0,az=ax.restore,at=az.length,aA,aC=R.Deferred(),aq={},av={},ay,ar=ax.children(),au=ar.length;aC.then(R.proxy(ax,"_complete"));aw.data("animating",true);for(aB=0;aB<at;aB++){aA=az[aB];if(!aw.data(aA)){aw.data(aA,aw.css(aA))}}for(aB=0;aB<au;aB++){ar[aB].duration(ax._duration).run()}ax.prepare(aq,av);if(!aw.is(":visible")){p(aq,{display:aw.data("olddisplay")||"block"})}if(J){ay=aw.data("targetTransform");if(ay){aq=p(ay,aq)}}aq=o(aw,aq);if(J&&!l){aq=b(aq)}aw.css(aq).css(aj);ax.setup();aw.data("targetTransform",av);B.animate(aw,av,{duration:ax._duration,complete:aC.resolve});return aC.promise()},stop:function(){var aq=0,ar=this.children(),at=ar.length;for(aq=0;aq<at;aq++){ar[aq].stop()}R(this.element).kendoStop(true,true);return this},restoreCallback:function(){var ar=this.element;for(var aq=0,at=this.restore.length;aq<at;aq++){var au=this.restore[aq];ar.css(au,ar.data(au))}},_complete:function(){var ar=this,aq=ar.element;aq.removeData("animating").dequeue();ar.restoreCallback();if(ar.shouldHide()){aq.data("olddisplay",aq.css("display")).hide()}if(N&&!J){setTimeout(R.proxy(ar,"restoreCallback"),0)}ar.teardown()},setOptions:function(aq){p(true,this.options,aq)},children:function(){return[]},shouldHide:R.noop,setup:R.noop,prepare:R.noop,teardown:R.noop,directions:[],setReverse:function(aq){this._reverse=aq;return this}});function I(aq){return aq.charAt(0).toUpperCase()+aq.substring(1)}function e(aq,ar){var at=s.extend(ar),au=at.prototype.directions;B[I(aq)]=at;B.Element.prototype[aq]=function(ay,ax,aw,av){return new at(this.element,ay,ax,aw,av)};ad(au,function(av,aw){B.Element.prototype[aq+I(aw)]=function(az,ay,ax){return new at(this.element,aw,az,ay,ax)}})}var L=["left","right","up","down"],K=["in","out"];e("slideIn",{directions:L,divisor:function(aq){this.options.divisor=aq;return this},prepare:function(aq,at){var ax=this,av,aw=ax.element,az=m[ax._direction],au=-az.modifier*(az.vertical?aw.outerHeight():aw.outerWidth()),ar=au/(ax.options&&ax.options.divisor||1)+am,ay="0px";if(ax._reverse){av=aq;aq=at;at=av}if(J){aq[az.transition]=ar;at[az.transition]=ay}else{aq[az.property]=ar;at[az.property]=ay}}});e("tile",{directions:L,init:function(aq,at,ar){s.prototype.init.call(this,aq,at);this.options={previous:ar}},previousDivisor:function(aq){this.options.previousDivisor=aq;return this},children:function(){var av=this,ar=av._reverse,au=av.options.previous,aw=av.options.previousDivisor||1,aq=av._direction;var at=[V.fx(av.element).slideIn(aq).setReverse(ar)];if(au){at.push(V.fx(au).slideIn(m[aq].reverse).divisor(aw).setReverse(!ar))}return at}});function d(ar,au,at,aq){e(ar,{directions:K,startValue:function(av){this._startValue=av;return this},endValue:function(av){this._endValue=av;return this},shouldHide:function(){return this._shouldHide},prepare:function(aC,aw){var aA=this,ay,av,az=this._direction==="out",ax=aA.element.data(au),aB=!(isNaN(ax)||ax==at);if(aB){ay=ax}else{if(typeof this._startValue!=="undefined"){ay=this._startValue}else{ay=az?at:aq}}if(typeof this._endValue!=="undefined"){av=this._endValue}else{av=az?aq:at}if(this._reverse){aC[au]=av;aw[au]=ay}else{aC[au]=ay;aw[au]=av}aA._shouldHide=aw[au]===aq}})}d("fade","opacity",1,0);d("zoom","scale",1,0.01);e("slideMargin",{prepare:function(aq,at){var aw=this,av=aw.element,az=aw.options,ay=av.data(A),au=az.offset,ar,ax=aw._reverse;if(!ax&&ay===null){av.data(A,parseFloat(av.css("margin-"+az.axis)))}ar=(av.data(A)||0);at["margin-"+az.axis]=!ax?ar+au:ar}});e("slideTo",{prepare:function(ax,aq){var av=this,au=av.element,at=av.options,aw=at.offset.split(","),ar=av._reverse;if(J){aq.translatex=!ar?aw[0]:0;aq.translatey=!ar?aw[1]:0}else{aq.left=!ar?aw[0]:0;aq.top=!ar?aw[1]:0}au.css("left")}});e("expand",{directions:["horizontal","vertical"],restore:[ac],prepare:function(aq,au){var aw=this,av=aw.element,aB=aw.options,ax=aw._reverse,ay=aw._direction==="vertical"?Q:i,aA=av[0].style[ay],at=av.data(ay),ar=parseFloat(at||aA),az=ai(av.css(ay,P)[ay]());aq.overflow=ag;ar=(aB&&aB.reset)?az||ar:ar||az;au[ay]=(ax?0:ar)+am;aq[ay]=(ax?ar:0)+am;if(at===q){av.data(ay,aA)}},shouldHide:function(){return this._reverse},teardown:function(){var at=this,aq=at.element,au=at._direction==="vertical"?Q:i,ar=aq.data(au);if(ar==P||ar===v){setTimeout(function(){aq.css(au,P).css(au)},0)}}});var T={position:"absolute",marginLeft:0,marginTop:0,scale:1};e("transfer",{init:function(aq,ar){this.element=aq;this.options={target:ar};this.restore=[]},setup:function(){this.element.appendTo(document.body)},prepare:function(aq,av){var ay=this,ax=ay.element,ar=B.box(ax),az=B.box(ay.options.target),au=C(ax,"scale"),at=B.fillScale(az,ar),aw=B.transformOrigin(az,ar);p(aq,T);av.scale=1;ax.css(aj,"scale(1)").css(aj);ax.css(aj,"scale("+au+")");aq.top=ar.top;aq.left=ar.left;aq.transformOrigin=aw.x+am+" "+aw.y+am;if(ay._reverse){aq.scale=at}else{av.scale=at}}});var y={top:"rect(auto auto $size auto)",bottom:"rect($size auto auto auto)",left:"rect(auto $size auto auto)",right:"rect(auto auto auto $size)"};var u={top:{start:"rotatex(0deg)",end:"rotatex(180deg)"},bottom:{start:"rotatex(-180deg)",end:"rotatex(0deg)"},left:{start:"rotatey(0deg)",end:"rotatey(-180deg)"},right:{start:"rotatey(180deg)",end:"rotatey(0deg)"}};function S(aq,au){var ar=V.directions[au].vertical,at=(aq[ar?Q:i]()/2)+"px";return y[au].replace("$size",at)}e("turningPage",{directions:L,init:function(ar,at,aq){s.prototype.init.call(this,ar,at);this._container=aq},prepare:function(aw,aq){var au=this,ar=au._reverse,av=ar?m[au._direction].reverse:au._direction,at=u[av];aw.zIndex=1;if(au._clipInHalf){aw.clip=S(au._container,V.directions[av].reverse)}aw[ap]=ag;aq[aj]=k+(ar?at.start:at.end);aw[aj]=k+(ar?at.end:at.start)},setup:function(){this._container.append(this.element)},face:function(aq){this._face=aq;return this},shouldHide:function(){var ar=this,aq=ar._reverse,at=ar._face;return(aq&&!at)||(!aq&&at)},clipInHalf:function(aq){this._clipInHalf=aq;return this},temporary:function(){this.element.addClass("temp-page");return this}});e("staticPage",{directions:L,init:function(ar,at,aq){s.prototype.init.call(this,ar,at);this._container=aq},restore:["clip"],prepare:function(au,aq){var ar=this,at=ar._reverse?m[ar._direction].reverse:ar._direction;au.clip=S(ar._container,at);au.opacity=0.999;aq.opacity=1},shouldHide:function(){var ar=this,aq=ar._reverse,at=ar._face;return(aq&&!at)||(!aq&&at)},face:function(aq){this._face=aq;return this}});e("pageturn",{directions:["horizontal","vertical"],init:function(ar,au,at,aq){s.prototype.init.call(this,ar,au);this.options={};this.options.face=at;this.options.back=aq},children:function(){var at=this,az=at.options,av=at._direction==="horizontal"?"left":"top",aq=V.directions[av].reverse,au=at._reverse,aw,ay=az.face.clone(true).removeAttr("id"),ax=az.back.clone(true).removeAttr("id"),ar=at.element;if(au){aw=av;av=aq;aq=aw}return[V.fx(az.face).staticPage(av,ar).face(true).setReverse(au),V.fx(az.back).staticPage(aq,ar).setReverse(au),V.fx(ay).turningPage(av,ar).face(true).clipInHalf(true).temporary().setReverse(au),V.fx(ax).turningPage(aq,ar).clipInHalf(true).temporary().setReverse(au)]},prepare:function(ar,aq){ar[x]=ao;ar.transformStyle="preserve-3d";ar.opacity=0.999;aq.opacity=1},teardown:function(){this.element.find(".temp-page").remove()}});e("flip",{directions:["horizontal","vertical"],init:function(ar,au,at,aq){s.prototype.init.call(this,ar,au);this.options={};this.options.face=at;this.options.back=aq},children:function(){var aw=this,au=aw.options,ax=aw._direction==="horizontal"?"left":"top",ar=V.directions[ax].reverse,at=aw._reverse,aq,av=aw.element;if(at){aq=ax;ax=ar;ar=aq}return[V.fx(au.face).turningPage(ax,av).face(true).setReverse(at),V.fx(au.back).turningPage(ar,av).setReverse(at)]},prepare:function(aq){aq[x]=ao;aq.transformStyle="preserve-3d"}});var w=!ab.mobileOS.android;var c=".km-touch-scrollbar, .km-actionsheet-wrapper";e("replace",{_before:R.noop,_after:R.noop,init:function(aq,at,ar){s.prototype.init.call(this,aq);this._previous=R(at);this._transitionClass=ar},duration:function(){throw new Error("The replace effect does not support duration setting; the effect duration may be customized through the transition class rule")},beforeTransition:function(aq){this._before=aq;return this},afterTransition:function(aq){this._after=aq;return this},_both:function(){return R().add(this._element).add(this._previous)},_containerClass:function(){var aq=this._direction,ar="k-fx k-fx-start k-fx-"+this._transitionClass;if(aq){ar+=" k-fx-"+aq}if(this._reverse){ar+=" k-fx-reverse"}return ar},complete:function(ar){if(!this.deferred||(ar&&R(ar.target).is(c))){return}var aq=this.container;aq.removeClass("k-fx-end").removeClass(this._containerClass()).off(l.event,this.completeProxy);this._previous.hide().removeClass("k-fx-current");this.element.removeClass("k-fx-next");if(w){aq.css(ac,"")}if(!this.isAbsolute){this._both().css(aa,"")}this.deferred.resolve();delete this.deferred},run:function(){if(this._additionalEffects&&this._additionalEffects[0]){return this.compositeRun()}var ay=this,au=ay.element,ax=ay._previous,aq=au.parents().filter(ax.parents()).first(),aw=ay._both(),ar=R.Deferred(),av=au.css(aa),at;if(!aq.length){aq=au.parent()}this.container=aq;this.deferred=ar;this.isAbsolute=av=="absolute";if(!this.isAbsolute){aw.css(aa,"absolute")}if(w){at=aq.css(ac);aq.css(ac,"hidden")}if(!l){this.complete()}else{au.addClass("k-fx-hidden");aq.addClass(this._containerClass());this.completeProxy=R.proxy(this,"complete");aq.on(l.event,this.completeProxy);V.animationFrame(function(){au.removeClass("k-fx-hidden").addClass("k-fx-next");ax.css("display","").addClass("k-fx-current");ay._before(ax,au);V.animationFrame(function(){aq.removeClass("k-fx-start").addClass("k-fx-end");ay._after(ax,au)})})}return ar.promise()},stop:function(){this.complete()}});var t=V.Class.extend({init:function(){var aq=this;aq._tickProxy=ah(aq._tick,aq);aq._started=false},tick:R.noop,done:R.noop,onEnd:R.noop,onCancel:R.noop,start:function(){if(!this.enabled()){return}if(!this.done()){this._started=true;V.animationFrame(this._tickProxy)}else{this.onEnd()}},enabled:function(){return true},cancel:function(){this._started=false;this.onCancel()},_tick:function(){var aq=this;if(!aq._started){return}aq.tick();if(!aq.done()){V.animationFrame(aq._tickProxy)}else{aq._started=false;aq.onEnd()}}});var O=t.extend({init:function(aq){var ar=this;p(ar,aq);t.fn.init.call(ar)},done:function(){return this.timePassed()>=this.duration},timePassed:function(){return Math.min(this.duration,(new Date())-this.startDate)},moveTo:function(aq){var ar=this,at=ar.movable;ar.initial=at[ar.axis];ar.delta=aq.location-ar.initial;ar.duration=typeof aq.duration=="number"?aq.duration:300;ar.tick=ar._easeProxy(aq.ease);ar.startDate=new Date();ar.start()},_easeProxy:function(ar){var aq=this;return function(){aq.movable.moveAxis(aq.axis,ar(aq.timePassed(),aq.initial,aq.delta,aq.duration))}}});p(O,{easeOutExpo:function(ar,aq,au,at){return(ar==at)?aq+au:au*(-Math.pow(2,-10*ar/at)+1)+aq},easeOutBack:function(ar,aq,av,au,at){at=1.70158;return av*((ar=ar/au-1)*ar*((at+1)*ar+at)+1)+aq}});B.Animation=t;B.Transition=O;B.createEffect=e;B.box=function(ar){ar=R(ar);var aq=ar.offset();aq.width=ar.outerWidth();aq.height=ar.outerHeight();return aq};B.transformOrigin=function(ar,at){var aq=(ar.left-at.left)*at.width/(at.width-ar.width),au=(ar.top-at.top)*at.height/(at.height-ar.height);return{x:isNaN(aq)?0:aq,y:isNaN(au)?0:au}};B.fillScale=function(aq,ar){return Math.min(aq.width/ar.width,aq.height/ar.height)};B.fitScale=function(aq,ar){return Math.max(aq.width/ar.width,aq.height/ar.height)}})(window.kendo.jQuery);(function(f,g){var m=window.kendo,k=m.Observable,j="SCRIPT",c="init",e="show",p="hide",q="transitionStart",d="transitionEnd",r="attach",t="detach",i=/unrecognized expression/;var n=k.extend({init:function(w,u){var v=this;u=u||{};k.fn.init.call(v);v.content=w;v.id=m.guid();v.tagName=u.tagName||"div";v.model=u.model;v._wrap=u.wrap!==false;this._evalTemplate=u.evalTemplate||false;v._fragments={};v.bind([c,e,p,q,d],u)},render:function(u){var v=this,w=!v.element;if(w){v.element=v._createElement()}if(u){f(u).append(v.element)}if(w){m.bind(v.element,v.model);v.trigger(c)}if(u){v._eachFragment(r);v.trigger(e)}return v.element},clone:function(u){return new a(this)},triggerBeforeShow:function(){return true},showStart:function(){this.element.css("display","")},showEnd:function(){},hideStart:function(){},hideEnd:function(){this.hide()},beforeTransition:function(u){this.trigger(q,{type:u})},afterTransition:function(u){this.trigger(d,{type:u})},hide:function(){this._eachFragment(t);this.element.detach();this.trigger(p)},destroy:function(){var u=this.element;if(u){m.unbind(u);m.destroy(u);u.remove()}},fragments:function(u){f.extend(this._fragments,u)},_eachFragment:function(u){for(var v in this._fragments){this._fragments[v][u](this,v)}},_createElement:function(){var w=this,y="<"+w.tagName+" />",u,v;try{v=f(document.getElementById(w.content)||w.content);if(v[0].tagName===j){v=v.html()}}catch(x){if(i.test(x.message)){v=w.content}}if(typeof v==="string"){v=v.replace(/^\s+|\s+$/g,"");if(w._evalTemplate){v=m.template(v)(w.model||{})}u=f(y).append(v);if(!w._wrap){u=u.contents()}}else{u=v;if(w._evalTemplate){u.html(m.template(u.html())(w.model||{}))}if(w._wrap){u=u.wrapAll(y).parent()}}return u}});var a=m.Class.extend({init:function(u){f.extend(this,{element:u.element.clone(true),transition:u.transition,id:u.id});u.element.parent().append(this.element)},hideStart:f.noop,hideEnd:function(){this.element.remove()},beforeTransition:f.noop,afterTransition:f.noop});var o=n.extend({init:function(v,u){n.fn.init.call(this,v,u);this.containers={}},container:function(u){var v=this.containers[u];if(!v){v=this._createContainer(u);this.containers[u]=v}return v},showIn:function(u,v,w){this.container(u).show(v,w)},_createContainer:function(u){var w=this.render(),x=w.find(u),v;if(!x.length&&w.is(u)){if(w.is(u)){x=w}else{throw new Error("can't find a container with the specified "+u+" selector")}}v=new l(x);v.bind("accepted",function(y){y.view.render(x)});return v}});var b=n.extend({attach:function(u,v){u.element.find(v).replaceWith(this.render())},detach:function(){}});var h=/^(\w+)(:(\w+))?( (\w+))?$/;function s(v){if(!v){return{}}var u=v.match(h)||[];return{type:u[1],direction:u[3],reverse:u[5]==="reverse"}}var l=k.extend({init:function(u){k.fn.init.call(this);this.container=u;this.history=[];this.view=null;this.running=false},after:function(){this.running=false;this.trigger("complete",{view:this.view});this.trigger("after")},end:function(){this.view.showEnd();this.previous.hideEnd();this.after()},show:function(D,C,u){if(!D.triggerBeforeShow()){this.trigger("after");return false}u=u||D.id;var z=this,A=(D===z.view)?D.clone():z.view,B=z.history,v=B[B.length-2]||{},x=v.id===u,y=C||(x?B[B.length-1].transition:D.transition),w=s(y);if(z.running){z.effect.stop()}if(y==="none"){y=null}z.trigger("accepted",{view:D});z.view=D;z.previous=A;z.running=true;if(!x){B.push({id:u,transition:y})}else{B.pop()}if(!A){D.showStart();D.showEnd();z.after();return true}A.hideStart();if(!y||!m.effects.enabled){D.showStart();z.end()}else{D.element.addClass("k-fx-hidden");D.showStart();if(x&&!C){w.reverse=!w.reverse}z.effect=m.fx(D.element).replace(A.element,w.type).beforeTransition(function(){D.beforeTransition("show");A.beforeTransition("hide")}).afterTransition(function(){D.afterTransition("show");A.afterTransition("hide")}).direction(w.direction).setReverse(w.reverse);z.effect.run().then(function(){z.end()})}return true}});m.ViewContainer=l;m.Fragment=b;m.Layout=o;m.View=n;m.ViewClone=a})(window.kendo.jQuery);(function(h){function g(){this.node=null}g.prototype={remove:function(){this.node.parentNode.removeChild(this.node)}};function b(l,j,k){this.nodeName=l;this.attr=j||{};this.cssText=null;this.children=k||[]}b.prototype=new g();b.prototype.render=function(t,o){var n;var q;var l=this.children;var k=l.length;if(!o||o.nodeName!==this.nodeName){if(o){o.remove();o=null}n=document.createElement(this.nodeName);for(q=0;q<k;q++){l[q].render(n,null)}t.appendChild(n)}else{n=o.node;var p=o.children;if(Math.abs(p.length-k)>2){this.render({appendChild:function(v){t.replaceChild(v,o.node)}},null);return}for(q=0;q<k;q++){l[q].render(n,p[q])}for(q=k,k=p.length;q<k;q++){p[q].remove()}}var r=this.attr;var s;for(s in r){if(!o||r[s]!==o.attr[s]){if(n[s]!==undefined){if(s!=="style"){n[s]=r[s]}else{var m="";var j=r[s];for(var u in j){m+=u;m+=":";m+=j[u];m+=";"}if(!o||o.cssText!==m){n.style.cssText=m}this.cssText=m}}else{n.setAttribute(s,r[s])}}}if(o){for(s in o.attr){if(r[s]===undefined){if(n[s]!==undefined){if(s==="style"){n.style.cssText=""}else{if(s==="className"){n[s]=""}else{n.removeAttribute(s)}}}else{n.removeAttribute(s)}}}}this.node=n};function a(j){this.nodeValue=j}a.prototype=new g();a.prototype.nodeName="#text";a.prototype.render=function(k,j){var l;if(!j||j.nodeName!==this.nodeName){if(j){j.remove()}l=document.createTextNode(this.nodeValue);k.appendChild(l)}else{l=j.node;if(this.nodeValue!==j.nodeValue){l.nodeValue=this.nodeValue}}this.node=l};function f(j){this.html=j}f.prototype={nodeName:"#html",remove:function(){for(var j=0;j<this.nodes.length;j++){this.nodes[j].parentNode.removeChild(this.nodes[j])}},render:function(k,j){if(!j||j.nodeName!==this.nodeName||j.html!==this.html){if(j){j.remove()}var l=k.lastChild;k.insertAdjacentHTML("beforeend",this.html);this.nodes=[];for(var m=l?l.nextSibling:k.firstChild;m;m=m.nextSibling){this.nodes.push(m)}}else{this.nodes=j.nodes.slice(0)}}};function e(j){return new f(j)}function d(l,j,k){return new b(l,j,k)}function i(j){return new a(j)}function c(j){this.root=j;this.children=[]}c.prototype={html:e,element:d,text:i,render:function(l){var k=this.children;var j;var m;for(j=0,m=l.length;j<m;j++){l[j].render(this.root,k[j])}for(j=m;j<k.length;j++){k[j].remove()}this.children=l}};h.dom={html:e,text:i,element:d,Tree:c}})(window.kendo);(function(n){var k='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>';var d=n.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dc:creator>${creator}</dc:creator><cp:lastModifiedBy>${lastModifiedBy}</cp:lastModifiedBy><dcterms:created xsi:type="dcterms:W3CDTF">${created}</dcterms:created><dcterms:modified xsi:type="dcterms:W3CDTF">${modified}</dcterms:modified></cp:coreProperties>');var p=n.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>${sheets.length}</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size="${sheets.length}" baseType="lpstr"># for (var idx = 0; idx < sheets.length; idx++) { ## if (sheets[idx].options.title) { #<vt:lpstr>${sheets[idx].options.title}</vt:lpstr># } else { #<vt:lpstr>Sheet${idx+1}</vt:lpstr># } ## } #</vt:vector></TitlesOfParts><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>14.0300</AppVersion></Properties>');var i=n.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Default Extension="xml" ContentType="application/xml" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/><Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/># for (var idx = 1; idx <= count; idx++) { #<Override PartName="/xl/worksheets/sheet${idx}.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" /># } #<Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml" /><Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml" /></Types>');var c=n.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"><fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="9303" /><workbookPr defaultThemeVersion="124226" /><bookViews><workbookView xWindow="240" yWindow="45" windowWidth="18195" windowHeight="7995" /></bookViews><sheets># for (var idx = 0; idx < sheets.length; idx++) { ## if (sheets[idx].options.title) { #<sheet name="${sheets[idx].options.title}" sheetId="${idx+1}" r:id="rId${idx+1}" /># } else { #<sheet name="Sheet${idx+1}" sheetId="${idx+1}" r:id="rId${idx+1}" /># } ## } #</sheets><calcPr calcId="145621" /></workbook>');var e=n.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" mc:Ignorable="x14ac"><dimension ref="A1" /><sheetViews><sheetView tabSelected="1" workbookViewId="0"># if (freezePane) { #<pane state="frozen"# if (freezePane.colSplit) { # xSplit="${freezePane.colSplit}"# } ## if (freezePane.rowSplit) { # ySplit="${freezePane.rowSplit}"# } # topLeftCell="${String.fromCharCode(65 + (freezePane.colSplit || 0))}${(freezePane.rowSplit || 0)+1}"/># } #</sheetView></sheetViews><sheetFormatPr defaultRowHeight="15" x14ac:dyDescent="0.25" /># if (columns) { #<cols># for (var ci = 0; ci < columns.length; ci++) { ## var column = columns[ci]; ## if (column.width) { #<col min="${ci+1}" max="${ci+1}" customWidth="1"# if (column.autoWidth) { # width="${((column.width*7+5)/7*256)/256}" bestFit="1"# } else { # width="${(((column.width)/7)*100+0.5)/100}" # } #/># } ## } #</cols># } #<sheetData># for (var ri = 0; ri < data.length; ri++) { ## var row = data[ri]; #<row r="${ri + 1}"># for (var ci = 0; ci < row.data.length; ci++) { ## var cell = row.data[ci];#<c r="${cell.ref}"# if (cell.style) { # s="${cell.style}" # } ## if (cell.type) { # t="${cell.type}"# } #># if (cell.value != null) { #<v>${cell.value}</v># } #</c># } #</row># } #</sheetData># if (filter) { #<autoFilter ref="${filter.from}:${filter.to}"/># } ## if (mergeCells.length) { #<mergeCells count="${mergeCells.length}"># for (var ci = 0; ci < mergeCells.length; ci++) { #<mergeCell ref="${mergeCells[ci]}"/># } #</mergeCells># } #<pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3" /></worksheet>');var g=n.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"># for (var idx = 1; idx <= count; idx++) { #<Relationship Id="rId${idx}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet${idx}.xml" /># } #<Relationship Id="rId${count+1}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml" /><Relationship Id="rId${count+2}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml" /></Relationships>');var m=n.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${count}" uniqueCount="${uniqueCount}"># for (var index in indexes) { #<si><t>${index.substring(1)}</t></si># } #</sst>');var q=n.template('<?xml version="1.0" encoding="UTF-8"?><styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><numFmts count="${formats.length}"># for (var fi = 0; fi < formats.length; fi++) { ## var format = formats[fi]; #<numFmt formatCode="${format.format}" numFmtId="${165+fi}" /># } #</numFmts><fonts count="${fonts.length+1}" x14ac:knownFonts="1"><font><sz val="11" /><color theme="1" /><name val="Calibri" /><family val="2" /><scheme val="minor" /></font># for (var fi = 0; fi < fonts.length; fi++) { ## var font = fonts[fi]; #<font># if (font.bold) { #<b/># } ## if (font.italic) { #<i/># } ## if (font.underline) { #<u/># } ## if (font.color) { #<color rgb="${font.color}" /># } else { #<color theme="1" /># } ## if (font.fontSize) { #<sz val="${font.fontSize}" /># } else { #<sz val="11" /># } ## if (font.fontName) { #<name val="${font.fontName}" /># } else { #<name val="Calibri" /><scheme val="minor" /># } #<family val="2" /></font># } #</fonts><fills count="${fills.length+1}"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill># for (var fi = 0; fi < fills.length; fi++) { ## var fill = fills[fi]; ## if (fill.background) { #<fill><patternFill patternType="solid"><fgColor rgb="${fill.background}"/></patternFill></fill># } ## } #</fills><borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders><cellXfs count="${styles.length+1}"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0"/># for (var si = 0; si < styles.length; si++) { ## var style = styles[si]; #<xf xfid="0"# if (style.fontId) { # fontId="${style.fontId}" applyFont="1"# } ## if (style.fillId) { # fillId="${style.fillId}" applyFill="1"# } ## if (style.numFmtId) { # numFmtId="${style.numFmtId}" applyNumberFormat="1"# } ## if (style.hAlign || style.vAlign || style.wrap) { # applyAlignment="1"# } #># if (style.hAlign || style.vAlign || style.wrap) { #<alignment# if (style.hAlign) { # horizontal="${style.hAlign}"# } ## if (style.vAlign) { # vertical="${style.vAlign}"# } ## if (style.wrap) { # wrapText="1"# } #/># } #</xf># } #</cellXfs><dxfs count="0" /><tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleMedium9" /></styleSheet>');function l(r){var s=Math.floor(r/26)-1;return(s>=0?l(s):"")+String.fromCharCode(65+(r%26))}function f(s,r){return l(r)+(s+1)}var j=n.timezone.remove(new Date(1900,0,0),"Etc/UTC");var a=n.Class.extend({init:function(s,r,t){this.options=s;this._strings=r;this._styles=t;this._mergeCells=[]},toXML:function(){var t=this.options.rows||[];var s=this.options.filter;var r={};this._maxCellIndex=0;return e({freezePane:this.options.freezePane,columns:this.options.columns,data:$.map(t,$.proxy(this._row,this,t,r)),mergeCells:this._mergeCells,filter:s?{from:f(0,s.from),to:f(0,s.to)}:null})},_row:function(A,u,z,v){if(this._cellIndex&&this._cellIndex>this._maxCellIndex){this._maxCellIndex=this._cellIndex}this._cellIndex=0;var x;var t=[];var y=z.cells;for(var w=0,r=y.length;w<r;w++){x=this._cell(y[w],u,v);if(x){t=t.concat(x)}}var s;while(this._cellIndex<this._maxCellIndex){s=u[this._cellIndex];if(s){s.rowSpan-=1}t.push({ref:f(v,this._cellIndex)});this._cellIndex++}return{data:t}},_lookupString:function(t){var s="$"+t;var r=this._strings.indexes[s];if(r!==undefined){t=r}else{t=this._strings.indexes[s]=this._strings.uniqueCount;this._strings.uniqueCount++}this._strings.count++;return t},_lookupStyle:function(t){var s=n.stringify(t);if(s=="{}"){return 0}var r=$.inArray(s,this._styles);if(r<0){r=this._styles.push(s)-1}return r+1},_cell:function(x,z,C){if(!x){this._cellIndex++;return}var D=x.value;var s={bold:x.bold,color:x.color,background:x.background,italic:x.italic,underline:x.underline,fontName:x.fontName,fontSize:x.fontSize,format:x.format,hAlign:x.hAlign,vAlign:x.vAlign,wrap:x.wrap};var u=this.options.columns||[];var t=u[this._cellIndex];if(t&&t.autoWidth){t.width=Math.max(t.width||0,(""+D).length)}var B=typeof D;if(B==="string"){D=this._lookupString(D);B="s"}else{if(B==="number"){B="n"}else{if(B==="boolean"){B="b";D=+D}else{if(D&&D.getTime){B=null;D=(n.timezone.remove(D,"Etc/UTC")-j)/n.date.MS_PER_DAY+1;if(!s.format){s.format="mm-dd-yy"}}else{B=null;D=""}}}}s=this._lookupStyle(s);var E=[];var r,w;var v=z[this._cellIndex]||{};while(v.rowSpan>1){v.rowSpan-=1;r=v.colSpan;while(r>0){E.push({ref:f(C,this._cellIndex)});r--;this._cellIndex++}v=z[this._cellIndex]||{}}w=f(C,this._cellIndex);E.push({value:D,type:B,style:s,ref:w});var y=x.colSpan||1;var A=x.rowSpan||1;if(y>1||A>1){if(A>1){z[this._cellIndex]={colSpan:y,rowSpan:A}}for(var F=1;F<y;F++){this._cellIndex++;E.push({ref:f(C,this._cellIndex)})}this._mergeCells.push(w+":"+f(C+A-1,this._cellIndex))}this._cellIndex++;return E}});var b={General:0,"0":1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49,"[$-404]e/m/d":27,"m/d/yy":30,t0:59,"t0.00":60,"t#,##0":61,"t#,##0.00":62,"t0%":67,"t0.00%":68,"t# ?/?":69,"t# ??/??":70};function h(r){if(r.length<6){r=r.replace(/(\w)/g,function(t,s){return s+s})}r=r.substring(1).toUpperCase();if(r.length<8){r="FF"+r}return r}var o=n.Class.extend({init:function(r){this.options=r||{};this._strings={indexes:{},count:0,uniqueCount:0};this._styles=[];this._sheets=$.map(this.options.sheets||[],$.proxy(function(s){return new a(s,this._strings,this._styles)},this))},toDataURL:function(){if(typeof JSZip==="undefined"){throw new Error("JSZip not found. Check http://docs.telerik.com/kendo-ui/framework/excel/introduction#requirements for more details.")}var r=new JSZip();var t=r.folder("docProps");t.file("core.xml",d({creator:this.options.creator||"Kendo UI",lastModifiedBy:this.options.creator||"Kendo UI",created:this.options.date||new Date().toJSON(),modified:this.options.date||new Date().toJSON()}));var C=this._sheets.length;t.file("app.xml",p({sheets:this._sheets}));var x=r.folder("_rels");x.file(".rels",k);var v=r.folder("xl");var u=v.folder("_rels");u.file("workbook.xml.rels",g({count:C}));v.file("workbook.xml",c({sheets:this._sheets}));var s=v.folder("worksheets");for(var B=0;B<C;B++){s.file(n.format("sheet{0}.xml",B+1),this._sheets[B].toXML())}var D=$.map(this._styles,$.parseJSON);var A=function(E){return E.underline||E.bold||E.italic||E.color||E.fontName||E.fontSize};var z=$.map(D,function(E){if(E.color){E.color=h(E.color)}if(A(E)){return E}});var y=$.map(D,function(E){if(E.format&&b[E.format]===undefined){return E}});var w=$.map(D,function(E){if(E.background){E.background=h(E.background);return E}});v.file("styles.xml",q({fonts:z,fills:w,formats:y,styles:$.map(D,function(F){var E={};if(A(F)){E.fontId=$.inArray(F,z)+1}if(F.background){E.fillId=$.inArray(F,w)+2}E.hAlign=F.hAlign;E.vAlign=F.vAlign;E.wrap=F.wrap;if(F.format){if(b[F.format]!==undefined){E.numFmtId=b[F.format]}else{E.numFmtId=165+$.inArray(F,y)}}return E})}));v.file("sharedStrings.xml",m(this._strings));r.file("[Content_Types].xml",i({count:C}));return"data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,"+r.generate({compression:"DEFLATE"})}});n.ooxml={Workbook:o,Worksheet:a}})(kendo);(function(a,b){b.ExcelExporter=b.Class.extend({init:function(c){c.columns=this._trimColumns(c.columns||[]);this.columns=a.map(this._leafColumns(c.columns||[]),this._prepareColumn);this.options=c;var e=c.dataSource;if(e instanceof b.data.DataSource){this.dataSource=new e.constructor(a.extend({},e.options,{page:c.allPages?0:e.page(),filter:e.filter(),pageSize:c.allPages?e.total():e.pageSize(),sort:e.sort(),group:e.group(),aggregate:e.aggregate()}));var d=e.data();if(d.length>0){this.dataSource.data(d.toJSON())}}else{this.dataSource=b.data.DataSource.create(e)}},_trimColumns:function(c){var d=this;return a.grep(c,function(f){var e=!(!f.field||f.hidden);if(!e&&f.columns){e=d._trimColumns(f.columns).length>0}return e})},_leafColumns:function(e){var d=[];for(var c=0;c<e.length;c++){if(!e[c].columns){d.push(e[c]);continue}d=d.concat(this._leafColumns(e[c].columns))}return d},workbook:function(){return a.Deferred(a.proxy(function(c){this.dataSource.fetch().then(a.proxy(function(){var d={sheets:[{columns:this._columns(),rows:this._rows(),freezePane:this._freezePane(),filter:this._filter()}]};c.resolve(d,this.dataSource.view())},this))},this)).promise()},_prepareColumn:function(d){if(!d.field||d.hidden){return}var e=function(f){return f.get(d.field)};if(d.values){var c={};a.each(d.values,function(f){c[this.value]=this.text});e=function(f){return c[f.get(d.field)]}}return a.extend({},d,{value:e,groupHeaderTemplate:b.template(d.groupHeaderTemplate||"${title}: ${value}"),groupFooterTemplate:d.groupFooterTemplate?b.template(d.groupFooterTemplate):null,footerTemplate:d.footerTemplate?b.template(d.footerTemplate):null})},_filter:function(){if(!this.options.filterable){return null}var c=this._depth();return{from:c,to:c+this.columns.length-1}},_dataRows:function(c,f){var e=this._depth();var d=a.map(c,a.proxy(function(g){if(this._hierarchical()){f=this.dataSource.level(g)+1}var n=a.map(new Array(f),function(){return{background:"#dfdfdf",color:"#333"}});if(e&&g.items){var i=a.grep(this.columns,function(p){return p.field==g.field})[0];var j=i&&i.title?i.title:g.field;var m=i?i.groupHeaderTemplate:null;var k=j+": "+g.value;var l=a.extend({title:j,field:g.field,value:g.value,aggregates:g.aggregates},g.aggregates[g.field]);if(m){k=m(l)}n.push({value:k,background:"#dfdfdf",color:"#333",colSpan:this.columns.length+e-f});var o=this._dataRows(g.items,f+1);o.unshift({type:"group-header",cells:n});return o.concat(this._footer(g,f+1))}else{var h=a.map(this.columns,a.proxy(this._cell,this,g));if(this._hierarchical()){h[0].colSpan=e-f+1}return{type:"data",cells:n.concat(h)}}},this));return d},_footer:function(d,g){var e=[];var f=false;var c=a.map(this.columns,function(h){if(h.groupFooterTemplate){f=true;return{background:"#dfdfdf",color:"#333",value:h.groupFooterTemplate(d.aggregates[h.field])}}else{return{background:"#dfdfdf",color:"#333"}}});if(f){e.push({type:"group-footer",cells:a.map(new Array(g),function(){return{background:"#dfdfdf",color:"#333"}}).concat(c)})}return e},_isColumnVisible:function(c){return this._visibleColumns([c]).length>0&&(c.field||c.columns)},_visibleColumns:function(c){var d=this;return a.grep(c,function(f){var e=!f.hidden;if(e&&f.columns){e=d._visibleColumns(f.columns).length>0}return e})},_headerRow:function(e,c){var d=a.map(e.cells,function(f){return{background:"#7a7a7a",color:"#fff",value:f.title,colSpan:f.colSpan>1?f.colSpan:1,rowSpan:e.rowSpan>1&&!f.colSpan?e.rowSpan:1}});if(this._hierarchical()){d[0].colSpan=this._depth()+1}return{type:"header",cells:a.map(new Array(c.length),function(){return{background:"#7a7a7a",color:"#fff"}}).concat(d)}},_prependHeaderRows:function(f){var d=this.dataSource.group();var e=[{rowSpan:1,cells:[],index:0}];this._prepareHeaderRows(e,this.options.columns);for(var c=e.length-1;c>=0;c--){f.unshift(this._headerRow(e[c],d))}},_prepareHeaderRows:function(k,e,c,i){var j=i||k[k.length-1];var f=k[j.index+1];var l=0;var d;var h;for(var g=0;g<e.length;g++){d=e[g];if(this._isColumnVisible(d)){h={title:d.title||d.field,colSpan:0};j.cells.push(h);if(d.columns&&d.columns.length){if(!f){f={rowSpan:0,cells:[],index:k.length};k.push(f)}h.colSpan=this._trimColumns(this._visibleColumns(d.columns)).length;this._prepareHeaderRows(k,d.columns,h,f);l+=h.colSpan-1;j.rowSpan=k.length-j.index}}}if(c){c.colSpan+=l}},_rows:function(){var c=this.dataSource.group();var e=this._dataRows(this.dataSource.view(),0);if(this.columns.length){this._prependHeaderRows(e);var f=false;var d=a.map(this.columns,a.proxy(function(h){if(h.footerTemplate){f=true;var i=this.dataSource.aggregates();var g=i[h.field]||{};g.data=i;return{background:"#dfdfdf",color:"#333",value:h.footerTemplate(g)}}else{return{background:"#dfdfdf",color:"#333"}}},this));if(f){e.push({type:"footer",cells:a.map(new Array(c.length),function(){return{background:"#dfdfdf",color:"#333"}}).concat(d)})}}return e},_headerDepth:function(g){var e=1;var d=0;for(var c=0;c<g.length;c++){if(g[c].columns){var f=this._headerDepth(g[c].columns);if(f>d){d=f}}}return e+d},_freezePane:function(){var d=this._visibleColumns(this.options.columns||[]);var c=this._trimColumns(this._leafColumns(a.grep(d,function(e){return e.locked}))).length;return{rowSplit:this._headerDepth(d),colSplit:c?c+this.dataSource.group().length:0}},_cell:function(c,d){return{value:d.value(c)}},_hierarchical:function(){return this.options.hierarchy&&this.dataSource.level},_depth:function(){var f=this.dataSource;var e=0;var c,d,g;if(this._hierarchical()){c=f.view();for(d=0;d<c.length;d++){g=f.level(c[d]);if(g>e){e=g}}e++}else{e=f.group().length}return e},_columns:function(){var d=this._depth();var c=a.map(new Array(d),function(){return{width:20}});return c.concat(a.map(this.columns,function(e){return{width:parseInt(e.width,10),autoWidth:e.width?false:true}}))}});b.ExcelMixin={extend:function(c){c.events.push("excelExport");c.options.excel=a.extend(c.options.excel,this.options);c.saveAsExcel=this.saveAsExcel},options:{proxyURL:"",allPages:false,filterable:false,fileName:"Export.xlsx"},saveAsExcel:function(){var d=this.options.excel||{};var c=new b.ExcelExporter({columns:this.columns,dataSource:this.dataSource,allPages:d.allPages,filterable:d.filterable,hierarchy:d.hierarchy});c.workbook().then(a.proxy(function(f,g){if(!this.trigger("excelExport",{workbook:f,data:g})){var e=new b.ooxml.Workbook(f);b.saveAs({dataURI:e.toDataURL(),fileName:f.fileName||d.fileName,proxyURL:d.proxyURL,forceProxy:d.forceProxy})}},this))}}})(kendo.jQuery,kendo);(function(a){var b=kendo.data.RemoteTransport.extend({init:function(d){var c=d&&d.signalr?d.signalr:{};var f=c.promise;if(!f){throw new Error('The "promise" option must be set.')}if(typeof f.done!="function"||typeof f.fail!="function"){throw new Error('The "promise" option must be a Promise.')}this.promise=f;var e=c.hub;if(!e){throw new Error('The "hub" option must be set.')}if(typeof e.on!="function"||typeof e.invoke!="function"){throw new Error('The "hub" option is not a valid SignalR hub proxy.')}this.hub=e;kendo.data.RemoteTransport.fn.init.call(this,d)},push:function(d){var c=this.options.signalr.client||{};if(c.create){this.hub.on(c.create,d.pushCreate)}if(c.update){this.hub.on(c.update,d.pushUpdate)}if(c.destroy){this.hub.on(c.destroy,d.pushDestroy)}},_crud:function(d,f){var e=this.hub;var h=this.options.signalr.server;if(!h||!h[f]){throw new Error(kendo.format('The "server.{0}" option must be set.',f))}var c=[h[f]];var g=this.parameterMap(d.data,f);if(!a.isEmptyObject(g)){c.push(g)}this.promise.done(function(){e.invoke.apply(e,c).done(d.success).fail(d.error)})},read:function(c){this._crud(c,"read")},create:function(c){this._crud(c,"create")},update:function(c){this._crud(c,"update")},destroy:function(c){this._crud(c,"destroy")}});a.extend(true,kendo.data,{transports:{signalr:b}})})(window.kendo.jQuery);(function(e,l,j){var a=function(t){var p=this,o=a.formats,s,r,u,q,n;if(arguments.length===1){t=p.resolveColor(t);for(q=0;q<o.length;q++){s=o[q].re;r=o[q].process;u=s.exec(t);if(u){n=r(u);p.r=n[0];p.g=n[1];p.b=n[2]}}}else{p.r=arguments[0];p.g=arguments[1];p.b=arguments[2]}p.r=p.normalizeByte(p.r);p.g=p.normalizeByte(p.g);p.b=p.normalizeByte(p.b)};a.prototype={toHex:function(){var n=this,q=n.padDigit,p=n.r.toString(16),o=n.g.toString(16),i=n.b.toString(16);return"#"+q(p)+q(o)+q(i)},resolveColor:function(i){i=i||"black";if(i.charAt(0)=="#"){i=i.substr(1,6)}i=i.replace(/ /g,"");i=i.toLowerCase();i=a.namedColors[i]||i;return i},normalizeByte:function(i){return(i<0||isNaN(i))?0:((i>255)?255:i)},padDigit:function(i){return(i.length===1)?"0"+i:i},brightness:function(o){var n=this,i=Math.round;n.r=i(n.normalizeByte(n.r*o));n.g=i(n.normalizeByte(n.g*o));n.b=i(n.normalizeByte(n.b*o));return n},percBrightness:function(){var i=this;return Math.sqrt(0.241*i.r*i.r+0.691*i.g*i.g+0.068*i.b*i.b)}};a.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(i){return[j(i[1],10),j(i[2],10),j(i[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(i){return[j(i[1],16),j(i[2],16),j(i[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(i){return[j(i[1]+i[1],16),j(i[2]+i[2],16),j(i[3]+i[3],16)]}}];a.namedColors={aqua:"00ffff",azure:"f0ffff",beige:"f5f5dc",black:"000000",blue:"0000ff",brown:"a52a2a",coral:"ff7f50",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgray:"a9a9a9",darkgreen:"006400",darkorange:"ff8c00",darkred:"8b0000",dimgray:"696969",fuchsia:"ff00ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lightblue:"add8e6",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumblue:"0000cd",navy:"000080",olive:"808000",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",pink:"ffc0cb",plum:"dda0dd",purple:"800080",red:"ff0000",royalblue:"4169e1",salmon:"fa8072",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",steelblue:"4682b4",tan:"d2b48c",teal:"008080",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};var h=["transparent"];for(var f in a.namedColors){if(a.namedColors.hasOwnProperty(f)){h.push(f)}}h=new RegExp("^("+h.join("|")+")(\\W|$)","i");function m(o,n){var i,p;if(o==null||o=="none"){return null}if(o instanceof d){return o}o=o.toLowerCase();if((i=h.exec(o))){if(i[1]=="transparent"){o=new g(1,1,1,0)}else{o=m(a.namedColors[i[1]],n)}o.match=[i[1]];return o}if((i=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})/i.exec(o))){p=new k(j(i[1],16),j(i[2],16),j(i[3],16),1)}else{if((i=/^#?([0-9a-f])([0-9a-f])([0-9a-f])/i.exec(o))){p=new k(j(i[1]+i[1],16),j(i[2]+i[2],16),j(i[3]+i[3],16),1)}else{if((i=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(o))){p=new k(j(i[1],10),j(i[2],10),j(i[3],10),1)}else{if((i=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(o))){p=new k(j(i[1],10),j(i[2],10),j(i[3],10),l(i[4]))}else{if((i=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(o))){p=new g(l(i[1])/100,l(i[2])/100,l(i[3])/100,1)}else{if((i=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(o))){p=new g(l(i[1])/100,l(i[2])/100,l(i[3])/100,l(i[4]))}}}}}}if(p){p.match=i}else{if(!n){throw new Error("Cannot parse color: "+o)}}return p}function c(p,i,o){if(!o){o="0"}p=p.toString(16);while(i>p.length){p="0"+p}return p}var d=kendo.Class.extend({toHSV:function(){return this},toRGB:function(){return this},toHex:function(){return this.toBytes().toHex()},toBytes:function(){return this},toCss:function(){return"#"+this.toHex()},toCssRgba:function(){var i=this.toBytes();return"rgba("+i.r+", "+i.g+", "+i.b+", "+l((+this.a).toFixed(3))+")"},toDisplay:function(){if(kendo.support.browser.msie&&kendo.support.browser.version<9){return this.toCss()}return this.toCssRgba()},equals:function(i){return i===this||i!==null&&this.toCssRgba()==m(i).toCssRgba()},diff:function(i){if(i==null){return NaN}var n=this.toBytes();i=i.toBytes();return Math.sqrt(Math.pow((n.r-i.r)*0.3,2)+Math.pow((n.g-i.g)*0.59,2)+Math.pow((n.b-i.b)*0.11,2))},clone:function(){var i=this.toBytes();if(i===this){i=new k(i.r,i.g,i.b,i.a)}return i}});var g=d.extend({init:function(p,o,i,n){this.r=p;this.g=o;this.b=i;this.a=n},toHSV:function(){var n,t,u,o,x,w;var i=this.r,p=this.g,q=this.b;n=Math.min(i,p,q);t=Math.max(i,p,q);w=t;u=t-n;if(u===0){return new b(0,0,w,this.a)}if(t!==0){x=u/t;if(i==t){o=(p-q)/u}else{if(p==t){o=2+(q-i)/u}else{o=4+(i-p)/u}}o*=60;if(o<0){o+=360}}else{x=0;o=-1}return new b(o,x,w,this.a)},toBytes:function(){return new k(this.r*255,this.g*255,this.b*255,this.a)}});var k=g.extend({init:function(p,o,i,n){this.r=Math.round(p);this.g=Math.round(o);this.b=Math.round(i);this.a=n},toRGB:function(){return new g(this.r/255,this.g/255,this.b/255,this.a)},toHSV:function(){return this.toRGB().toHSV()},toHex:function(){return c(this.r,2)+c(this.g,2)+c(this.b,2)},toBytes:function(){return this}});var b=d.extend({init:function(p,o,n,i){this.h=p;this.s=o;this.v=n;this.a=i},toRGB:function(){var x=this.h,D=this.s,B=this.v;var w,n,y,A,z,u,o,C;if(D===0){n=y=A=B}else{x/=60;w=Math.floor(x);z=x-w;u=B*(1-D);o=B*(1-D*z);C=B*(1-D*(1-z));switch(w){case 0:n=B;y=C;A=u;break;case 1:n=o;y=B;A=u;break;case 2:n=u;y=B;A=C;break;case 3:n=u;y=o;A=B;break;case 4:n=C;y=u;A=B;break;default:n=B;y=u;A=o;break}}return new g(n,y,A,this.a)},toBytes:function(){return this.toRGB().toBytes()}});a.fromBytes=function(p,o,i,n){return new k(p,o,i,n!=null?n:1)};a.fromRGB=function(p,o,i,n){return new g(p,o,i,n!=null?n:1)};a.fromHSV=function(p,o,n,i){return new b(p,o,n,i!=null?i:1)};kendo.Color=a;kendo.parseColor=m})(window.kendo.jQuery,parseFloat,parseInt);(function(z){var v=Math,E=window.kendo,G=E.deepExtend,g=E.dataviz;var y=v.PI/180,c=Number.MAX_VALUE,P=-Number.MAX_VALUE,B="undefined",O=z.inArray,K=[].push,C=[].pop,p=[].splice,t=[].shift,j=[].slice,w=[].unshift;function L(S){return typeof S!==B}function N(U,S){var T=u(S);return v.round(U*T)/T}function u(S){if(S){return v.pow(10,S)}else{return 1}}function l(U,T,S){return v.max(v.min(U,S),T)}function e(S){return S*y}function n(S){return S/y}function R(S){return typeof S==="number"&&!isNaN(S)}function d(T,S){return L(T)?T:S}function x(S){return S*S}function Q(S){var U=[];for(var T in S){U.push(T+S[T])}return U.sort().join("")}function D(U){var T=2166136261;for(var S=0;S<U.length;++S){T+=(T<<1)+(T<<4)+(T<<7)+(T<<8)+(T<<24);T^=U.charCodeAt(S)}return T>>>0}function o(S){return D(Q(S))}var I=Date.now;if(!I){I=function(){return new Date().getTime()}}function r(T){var W=T.length,V,U=c,S=P;for(V=0;V<W;V++){S=v.max(S,T[V]);U=v.min(U,T[V])}return{min:U,max:S}}function q(S){return r(S).min}function a(S){return r(S).max}function i(S){return h(S).min}function M(S){return h(S).max}function h(T){var V=c,S=P;for(var U=0,W=T.length;U<W;U++){var X=T[U];if(X!==null&&isFinite(X)){V=v.min(V,X);S=v.max(S,X)}}return{min:V===c?undefined:V,max:S===P?undefined:S}}function k(S){if(S){return S[S.length-1]}}function H(T,S){T.push.apply(T,S);return T}function b(S){return E.template(S,{useWithBlock:false,paramName:"d"})}function F(S,T){return(L(T)&&T!==null)?" "+S+"='"+T+"' ":""}function A(T){var S="";for(var U=0;U<T.length;U++){S+=F(T[U][0],T[U][1])}return S}function f(T){var S="";for(var U=0;U<T.length;U++){var V=T[U][1];if(L(V)){S+=T[U][0]+":"+V+";"}}if(S!==""){return S}}function s(S){if(typeof S!=="string"){S+="px"}return S}function J(V){var S=[];if(V){var U=E.toHyphens(V).split("-");for(var T=0;T<U.length;T++){S.push("k-pos-"+U[T])}}return S.join(" ")}function m(S){return S===""||S===null||S==="none"||S==="transparent"||!L(S)}G(E,{util:{MAX_NUM:c,MIN_NUM:P,append:H,arrayLimits:r,arrayMin:q,arrayMax:a,defined:L,deg:n,hashKey:D,hashObject:o,isNumber:R,isTransparent:m,last:k,limitValue:l,now:I,objectKey:Q,round:N,rad:e,renderAttr:F,renderAllAttr:A,renderPos:J,renderSize:s,renderStyle:f,renderTemplate:b,sparseArrayLimits:h,sparseArrayMin:i,sparseArrayMax:M,sqr:x,valueOrDefault:d}});E.dataviz.util=E.util})(window.kendo.jQuery);(function(e){var g=window.kendo,c=g.deepExtend,d=String.fromCharCode;var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function a(k){var h="";var r,p,n,q,o,m,l;var j=0;k=f(k);while(j<k.length){r=k.charCodeAt(j++);p=k.charCodeAt(j++);n=k.charCodeAt(j++);q=r>>2;o=((r&3)<<4)|(p>>4);m=((p&15)<<2)|(n>>6);l=n&63;if(isNaN(p)){m=l=64}else{if(isNaN(n)){l=64}}h=h+b.charAt(q)+b.charAt(o)+b.charAt(m)+b.charAt(l)}return h}function f(j){j=j.replace(/\r\n/g,"\n");var h="";for(var k=0;k<j.length;k++){var l=j.charCodeAt(k);if(l<128){h+=d(l)}else{if(l<2048){h+=d(192|(l>>>6));h+=d(128|(l&63))}else{if(l<65536){h+=d(224|(l>>>12));h+=d(128|(l>>>6&63));h+=d(128|(l&63))}}}}return h}c(g.util,{encodeBase64:a,encodeUTF8:f})})(window.kendo.jQuery);(function(e){var c=Math,f=window.kendo,a=f.deepExtend,b=e.inArray;var d={observers:function(){this._observers=this._observers||[];return this._observers},addObserver:function(g){if(!this._observers){this._observers=[g]}else{this._observers.push(g)}return this},removeObserver:function(h){var i=this.observers();var g=b(h,i);if(g!=-1){i.splice(g,1)}return this},trigger:function(i,j){var k=this._observers;var h;var g;if(k&&!this._suspended){for(g=0;g<k.length;g++){h=k[g];if(h[i]){h[i](j)}}}return this},optionsChange:function(g){this.trigger("optionsChange",g)},geometryChange:function(g){this.trigger("geometryChange",g)},suspend:function(){this._suspended=(this._suspended||0)+1;return this},resume:function(){this._suspended=c.max((this._suspended||0)-1,0);return this},_observerField:function(h,g){if(this[h]){this[h].removeObserver(this)}this[h]=g;g.addObserver(this)}};a(f,{mixins:{ObserversMixin:d}})})(window.kendo.jQuery);(function(j){var f=Math,g=f.pow,A=j.inArray,s=window.kendo,y=s.Class,o=s.deepExtend,k=s.mixins.ObserversMixin,a=s.util,d=a.defined,D=a.rad,q=a.deg,C=a.round;var G=f.PI/2,c=a.MIN_NUM,h=a.MAX_NUM;var E=y.extend({init:function(H,I){this.x=H||0;this.y=I||0},equals:function(H){return H&&H.x===this.x&&H.y===this.y},clone:function(){return new E(this.x,this.y)},rotate:function(I,H){return this.transform(p().rotate(I,H))},translate:function(H,I){this.x+=H;this.y+=I;this.geometryChange();return this},translateWith:function(H){return this.translate(H.x,H.y)},move:function(H,I){this.x=this.y=0;return this.translate(H,I)},scale:function(I,H){if(!d(H)){H=I}this.x*=I;this.y*=H;this.geometryChange();return this},scaleCopy:function(I,H){return this.clone().scale(I,H)},transform:function(I){var J=n(I),H=this.x,K=this.y;this.x=J.a*H+J.c*K+J.e;this.y=J.b*H+J.d*K+J.f;this.geometryChange();return this},transformCopy:function(I){var H=this.clone();if(I){H.transform(I)}return H},distanceTo:function(H){var J=this.x-H.x;var I=this.y-H.y;return f.sqrt(J*J+I*I)},round:function(H){this.x=C(this.x,H);this.y=C(this.y,H);this.geometryChange();return this},toArray:function(J){var I=d(J);var H=I?C(this.x,J):this.x;var K=I?C(this.y,J):this.y;return[H,K]}});e(E.fn,["x","y"]);o(E.fn,k);E.fn.toString=function(I,J){var H=this.x,K=this.y;if(d(I)){H=C(H,I);K=C(K,I)}J=J||" ";return H+J+K};E.create=function(I,H){if(d(I)){if(I instanceof E){return I}else{if(arguments.length===1&&I.length===2){return new E(I[0],I[1])}else{return new E(I,H)}}}};E.min=function(){var H=a.MAX_NUM;var K=a.MAX_NUM;for(var I=0;I<arguments.length;I++){var J=arguments[I];H=f.min(J.x,H);K=f.min(J.y,K)}return new E(H,K)};E.max=function(M,L){var K=a.MIN_NUM;var I=a.MIN_NUM;for(var H=0;H<arguments.length;H++){var J=arguments[H];K=f.max(J.x,K);I=f.max(J.y,I)}return new E(K,I)};E.minPoint=function(){return new E(c,c)};E.maxPoint=function(){return new E(h,h)};E.ZERO=new E(0,0);var z=y.extend({init:function(I,H){this.width=I||0;this.height=H||0},equals:function(H){return H&&H.width===this.width&&H.height===this.height},clone:function(){return new z(this.width,this.height)},toArray:function(K){var J=d(K);var I=J?C(this.width,K):this.width;var H=J?C(this.height,K):this.height;return[I,H]}});e(z.fn,["width","height"]);o(z.fn,k);z.create=function(I,H){if(d(I)){if(I instanceof z){return I}else{if(arguments.length===1&&I.length===2){return new z(I[0],I[1])}else{return new z(I,H)}}}};z.ZERO=new z(0,0);var m=y.extend({init:function(H,I){this.setOrigin(H||new E());this.setSize(I||new z())},clone:function(){return new m(this.origin.clone(),this.size.clone())},equals:function(H){return H&&H.origin.equals(this.origin)&&H.size.equals(this.size)},setOrigin:function(H){this._observerField("origin",E.create(H));this.geometryChange();return this},getOrigin:function(){return this.origin},setSize:function(H){this._observerField("size",z.create(H));this.geometryChange();return this},getSize:function(){return this.size},width:function(){return this.size.width},height:function(){return this.size.height},topLeft:function(){return this.origin.clone()},bottomRight:function(){return this.origin.clone().translate(this.width(),this.height())},topRight:function(){return this.origin.clone().translate(this.width(),0)},bottomLeft:function(){return this.origin.clone().translate(0,this.height())},center:function(){return this.origin.clone().translate(this.width()/2,this.height()/2)},bbox:function(I){var H=this.topLeft().transformCopy(I);var K=this.topRight().transformCopy(I);var J=this.bottomRight().transformCopy(I);var L=this.bottomLeft().transformCopy(I);return m.fromPoints(H,K,J,L)}});o(m.fn,k);m.fromPoints=function(){var J=E.min.apply(this,arguments);var I=E.max.apply(this,arguments);var H=new z(I.x-J.x,I.y-J.y);return new m(J,H)};m.union=function(I,H){return m.fromPoints(E.min(I.topLeft(),H.topLeft()),E.max(I.bottomRight(),H.bottomRight()))};m.intersect=function(I,H){I={left:I.topLeft().x,top:I.topLeft().y,right:I.bottomRight().x,bottom:I.bottomRight().y};H={left:H.topLeft().x,top:H.topLeft().y,right:H.bottomRight().x,bottom:H.bottomRight().y};if(I.left<=H.right&&H.left<=I.right&&I.top<=H.bottom&&H.top<=I.bottom){return m.fromPoints(new E(f.max(I.left,H.left),f.max(I.top,H.top)),new E(f.min(I.right,H.right),f.min(I.bottom,H.bottom)))}};var v=y.extend({init:function(I,H){this.setCenter(I||new E());this.setRadius(H||0)},setCenter:function(H){this._observerField("center",E.create(H));this.geometryChange();return this},getCenter:function(){return this.center},equals:function(H){return H&&H.center.equals(this.center)&&H.radius===this.radius},clone:function(){return new v(this.center.clone(),this.radius)},pointAt:function(H){return this._pointAt(D(H))},bbox:function(J){var H=E.maxPoint();var I=E.minPoint();var O=F(this.center,this.radius,this.radius,J);for(var K=0;K<4;K++){var N=this._pointAt(O.x+K*G).transformCopy(J);var M=this._pointAt(O.y+K*G).transformCopy(J);var L=new E(N.x,M.y);H=E.min(H,L);I=E.max(I,L)}return m.fromPoints(H,I)},_pointAt:function(I){var J=this.center;var H=this.radius;return new E(J.x-H*f.cos(I),J.y-H*f.sin(I))}});e(v.fn,["radius"]);o(v.fn,k);var u=y.extend({init:function(H,I){this.setCenter(H||new E());I=I||{};this.radiusX=I.radiusX;this.radiusY=I.radiusY||I.radiusX;this.startAngle=I.startAngle;this.endAngle=I.endAngle;this.anticlockwise=I.anticlockwise||false},clone:function(){return new u(this.center,{radiusX:this.radiusX,radiusY:this.radiusY,startAngle:this.startAngle,endAngle:this.endAngle,anticlockwise:this.anticlockwise})},setCenter:function(H){this._observerField("center",E.create(H));this.geometryChange();return this},getCenter:function(){return this.center},MAX_INTERVAL:45,pointAt:function(J){var H=this.center;var I=D(J);return new E(H.x+this.radiusX*f.cos(I),H.y+this.radiusY*f.sin(I))},curvePoints:function(){var Q=this.startAngle;var M=this.endAngle;var N=this.anticlockwise?-1:1;var L=[this.pointAt(Q)];var O=Q;var J=this._arcInterval();var S=J.endAngle-J.startAngle;var H=f.ceil(S/this.MAX_INTERVAL);var I=S/H;for(var P=1;P<=H;P++){var K=O+N*I;var R=this._intervalCurvePoints(O,K);L.push(R.cp1,R.cp2,R.p2);O=K}return L},bbox:function(V){var J=this;var M=J._arcInterval();var S=M.startAngle;var N=M.endAngle;var O=F(this.center,this.radiusX,this.radiusY,V);var K=q(O.x);var H=q(O.y);var W=J.pointAt(S).transformCopy(V);var T=J.pointAt(N).transformCopy(V);var U=E.min(W,T);var Q=E.max(W,T);var L=x(K,S);var I=x(H,S);while(L<N||I<N){var R;if(L<N){R=J.pointAt(L).transformCopy(V);L+=90}var P;if(I<N){P=J.pointAt(I).transformCopy(V);I+=90}W=new E(R.x,P.y);U=E.min(U,W);Q=E.max(Q,W)}return m.fromPoints(U,Q)},_arcInterval:function(){var I=this.startAngle;var H=this.endAngle;var K=this.anticlockwise;if(K){var J=I;I=H;H=J}if(I>H||(K&&I===H)){H+=360}return{startAngle:I,endAngle:H}},_intervalCurvePoints:function(N,J){var H=this;var P=H.pointAt(N);var O=H.pointAt(J);var M=H._derivativeAt(N);var I=H._derivativeAt(J);var Q=(D(J)-D(N))/3;var L=new E(P.x+Q*M.x,P.y+Q*M.y);var K=new E(O.x-Q*I.x,O.y-Q*I.y);return{p1:P,cp1:L,cp2:K,p2:O}},_derivativeAt:function(J){var H=this;var I=D(J);return new E(-H.radiusX*f.sin(I),H.radiusY*f.cos(I))}});e(u.fn,["radiusX","radiusY","startAngle","endAngle","anticlockwise"]);o(u.fn,k);u.fromPoints=function(N,I,M,K,L,J){var H=l(N.x,N.y,I.x,I.y,M,K,L,J);return new u(H.center,{startAngle:H.startAngle,endAngle:H.endAngle,radiusX:M,radiusY:K,anticlockwise:J===0})};var t=y.extend({init:function(I,H,M,L,K,J){this.a=I||0;this.b=H||0;this.c=M||0;this.d=L||0;this.e=K||0;this.f=J||0},multiplyCopy:function(H){return new t(this.a*H.a+this.c*H.b,this.b*H.a+this.d*H.b,this.a*H.c+this.c*H.d,this.b*H.c+this.d*H.d,this.a*H.e+this.c*H.f+this.e,this.b*H.e+this.d*H.f+this.f)},clone:function(){return new t(this.a,this.b,this.c,this.d,this.e,this.f)},equals:function(H){if(!H){return false}return this.a===H.a&&this.b===H.b&&this.c===H.c&&this.d===H.d&&this.e===H.e&&this.f===H.f},round:function(H){this.a=C(this.a,H);this.b=C(this.b,H);this.c=C(this.c,H);this.d=C(this.d,H);this.e=C(this.e,H);this.f=C(this.f,H);return this},toArray:function(I){var H=[this.a,this.b,this.c,this.d,this.e,this.f];if(d(I)){for(var J=0;J<H.length;J++){H[J]=C(H[J],I)}}return H}});t.fn.toString=function(H,I){return this.toArray(H).join(I||",")};t.translate=function(H,I){return new t(1,0,0,1,H,I)};t.unit=function(){return new t(1,0,0,1,0,0)};t.rotate=function(J,I,K){var H=new t();H.a=f.cos(D(J));H.b=f.sin(D(J));H.c=-H.b;H.d=H.a;H.e=(I-I*H.a+K*H.b)||0;H.f=(K-K*H.a-I*H.b)||0;return H};t.scale=function(I,H){return new t(I,0,0,H,0,0)};t.IDENTITY=t.unit();var B=y.extend({init:function(H){this._matrix=H||t.unit()},clone:function(){return new B(this._matrix.clone())},equals:function(H){return H&&H._matrix.equals(this._matrix)},_optionsChange:function(){this.optionsChange({field:"transform",value:this})},translate:function(H,I){this._matrix=this._matrix.multiplyCopy(t.translate(H,I));this._optionsChange();return this},scale:function(J,I,H){if(!d(I)){I=J}if(H){H=E.create(H);this._matrix=this._matrix.multiplyCopy(t.translate(H.x,H.y))}this._matrix=this._matrix.multiplyCopy(t.scale(J,I));if(H){this._matrix=this._matrix.multiplyCopy(t.translate(-H.x,-H.y))}this._optionsChange();return this},rotate:function(I,H){H=E.create(H)||E.ZERO;this._matrix=this._matrix.multiplyCopy(t.rotate(I,H.x,H.y));this._optionsChange();return this},multiply:function(I){var H=n(I);this._matrix=this._matrix.multiplyCopy(H);this._optionsChange();return this},matrix:function(){return this._matrix}});o(B.fn,k);function p(H){if(H===null){return null}if(H instanceof B){return H}return new B(H)}function n(H){if(H&&s.isFunction(H.matrix)){return H.matrix()}return H}function F(H,M,L,I){var K=0,J=0;if(I){K=f.atan2(I.c*L,I.a*M);if(I.b!==0){J=f.atan2(I.d*L,I.b*M)}}return{x:K,y:J}}function x(H,I){while(H<I){H+=90}return H}function e(K,H){for(var J=0;J<H.length;J++){var I=H[J];var L=I.charAt(0).toUpperCase()+I.substring(1,I.length);K["set"+L]=w(I);K["get"+L]=r(I)}}function w(H){return function(I){if(this[H]!==I){this[H]=I;this.geometryChange()}return this}}function r(H){return function(){return this[H]}}function b(K,H,I){if(K>H){H+=360}var J=f.abs(H-K);if(!I){J=360-J}return J}function i(I,O,M,L,H,N){var K=C((H-I)/M,3);var J=C((N-O)/L,3);return C(q(f.atan2(J,K)))}function l(Y,J,X,H,Q,P,ae,W){var K,I;var T,ad;var af,ac,aa,ag;if(J!==H){var S=X-Y;var ab=H-J;var Z=g(Q,2),M=g(P,2);var V=(M*S*(Y+X)+Z*ab*(J+H))/(2*Z*ab);var R=V-H;var U=-(S*M)/(Z*ab);af=1/Z+g(U,2)/M;ac=2*((U*R)/M-X/Z);aa=g(X,2)/Z+g(R,2)/M-1;ag=f.sqrt(g(ac,2)-4*af*aa);K=(-ac-ag)/(2*af);I=V+U*K;T=(-ac+ag)/(2*af);ad=V+U*T}else{if(Y!==X){ac=-2*H;aa=g(((X-Y)*P)/(2*Q),2)+g(H,2)-g(P,2);ag=f.sqrt(g(ac,2)-4*aa);K=T=(Y+X)/2;I=(-ac-ag)/2;ad=(-ac+ag)/2}else{return false}}var O=i(K,I,Q,P,Y,J);var L=i(K,I,Q,P,X,H);var N=b(O,L,W);if((ae&&N<=180)||(!ae&&N>180)){K=T;I=ad;O=i(K,I,Q,P,Y,J);L=i(K,I,Q,P,X,H)}return{center:new E(K,I),startAngle:O,endAngle:L}}o(s,{geometry:{Arc:u,Circle:v,Matrix:t,Point:E,Rect:m,Size:z,Transformation:B,transform:p,toMatrix:n}});s.dataviz.geometry=s.geometry})(window.kendo.jQuery);(function(f){var l=document,n=f.noop,b=Object.prototype.toString,j=window.kendo,a=j.Class,k=j.ui.Widget,c=j.deepExtend,g=j.util,d=g.defined;var h=j.Observable.extend({init:function(p,o){j.Observable.fn.init.call(this);this.options=c({},this.options,o);this.bind(this.events,this.options);this._click=this._handler("click");this._mouseenter=this._handler("mouseenter");this._mouseleave=this._handler("mouseleave");this.element=f(p);if(this.options.width){this.element.css("width",this.options.width)}if(this.options.height){this.element.css("height",this.options.height)}},options:{},events:["click","mouseenter","mouseleave","resize"],draw:n,clear:n,destroy:n,resize:k.fn.resize,size:k.fn.size,getSize:function(){return{width:this.element.width(),height:this.element.height()}},setSize:function(o){this.element.css({width:o.width,height:o.height});this._size=o;this._resize()},eventTarget:function(q){var o=f(q.touch?q.touch.initialTouch:q.target);var p;while(!p&&o.length>0){p=o[0]._kendoNode;if(o.is(this.element)||o.length===0){break}o=o.parent()}if(p){return p.srcElement}},_resize:n,_handler:function(p){var o=this;return function(r){var q=o.eventTarget(r);if(q){o.trigger(p,{element:q,originalEvent:r})}}}});h.create=function(p,o){return i.current.create(p,o)};var m=a.extend({init:function(o){this.childNodes=[];this.parent=null;if(o){this.srcElement=o;this.observe()}},destroy:function(){if(this.srcElement){this.srcElement.removeObserver(this)}var p=this.childNodes;for(var o=0;o<p.length;o++){this.childNodes[o].destroy()}this.parent=null},load:n,observe:function(){if(this.srcElement){this.srcElement.addObserver(this)}},append:function(o){this.childNodes.push(o);o.parent=this},insertAt:function(o,p){this.childNodes.splice(p,0,o);o.parent=this},remove:function(p,r){var o=p+r;for(var q=p;q<o;q++){this.childNodes[q].removeSelf()}this.childNodes.splice(p,r)},removeSelf:function(){this.clear();this.destroy()},clear:function(){this.remove(0,this.childNodes.length)},invalidate:function(){if(this.parent){this.parent.invalidate()}},geometryChange:function(){this.invalidate()},optionsChange:function(){this.invalidate()},childrenChange:function(o){if(o.action==="add"){this.load(o.items,o.index)}else{if(o.action==="remove"){this.remove(o.index,o.items.length)}}this.invalidate()}});var e=a.extend({init:function(o,p){var q,r;this.prefix=p||"";for(q in o){r=o[q];r=this._wrap(r,q);this[q]=r}},get:function(o){return j.getter(o,true)(this)},set:function(q,o){var p=j.getter(q,true)(this);if(p!==o){var r=this._set(q,this._wrap(o,q));if(!r){this.optionsChange({field:this.prefix+q,value:o})}}},_set:function(s,o){var t=s.indexOf(".")>=0;if(t){var r=s.split("."),q="",p;while(r.length>1){q+=r.shift();p=j.getter(q,true)(this);if(!p){p=new e({},q+".");p.addObserver(this);this[q]=p}if(p instanceof e){p.set(r.join("."),o);return t}q+="."}}this._clear(s);j.setter(s)(this,o);return t},_clear:function(p){var o=j.getter(p,true)(this);if(o&&o.removeObserver){o.removeObserver(this)}},_wrap:function(o,q){var p=b.call(o);if(o!==null&&d(o)&&p==="[object Object]"){if(!(o instanceof e)&&!(o instanceof a)){o=new e(o,this.prefix+q+".")}o.addObserver(this)}return o}});c(e.fn,j.mixins.ObserversMixin);var i=function(){this._items=[]};i.prototype={register:function(q,r,o){var p=this._items,t=p[0],s={name:q,type:r,order:o};if(!t||o<t.order){p.unshift(s)}else{p.push(s)}},create:function(s,q){var o=this._items,p=o[0];if(q&&q.type){var t=q.type.toLowerCase();for(var r=0;r<o.length;r++){if(o[r].name===t){p=o[r];break}}}if(p){return new p.type(s,q)}j.logToConsole("Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\n- The browser does not support SVG, VML and Canvas. User agent: "+navigator.userAgent+"\n- The Kendo UI scripts are not fully loaded")}};i.current=new i();c(j,{drawing:{DASH_ARRAYS:{dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},Color:j.Color,BaseNode:m,OptionsStore:e,Surface:h,SurfaceFactory:i}});j.dataviz.drawing=j.drawing})(window.kendo.jQuery);(function(e){var g=window.kendo,a=g.deepExtend,f=g.util.defined;var b="gradient";var c={extend:function(h){h.fill=this.fill;h.stroke=this.stroke},fill:function(h,j){var i=this.options;if(f(h)){if(h&&h.nodeType!=b){var k={color:h};if(f(j)){k.opacity=j}i.set("fill",k)}else{i.set("fill",h)}return this}else{return i.get("fill")}},stroke:function(h,j,i){if(f(h)){this.options.set("stroke.color",h);if(f(j)){this.options.set("stroke.width",j)}if(f(i)){this.options.set("stroke.opacity",i)}return this}else{return this.options.get("stroke")}}};var d={extend:function(i,h){i.traverse=function(m){var k=this[h];for(var j=0;j<k.length;j++){var l=k[j];if(l.traverse){l.traverse(m)}else{m(l)}}return this}}};a(g.drawing,{mixins:{Paintable:c,Traversable:d}})})(window.kendo.jQuery);(function(e){var k=document,i=window.kendo,a=i.Class,c=i.deepExtend,g=i.util,d=g.defined;var f=1;var h=a.extend({init:function(l){this._size=l;this._length=0;this._map={}},put:function(l,n){var p=this,o=p._map,m={key:l,value:n};o[l]=m;if(!p._head){p._head=p._tail=m}else{p._tail.newer=m;m.older=p._tail;p._tail=m}if(p._length>=p._size){o[p._head.key]=null;p._head=p._head.newer;p._head.older=null}else{p._length++}},get:function(l){var n=this,m=n._map[l];if(m){if(m===n._head&&m!==n._tail){n._head=m.newer;n._head.older=null}if(m!==n._tail){if(m.older){m.older.newer=m.newer;m.newer.older=m.older}m.older=n._tail;m.newer=null;n._tail.newer=m;n._tail=m}return m.value}}});var j=a.extend({init:function(){this._cache=new h(1000)},measure:function(t,l){var o=g.objectKey(l),q=g.hashKey(t+o),m=this._cache.get(q);if(m){return m}var u={width:0,height:0,baseline:0};var p=this._measureBox,n=this._baselineMarker.cloneNode(false);for(var s in l){var r=l[s];if(d(r)){p.style[s]=r}}p.innerHTML=t;p.appendChild(n);k.body.appendChild(p);if((t+"").length){u.width=p.offsetWidth-f;u.height=p.offsetHeight;u.baseline=n.offsetTop+f}this._cache.put(q,u);p.parentNode.removeChild(p);return u}});j.fn._baselineMarker=e("<div class='k-baseline-marker' style='display: inline-block; vertical-align: baseline;width: "+f+"px; height: "+f+"px;overflow: hidden;' />")[0];j.fn._measureBox=e("<div style='position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space:nowrap !important;' />")[0];j.current=new j();function b(m,l){return j.current.measure(m,l)}c(i.drawing,{util:{TextMetrics:j,LRUCache:h,measureText:b}})})(window.kendo.jQuery);(function(J){var L=window.kendo,b=L.Class,P=L.deepExtend,Z=L.geometry,t=Z.Point,x=Z.Rect,d=Z.Size,i=Z.Matrix,y=Z.toMatrix,p=L.drawing,v=p.OptionsStore,G=Math,F=G.pow,l=L.util,Q=l.append,C=l.arrayLimits,T=l.defined,r=l.last,h=l.valueOrDefault,H=L.mixins.ObserversMixin,Y=J.inArray,S=[].push,K=[].pop,B=[].splice,E=[].shift,q=[].slice,I=[].unshift;var n=b.extend({nodeType:"Element",init:function(g){this._initOptions(g)},_initOptions:function(ac){ac=ac||{};var g=ac.transform;var ad=ac.clip;if(g){ac.transform=Z.transform(g)}if(ad&&!ad.id){ad.id=L.guid()}this.options=new v(ac);this.options.addObserver(this)},transform:function(g){if(T(g)){this.options.set("transform",Z.transform(g))}else{return this.options.get("transform")}},parentTransform:function(){var ac=this,ae,g,ad;while(ac.parent){ac=ac.parent;ae=ac.transform();if(ae){ad=ae.matrix().multiplyCopy(ad||i.unit())}}if(ad){return Z.transform(ad)}},currentTransform:function(g){var ad=this.transform(),af=y(ad),ae,ac;if(!T(g)){g=this.parentTransform()}ae=y(g);if(af&&ae){ac=ae.multiplyCopy(af)}else{ac=af||ae}if(ac){return Z.transform(ac)}},visible:function(g){if(T(g)){this.options.set("visible",g);return this}else{return this.options.get("visible")!==false}},clip:function(ac){var g=this.options;if(T(ac)){if(ac&&!ac.id){ac.id=L.guid()}g.set("clip",ac);return this}else{return g.get("clip")}},opacity:function(g){if(T(g)){this.options.set("opacity",g);return this}else{return h(this.options.get("opacity"),1)}},clippedBBox:function(ad){var ac=this._clippedBBox(ad);if(ac){var g=this.clip();return g?x.intersect(ac,g.bbox(ad)):ac}},_clippedBBox:function(g){return this.bbox(g)}});P(n.fn,H);var z=b.extend({init:function(g){g=g||[];this.length=0;this._splice(0,g.length,g)},elements:function(g){if(g){this._splice(0,this.length,g);this._change();return this}else{return this.slice(0)}},push:function(){var ac=arguments;var g=S.apply(this,ac);this._add(ac);return g},slice:q,pop:function(){var ac=this.length;var g=K.apply(this);if(ac){this._remove([g])}return g},splice:function(ac,ad){var ae=q.call(arguments,2);var g=this._splice(ac,ad,ae);this._change();return g},shift:function(){var ac=this.length;var g=E.apply(this);if(ac){this._remove([g])}return g},unshift:function(){var ac=arguments;var g=I.apply(this,ac);this._add(ac);return g},indexOf:function(ac){var ae=this;var g;var ad;for(g=0,ad=ae.length;g<ad;g++){if(ae[g]===ac){return g}}return -1},_splice:function(ac,ad,ae){var g=B.apply(this,[ac,ad].concat(ae));this._clearObserver(g);this._setObserver(ae);return g},_add:function(g){this._setObserver(g);this._change()},_remove:function(g){this._clearObserver(g);this._change()},_setObserver:function(ac){for(var g=0;g<ac.length;g++){ac[g].addObserver(this)}},_clearObserver:function(ac){for(var g=0;g<ac.length;g++){ac[g].removeObserver(this)}},_change:function(){}});P(z.fn,H);var j=n.extend({nodeType:"Group",init:function(g){n.fn.init.call(this,g);this.children=[]},childrenChange:function(ad,g,ac){this.trigger("childrenChange",{action:ad,items:g,index:ac})},append:function(){Q(this.children,arguments);this._reparent(arguments,this);this.childrenChange("add",arguments);return this},insertAt:function(ac,g){this.children.splice(g,0,ac);ac.parent=this;this.childrenChange("add",[ac],g);return this},remove:function(ac){var g=Y(ac,this.children);if(g>=0){this.children.splice(g,1);ac.parent=null;this.childrenChange("remove",[ac],g)}return this},removeAt:function(g){if(0<=g&&g<this.children.length){var ac=this.children[g];this.children.splice(g,1);ac.parent=null;this.childrenChange("remove",[ac],g)}return this},clear:function(){var g=this.children;this.children=[];this._reparent(g,null);this.childrenChange("remove",g,0);return this},bbox:function(g){return e(this.children,true,this.currentTransform(g))},rawBBox:function(){return e(this.children,false)},_clippedBBox:function(g){return w(this.children,this.currentTransform(g))},currentTransform:function(g){return n.fn.currentTransform.call(this,g)||null},_reparent:function(ae,ad){for(var g=0;g<ae.length;g++){var af=ae[g];var ac=af.parent;if(ac&&ac!=this&&ac.remove){ac.remove(af)}af.parent=ad}}});p.mixins.Traversable.extend(j.fn,"children");var u=n.extend({nodeType:"Text",init:function(ad,g,ac){n.fn.init.call(this,ac);this.content(ad);this.position(g||new Z.Point());if(!this.options.font){this.options.font="12px sans-serif"}if(!T(this.options.fill)){this.fill("#000")}},content:function(g){if(T(g)){this.options.set("content",g);return this}else{return this.options.get("content")}},measure:function(){var g=p.util.measureText(this.content(),{font:this.options.get("font")});return g},rect:function(){var g=this.measure();var ac=this.position().clone();return new Z.Rect(ac,[g.width,g.height])},bbox:function(ac){var g=y(this.currentTransform(ac));return this.rect().bbox(g)},rawBBox:function(){return this.rect().bbox()}});p.mixins.Paintable.extend(u.fn);m(u.fn,["position"]);var W=n.extend({nodeType:"Circle",init:function(ac,g){n.fn.init.call(this,g);this.geometry(ac||new Z.Circle());if(!T(this.options.stroke)){this.stroke("#000")}},bbox:function(ad){var g=y(this.currentTransform(ad));var ac=this._geometry.bbox(g);var ae=this.options.get("stroke.width");if(ae){aa(ac,ae/2)}return ac},rawBBox:function(){return this._geometry.bbox()}});p.mixins.Paintable.extend(W.fn);s(W.fn,["geometry"]);var o=n.extend({nodeType:"Arc",init:function(ac,g){n.fn.init.call(this,g);this.geometry(ac||new Z.Arc());if(!T(this.options.stroke)){this.stroke("#000")}},bbox:function(ad){var g=y(this.currentTransform(ad));var ac=this.geometry().bbox(g);var ae=this.options.get("stroke.width");if(ae){aa(ac,ae/2)}return ac},rawBBox:function(){return this.geometry().bbox()},toPath:function(){var ac=new M();var ad=this.geometry().curvePoints();if(ad.length>0){ac.moveTo(ad[0].x,ad[0].y);for(var g=1;g<ad.length;g+=3){ac.curveTo(ad[g],ad[g+1],ad[g+2])}}return ac}});p.mixins.Paintable.extend(o.fn);s(o.fn,["geometry"]);var k=z.extend({_change:function(){this.geometryChange()}});var f=b.extend({init:function(g,ad,ac){this.anchor(g||new t());this.controlIn(ad);this.controlOut(ac)},bboxTo:function(ad,g){var ae;var ac=this.anchor().transformCopy(g);var af=ad.anchor().transformCopy(g);if(this.controlOut()&&ad.controlIn()){ae=this._curveBoundingBox(ac,this.controlOut().transformCopy(g),ad.controlIn().transformCopy(g),af)}else{ae=this._lineBoundingBox(ac,af)}return ae},_lineBoundingBox:function(ac,g){return x.fromPoints(ac,g)},_curveBoundingBox:function(ai,ad,ac,af){var ah=[ai,ad,ac,af],ag=this._curveExtremesFor(ah,"x"),ae=this._curveExtremesFor(ah,"y"),g=C([ag.min,ag.max,ai.x,af.x]),aj=C([ae.min,ae.max,ai.y,af.y]);return x.fromPoints(new t(g.min,aj.min),new t(g.max,aj.max))},_curveExtremesFor:function(g,ac){var ad=this._curveExtremes(g[0][ac],g[1][ac],g[2][ac],g[3][ac]);return{min:this._calculateCurveAt(ad.min,ac,g),max:this._calculateCurveAt(ad.max,ac,g)}},_calculateCurveAt:function(g,ae,ac){var ad=1-g;return F(ad,3)*ac[0][ae]+3*F(ad,2)*g*ac[1][ae]+3*F(g,2)*ad*ac[2][ae]+F(g,3)*ac[3][ae]},_curveExtremes:function(ad,ac,g,am){var ak=ad-3*ac+3*g-am;var aj=-2*(ad-2*ac+g);var ah=ad-ac;var al=G.sqrt(aj*aj-4*ak*ah);var ag=0;var af=1;if(ak===0){if(aj!==0){ag=af=-ah/aj}}else{if(!isNaN(al)){ag=(-aj+al)/(2*ak);af=(-aj-al)/(2*ak)}}var ae=G.max(G.min(ag,af),0);if(ae<0||ae>1){ae=0}var ai=G.min(G.max(ag,af),1);if(ai>1||ai<0){ai=1}return{min:ae,max:ai}}});m(f.fn,["anchor","controlIn","controlOut"]);P(f.fn,H);var M=n.extend({nodeType:"Path",init:function(g){n.fn.init.call(this,g);this.segments=new k();this.segments.addObserver(this);if(!T(this.options.stroke)){this.stroke("#000");if(!T(this.options.stroke.lineJoin)){this.options.set("stroke.lineJoin","miter")}}},moveTo:function(g,ac){this.suspend();this.segments.elements([]);this.resume();this.lineTo(g,ac);return this},lineTo:function(ac,ae){var g=T(ae)?new t(ac,ae):ac,ad=new f(g);this.segments.push(ad);return this},curveTo:function(ad,af,g){if(this.segments.length>0){var ac=r(this.segments);var ae=new f(g,af);this.suspend();ac.controlOut(ad);this.resume();this.segments.push(ae)}return this},arc:function(aj,ag,af,ac,ah){if(this.segments.length>0){var ak=r(this.segments);var ai=ak.anchor();var ae=l.rad(aj);var g=new t(ai.x-af*G.cos(ae),ai.y-ac*G.sin(ae));var ad=new Z.Arc(g,{startAngle:aj,endAngle:ag,radiusX:af,radiusY:ac,anticlockwise:ah});this._addArcSegments(ad)}return this},arcTo:function(ac,ai,ag,ah,ad){if(this.segments.length>0){var g=r(this.segments);var ae=g.anchor();var af=Z.Arc.fromPoints(ae,ac,ai,ag,ah,ad);this._addArcSegments(af)}return this},_addArcSegments:function(ac){this.suspend();var ad=ac.curvePoints();for(var g=1;g<ad.length;g+=3){this.curveTo(ad[g],ad[g+1],ad[g+2])}this.resume();this.geometryChange()},close:function(){this.options.closed=true;this.geometryChange();return this},bbox:function(ad){var ac=y(this.currentTransform(ad));var g=this._bbox(ac);var ae=this.options.get("stroke.width");if(ae){aa(g,ae/2)}return g},rawBBox:function(){return this._bbox()},_bbox:function(g){var af=this.segments;var ah=af.length;var ae;if(ah===1){var ad=af[0].anchor().transformCopy(g);ae=new x(ad,d.ZERO)}else{if(ah>0){for(var ag=1;ag<ah;ag++){var ac=af[ag-1].bboxTo(af[ag],g);if(ae){ae=x.union(ae,ac)}else{ae=ac}}}}return ae}});p.mixins.Paintable.extend(M.fn);M.fromRect=function(ac,g){return new M(g).moveTo(ac.topLeft()).lineTo(ac.topRight()).lineTo(ac.bottomRight()).lineTo(ac.bottomLeft()).close()};M.fromPoints=function(ad,g){if(ad){var af=new M(g);for(var ac=0;ac<ad.length;ac++){var ae=t.create(ad[ac]);if(ae){if(ac===0){af.moveTo(ae)}else{af.lineTo(ae)}}}return af}};M.fromArc=function(ad,g){var ae=new M(g);var ac=ad.startAngle;var af=ad.pointAt(ac);ae.moveTo(af.x,af.y);ae.arc(ac,ad.endAngle,ad.radiusX,ad.radiusY,ad.anticlockwise);return ae};var a=n.extend({nodeType:"MultiPath",init:function(g){n.fn.init.call(this,g);this.paths=new k();this.paths.addObserver(this);if(!T(this.options.stroke)){this.stroke("#000")}},moveTo:function(g,ad){var ac=new M();ac.moveTo(g,ad);this.paths.push(ac);return this},lineTo:function(g,ac){if(this.paths.length>0){r(this.paths).lineTo(g,ac)}return this},curveTo:function(ac,ad,g){if(this.paths.length>0){r(this.paths).curveTo(ac,ad,g)}return this},arc:function(ac,g,af,ae,ad){if(this.paths.length>0){r(this.paths).arc(ac,g,af,ae,ad)}return this},arcTo:function(g,af,ad,ae,ac){if(this.paths.length>0){r(this.paths).arcTo(g,af,ad,ae,ac)}return this},close:function(){if(this.paths.length>0){r(this.paths).close()}return this},bbox:function(g){return e(this.paths,true,this.currentTransform(g))},rawBBox:function(){return e(this.paths,false)},_clippedBBox:function(g){return w(this.paths,this.currentTransform(g))}});p.mixins.Paintable.extend(a.fn);var X=n.extend({nodeType:"Image",init:function(ad,ac,g){n.fn.init.call(this,g);this.src(ad);this.rect(ac||new Z.Rect())},src:function(g){if(T(g)){this.options.set("src",g);return this}else{return this.options.get("src")}},bbox:function(ac){var g=y(this.currentTransform(ac));return this._rect.bbox(g)},rawBBox:function(){return this._rect.bbox()}});s(X.fn,["rect"]);var D=b.extend({init:function(ad,g,ac){this.options=new v({offset:ad,color:g,opacity:T(ac)?ac:1});this.options.addObserver(this)}});R(D.fn,["offset","color","opacity"]);P(D.fn,H);D.create=function(g){if(T(g)){var ac;if(g instanceof D){ac=g}else{if(g.length>1){ac=new D(g[0],g[1],g[2])}else{ac=new D(g.offset,g.color,g.opacity)}}return ac}};var V=z.extend({_change:function(){this.optionsChange({field:"stops"})}});var U=b.extend({nodeType:"gradient",init:function(g){this.stops=new V(this._createStops(g.stops));this.stops.addObserver(this);this._userSpace=g.userSpace;this.id=L.guid()},userSpace:function(g){if(T(g)){this._userSpace=g;this.optionsChange();return this}else{return this._userSpace}},_createStops:function(ad){var ac=[];var g;ad=ad||[];for(g=0;g<ad.length;g++){ac.push(D.create(ad[g]))}return ac},addStop:function(ad,g,ac){this.stops.push(new D(ad,g,ac))},removeStop:function(ac){var g=this.stops.indexOf(ac);if(g>=0){this.stops.splice(g,1)}}});P(U.fn,H,{optionsChange:function(g){this.trigger("optionsChange",{field:"gradient"+(g?"."+g.field:""),value:this})},geometryChange:function(){this.optionsChange()}});var ab=U.extend({init:function(g){g=g||{};U.fn.init.call(this,g);this.start(g.start||new t());this.end(g.end||new t(1,0))}});m(ab.fn,["start","end"]);var A=U.extend({init:function(g){g=g||{};U.fn.init.call(this,g);this.center(g.center||new t());this._radius=T(g.radius)?g.radius:1;this._fallbackFill=g.fallbackFill},radius:function(g){if(T(g)){this._radius=g;this.geometryChange();return this}else{return this._radius}},fallbackFill:function(g){if(T(g)){this._fallbackFill=g;this.optionsChange();return this}else{return this._fallbackFill}}});m(A.fn,["center"]);function e(ah,g,af){var ac;for(var ae=0;ae<ah.length;ae++){var ad=ah[ae];if(ad.visible()){var ag=g?ad.bbox(af):ad.rawBBox();if(ag){if(ac){ac=x.union(ac,ag)}else{ac=ag}}}}return ac}function w(ag,ae){var g;for(var ad=0;ad<ag.length;ad++){var ac=ag[ad];if(ac.visible()){var af=ac.clippedBBox(ae);if(af){if(g){g=x.union(g,af)}else{g=af}}}}return g}function aa(g,ac){g.origin.x-=ac;g.origin.y-=ac;g.size.width+=ac*2;g.size.height+=ac*2}function s(ac,ad){for(var g=0;g<ad.length;g++){ac[ad[g]]=O(ad[g])}}function O(g){var ac="_"+g;return function(ad){if(T(ad)){this._observerField(ac,ad);this.geometryChange();return this}else{return this[ac]}}}function m(ac,ad){for(var g=0;g<ad.length;g++){ac[ad[g]]=N(ad[g])}}function N(g){var ac="_"+g;return function(ad){if(T(ad)){this._observerField(ac,t.create(ad));this.geometryChange();return this}else{return this[ac]}}}function R(ac,ad){for(var g=0;g<ad.length;g++){ac[ad[g]]=c(ad[g])}}function c(g){return function(ac){if(T(ac)){this.options.set(g,ac);return this}else{return this.options.get(g)}}}P(p,{Arc:o,Circle:W,Element:n,ElementsArray:z,Gradient:U,GradientStop:D,Group:j,Image:X,LinearGradient:ab,MultiPath:a,Path:M,RadialGradient:A,Segment:f,Text:u})})(window.kendo.jQuery);(function(d){var o=window.kendo,u=o.drawing,e=o.geometry,q=o.Class,t=e.Point,m=o.deepExtend,p=d.trim,a=o.util,n=a.deg,j=a.last,s=a.round;var r=/([a-z]{1})([^a-z]*)(z)?/gi,f=/[,\s]?(-?(?:\d+\.)?\d+)/g,v="m",b="z";var c=q.extend({parse:function(z,x){var B=this;var y=new u.MultiPath(x);var w=new t();var A;z.replace(r,function(C,D,H,I){var G=D.toLowerCase();var E=G===D;var F=i(p(H));if(G===v){if(E){w.x+=F[0];w.y+=F[1]}else{w.x=F[0];w.y=F[1]}y.moveTo(w.x,w.y);if(F.length>2){G="l";F.splice(0,2)}}if(l[G]){l[G](y,{parameters:F,position:w,isRelative:E,previousCommand:A});if(I&&I.toLowerCase()===b){y.close()}}else{if(G!==v){throw new Error("Error while parsing SVG path. Unsupported command: "+G)}}A=G});return y}});var l={l:function(B,y){var A=y.parameters;var x=y.position;for(var z=0;z<A.length;z+=2){var w=new t(A[z],A[z+1]);if(y.isRelative){w.translateWith(x)}B.lineTo(w.x,w.y);x.x=w.x;x.y=w.y}},c:function(D,y){var B=y.parameters;var x=y.position;var A,C,w;for(var z=0;z<B.length;z+=6){A=new t(B[z],B[z+1]);C=new t(B[z+2],B[z+3]);w=new t(B[z+4],B[z+5]);if(y.isRelative){C.translateWith(x);A.translateWith(x);w.translateWith(x)}D.curveTo(A,C,w);x.x=w.x;x.y=w.y}},v:function(y,w){var x=w.isRelative?0:w.position.x;h(w.parameters,true,x);this.l(y,w)},h:function(y,w){var x=w.isRelative?0:w.position.y;h(w.parameters,false,x);this.l(y,w)},a:function(E,F){var D=F.parameters;var B=F.position;for(var A=0;A<D.length;A+=7){var x=D[A];var w=D[A+1];var y=D[A+3];var z=D[A+4];var C=new t(D[A+5],D[A+6]);if(F.isRelative){C.translateWith(B)}E.arcTo(C,x,w,y,z);B.x=C.x;B.y=C.y}},s:function(E,F){var D=F.parameters;var x=F.position;var y=F.previousCommand;var A,B,z,C;if(y=="s"||y=="c"){C=j(j(E.paths).segments).controlIn()}for(var w=0;w<D.length;w+=4){z=new t(D[w],D[w+1]);B=new t(D[w+2],D[w+3]);if(F.isRelative){z.translateWith(x);B.translateWith(x)}if(C){A=k(C,x)}else{A=x.clone()}C=z;E.curveTo(A,z,B);x.x=B.x;x.y=B.y}},q:function(D,z){var C=z.parameters;var x=z.position;var w,B,y;for(var A=0;A<C.length;A+=4){y=new t(C[A],C[A+1]);B=new t(C[A+2],C[A+3]);if(z.isRelative){y.translateWith(x);B.translateWith(x)}w=g(x,y,B);D.curveTo(w.controlOut,w.controlIn,B);x.x=B.x;x.y=B.y}},t:function(E,F){var D=F.parameters;var x=F.position;var y=F.previousCommand;var A,z,C;if(y=="q"||y=="t"){var B=j(j(E.paths).segments);z=B.controlIn().clone().translateWith(x.scaleCopy(-1/3)).scale(3/2)}for(var w=0;w<D.length;w+=2){C=new t(D[w],D[w+1]);if(F.isRelative){C.translateWith(x)}if(z){z=k(z,x)}else{z=x.clone()}A=g(x,z,C);E.curveTo(A.controlOut,A.controlIn,C);x.x=C.x;x.y=C.y}}};function i(x){var w=[];x.replace(f,function(y,z){w.push(parseFloat(z))});return w}function h(x,A,z){var y=A?0:1;for(var w=0;w<x.length;w+=2){x.splice(w+y,0,z)}}function k(x,w){if(x&&w){return w.scaleCopy(2).translate(-x.x,-x.y)}}function g(w,x,z){var y=1/3;x=x.clone().scale(2/3);return{controlOut:x.clone().translateWith(w.scaleCopy(y)),controlIn:x.translateWith(z.scaleCopy(y))}}c.current=new c();u.Path.parse=function(x,w){return c.current.parse(x,w)};m(u,{PathParser:c})})(window.kendo.jQuery);(function(z){var i=document,D=window.kendo,K=D.deepExtend,W=D.geometry,Z=D.drawing,y=Z.BaseNode,j=D.util,P=j.defined,o=j.isTransparent,H=j.renderAttr,C=j.renderAllAttr,w=j.renderSize,c=j.renderTemplate,V=z.inArray;var aa="butt",L=Z.DASH_ARRAYS,l="gradient",J="none",G=".kendo",p="solid",b=" ",x="square",h="http://www.w3.org/2000/svg",X="transform",B="undefined";var E=Z.Surface.extend({init:function(g,d){Z.Surface.fn.init.call(this,g,d);this._root=new I(this.options);e(this.element[0],this._template(this));this._rootElement=this.element[0].firstElementChild;Q(this._rootElement);this._root.attachTo(this._rootElement);this.element.on("click"+G,this._click);this.element.on("mouseover"+G,this._mouseenter);this.element.on("mouseout"+G,this._mouseleave);this.resize()},type:"svg",destroy:function(){if(this._root){this._root.destroy();this._root=null;this._rootElement=null;this.element.off(G)}Z.Surface.fn.destroy.call(this)},translate:function(g){var d=D.format("{0} {1} {2} {3}",Math.round(g.x),Math.round(g.y),this._size.width,this._size.height);this._offset=g;this._rootElement.setAttribute("viewBox",d)},draw:function(d){this._root.load([d])},clear:function(){this._root.clear()},svg:function(){return"<?xml version='1.0' ?>"+this._template(this)},_resize:function(){if(this._offset){this.translate(this._offset)}},_template:c("<svg style='width: 100%; height: 100%; overflow: hidden;' xmlns='"+h+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>#= d._root.render() #</svg>")});var t=y.extend({init:function(d){y.fn.init.call(this,d);this.definitions={}},destroy:function(){if(this.element){this.element._kendoNode=null;this.element=null}this.clearDefinitions();y.fn.destroy.call(this)},load:function(ag,ah){var af=this,ae=af.element,ad,d,ac,g;for(g=0;g<ag.length;g++){d=ag[g];ac=d.children;ad=new T[d.nodeType](d);if(P(ah)){af.insertAt(ad,ah)}else{af.append(ad)}ad.createDefinitions();if(ac&&ac.length>0){ad.load(ac)}if(ae){ad.attachTo(ae,ah)}}},root:function(){var d=this;while(d.parent){d=d.parent}return d},attachTo:function(ac,ad){var d=i.createElement("div");e(d,"<svg xmlns='"+h+"' version='1.1'>"+this.render()+"</svg>");var g=d.firstChild.firstChild;if(g){if(P(ad)){ac.insertBefore(g,ac.childNodes[ad])}else{ac.appendChild(g)}this.setElement(g)}},setElement:function(ad){var d=this.childNodes,g,ac;if(this.element){this.element._kendoNode=null}this.element=ad;this.element._kendoNode=this;for(ac=0;ac<d.length;ac++){g=ad.childNodes[ac];d[ac].setElement(g)}},clear:function(){this.clearDefinitions();if(this.element){this.element.innerHTML=""}var g=this.childNodes;for(var d=0;d<g.length;d++){g[d].destroy()}this.childNodes=[]},removeSelf:function(){if(this.element){this.element.parentNode.removeChild(this.element);this.element=null}y.fn.removeSelf.call(this)},template:c("#= d.renderChildren() #"),render:function(){return this.template(this)},renderChildren:function(){var g=this.childNodes,d="",ac;for(ac=0;ac<g.length;ac++){d+=g[ac].render()}return d},optionsChange:function(ac){var g=ac.field;var d=ac.value;if(g==="visible"){this.css("display",d?"":J)}else{if(a[g]&&k(g,d)){this.updateDefinition(g,d)}else{if(g==="opacity"){this.attr("opacity",d)}}}y.fn.optionsChange.call(this,ac)},attr:function(d,g){if(this.element){this.element.setAttribute(d,g)}},allAttr:function(d){for(var g=0;g<d.length;g++){this.attr(d[g][0],d[g][1])}},css:function(d,g){if(this.element){this.element.style[d]=g}},allCss:function(g){for(var d=0;d<g.length;d++){this.css(g[d][0],g[d][1])}},removeAttr:function(d){if(this.element){this.element.removeAttribute(d)}},mapTransform:function(g){var d=[];if(g){d.push([X,"matrix("+g.matrix().toString(6)+")"])}return d},renderTransform:function(){return C(this.mapTransform(this.srcElement.transform()))},transformChange:function(d){if(d){this.allAttr(this.mapTransform(d))}else{this.removeAttr(X)}},mapStyle:function(){var d=this.srcElement.options;var g=[["cursor",d.cursor]];if(d.visible===false){g.push(["display",J])}return g},renderStyle:function(){return H("style",j.renderStyle(this.mapStyle()))},renderOpacity:function(){return H("opacity",this.srcElement.options.opacity)},createDefinitions:function(){var d=this.srcElement;var ad=this.definitions;var ac,af,g,ae;if(d){g=d.options;for(af in a){ac=g.get(af);if(ac&&k(af,ac)){ad[af]=ac;ae=true}}if(ae){this.definitionChange({action:"add",definitions:ad})}}},definitionChange:function(d){if(this.parent){this.parent.definitionChange(d)}},updateDefinition:function(ad,ae){var ac=this.definitions;var af=ac[ad];var d=a[ad];var g={};if(af){g[ad]=af;this.definitionChange({action:"remove",definitions:g});delete ac[ad]}if(!ae){if(af){this.removeAttr(d)}}else{g[ad]=ae;this.definitionChange({action:"add",definitions:g});ac[ad]=ae;this.attr(d,S(ae.id))}},clearDefinitions:function(){var d=this.definitions;var g;for(g in d){this.definitionChange({action:"remove",definitions:d});this.definitions={};break}},renderDefinitions:function(){return C(this.mapDefinitions())},mapDefinitions:function(){var g=this.definitions;var d=[];var ac;for(ac in g){d.push([a[ac],S(g[ac].id)])}return d}});var I=t.extend({init:function(d){t.fn.init.call(this);this.options=d;this.defs=new O()},attachTo:function(d){this.element=d;this.defs.attachTo(d.firstElementChild)},clear:function(){y.fn.clear.call(this)},template:c("#=d.defs.render()##= d.renderChildren() #"),definitionChange:function(d){this.defs.definitionChange(d)}});var O=t.extend({init:function(){t.fn.init.call(this);this.definitionMap={}},attachTo:function(d){this.element=d},template:c("<defs>#= d.renderChildren()#</defs>"),definitionChange:function(ac){var d=ac.definitions;var g=ac.action;if(g=="add"){this.addDefinitions(d)}else{if(g=="remove"){this.removeDefinitions(d)}}},createDefinition:function(g,ac){var d;if(g=="clip"){d=v}else{if(g=="fill"){if(ac instanceof Z.LinearGradient){d=Y}else{if(ac instanceof Z.RadialGradient){d=U}}}}return new d(ac)},addDefinitions:function(d){for(var g in d){this.addDefinition(g,d[g])}},addDefinition:function(ac,d){var ae=this.definitionMap;var ag=d.id;var g=this.element;var ad,af;af=ae[ag];if(!af){ad=this.createDefinition(ac,d);ae[ag]={element:ad,count:1};this.append(ad);if(g){ad.attachTo(this.element)}}else{af.count++}},removeDefinitions:function(d){for(var g in d){this.removeDefinition(d[g])}},removeDefinition:function(d){var g=this.definitionMap;var ad=d.id;var ac;ac=g[ad];if(ac){ac.count--;if(ac.count===0){this.remove(V(ac.element,this.childNodes),1);delete g[ad]}}}});var v=t.extend({init:function(d){t.fn.init.call(this);this.srcElement=d;this.id=d.id;this.load([d])},template:c("<clipPath id='#=d.id#'>#= d.renderChildren()#</clipPath>")});var F=t.extend({template:c("<g#= d.renderTransform() + d.renderStyle() + d.renderOpacity() + d.renderDefinitions()#>#= d.renderChildren() #</g>"),optionsChange:function(d){if(d.field==X){this.transformChange(d.value)}t.fn.optionsChange.call(this,d)}});var n=t.extend({geometryChange:function(){this.attr("d",this.renderData());this.invalidate()},optionsChange:function(g){switch(g.field){case"fill":if(g.value){this.allAttr(this.mapFill(g.value))}else{this.removeAttr("fill")}break;case"fill.color":this.allAttr(this.mapFill({color:g.value}));break;case"stroke":if(g.value){this.allAttr(this.mapStroke(g.value))}else{this.removeAttr("stroke")}break;case X:this.transformChange(g.value);break;default:var d=this.attributeMap[g.field];if(d){this.attr(d,g.value)}break}t.fn.optionsChange.call(this,g)},attributeMap:{"fill.opacity":"fill-opacity","stroke.color":"stroke","stroke.width":"stroke-width","stroke.opacity":"stroke-opacity"},content:function(d){if(this.element){this.element.textContent=this.srcElement.content()}},renderData:function(){return this.printPath(this.srcElement)},printPath:function(ah){var ac=ah.segments,ae=ac.length;if(ae>0){var ag=[],d,af,g,ad;for(ad=1;ad<ae;ad++){af=this.segmentType(ac[ad-1],ac[ad]);if(af!==g){g=af;ag.push(af)}if(af==="L"){ag.push(this.printPoints(ac[ad].anchor()))}else{ag.push(this.printPoints(ac[ad-1].controlOut(),ac[ad].controlIn(),ac[ad].anchor()))}}d="M"+this.printPoints(ac[0].anchor())+b+ag.join(b);if(ah.options.closed){d+="Z"}return d}},printPoints:function(){var ac=arguments,ad=ac.length,g,d=[];for(g=0;g<ad;g++){d.push(ac[g].toString(3))}return d.join(b)},segmentType:function(d,g){return d.controlOut()&&g.controlIn()?"C":"L"},mapStroke:function(g){var d=[];if(g&&!o(g.color)){d.push(["stroke",g.color]);d.push(["stroke-width",g.width]);d.push(["stroke-linecap",this.renderLinecap(g)]);d.push(["stroke-linejoin",g.lineJoin]);if(P(g.opacity)){d.push(["stroke-opacity",g.opacity])}if(P(g.dashType)){d.push(["stroke-dasharray",this.renderDashType(g)])}}else{d.push(["stroke",J])}return d},renderStroke:function(){return C(this.mapStroke(this.srcElement.options.stroke))},renderDashType:function(af){var ae=af.width||1,g=af.dashType;if(g&&g!=p){var ac=L[g.toLowerCase()],d=[],ad;for(ad=0;ad<ac.length;ad++){d.push(ac[ad]*ae)}return d.join(" ")}},renderLinecap:function(g){var d=g.dashType,ac=g.lineCap;return(d&&d!=p)?aa:ac},mapFill:function(g){var d=[];if(!(g&&g.nodeType==l)){if(g&&!o(g.color)){d.push(["fill",g.color]);if(P(g.opacity)){d.push(["fill-opacity",g.opacity])}}else{d.push(["fill",J])}}return d},renderFill:function(){return C(this.mapFill(this.srcElement.options.fill))},template:c("<path #= d.renderStyle() # #= d.renderOpacity() # #= kendo.util.renderAttr('d', d.renderData()) # #= d.renderStroke() # #= d.renderFill() # #= d.renderDefinitions() # #= d.renderTransform() #></path>")});var q=n.extend({renderData:function(){return this.printPath(this.srcElement.toPath())}});var m=n.extend({renderData:function(){var ac=this.srcElement.paths;if(ac.length>0){var d=[],g;for(g=0;g<ac.length;g++){d.push(this.printPath(ac[g]))}return d.join(" ")}}});var r=n.extend({geometryChange:function(){var d=this.center();this.attr("cx",d.x);this.attr("cy",d.y);this.attr("r",this.radius());this.invalidate()},center:function(){return this.srcElement.geometry().center},radius:function(){return this.srcElement.geometry().radius},template:c("<circle #= d.renderStyle() # #= d.renderOpacity() # cx='#= d.center().x #' cy='#= d.center().y #' r='#= d.radius() #' #= d.renderStroke() # #= d.renderFill() # #= d.renderDefinitions() # #= d.renderTransform() # ></circle>")});var u=n.extend({geometryChange:function(){var d=this.pos();this.attr("x",d.x);this.attr("y",d.y);this.invalidate()},optionsChange:function(d){if(d.field==="font"){this.attr("style",j.renderStyle(this.mapStyle()));this.geometryChange()}else{if(d.field==="content"){n.fn.content.call(this,this.srcElement.content())}}n.fn.optionsChange.call(this,d)},mapStyle:function(){var g=n.fn.mapStyle.call(this);var d=this.srcElement.options.font;g.push(["font",D.htmlEncode(d)]);return g},pos:function(){var g=this.srcElement.position();var d=this.srcElement.measure();return g.clone().setY(g.y+d.baseline)},content:function(){var g=this.srcElement.content();var d=this.root().options;if(d&&d.encodeText){g=s(g);g=D.htmlEncode(g)}return g},template:c("<text #= d.renderStyle() # #= d.renderOpacity() # x='#= this.pos().x #' y='#= this.pos().y #' #= d.renderStroke() # #= d.renderTransform() # #= d.renderDefinitions() # #= d.renderFill() #>#= d.content() #</text>")});var R=n.extend({geometryChange:function(){this.allAttr(this.mapPosition());this.invalidate()},optionsChange:function(d){if(d.field==="src"){this.allAttr(this.mapSource())}n.fn.optionsChange.call(this,d)},mapPosition:function(){var g=this.srcElement.rect();var d=g.topLeft();return[["x",d.x],["y",d.y],["width",g.width()+"px"],["height",g.height()+"px"]]},renderPosition:function(){return C(this.mapPosition())},mapSource:function(){return[["xlink:href",this.srcElement.src()]]},renderSource:function(){return C(this.mapSource())},template:c("<image preserveAspectRatio='none' #= d.renderStyle() # #= d.renderTransform()# #= d.renderOpacity() # #= d.renderPosition() # #= d.renderSource() # #= d.renderDefinitions()#></image>")});var A=t.extend({template:c("<stop #=d.renderOffset()# #=d.renderStyle()# />"),renderOffset:function(){return H("offset",this.srcElement.offset())},mapStyle:function(){var d=this.srcElement;return[["stop-color",d.color()],["stop-opacity",d.opacity()]]},optionsChange:function(d){if(d.field=="offset"){this.attr(d.field,d.value)}else{if(d.field=="color"||d.field=="opacity"){this.css("stop-"+d.field,d.value)}}}});var N=t.extend({init:function(d){t.fn.init.call(this,d);this.id=d.id;this.loadStops()},loadStops:function(){var g=this.srcElement;var ae=g.stops;var ad=this.element;var ac;var d;for(d=0;d<ae.length;d++){ac=new A(ae[d]);this.append(ac);if(ad){ac.attachTo(ad)}}},optionsChange:function(d){if(d.field=="gradient.stops"){y.fn.clear.call(this);this.loadStops()}else{if(d.field==l){this.allAttr(this.mapCoordinates())}}},renderCoordinates:function(){return C(this.mapCoordinates())},mapSpace:function(){return["gradientUnits",this.srcElement.userSpace()?"userSpaceOnUse":"objectBoundingBox"]}});var Y=N.extend({template:c("<linearGradient id='#=d.id#' #=d.renderCoordinates()#>#= d.renderChildren()#</linearGradient>"),mapCoordinates:function(){var g=this.srcElement;var ad=g.start();var d=g.end();var ac=[["x1",ad.x],["y1",ad.y],["x2",d.x],["y2",d.y],this.mapSpace()];return ac}});var U=N.extend({template:c("<radialGradient id='#=d.id#' #=d.renderCoordinates()#>#= d.renderChildren()#</radialGradient>"),mapCoordinates:function(){var ac=this.srcElement;var g=ac.center();var d=ac.radius();var ad=[["cx",g.x],["cy",g.y],["r",d],this.mapSpace()];return ad}});var T={Group:F,Text:u,Path:n,MultiPath:m,Circle:r,Arc:q,Image:R};var e=function(d,g){d.innerHTML=g};(function(){var ac="<svg xmlns='"+h+"'></svg>",d=i.createElement("div"),g=typeof DOMParser!=B;d.innerHTML=ac;if(g&&d.firstChild.namespaceURI!=h){e=function(ad,af){var ah=new DOMParser(),ag=ah.parseFromString(af,"text/xml"),ae=i.adoptNode(ag.documentElement);ad.innerHTML="";ad.appendChild(ae)}}})();function Q(g){var d;try{d=g.getScreenCTM?g.getScreenCTM():null}catch(af){}if(d){var ae=-d.e%1,ad=-d.f%1,ac=g.style;if(ae!==0||ad!==0){ac.left=ae+"px";ac.top=ad+"px"}}}function f(){var ad=document.getElementsByTagName("base")[0],g="",d=document.location.href,ac=d.indexOf("#");if(ad&&!D.support.browser.msie){if(ac!==-1){d=d.substring(0,ac)}g=d}return g}function S(d){return"url("+f()+"#"+d+")"}function M(ae){var d=new I({encodeText:true});var af=ae.clippedBBox();if(af){var ac=af.getOrigin();var ad=new Z.Group();ad.transform(W.transform().translate(-ac.x,-ac.y));ad.children.push(ae);ae=ad}d.load([ae]);var g="<?xml version='1.0' ?><svg style='width: 100%; height: 100%; overflow: hidden;' xmlns='"+h+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>"+d.render()+"</svg>";d.destroy();return g}function ab(ac,g){var d=M(ac);if(!g||!g.raw){d="data:image/svg+xml;base64,"+j.encodeBase64(d)}return z.Deferred().resolve(d).promise()}function k(d,g){return d=="clip"||(d=="fill"&&(!g||g.nodeType==l))}function s(g){if(!g||!g.indexOf||g.indexOf("&")<0){return g}else{var d=s._element;d.innerHTML=g;return d.textContent||d.innerText}}s._element=document.createElement("span");var a={clip:"clip-path",fill:"fill"};D.support.svg=(function(){return i.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")})();if(D.support.svg){Z.SurfaceFactory.current.register("svg",E,10)}K(Z,{exportSVG:ab,svg:{ArcNode:q,CircleNode:r,ClipNode:v,DefinitionNode:O,GradientStopNode:A,GroupNode:F,ImageNode:R,LinearGradientNode:Y,MultiPathNode:m,Node:t,PathNode:n,RadialGradientNode:U,RootNode:I,Surface:E,TextNode:u,_exportGroup:M}})})(window.kendo.jQuery);(function(h){var f=h.noop,G=document,v=window.kendo,q=v.deepExtend,c=v.util,e=c.defined,n=c.isTransparent,o=c.renderTemplate,r=c.valueOrDefault,B=v.geometry,C=v.drawing,b=C.BaseNode;var x="butt",k=C.DASH_ARRAYS,z=1000/60,l="none",m="solid";var A=C.Surface.extend({init:function(H,g){C.Surface.fn.init.call(this,H,g);this.element[0].innerHTML=this._template(this);var d=this.element[0].firstElementChild;d.width=h(H).width();d.height=h(H).height();this._rootElement=d;this._root=new E(d)},destroy:function(){C.Surface.fn.destroy.call(this);if(this._root){this._root.destroy();this._root=null}},type:"canvas",draw:function(d){this._root.load([d],undefined,this.options.cors)},clear:function(){this._root.clear()},image:function(){var g=this._root;var d=this._rootElement;var H=[];g.traverse(function(J){if(J.loading){H.push(J.loading)}});var I=h.Deferred();h.when.apply(h,H).done(function(){g._invalidate();try{var J=d.toDataURL();I.resolve(J)}catch(K){I.reject(K)}}).fail(function(J){I.reject(J)});return I.promise()},_resize:function(){this._rootElement.width=this._size.width;this._rootElement.height=this._size.height;this._root.invalidate()},_template:o("<canvas style='width: 100%; height: 100%;'></canvas>")});var F=b.extend({init:function(d){b.fn.init.call(this,d);if(d){this.initClip()}},initClip:function(){var d=this.srcElement.clip();if(d){this.clip=d;d.addObserver(this)}},clear:function(){if(this.srcElement){this.srcElement.removeObserver(this)}this.clearClip();b.fn.clear.call(this)},clearClip:function(){if(this.clip){this.clip.removeObserver(this);delete this.clip}},setClip:function(d){if(this.clip){d.beginPath();s.fn.renderPoints(d,this.clip);d.clip()}},optionsChange:function(d){if(d.field=="clip"){this.clearClip();this.initClip()}b.fn.optionsChange.call(this,d)},setTransform:function(d){if(this.srcElement){var g=this.srcElement.transform();if(g){d.transform.apply(d,g.matrix().toArray(6))}}},load:function(K,M,L){var J=this,I,d,H,g;for(g=0;g<K.length;g++){d=K[g];H=d.children;I=new a[d.nodeType](d,L);if(H&&H.length>0){I.load(H,M,L)}if(e(M)){J.insertAt(I,M)}else{J.append(I)}}J.invalidate()},setOpacity:function(d){if(this.srcElement){var g=this.srcElement.opacity();if(e(g)){this.globalAlpha(d,g)}}},globalAlpha:function(d,g){if(g&&d.globalAlpha){g*=d.globalAlpha}d.globalAlpha=g}});var j=F.extend({renderTo:function(d){var H=this.childNodes,g;d.save();this.setTransform(d);this.setClip(d);this.setOpacity(d);for(g=0;g<H.length;g++){H[g].renderTo(d)}d.restore()}});C.mixins.Traversable.extend(j.fn,"childNodes");var E=j.extend({init:function(d){j.fn.init.call(this);this.canvas=d;this.ctx=d.getContext("2d");this.invalidate=v.throttle(h.proxy(this._invalidate,this),z)},destroy:function(){j.fn.destroy.call(this);this.canvas=null;this.ctx=null},_invalidate:function(){if(!this.ctx){return}this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);this.renderTo(this.ctx)}});C.mixins.Traversable.extend(E.fn,"childNodes");var s=F.extend({renderTo:function(d){d.save();this.setTransform(d);this.setClip(d);this.setOpacity(d);d.beginPath();this.renderPoints(d,this.srcElement);this.setLineDash(d);this.setLineCap(d);this.setLineJoin(d);this.setFill(d);this.setStroke(d);d.restore()},setFill:function(d){var H=this.srcElement.options.fill;var g=false;if(H){if(H.nodeType=="gradient"){this.setGradientFill(d,H);g=true}else{if(!n(H.color)){d.fillStyle=H.color;d.save();this.globalAlpha(d,H.opacity);d.fill();d.restore();g=true}}}return g},setGradientFill:function(H,J){var K=this.srcElement.rawBBox();var I;if(J instanceof C.LinearGradient){var L=J.start();var g=J.end();I=H.createLinearGradient(L.x,L.y,g.x,g.y)}else{if(J instanceof C.RadialGradient){var d=J.center();I=H.createRadialGradient(d.x,d.y,0,d.x,d.y,J.radius())}}t(I,J.stops);H.save();if(!J.userSpace()){H.transform(K.width(),0,0,K.height(),K.origin.x,K.origin.y)}H.fillStyle=I;H.fill();H.restore()},setStroke:function(d){var g=this.srcElement.options.stroke;if(g&&!n(g.color)){d.strokeStyle=g.color;d.lineWidth=r(g.width,1);d.save();this.globalAlpha(d,g.opacity);d.stroke();d.restore();return true}},dashType:function(){var d=this.srcElement.options.stroke;if(d&&d.dashType){return d.dashType.toLowerCase()}},setLineDash:function(g){var d=this.dashType();if(d&&d!=m){var H=k[d];if(g.setLineDash){g.setLineDash(H)}else{g.mozDash=H;g.webkitLineDash=H}}},setLineCap:function(g){var d=this.dashType();var H=this.srcElement.options.stroke;if(d&&d!==m){g.lineCap=x}else{if(H&&H.lineCap){g.lineCap=H.lineCap}}},setLineJoin:function(d){var g=this.srcElement.options.stroke;if(g&&g.lineJoin){d.lineJoin=g.lineJoin}},renderPoints:function(M,N){var I=N.segments;if(I.length===0){return}var d=I[0];var H=d.anchor();M.moveTo(H.x,H.y);for(var g=1;g<I.length;g++){d=I[g];H=d.anchor();var L=I[g-1];var K=L.controlOut();var J=d.controlIn();if(K&&J){M.bezierCurveTo(K.x,K.y,J.x,J.y,H.x,H.y)}else{M.lineTo(H.x,H.y)}}if(N.options.closed){M.closePath()}}});var p=s.extend({renderPoints:function(d){var H=this.srcElement.paths;for(var g=0;g<H.length;g++){s.fn.renderPoints(d,H[g])}}});var D=s.extend({renderPoints:function(d){var H=this.srcElement.geometry();var I=H.center;var g=H.radius;d.arc(I.x,I.y,g,0,Math.PI*2)}});var i=s.extend({renderPoints:function(d){var g=this.srcElement.toPath();s.fn.renderPoints.call(this,d,g)}});var y=s.extend({renderTo:function(d){var H=this.srcElement;var I=H.position();var g=H.measure();d.save();this.setTransform(d);this.setClip(d);this.setOpacity(d);d.beginPath();d.font=H.options.font;if(this.setFill(d)){d.fillText(H.content(),I.x,I.y+g.baseline)}if(this.setStroke(d)){this.setLineDash(d);d.strokeText(H.content(),I.x,I.y+g.baseline)}d.restore()}});var w=s.extend({init:function(d,I){s.fn.init.call(this,d);this.onLoad=h.proxy(this.onLoad,this);this.onError=h.proxy(this.onError,this);var g=this.img=new Image();if(I){g.crossOrigin=I}g.onload=this.onLoad;g.onerror=this.onError;var H=g.src=d.src();if(g.complete||g.complete===undefined){g.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";g.src=H}this.loading=h.Deferred()},renderTo:function(d){if(this.loading.state()==="resolved"){d.save();this.setTransform(d);this.setClip(d);this.drawImage(d);d.restore()}},optionsChange:function(d){if(d.field==="src"){this.loading=h.Deferred();this.img.src=this.srcElement.src()}else{s.fn.optionsChange.call(this,d)}},onLoad:function(){this.loading.resolve();this.invalidate()},onError:function(){this.loading.reject(new Error("Unable to load image '"+this.img.src+"'. Check for connectivity and verify CORS headers."))},drawImage:function(d){var H=this.srcElement.rect();var g=H.topLeft();d.drawImage(this.img,g.x,g.y,H.width(),H.height())}});function u(K,O){var H={width:"800px",height:"600px",cors:"Anonymous"};var L=K.clippedBBox();if(L){var J=L.getOrigin();var I=new C.Group();I.transform(B.transform().translate(-J.x,-J.y));I.children.push(K);K=I;var N=L.getSize();H.width=N.width+"px";H.height=N.height+"px"}O=q(H,O);var d=h("<div />").css({display:"none",width:O.width,height:O.height}).appendTo(document.body);var g=new A(d,O);g.draw(K);var M=g.image();M.always(function(){g.destroy();d.remove()});return M}var a={Group:j,Text:y,Path:s,MultiPath:p,Circle:D,Arc:i,Image:w};function t(J,I){var g,H,d;for(d=0;d<I.length;d++){H=I[d];g=v.parseColor(H.color());g.a*=H.opacity();J.addColorStop(H.offset(),g.toCssRgba())}}v.support.canvas=(function(){return !!G.createElement("canvas").getContext})();if(v.support.canvas){C.SurfaceFactory.current.register("canvas",A,20)}q(v.drawing,{exportImage:u,canvas:{ArcNode:i,CircleNode:D,GroupNode:j,ImageNode:w,MultiPathNode:p,Node:F,PathNode:s,RootNode:E,Surface:A,TextNode:y}})})(window.kendo.jQuery);(function(P){var h=document,I=Math,z=I.atan2,F=I.ceil,Y=I.sqrt,R=window.kendo,Z=R.deepExtend,aj=P.noop,al=R.drawing,N=al.BaseNode,ak=R.geometry,B=ak.toMatrix,m=R.Color,i=R.util,t=i.isTransparent,ac=i.defined,s=i.deg,b=i.renderTemplate,ae=i.round,e=i.valueOrDefault;var X="none",V=".kendo",a=100,T=a*a,n="gradient",K=4;var S=al.Surface.extend({init:function(g,d){al.Surface.fn.init.call(this,g,d);C();this.element.empty();this._root=new W();this._root.attachTo(this.element[0]);this.element.on("click"+V,this._click);this.element.on("mouseover"+V,this._mouseenter);this.element.on("mouseout"+V,this._mouseleave)},type:"vml",destroy:function(){if(this._root){this._root.destroy();this._root=null;this.element.off(V)}al.Surface.fn.destroy.call(this)},draw:function(d){this._root.load([d],undefined,null)},clear:function(){this._root.clear()}});var D=N.extend({init:function(d){N.fn.init.call(this,d);this.createElement();this.attachReference()},observe:aj,destroy:function(){if(this.element){this.element._kendoNode=null;this.element=null}N.fn.destroy.call(this)},clear:function(){if(this.element){this.element.innerHTML=""}var g=this.childNodes;for(var d=0;d<g.length;d++){g[d].destroy()}this.childNodes=[]},removeSelf:function(){if(this.element){this.element.parentNode.removeChild(this.element);this.element=null}N.fn.removeSelf.call(this)},createElement:function(){this.element=h.createElement("div")},attachReference:function(){this.element._kendoNode=this},load:function(g,au,ao,aq){aq=e(aq,1);if(this.srcElement){aq*=e(this.srcElement.options.opacity,1)}for(var ap=0;ap<g.length;ap++){var at=g[ap];var an=at.children;var am=at.currentTransform(ao);var ar=aq*e(at.options.opacity,1);var d=new ah[at.nodeType](at,am,ar);if(an&&an.length>0){d.load(an,au,am,aq)}if(ac(au)){this.insertAt(d,au)}else{this.append(d)}d.attachTo(this.element,au)}},attachTo:function(d,g){if(ac(g)){d.insertBefore(this.element,d.children[g]||null)}else{d.appendChild(this.element)}},optionsChange:function(d){if(d.field=="visible"){this.css("display",d.value!==false?"":X)}},setStyle:function(){this.allCss(this.mapStyle())},mapStyle:function(){var d=[];if(this.srcElement&&this.srcElement.options.visible===false){d.push(["display",X])}return d},mapOpacityTo:function(g,am){var d=e(this.opacity,1);d*=e(am,1);g.push(["opacity",d])},attr:function(d,g){if(this.element){this.element[d]=g}},allAttr:function(d){for(var g=0;g<d.length;g++){this.attr(d[g][0],d[g][1])}},css:function(d,g){if(this.element){this.element.style[d]=g}},allCss:function(g){for(var d=0;d<g.length;d++){this.css(g[d][0],g[d][1])}}});var W=D.extend({createElement:function(){D.fn.createElement.call(this);this.allCss([["width","100%"],["height","100%"],["position","relative"],["visibility","visible"]])},attachReference:aj});var ag=R.Class.extend({init:function(d,g){this.srcElement=d;this.observer=g;d.addObserver(this)},geometryChange:function(){this.observer.optionsChange({field:"clip",value:this.srcElement})},clear:function(){this.srcElement.removeObserver(this)}});var af=D.extend({init:function(d){D.fn.init.call(this,d);if(d){this.initClip()}},observe:function(){N.fn.observe.call(this)},mapStyle:function(){var d=D.fn.mapStyle.call(this);if(this.srcElement&&this.srcElement.clip()){d.push(["clip",this.clipRect()])}return d},optionsChange:function(d){if(d.field=="clip"){this.clearClip();this.initClip();this.setClip()}D.fn.optionsChange.call(this,d)},clear:function(){this.clearClip();D.fn.clear.call(this)},initClip:function(){if(this.srcElement.clip()){this.clip=new ag(this.srcElement.clip(),this);this.clip.observer=this}},clearClip:function(){if(this.clip){this.clip.clear();this.clip=null;this.css("clip",this.clipRect())}},setClip:function(){if(this.clip){this.css("clip",this.clipRect())}},clipRect:function(){var g=H;var an=this.srcElement.clip();if(an){var ao=this.clipBBox(an);var am=ao.topLeft();var d=ao.bottomRight();g=R.format("rect({0}px {1}px {2}px {3}px)",am.y,d.x,d.y,am.x)}return g},clipBBox:function(am){var g=this.srcElement.rawBBox().topLeft();var d=am.rawBBox();d.origin.translate(-g.x,-g.y);return d}});var U=af.extend({createElement:function(){D.fn.createElement.call(this);this.setStyle()},attachTo:function(d,g){this.css("display",X);D.fn.attachTo.call(this,d,g);if(this.srcElement.options.visible!==false){this.css("display","")}},_attachTo:function(d){var g=document.createDocumentFragment();g.appendChild(this.element);d.appendChild(g)},mapStyle:function(){var d=af.fn.mapStyle.call(this);d.push(["position","absolute"]);d.push(["white-space","nowrap"]);return d},optionsChange:function(d){if(d.field==="transform"){this.refreshTransform()}if(d.field==="opacity"){this.refreshOpacity()}af.fn.optionsChange.call(this,d)},refreshTransform:function(d){var an=this.srcElement.currentTransform(d),am=this.childNodes,ao=am.length,g;this.setClip();for(g=0;g<ao;g++){am[g].refreshTransform(an)}},currentOpacity:function(){var d=e(this.srcElement.options.opacity,1);if(this.parent&&this.parent.currentOpacity){d*=this.parent.currentOpacity()}return d},refreshOpacity:function(){var am=this.childNodes,an=am.length,g;var d=this.currentOpacity();for(g=0;g<an;g++){am[g].refreshOpacity(d)}},initClip:function(){af.fn.initClip.call(this);if(this.clip){var d=this.clip.srcElement.bbox(this.srcElement.currentTransform());if(d){this.css("width",d.width()+d.origin.x);this.css("height",d.height()+d.origin.y)}}},clipBBox:function(d){return d.bbox(this.srcElement.currentTransform())},clearClip:function(){af.fn.clearClip.call(this)}});var ai=D.extend({init:function(d,g){this.opacity=g;D.fn.init.call(this,d)},createElement:function(){this.element=x("stroke");this.setOpacity()},optionsChange:function(d){if(d.field.indexOf("stroke")===0){this.setStroke()}},refreshOpacity:function(d){this.opacity=d;this.setStroke()},setStroke:function(){this.allAttr(this.mapStroke())},setOpacity:function(){this.setStroke()},mapStroke:function(){var g=this.srcElement.options.stroke;var d=[];if(g&&!t(g.color)&&g.width!==0){d.push(["on","true"]);d.push(["color",g.color]);d.push(["weight",(g.width||1)+"px"]);this.mapOpacityTo(d,g.opacity);if(ac(g.dashType)){d.push(["dashstyle",g.dashType])}if(ac(g.lineJoin)){d.push(["joinstyle",g.lineJoin])}if(ac(g.lineCap)){var am=g.lineCap.toLowerCase();if(am==="butt"){am=am==="butt"?"flat":am}d.push(["endcap",am])}}else{d.push(["on","false"])}return d}});var w=D.extend({init:function(d,am,g){this.opacity=g;D.fn.init.call(this,d)},createElement:function(){this.element=x("fill");this.setFill()},optionsChange:function(d){if(Q(d.field)){this.setFill()}},refreshOpacity:function(d){this.opacity=d;this.setOpacity()},setFill:function(){this.allAttr(this.mapFill())},setOpacity:function(){this.setFill()},attr:function(g,an){var am=this.element;if(am){var d=g.split(".");while(d.length>1){am=am[d.shift()]}am[d[0]]=an}},mapFill:function(){var g=this.srcElement.fill();var d=[["on","false"]];if(g){if(g.nodeType==n){d=this.mapGradient(g)}else{if(!t(g.color)){d=this.mapFillColor(g)}}}return d},mapFillColor:function(g){var d=[["on","true"],["color",g.color]];this.mapOpacityTo(d,g.opacity);return d},mapGradient:function(an){var g=this.srcElement.options;var am=g.fallbackFill||(an.fallbackFill&&an.fallbackFill());var d;if(an instanceof al.LinearGradient){d=this.mapLinearGradient(an)}else{if(an instanceof al.RadialGradient&&an.supportVML){d=this.mapRadialGradient(an)}else{if(am){d=this.mapFillColor(am)}else{d=[["on","false"]]}}}return d},mapLinearGradient:function(an){var ap=an.start();var d=an.end();var am=an.stops;var ao=i.deg(z(d.y-ap.y,d.x-ap.x));var g=[["on","true"],["type",n],["focus",0],["method","none"],["angle",270-ao]];this.addColors(g);return g},mapRadialGradient:function(ao){var aq=this.srcElement.rawBBox();var d=ao.center();var am=ao.stops;var ap=(d.x-aq.origin.x)/aq.width();var an=(d.y-aq.origin.y)/aq.height();var g=[["on","true"],["type","gradienttitle"],["focus","100%"],["focusposition",ap+" "+an],["method","none"]];this.addColors(g);return g},addColors:function(aq){var au=this.srcElement.options;var am=[];var at=au.fill.stops;var an=au.baseColor;var d=this.element.colors?"colors.value":"colors";var g=A(an,at[0]);var ar=A(an,at[at.length-1]);var ao;for(var ap=0;ap<at.length;ap++){ao=at[ap];am.push(I.round(ao.offset()*100)+"% "+A(an,ao))}aq.push([d,am.join(",")],["color",g],["color2",ar])}});var l=D.extend({init:function(d,g){this.transform=g;D.fn.init.call(this,d)},createElement:function(){this.element=x("skew");this.setTransform()},optionsChange:function(d){if(d.field==="transform"){this.refresh(this.srcElement.currentTransform())}},refresh:function(d){this.transform=d;this.setTransform()},transformOrigin:function(){return"-0.5,-0.5"},setTransform:function(){this.allAttr(this.mapTransform())},mapTransform:function(){var ap=this.transform;var ao=[],am,g,ar,aq,an=B(ap);if(an){an.round(K);ao.push(["on","true"],["matrix",[an.a,an.c,an.b,an.d,0,0].join(",")],["offset",an.e+"px,"+an.f+"px"],["origin",this.transformOrigin()])}else{ao.push(["on","false"])}return ao}});var v=af.extend({init:function(d,am,g){this.fill=this.createFillNode(d,am,g);this.stroke=new ai(d,g);this.transform=this.createTransformNode(d,am);af.fn.init.call(this,d)},attachTo:function(d,g){this.fill.attachTo(this.element);this.stroke.attachTo(this.element);this.transform.attachTo(this.element);D.fn.attachTo.call(this,d,g)},createFillNode:function(d,am,g){return new w(d,am,g)},createTransformNode:function(d,g){return new l(d,g)},createElement:function(){this.element=x("shape");this.setCoordsize();this.setStyle()},optionsChange:function(d){if(Q(d.field)){this.fill.optionsChange(d)}else{if(d.field.indexOf("stroke")===0){this.stroke.optionsChange(d)}else{if(d.field==="transform"){this.transform.optionsChange(d)}else{if(d.field==="opacity"){this.fill.setOpacity();this.stroke.setOpacity()}}}}af.fn.optionsChange.call(this,d)},refreshTransform:function(d){this.transform.refresh(this.srcElement.currentTransform(d))},refreshOpacity:function(d){d*=e(this.srcElement.options.opacity,1);this.fill.refreshOpacity(d);this.stroke.refreshOpacity(d)},mapStyle:function(g,d){var am=af.fn.mapStyle.call(this);if(!g||!d){g=d=a}am.push(["position","absolute"],["width",g+"px"],["height",d+"px"]);var an=this.srcElement.options.cursor;if(an){am.push(["cursor",an])}return am},setCoordsize:function(){this.allAttr([["coordorigin","0 0"],["coordsize",T+" "+T]])}});var j=D.extend({createElement:function(){this.element=x("path");this.setPathData()},geometryChange:function(){this.setPathData()},setPathData:function(){this.attr("v",this.renderData())},renderData:function(){return L(this.srcElement)}});var r=v.extend({init:function(d,am,g){this.pathData=this.createDataNode(d);v.fn.init.call(this,d,am,g)},attachTo:function(d,g){this.pathData.attachTo(this.element);v.fn.attachTo.call(this,d,g)},createDataNode:function(d){return new j(d)},geometryChange:function(){this.pathData.geometryChange();v.fn.geometryChange.call(this)}});var O=j.extend({renderData:function(){var an=this.srcElement.paths;if(an.length>0){var d=[],am,g;for(am=0;am<an.length;am++){g=am<an.length-1;d.push(L(an[am],g))}return d.join(" ")}}});var o=r.extend({createDataNode:function(d){return new O(d)}});var M=l.extend({transformOrigin:function(){var an=this.srcElement.geometry().bbox(),d=an.center(),am=-F(d.x)/F(an.width()),g=-F(d.y)/F(an.height());return am+","+g}});var u=v.extend({createElement:function(){this.element=x("oval");this.setStyle()},createTransformNode:function(d,g){return new M(d,g)},geometryChange:function(){v.fn.geometryChange.call(this);this.setStyle();this.refreshTransform()},mapStyle:function(){var ao=this.srcElement.geometry();var g=ao.radius;var d=ao.center;var am=F(g*2);var an=v.fn.mapStyle.call(this,am,am);an.push(["left",F(d.x-g)+"px"],["top",F(d.y-g)+"px"]);return an}});var J=j.extend({renderData:function(){return L(this.srcElement.toPath())}});var q=r.extend({createDataNode:function(d){return new J(d)}});var G=j.extend({createElement:function(){j.fn.createElement.call(this);this.attr("textpathok",true)},renderData:function(){var g=this.srcElement.rect();var d=g.center();return"m "+y([new ak.Point(g.topLeft().x,d.y)])+" l "+y([new ak.Point(g.bottomRight().x,d.y)])}});var f=D.extend({createElement:function(){this.element=x("textpath");this.attr("on",true);this.attr("fitpath",false);this.setStyle();this.setString()},optionsChange:function(d){if(d.field==="content"){this.setString()}else{this.setStyle()}D.fn.optionsChange.call(this,d)},mapStyle:function(){return[["font",this.srcElement.options.font]]},setString:function(){this.attr("string",this.srcElement.content())}});var E=r.extend({init:function(d,am,g){this.path=new f(d);r.fn.init.call(this,d,am,g)},createDataNode:function(d){return new G(d)},attachTo:function(d,g){this.path.attachTo(this.element);r.fn.attachTo.call(this,d,g)},optionsChange:function(d){if(d.field==="font"||d.field==="content"){this.path.optionsChange(d);this.pathData.geometryChange(d)}r.fn.optionsChange.call(this,d)}});var ab=j.extend({renderData:function(){var d=this.srcElement.rect();var g=new al.Path().moveTo(d.topLeft()).lineTo(d.topRight()).lineTo(d.bottomRight()).lineTo(d.bottomLeft()).close();return L(g)}});var c=l.extend({init:function(d,am,g){this.opacity=g;l.fn.init.call(this,d,am)},createElement:function(){this.element=x("fill");this.attr("type","frame");this.attr("rotate",true);this.setOpacity();this.setSrc();this.setTransform()},optionsChange:function(d){if(d.field==="src"){this.setSrc()}l.fn.optionsChange.call(this,d)},geometryChange:function(){this.refresh()},refreshOpacity:function(d){this.opacity=d;this.setOpacity()},setOpacity:function(){var d=[];this.mapOpacityTo(d,this.srcElement.options.opacity);this.allAttr(d)},setSrc:function(){this.attr("src",this.srcElement.src())},mapTransform:function(){var aq=this.srcElement;var an=aq.rawBBox();var at=an.center();var ar=a/2;var au=a;var aA;var aw;var am=an.width()/au;var aB=an.height()/au;var ap=0;var ao=this.transform;if(ao){var az=B(ao);var ax=Y(az.a*az.a+az.b*az.b);var av=Y(az.c*az.c+az.d*az.d);am*=ax;aB*=av;var g=s(z(az.b,az.d));var aC=s(z(-az.c,az.a));ap=(g+aC)/2;if(ap!==0){var d=aq.bbox().center();aA=(d.x-ar)/au;aw=(d.y-ar)/au}else{aA=(at.x*ax+az.e-ar)/au;aw=(at.y*av+az.f-ar)/au}}else{aA=(at.x-ar)/au;aw=(at.y-ar)/au}am=ae(am,K);aB=ae(aB,K);aA=ae(aA,K);aw=ae(aw,K);ap=ae(ap,K);return[["size",am+","+aB],["position",aA+","+aw],["angle",ap]]}});var ad=r.extend({createFillNode:function(d,am,g){return new c(d,am,g)},createDataNode:function(d){return new ab(d)},optionsChange:function(d){if(d.field==="src"||d.field==="transform"){this.fill.optionsChange(d)}r.fn.optionsChange.call(this,d)},geometryChange:function(){this.fill.geometryChange();r.fn.geometryChange.call(this)},refreshTransform:function(d){r.fn.refreshTransform.call(this,d);this.fill.refresh(this.srcElement.currentTransform(d))}});var ah={Group:U,Text:E,Path:r,MultiPath:o,Circle:u,Arc:q,Image:ad};function C(){if(h.namespaces&&!h.namespaces.kvml){h.namespaces.add("kvml","urn:schemas-microsoft-com:vml");var d=h.styleSheets.length>30?h.styleSheets[0]:h.createStyleSheet();d.addRule(".kvml","behavior:url(#default#VML)")}}function x(g){var d=h.createElement("kvml:"+g);d.className="kvml";return d}function y(am){var an=am.length;var d=[];for(var g=0;g<an;g++){d.push(am[g].scaleCopy(a).toString(0,","))}return d.join(" ")}function L(at,ao){var ap=at.segments,d=ap.length;if(d>0){var am=[],g,ar,aq,an;for(an=1;an<d;an++){ar=aa(ap[an-1],ap[an]);if(ar!==aq){aq=ar;am.push(ar)}if(ar==="l"){am.push(y([ap[an].anchor()]))}else{am.push(y([ap[an-1].controlOut(),ap[an].controlIn(),ap[an].anchor()]))}}g="m "+y([ap[0].anchor()])+" "+am.join(" ");if(at.options.closed){g+=" x"}if(ao!==true){g+=" e"}return g}}function aa(d,g){return d.controlOut()&&g.controlIn()?"c":"l"}function Q(d){return d.indexOf("fill")===0||d.indexOf(n)===0}function A(am,g){var d;if(am){d=p(am,g.color(),g.opacity())}else{d=p(g.color(),"#fff",1-g.opacity())}return d}function p(ap,am,aq){var at=new m(ap),ar=new m(am),ao=k(at.r,ar.r,aq),an=k(at.g,ar.g,aq),d=k(at.b,ar.b,aq);return new m(ao,an,d).toHex()}function k(g,d,am){return I.round(am*d+(1-am)*g)}R.support.vml=(function(){var d=R.support.browser;return d.msie&&d.version<9})();var H="inherit";if(R.support.browser.msie&&R.support.browser.version<8){H="rect(auto auto auto auto)"}if(R.support.vml){al.SurfaceFactory.current.register("vml",S,30)}Z(al,{vml:{ArcDataNode:J,ArcNode:q,CircleTransformNode:M,CircleNode:u,FillNode:w,GroupNode:U,ImageNode:ad,ImageFillNode:c,ImagePathDataNode:ab,MultiPathDataNode:O,MultiPathNode:o,Node:D,PathDataNode:j,PathNode:r,RootNode:W,StrokeNode:ai,Surface:S,TextNode:E,TextPathNode:f,TextPathDataNode:G,TransformNode:l}})})(window.kendo.jQuery);(function(b,E,v){var S=b.kendo;var h=!!b.Uint8Array;var U="\n";var aa=0;var n=(function(){var an="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{decode:function(ar){var at=ar.replace(/[^A-Za-z0-9\+\/\=]/g,""),aq=0,ao=at.length,ap=[];while(aq<ao){var aA=an.indexOf(at.charAt(aq++));var ay=an.indexOf(at.charAt(aq++));var aw=an.indexOf(at.charAt(aq++));var au=an.indexOf(at.charAt(aq++));var az=(aA<<2)|(ay>>>4);var ax=((ay&15)<<4)|(aw>>>2);var av=((aw&3)<<6)|au;ap.push(az);if(aw!=64){ap.push(ax)}if(au!=64){ap.push(av)}}return ap},encode:function(az){var aq=0,ao=az.length;var ap="";while(aq<ao){var ay=az[aq++];var aw=az[aq++];var au=az[aq++];var ax=ay>>>2;var av=((ay&3)<<4)|(aw>>>4);var at=((aw&15)<<2)|(au>>>6);var ar=au&63;if(aq-ao==2){at=ar=64}else{if(aq-ao==1){ar=64}}ap+=an.charAt(ax)+an.charAt(av)+an.charAt(at)+an.charAt(ar)}return ap}}}());var O={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],executive:[521.86,756],folio:[612,936],legal:[612,1008],letter:[612,792],tabloid:[792,1224]};function R(){var ap=0,an=q();function ao(){for(var at=0;at<arguments.length;++at){var aq=arguments[at];if(aq===v){throw new Error("Cannot output undefined to PDF")}else{if(aq instanceof f){aq.beforeRender(ao);aq.render(ao)}else{if(L(aq)){J(aq,ao)}else{if(K(aq)){s(aq,ao)}else{if(typeof aq=="number"){if(isNaN(aq)){throw new Error("Cannot output NaN to PDF")}var ar=aq.toFixed(7);if(ar.indexOf(".")>=0){ar=ar.replace(/\.?0+$/,"")}if(ar=="-0"){ar="0"}an.writeString(ar)}else{if(/string|boolean/.test(typeof aq)){an.writeString(aq+"")}else{if(typeof aq.get=="function"){an.write(aq.get())}else{if(typeof aq=="object"){if(!aq){an.writeString("null")}else{ao(new I(aq))}}}}}}}}}}}ao.writeData=function(aq){an.write(aq)};ao.withIndent=function(aq){++ap;aq(ao);--ap};ao.indent=function(){ao(U,z("",ap*2,"  "));ao.apply(null,arguments)};ao.offset=function(){return an.offset()};ao.toString=function(){throw new Error("FIX CALLER")};ao.get=function(){return an.get()};ao.stream=function(){return an};return ao}function G(ao,aq){var an=ao.beforeRender;var ap=ao.render;ao.beforeRender=function(){};ao.render=function(ar){ar(aq," 0 R")};ao.renderFull=function(ar){ao._offset=ar.offset();ar(aq," 0 obj ");an.call(ao,ar);ap.call(ao,ar);ar(" endobj")}}function M(aw){var av=this;var ap=R();var aq=0;var au=[];function an(ay,ax){return(aw&&aw[ay]!=null)?aw[ay]:ax}av.getOption=an;av.attach=function(ax){if(au.indexOf(ax)<0){G(ax,++aq);au.push(ax)}return ax};av.pages=[];av.FONTS={};av.IMAGES={};av.GRAD_COL_FUNCTIONS={};av.GRAD_OPC_FUNCTIONS={};av.GRAD_COL={};av.GRAD_OPC={};function ao(ax){var az=ax("paperSize",O.a4);if(!az){return{}}if(typeof az=="string"){az=O[az.toLowerCase()];if(az==null){throw new Error("Unknown paper size")}}az[0]=w(az[0]);az[1]=w(az[1]);if(ax("landscape",false)){az=[Math.max(az[0],az[1]),Math.min(az[0],az[1])]}var ay=ax("margin");if(ay){if(typeof ay=="string"){ay=w(ay,0);ay={left:ay,top:ay,right:ay,bottom:ay}}else{ay.left=w(ay.left,0);ay.top=w(ay.top,0);ay.right=w(ay.right,0);ay.bottom=w(ay.bottom,0)}if(ax("addMargin")){az[0]+=ay.left+ay.right;az[1]+=ay.top+ay.bottom}}return{paperSize:az,margin:ay}}var ar=av.attach(new N());var at=av.attach(new m());ar.setPages(at);av.addPage=function(aF){var aD=ao(function(aH,aG){return(aF&&aF[aH]!=null)?aF[aH]:aG});var ay=aD.paperSize;var az=aD.margin;var ax=ay[0];var aE=ay[1];if(az){ax-=az.left+az.right;aE-=az.top+az.bottom}var aA=new aj(R(),null,true);var aC={Contents:av.attach(aA),Parent:at,MediaBox:[0,0,ay[0],ay[1]]};var aB=new c(av,aC);aB._content=aA;at.addPage(av.attach(aB));aB.transform(1,0,0,-1,0,ay[1]);if(az){aB.translate(az.left,az.top);aB.rect(0,0,ax,aE);aB.clip()}av.pages.push(aB);return aB};av.render=function(){var ay;ap("%PDF-1.4",U,"%\xc2\xc1\xda\xcf\xce",U,U);for(ay=0;ay<au.length;++ay){au[ay].renderFull(ap);ap(U,U)}var ax=ap.offset();ap("xref",U,0," ",au.length+1,U);ap("0000000000 65535 f ",U);for(ay=0;ay<au.length;++ay){ap(k(au[ay]._offset,10)," 00000 n ",U)}ap(U);ap("trailer",U);ap(new I({Size:au.length+1,Root:ar,Info:new I({Producer:new x("Kendo UI PDF Generator"),Title:new x(an("title","")),Author:new x(an("author","")),Subject:new x(an("subject","")),Keywords:new x(an("keywords","")),Creator:new x(an("creator","Kendo UI PDF Generator")),CreationDate:an("date",new Date())})}),U,U);ap("startxref",U,ax,U);ap("%%EOF",U);return ap.stream().offset(0)}}var ag={"Times-Roman":true,"Times-Bold":true,"Times-Italic":true,"Times-BoldItalic":true,Helvetica:true,"Helvetica-Bold":true,"Helvetica-Oblique":true,"Helvetica-BoldOblique":true,Courier:true,"Courier-Bold":true,"Courier-Oblique":true,"Courier-BoldOblique":true,Symbol:true,ZapfDingbats:true};function A(ap,an){function ao(){if(b.console){if(b.console.error){b.console.error("Cannot load URL: %s",ap)}else{b.console.log("Cannot load URL: %s",ap)}}an(null)}var aq=new XMLHttpRequest();aq.open("GET",ap,true);if(h){aq.responseType="arraybuffer"}aq.onload=function(){if(aq.status==200||aq.status==304){if(h){an(new Uint8Array(aq.response))}else{an(new VBArray(aq.responseBody).toArray())}}else{ao()}};aq.onerror=ao;aq.send(null)}function o(ap,an){var ao=ag[ap];if(ao){an(ao)}else{A(ap,function(ar){if(ar==null){throw new Error("Cannot load font from "+ap)}else{var aq=new S.pdf.TTFFont(ar);ag[ap]=aq;an(aq)}})}}var T={};function H(ap,an){var ao=T[ap];if(ao){an(ao)}else{ao=new Image();if(!(/^data:/i.test(ap))){ao.crossOrigin="Anonymous"}ao.src=ap;var aq=function(){var ar=document.createElement("canvas");ar.width=ao.width;ar.height=ao.height;var aD=ar.getContext("2d");aD.drawImage(ao,0,0);var aB;try{aB=aD.getImageData(0,0,ao.width,ao.height)}catch(ax){return an(T[ap]="TAINTED")}var aw=false,ay=q(),at=q();var az=aB.data;var av=0;while(av<az.length){ay.writeByte(az[av++]);ay.writeByte(az[av++]);ay.writeByte(az[av++]);var aA=az[av++];if(aA<255){aw=true}at.writeByte(aA)}if(aw){ao=new Z(ao.width,ao.height,ay,at)}else{var au=ar.toDataURL("image/jpeg");au=au.substr(au.indexOf(";base64,")+8);var aC=q();aC.writeBase64(au);aC.offset(0);ao=new af(ao.width,ao.height,aC)}an(T[ap]=ao)};if(ao.complete){aq()}else{ao.onload=aq;ao.onerror=function(ar){an(T[ap]="TAINTED")}}}}function W(an){return function(ap,ar){var aq=ap.length,ao=aq;if(aq===0){return ar()}while(ao-->0){an(ap[ao],function(){if(--aq===0){ar()}})}}}var l=W(o);var j=W(H);M.prototype={loadFonts:l,loadImages:j,getFont:function(ao){var an=this.FONTS[ao];if(!an){an=ag[ao];if(!an){throw new Error("Font "+ao+" has not been loaded")}if(an===true){an=this.attach(new t(ao))}else{an=this.attach(new ad(this,an))}this.FONTS[ao]=an}return an},getImage:function(ao){var an=this.IMAGES[ao];if(!an){an=T[ao];if(!an){throw new Error("Image "+ao+" has not been loaded")}if(an==="TAINTED"){return null}an=this.IMAGES[ao]=this.attach(an.asStream(this))}return an},getOpacityGS:function(ap,ar){var at=E(ap).toFixed(3);ap=E(at);at+=ar?"S":"F";var ao=this._opacityGSCache||(this._opacityGSCache={});var an=ao[at];if(!an){var aq={Type:al("ExtGState")};if(ar){aq.CA=ap}else{aq.ca=ap}an=this.attach(new I(aq));an._resourceName=al("GS"+(++aa));ao[at]=an}return an},dict:function(an){return new I(an)},name:function(an){return al(an)},stream:function(an,ao){return new aj(ao,an)}};function z(ap,an,ao){while(ap.length<an){ap=ao+ap}return ap}function k(ao,an){return z(ao+"",an,"0")}function r(ao,an){return Object.prototype.hasOwnProperty.call(ao,an)}var L=Array.isArray||function(an){return an instanceof Array};function K(an){return an instanceof Date}function J(an,ao){ao("[");if(an.length>0){ao.withIndent(function(){for(var ap=0;ap<an.length;++ap){if(ap>0&&ap%8===0){ao.indent(an[ap])}else{ao(" ",an[ap])}}})}ao(" ]")}function s(ao,an){an("(D:",k(ao.getUTCFullYear(),4),k(ao.getUTCMonth()+1,2),k(ao.getUTCDate(),2),k(ao.getUTCHours(),2),k(ao.getUTCMinutes(),2),k(ao.getUTCSeconds(),2),"Z)")}function D(an){return an*(72/25.4)}function i(an){return D(an*10)}function ac(an){return an*72}function w(ao,aq){if(typeof ao=="number"){return ao}if(typeof ao=="string"){var an;an=/^\s*([0-9.]+)\s*(mm|cm|in|pt)\s*$/.exec(ao);if(an){var ap=E(an[1]);if(!isNaN(ap)){if(an[2]=="pt"){return ap}return{mm:D,cm:i,"in":ac}[an[2]](ap)}}}if(aq!=null){return aq}throw new Error("Can't parse unit: "+ao)}function f(){}f.prototype.beforeRender=function(){};function am(an,aq,ap){if(!ap){ap=f}an.prototype=new ap();for(var ao in aq){if(r(aq,ao)){an.prototype[ao]=aq[ao]}}return an}var x=am(function x(an){this.value=an},{render:function(ap){var an="",ao=this.escape();for(var aq=0;aq<ao.length;++aq){an+=String.fromCharCode(ao.charCodeAt(aq)&255)}ap("(",an,")")},escape:function(){return this.value.replace(/([\(\)\\])/g,"\\$1")},toString:function(){return this.value}});var ak=am(function ak(an){this.value=an},{render:function(an){an("<");for(var ao=0;ao<this.value.length;++ao){an(k(this.value.charCodeAt(ao).toString(16),4))}an(">")}},x);var u=am(function u(an){this.name=an},{render:function(an){an("/"+this.escape())},escape:function(){return this.name.replace(/[^\x21-\x7E]/g,function(an){return"#"+k(an.charCodeAt(0).toString(16),2)})},toString:function(){return this.name}});var ae={};u.get=al;function al(an){if(r(ae,an)){return ae[an]}return(ae[an]=new u(an))}var I=am(function I(an){this.props=an},{render:function(an){var ao=this.props,ap=true;an("<<");an.withIndent(function(){for(var aq in ao){if(r(ao,aq)&&!/^_/.test(aq)){ap=false;an.indent(al(aq)," ",ao[aq])}}});if(!ap){an.indent()}an(">>")}});var aj=am(function aj(aq,ap,an){if(typeof aq=="string"){var ao=q();ao.write(aq);aq=ao}this.data=aq;this.props=ap||{};this.compress=an},{render:function(an){var ap=this.data.get(),ao=this.props;if(this.compress&&b.pako&&typeof b.pako.deflate=="function"){if(!ao.Filter){ao.Filter=[]}else{if(!(ao.Filter instanceof Array)){ao.Filter=[ao.Filter]}}ao.Filter.unshift(al("FlateDecode"));ap=b.pako.deflate(ap)}ao.Length=ap.length;an(new I(ao)," stream",U);an.writeData(ap);an(U,"endstream")}});var N=am(function N(an){an=this.props=an||{};an.Type=al("Catalog")},{setPages:function(an){this.props.Pages=an}},I);var m=am(function m(){this.props={Type:al("Pages"),Kids:[],Count:0}},{addPage:function(an){this.props.Kids.push(an);this.props.Count++}},I);function af(ao,an,ap){this.asStream=function(){var aq=new aj(ap,{Type:al("XObject"),Subtype:al("Image"),Width:ao,Height:an,BitsPerComponent:8,ColorSpace:al("DeviceRGB"),Filter:al("DCTDecode")});aq._resourceName=al("I"+(++aa));return aq}}function Z(ap,an,ao,aq){this.asStream=function(at){var ar=new aj(aq,{Type:al("XObject"),Subtype:al("Image"),Width:ap,Height:an,BitsPerComponent:8,ColorSpace:al("DeviceGray")},true);var au=new aj(ao,{Type:al("XObject"),Subtype:al("Image"),Width:ap,Height:an,BitsPerComponent:8,ColorSpace:al("DeviceRGB"),SMask:at.attach(ar)},true);au._resourceName=al("I"+(++aa));return au}}var t=am(function t(an){this.props={Type:al("Font"),Subtype:al("Type1"),BaseFont:al(an)};this._resourceName=al("F"+(++aa))},{encodeText:function(an){return new x(an+"")}},I);var ad=am(function ad(an,ao,aq){aq=this.props=aq||{};aq.Type=al("Font");aq.Subtype=al("Type0");aq.Encoding=al("Identity-H");this._pdf=an;this._font=ao;this._sub=ao.makeSubset();this._resourceName=al("F"+(++aa));var ap=ao.head;this.name=ao.psName;var ar=this.scale=ao.scale;this.bbox=[ap.xMin*ar,ap.yMin*ar,ap.xMax*ar,ap.yMax*ar];this.italicAngle=ao.post.italicAngle;this.ascent=ao.ascent*ar;this.descent=ao.descent*ar;this.lineGap=ao.lineGap*ar;this.capHeight=ao.os2.capHeight||this.ascent;this.xHeight=ao.os2.xHeight||0;this.stemV=0;this.familyClass=(ao.os2.familyClass||0)>>8;this.isSerif=this.familyClass>=1&&this.familyClass<=7;this.isScript=this.familyClass==10;this.flags=((ao.post.isFixedPitch?1:0)|(this.isSerif?1<<1:0)|(this.isScript?1<<3:0)|(this.italicAngle!==0?1<<6:0)|(1<<5))},{encodeText:function(an){return new ak(this._sub.encodeText(an+""))},beforeRender:function(){var aB=this;var aq=aB._font;var an=aB._sub;var av=an.render();var ap=new aj(q(av),{Length1:av.length},true);var ao=aB._pdf.attach(new I({Type:al("FontDescriptor"),FontName:al(aB._sub.psName),FontBBox:aB.bbox,Flags:aB.flags,StemV:aB.stemV,ItalicAngle:aB.italicAngle,Ascent:aB.ascent,Descent:aB.descent,CapHeight:aB.capHeight,XHeight:aB.xHeight,FontFile2:aB._pdf.attach(ap)}));var at=an.ncid2ogid;var ay=an.firstChar;var az=an.lastChar;var ax=[];(function aw(aE,aD){if(aE<=az){var aF=at[aE];if(aF==null){aw(aE+1)}else{if(!aD){ax.push(aE,aD=[])}aD.push(aB._font.widthOfGlyph(aF));aw(aE+1,aD)}}})(ay);var aA=new I({Type:al("Font"),Subtype:al("CIDFontType2"),BaseFont:al(aB._sub.psName),CIDSystemInfo:new I({Registry:new x("Adobe"),Ordering:new x("Identity"),Supplement:0}),FontDescriptor:ao,FirstChar:ay,LastChar:az,DW:Math.round(aB._font.widthOfGlyph(0)),W:ax,CIDToGIDMap:aB._pdf.attach(aB._makeCidToGidMap())});var ar=aB.props;ar.BaseFont=al(aB._sub.psName);ar.DescendantFonts=[aB._pdf.attach(aA)];var aC=new ai(ay,az,an.subset);var au=new aj(R(),null,true);au.data(aC);ar.ToUnicode=aB._pdf.attach(au)},_makeCidToGidMap:function(){return new aj(q(this._sub.cidToGidMap()),null,true)}},I);var ai=am(function p(ao,an,ap){this.firstChar=ao;this.lastChar=an;this.map=ap},{render:function(ao){ao.indent("/CIDInit /ProcSet findresource begin");ao.indent("12 dict begin");ao.indent("begincmap");ao.indent("/CIDSystemInfo <<");ao.indent("  /Registry (Adobe)");ao.indent("  /Ordering (UCS)");ao.indent("  /Supplement 0");ao.indent(">> def");ao.indent("/CMapName /Adobe-Identity-UCS def");ao.indent("/CMapType 2 def");ao.indent("1 begincodespacerange");ao.indent("  <0000><ffff>");ao.indent("endcodespacerange");var an=this;ao.indent(an.lastChar-an.firstChar+1," beginbfchar");ao.withIndent(function(){for(var aq=an.firstChar;aq<=an.lastChar;++aq){var ap=an.map[aq];ao.indent("<",k(aq.toString(16),4),">","<",k(ap.toString(16),4),">")}});ao.indent("endbfchar");ao.indent("endcmap");ao.indent("CMapName currentdict /CMap defineresource pop");ao.indent("end");ao.indent("end")}});function e(an){return an.map(function(ao){return L(ao)?e(ao):typeof ao=="number"?(Math.round(ao*1000)/1000).toFixed(3):ao}).join(" ")}function V(ao,aq,an,av,ap,aw,au){var at=e([aq,an,av,ap,aw,au]);var ar=ao.GRAD_COL_FUNCTIONS[at];if(!ar){ar=ao.GRAD_COL_FUNCTIONS[at]=ao.attach(new I({FunctionType:2,Domain:[0,1],Range:[0,1,0,1,0,1],N:1,C0:[aq,an,av],C1:[ap,aw,au]}))}return ar}function P(ap,ao,an){var ar=e([ao,an]);var aq=ap.GRAD_OPC_FUNCTIONS[ar];if(!aq){aq=ap.GRAD_OPC_FUNCTIONS[ar]=ap.attach(new I({FunctionType:2,Domain:[0,1],Range:[0,1],N:1,C0:[ao],C1:[an]}))}return aq}function ab(aq,aA){var aw=false;var ap=[];var an=[];var au=[];var ax=[];var av,at,az,ao,ay;for(av=1;av<aA.length;++av){at=aA[av-1];az=aA[av];ao=at.color;ay=az.color;an.push(V(aq,ao.r,ao.g,ao.b,ay.r,ay.g,ay.b));if(ao.a<1||ay.a<1){aw=true}au.push(az.offset);ax.push(0,1)}if(aw){for(av=1;av<aA.length;++av){at=aA[av-1];az=aA[av];ao=at.color;ay=az.color;ap.push(P(aq,ao.a,ay.a))}}au.pop();return{hasAlpha:aw,colors:ar(an),opacities:aw?ar(ap):null};function ar(aB){if(aB.length==1){return aB[0]}return{FunctionType:3,Functions:aB,Domain:[0,1],Bounds:au,Encode:ax}}}function Q(ao,ap,aw,av,an,ar){var at,aq;if(!ar){var au=[ap].concat(av);aw.forEach(function(ax){au.push(ax.offset,ax.color.r,ax.color.g,ax.color.b)});aq=e(au);at=ao.GRAD_COL[aq]}if(!at){at=new I({Type:al("Shading"),ShadingType:ap?3:2,ColorSpace:al("DeviceRGB"),Coords:av,Domain:[0,1],Function:an,Extend:[true,true]});ao.attach(at);at._resourceName="S"+(++aa);if(aq){ao.GRAD_COL[aq]=at}}return at}function a(ao,ap,aw,av,an,ar){var at,aq;if(!ar){var au=[ap].concat(av);aw.forEach(function(ax){au.push(ax.offset,ax.color.a)});aq=e(au);at=ao.GRAD_OPC[aq]}if(!at){at=new I({Type:al("ExtGState"),AIS:false,CA:1,ca:1,SMask:{Type:al("Mask"),S:al("Luminosity"),G:ao.attach(new aj("/a0 gs /s0 sh",{Type:al("XObject"),Subtype:al("Form"),FormType:1,BBox:(ar?[ar.left,ar.top+ar.height,ar.left+ar.width,ar.top]:[0,1,1,0]),Group:{Type:al("Group"),S:al("Transparency"),CS:al("DeviceGray"),I:true},Resources:{ExtGState:{a0:{CA:1,ca:1}},Shading:{s0:{ColorSpace:al("DeviceGray"),Coords:av,Domain:[0,1],ShadingType:ap?3:2,Function:an,Extend:[true,true]}}}}))}});ao.attach(at);at._resourceName="O"+(++aa);if(aq){ao.GRAD_OPC[aq]=at}}return at}function C(an,av,ar){var au=av.type=="radial";var ap=ab(an,av.stops);var at=au?[av.start.x,av.start.y,av.start.r,av.end.x,av.end.y,av.end.r]:[av.start.x,av.start.y,av.end.x,av.end.y];var ao=Q(an,au,av.stops,at,ap.colors,av.userSpace&&ar);var aq=ap.hasAlpha?a(an,au,av.stops,at,ap.opacities,av.userSpace&&ar):null;return{hasAlpha:ap.hasAlpha,shading:ao,opacity:aq}}var c=am(function c(an,ao){this._pdf=an;this._rcount=0;this._textMode=false;this._fontResources={};this._gsResources={};this._xResources={};this._patResources={};this._shResources={};this._opacity=1;this._matrix=[1,0,0,1,0,0];this._font=null;this._fontSize=null;this._contextStack=[];ao=this.props=ao||{};ao.Type=al("Page");ao.ProcSet=[al("PDF"),al("Text"),al("ImageB"),al("ImageC"),al("ImageI")];ao.Resources=new I({Font:new I(this._fontResources),ExtGState:new I(this._gsResources),XObject:new I(this._xResources),Pattern:new I(this._patResources),Shading:new I(this._shResources)})},{_out:function(){this._content.data.apply(null,arguments)},transform:function(ao,an,at,ar,aq,ap){if(!y(arguments)){this._matrix=X(this._matrix,arguments);this._out(ao," ",an," ",at," ",ar," ",aq," ",ap," cm");this._out(U)}},translate:function(ao,an){this.transform(1,0,0,1,ao,an)},scale:function(ao,an){this.transform(ao,0,0,an,0,0)},rotate:function(ap){var ao=Math.cos(ap),an=Math.sin(ap);this.transform(ao,an,-an,ao,0,0)},beginText:function(){this._textMode=true;this._out("BT",U)},endText:function(){this._textMode=false;this._out("ET",U)},_requireTextMode:function(){if(!this._textMode){throw new Error("Text mode required; call page.beginText() first")}},_requireFont:function(){if(!this._font){throw new Error("No font selected; call page.setFont() first")}},setFont:function(an,ao){this._requireTextMode();if(an==null){an=this._font}else{if(!(an instanceof ad)){an=this._pdf.getFont(an)}}if(ao==null){ao=this._fontSize}this._fontResources[an._resourceName]=an;this._font=an;this._fontSize=ao;this._out(an._resourceName," ",ao," Tf",U)},setTextLeading:function(an){this._requireTextMode();this._out(an," TL",U)},setTextRenderingMode:function(an){this._requireTextMode();this._out(an," Tr",U)},showText:function(an){this._requireFont();this._out(this._font.encodeText(an)," Tj",U)},showTextNL:function(an){this._requireFont();this._out(this._font.encodeText(an)," '",U)},setStrokeColor:function(ap,ao,an){this._out(ap," ",ao," ",an," RG",U)},setOpacity:function(an){this.setFillOpacity(an);this.setStrokeOpacity(an);this._opacity*=an},setStrokeOpacity:function(ao){if(ao<1){var an=this._pdf.getOpacityGS(this._opacity*ao,true);this._gsResources[an._resourceName]=an;this._out(an._resourceName," gs",U)}},setFillColor:function(ap,ao,an){this._out(ap," ",ao," ",an," rg",U)},setFillOpacity:function(ao){if(ao<1){var an=this._pdf.getOpacityGS(this._opacity*ao,false);this._gsResources[an._resourceName]=an;this._out(an._resourceName," gs",U)}},gradient:function(aq,ap){this.save();this.rect(ap.left,ap.top,ap.width,ap.height);this.clip();if(!aq.userSpace){this.transform(ap.width,0,0,ap.height,ap.left,ap.top)}var ao=C(this._pdf,aq,ap);var an=ao.shading._resourceName,ar;this._shResources[an]=ao.shading;if(ao.hasAlpha){ar=ao.opacity._resourceName;this._gsResources[ar]=ao.opacity;this._out("/"+ar+" gs ")}this._out("/"+an+" sh",U);this.restore()},setDashPattern:function(an,ao){this._out(an," ",ao," d",U)},setLineWidth:function(an){this._out(an," w",U)},setLineCap:function(an){this._out(an," J",U)},setLineJoin:function(an){this._out(an," j",U)},setMitterLimit:function(an){this._out(an," M",U)},save:function(){this._contextStack.push(this._context());this._out("q",U)},restore:function(){this._out("Q",U);this._context(this._contextStack.pop())},moveTo:function(an,ao){this._out(an," ",ao," m",U)},lineTo:function(an,ao){this._out(an," ",ao," l",U)},bezier:function(aq,at,ao,ar,an,ap){this._out(aq," ",at," ",ao," ",ar," ",an," ",ap," c",U)},bezier1:function(ap,aq,an,ao){this._out(ap," ",aq," ",an," ",ao," y",U)},bezier2:function(ao,aq,an,ap){this._out(ao," ",aq," ",an," ",ap," v",U)},close:function(){this._out("h",U)},rect:function(an,aq,ao,ap){this._out(an," ",aq," ",ao," ",ap," re",U)},ellipse:function(an,au,at,ar){function aq(av){return an+av}function ao(av){return au+av}var ap=0.5522847498307936;this.moveTo(aq(0),ao(ar));this.bezier(aq(at*ap),ao(ar),aq(at),ao(ar*ap),aq(at),ao(0));this.bezier(aq(at),ao(-ar*ap),aq(at*ap),ao(-ar),aq(0),ao(-ar));this.bezier(aq(-at*ap),ao(-ar),aq(-at),ao(-ar*ap),aq(-at),ao(0));this.bezier(aq(-at),ao(ar*ap),aq(-at*ap),ao(ar),aq(0),ao(ar))},circle:function(an,ap,ao){this.ellipse(an,ap,ao,ao)},stroke:function(){this._out("S",U)},nop:function(){this._out("n",U)},clip:function(){this._out("W n",U)},clipStroke:function(){this._out("W S",U)},closeStroke:function(){this._out("s",U)},fill:function(){this._out("f",U)},fillStroke:function(){this._out("B",U)},drawImage:function(ao){var an=this._pdf.getImage(ao);if(an){this._xResources[an._resourceName]=an;this._out(an._resourceName," Do",U)}},comment:function(an){var ao=this;an.split(/\r?\n/g).forEach(function(ap){ao._out("% ",ap,U)})},_context:function(an){if(an!=null){this._opacity=an.opacity;this._matrix=an.matrix}else{return{opacity:this._opacity,matrix:this._matrix}}}},I);function q(aO){var ax=0,av=0;if(aO==null){aO=h?new Uint8Array(256):[]}else{av=aO.length}var aF=h?function(aP){if(aP>=aO.length){var aQ=new Uint8Array(Math.max(aP+256,aO.length*2));aQ.set(aO,0);aO=aQ}}:function(){};var aM=h?function(){return new Uint8Array(aO.buffer,0,av)}:function(){return aO};var aL=h?function(aQ){if(typeof aQ=="string"){return aH(aQ)}var aP=aQ.length;aF(ax+aP);aO.set(aQ,ax);ax+=aP;if(ax>av){av=ax}}:function(aP){if(typeof aP=="string"){return aH(aP)}for(var aQ=0;aQ<aP.length;++aQ){aC(aP[aQ])}};var aE=h?function(aR,aQ){if(aO.buffer.slice){return new Uint8Array(aO.buffer.slice(aR,aR+aQ))}else{var aP=new Uint8Array(aQ);aP.set(new Uint8Array(aO.buffer,aR,aQ));return aP}}:function(aQ,aP){return aO.slice(aQ,aQ+aP)};function aA(){return ax>=av}function ao(){return ax<av?aO[ax++]:0}function aC(aP){aF(ax);aO[ax++]=aP&255;if(ax>av){av=ax}}function at(){return(ao()<<8)|ao()}function aJ(aP){aC(aP>>8);aC(aP)}function aB(){var aP=at();return aP>=32768?aP-65536:aP}function ap(aP){aJ(aP<0?aP+65536:aP)}function aN(){return(at()*65536)+at()}function ay(aP){aJ((aP>>>16)&65535);aJ(aP&65535)}function an(){var aP=aN();return aP>=2147483648?aP-4294967296:aP}function aD(aP){ay(aP<0?aP+4294967296:aP)}function au(){return aN()/65536}function aK(aP){ay(Math.round(aP*65536))}function ar(){return an()/65536}function aI(aP){aD(Math.round(aP*65536))}function aG(aP){return az(aP,ao)}function aq(aP){return String.fromCharCode.apply(String,aG(aP))}function aH(aQ){for(var aP=0;aP<aQ.length;++aP){aC(aQ.charCodeAt(aP))}}function az(aS,aP){for(var aQ=new Array(aS),aR=0;aR<aS;++aR){aQ[aR]=aP()}return aQ}var aw={eof:aA,readByte:ao,writeByte:aC,readShort:at,writeShort:aJ,readLong:aN,writeLong:ay,readFixed:au,writeFixed:aK,readShort_:aB,writeShort_:ap,readLong_:an,writeLong_:aD,readFixed_:ar,writeFixed_:aI,read:aG,write:aL,readString:aq,writeString:aH,times:az,get:aM,slice:aE,offset:function(aP){if(aP!=null){ax=aP;return aw}return ax},skip:function(aP){ax+=aP},toString:function(){throw new Error("FIX CALLER.  BinaryStream is no longer convertible to string!")},length:function(){return av},saveExcursion:function(aP){var aQ=ax;try{return aP()}finally{ax=aQ}},writeBase64:function(aP){if(window.atob){aH(window.atob(aP))}else{aL(n.decode(aP))}},base64:function(){return n.encode(aM())}};return aw}function F(an){return an.replace(/^\s*(['"])(.*)\1\s*$/,"$2")}function B(ao){var aq=/^\s*((normal|italic)\s+)?((normal|small-caps)\s+)?((normal|bold|\d+)\s+)?(([0-9.]+)(px|pt))(\/(([0-9.]+)(px|pt)|normal))?\s+(.*?)\s*$/i;var an=aq.exec(ao);if(!an){return{fontSize:12,fontFamily:"sans-serif"}}var ap=an[8]?parseInt(an[8],10):12;return{italic:an[2]&&an[2].toLowerCase()=="italic",variant:an[4],bold:an[6]&&/bold|700/i.test(an[6]),fontSize:ap,lineHeight:an[12]?an[12]=="normal"?ap:parseInt(an[12],10):null,fontFamily:an[14].split(/\s*,\s*/g).map(F)}}function g(at){function ao(au){if(at.bold){au+="|bold"}if(at.italic){au+="|italic"}return au.toLowerCase()}var an=at.fontFamily;var aq,ap;if(an instanceof Array){for(var ar=0;ar<an.length;++ar){aq=ao(an[ar]);ap=d[aq];if(ap){break}}}else{ap=d[an.toLowerCase()]}while(typeof ap=="function"){ap=ap()}if(!ap){ap="Times-Roman"}return ap}var d={serif:"Times-Roman","serif|bold":"Times-Bold","serif|italic":"Times-Italic","serif|bold|italic":"Times-BoldItalic","sans-serif":"Helvetica","sans-serif|bold":"Helvetica-Bold","sans-serif|italic":"Helvetica-Oblique","sans-serif|bold|italic":"Helvetica-BoldOblique",monospace:"Courier","monospace|bold":"Courier-Bold","monospace|italic":"Courier-Oblique","monospace|bold|italic":"Courier-BoldOblique",zapfdingbats:"ZapfDingbats","zapfdingbats|bold":"ZapfDingbats","zapfdingbats|italic":"ZapfDingbats","zapfdingbats|bold|italic":"ZapfDingbats"};function Y(ao,an){ao=ao.toLowerCase();d[ao]=function(){return d[an]};d[ao+"|bold"]=function(){return d[an+"|bold"]};d[ao+"|italic"]=function(){return d[an+"|italic"]};d[ao+"|bold|italic"]=function(){return d[an+"|bold|italic"]}}Y("Times New Roman","serif");Y("Courier New","monospace");Y("Arial","sans-serif");Y("Helvetica","sans-serif");Y("Verdana","sans-serif");Y("Tahoma","sans-serif");Y("Georgia","sans-serif");Y("Monaco","monospace");Y("Andale Mono","monospace");function ah(ao,an){if(arguments.length==1){for(var ap in ao){if(r(ao,ap)){ah(ap,ao[ap])}}}else{ao=ao.toLowerCase();d[ao]=an;switch(ao){case"dejavu sans":d["sans-serif"]=an;break;case"dejavu sans|bold":d["sans-serif|bold"]=an;break;case"dejavu sans|italic":d["sans-serif|italic"]=an;break;case"dejavu sans|bold|italic":d["sans-serif|bold|italic"]=an;break;case"dejavu serif":d.serif=an;break;case"dejavu serif|bold":d["serif|bold"]=an;break;case"dejavu serif|italic":d["serif|italic"]=an;break;case"dejavu serif|bold|italic":d["serif|bold|italic"]=an;break;case"dejavu mono":d.monospace=an;break;case"dejavu mono|bold":d["monospace|bold"]=an;break;case"dejavu mono|italic":d["monospace|italic"]=an;break;case"dejavu mono|bold|italic":d["monospace|bold|italic"]=an;break}}}S.pdf={Document:M,BinaryStream:q,defineFont:ah,parseFontDef:B,getFontURL:g,loadFonts:l,loadImages:j,TEXT_RENDERING_MODE:{fill:0,stroke:1,fillAndStroke:2,invisible:3,fillAndClip:4,strokeAndClip:5,fillStrokeClip:6,clip:7}};function X(aB,az){var aq=aB[0],aA=aB[1],av=aB[2],ap=aB[3],ay=aB[4],au=aB[5];var ao=az[0],ax=az[1],at=az[2],an=az[3],aw=az[4],ar=az[5];return[aq*ao+aA*at,aq*ax+aA*an,av*ao+ap*at,av*ax+ap*an,ay*ao+au*at+aw,ay*ax+au*an+ar]}function y(an){return an[0]===1&&an[1]===0&&an[2]===0&&an[3]===1&&an[4]===0&&an[5]===0}})(this,parseFloat);(function(o){function i(w,v){return Object.prototype.hasOwnProperty.call(w,v)}function d(v){return Object.keys(v).sort(function(x,w){return x-w}).map(parseFloat)}var t=o.kendo.pdf;var n=t.BinaryStream;function b(y){this.raw=y;this.scalerType=y.readLong();this.tableCount=y.readShort();this.searchRange=y.readShort();this.entrySelector=y.readShort();this.rangeShift=y.readShort();var w=this.tables={};for(var v=0;v<this.tableCount;++v){var x={tag:y.readString(4),checksum:y.readLong(),offset:y.readLong(),length:y.readLong()};w[x.tag]=x}}b.prototype={readTable:function(w,v){var x=this.tables[w];if(!x){throw new Error("Table "+w+" not found in directory")}return(this[w]=x.table=new v(this,x))},render:function(F){var J=Object.keys(F).length;var D=Math.pow(2,Math.floor(Math.log(J)/Math.LN2));var B=D*16;var v=Math.floor(Math.log(D)/Math.LN2);var H=J*16-B;var y=n();y.writeLong(this.scalerType);y.writeShort(J);y.writeShort(B);y.writeShort(v);y.writeShort(H);var z=J*16;var x=y.offset()+z;var C=null;var w=n();for(var I in F){if(i(F,I)){var G=F[I];y.writeString(I);y.writeLong(this.checksum(G));y.writeLong(x);y.writeLong(G.length);w.write(G);if(I=="head"){C=x}x+=G.length;while(x%4){w.writeByte(0);x++}}}y.write(w.get());var A=this.checksum(y.get());var E=2981146554-A;y.offset(C+8);y.writeLong(E);return y.get()},checksum:function(w){w=n(w);var v=0;while(!w.eof()){v+=w.readLong()}return v&4294967295}};function e(v){function w(y,z){this.definition=z;this.length=z.length;this.offset=z.offset;this.file=y;this.rawData=y.raw;this.parse(y.raw)}w.prototype.raw=function(){return this.rawData.slice(this.offset,this.length)};for(var x in v){if(i(v,x)){w[x]=w.prototype[x]=v[x]}}return w}var c=e({parse:function(v){v.offset(this.offset);this.version=v.readLong();this.revision=v.readLong();this.checkSumAdjustment=v.readLong();this.magicNumber=v.readLong();this.flags=v.readShort();this.unitsPerEm=v.readShort();this.created=v.read(8);this.modified=v.read(8);this.xMin=v.readShort_();this.yMin=v.readShort_();this.xMax=v.readShort_();this.yMax=v.readShort_();this.macStyle=v.readShort();this.lowestRecPPEM=v.readShort();this.fontDirectionHint=v.readShort_();this.indexToLocFormat=v.readShort_();this.glyphDataFormat=v.readShort_()},render:function(w){var v=n();v.writeLong(this.version);v.writeLong(this.revision);v.writeLong(0);v.writeLong(this.magicNumber);v.writeShort(this.flags);v.writeShort(this.unitsPerEm);v.write(this.created);v.write(this.modified);v.writeShort_(this.xMin);v.writeShort_(this.yMin);v.writeShort_(this.xMax);v.writeShort_(this.yMax);v.writeShort(this.macStyle);v.writeShort(this.lowestRecPPEM);v.writeShort_(this.fontDirectionHint);v.writeShort_(w);v.writeShort_(this.glyphDataFormat);return v.get()}});var k=e({parse:function(v){v.offset(this.offset);var w=this.file.head.indexToLocFormat;if(w===0){this.offsets=v.times(this.length/2,function(){return 2*v.readShort()})}else{this.offsets=v.times(this.length/4,v.readLong)}},offsetOf:function(v){return this.offsets[v]},lengthOf:function(v){return this.offsets[v+1]-this.offsets[v]},render:function(x){var v=n();var y=x[x.length-1]>65535;for(var w=0;w<x.length;++w){if(y){v.writeLong(x[w])}else{v.writeShort(x[w]/2)}}return{format:y?1:0,table:v.get()}}});var j=e({parse:function(v){v.offset(this.offset);this.version=v.readLong();this.ascent=v.readShort_();this.descent=v.readShort_();this.lineGap=v.readShort_();this.advanceWidthMax=v.readShort();this.minLeftSideBearing=v.readShort_();this.minRightSideBearing=v.readShort_();this.xMaxExtent=v.readShort_();this.caretSlopeRise=v.readShort_();this.caretSlopeRun=v.readShort_();this.caretOffset=v.readShort_();v.skip(4*2);this.metricDataFormat=v.readShort_();this.numOfLongHorMetrics=v.readShort()},render:function(w){var v=n();v.writeLong(this.version);v.writeShort_(this.ascent);v.writeShort_(this.descent);v.writeShort_(this.lineGap);v.writeShort(this.advanceWidthMax);v.writeShort_(this.minLeftSideBearing);v.writeShort_(this.minRightSideBearing);v.writeShort_(this.xMaxExtent);v.writeShort_(this.caretSlopeRise);v.writeShort_(this.caretSlopeRun);v.writeShort_(this.caretOffset);v.write([0,0,0,0,0,0,0,0]);v.writeShort_(this.metricDataFormat);v.writeShort(w.length);return v.get()}});var m=e({parse:function(v){v.offset(this.offset);this.version=v.readLong();this.numGlyphs=v.readShort();this.maxPoints=v.readShort();this.maxContours=v.readShort();this.maxComponentPoints=v.readShort();this.maxComponentContours=v.readShort();this.maxZones=v.readShort();this.maxTwilightPoints=v.readShort();this.maxStorage=v.readShort();this.maxFunctionDefs=v.readShort();this.maxInstructionDefs=v.readShort();this.maxStackElements=v.readShort();this.maxSizeOfInstructions=v.readShort();this.maxComponentElements=v.readShort();this.maxComponentDepth=v.readShort()},render:function(v){var w=n();w.writeLong(this.version);w.writeShort(v.length);w.writeShort(this.maxPoints);w.writeShort(this.maxContours);w.writeShort(this.maxComponentPoints);w.writeShort(this.maxComponentContours);w.writeShort(this.maxZones);w.writeShort(this.maxTwilightPoints);w.writeShort(this.maxStorage);w.writeShort(this.maxFunctionDefs);w.writeShort(this.maxInstructionDefs);w.writeShort(this.maxStackElements);w.writeShort(this.maxSizeOfInstructions);w.writeShort(this.maxComponentElements);w.writeShort(this.maxComponentDepth);return w.get()}});var u=e({parse:function(y){y.offset(this.offset);var x=this.file,w=x.hhea;this.metrics=y.times(w.numOfLongHorMetrics,function(){return{advance:y.readShort(),lsb:y.readShort_()}});var v=x.maxp.numGlyphs-x.hhea.numOfLongHorMetrics;this.leftSideBearings=y.times(v,y.readShort_)},forGlyph:function(x){var v=this.metrics;var w=v.length;if(x<w){return v[x]}return{advance:v[w-1].advance,lsb:this.leftSideBearings[x-w]}},render:function(w){var x=n();for(var y=0;y<w.length;++y){var v=this.forGlyph(w[y]);x.writeShort(v.advance);x.writeShort_(v.lsb)}return x.get()}});var g=(function(){function w(D){this.raw=D}w.prototype={compound:false,render:function(){return this.raw.get()}};var C=1;var z=8;var v=32;var y=64;var x=128;var B=256;function A(G){this.raw=G;var E=this.glyphIds=[];var F=this.idOffsets=[];while(true){var D=G.readShort();F.push(G.offset());E.push(G.readShort());if(!(D&v)){break}G.skip(D&C?4:2);if(D&x){G.skip(8)}else{if(D&y){G.skip(4)}else{if(D&z){G.skip(2)}}}}}A.prototype={compound:true,render:function(E){var D=n(this.raw.get());for(var F=0;F<this.glyphIds.length;++F){var G=this.glyphIds[F];D.offset(this.idOffsets[F]);D.writeShort(E[G])}return D.get()}};return e({parse:function(D){this.cache={}},glyphFor:function(F){var D=this.cache;if(i(D,F)){return D[F]}var J=this.file.loca;var G=J.lengthOf(F);if(G===0){return(D[F]=null)}var L=this.rawData;var K=this.offset+J.offsetOf(F);var P=n(L.slice(K,G));var H=P.readShort_();var E=P.readShort_();var O=P.readShort_();var M=P.readShort_();var I=P.readShort_();var N=D[F]=H==-1?new A(P):new w(P);N.numberOfContours=H;N.xMin=E;N.yMin=O;N.xMax=M;N.yMax=I;return N},render:function(G,J,E){var D=n(),I=[];for(var F=0;F<J.length;++F){var K=J[F];var H=G[K];I.push(D.offset());if(H){D.write(H.render(E))}}I.push(D.offset());return{table:D.get(),offsets:I}}})}());var r=(function(){function v(x,w){this.text=x;this.length=x.length;this.platformID=w.platformID;this.platformSpecificID=w.platformSpecificID;this.languageID=w.languageID;this.nameID=w.nameID}return e({parse:function(y){y.offset(this.offset);var B=y.readShort();var A=y.readShort();var w=this.offset+y.readShort();var E=y.times(A,function(){return{platformID:y.readShort(),platformSpecificID:y.readShort(),languageID:y.readShort(),nameID:y.readShort(),length:y.readShort(),offset:y.readShort()+w}});var C=this.strings={};for(var z=0;z<E.length;++z){var x=E[z];y.offset(x.offset);var D=y.readString(x.length);if(!C[x.nameID]){C[x.nameID]=[]}C[x.nameID].push(new v(D,x))}this.postscriptEntry=C[6][0];this.postscriptName=this.postscriptEntry.text.replace(/[^\x20-\x7F]/g,"")},render:function(C){var D=this.strings;var z=0;for(var y in D){if(i(D,y)){z+=D[y].length}}var w=n();var E=n();w.writeShort(0);w.writeShort(z);w.writeShort(6+12*z);for(y in D){if(i(D,y)){var A=y==6?[new v(C,this.postscriptEntry)]:D[y];for(var x=0;x<A.length;++x){var B=A[x];w.writeShort(B.platformID);w.writeShort(B.platformSpecificID);w.writeShort(B.languageID);w.writeShort(B.nameID);w.writeShort(B.length);w.writeShort(E.offset());E.writeString(B.text)}}}w.write(E.get());return w.get()}})})();var h=(function(){var v=".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat".split(/\s+/g);return e({parse:function(y){y.offset(this.offset);this.format=y.readLong();this.italicAngle=y.readFixed_();this.underlinePosition=y.readShort_();this.underlineThickness=y.readShort_();this.isFixedPitch=y.readLong();this.minMemType42=y.readLong();this.maxMemType42=y.readLong();this.minMemType1=y.readLong();this.maxMemType1=y.readLong();var x;switch(this.format){case 65536:case 196608:break;case 131072:x=y.readShort();this.glyphNameIndex=y.times(x,y.readShort);this.names=[];var w=this.offset+this.length;while(y.offset()<w){this.names.push(y.readString(y.readByte()))}break;case 151552:x=y.readShort();this.offsets=y.read(x);break;case 262144:this.map=y.times(this.file.maxp.numGlyphs,y.readShort);break}},glyphFor:function(x){switch(this.format){case 65536:return v[x]||".notdef";case 131072:var w=this.glyphNameIndex[x];if(w<v.length){return v[w]}return this.names[w-v.length]||".notdef";case 151552:case 196608:return".notdef";case 262144:return this.map[x]||65535}},render:function(A){if(this.format==196608){return this.raw()}var z=n(this.rawData.slice(this.offset,32));z.writeLong(131072);z.offset(32);var y=[];var w=[];for(var C=0;C<A.length;++C){var D=A[C];var B=this.glyphFor(D);var x=v.indexOf(B);if(x>=0){y.push(x)}else{y.push(v.length+w.length);w.push(B)}}z.writeShort(A.length);for(C=0;C<y.length;++C){z.writeShort(y[C])}for(C=0;C<w.length;++C){z.writeByte(w[C].length);z.writeString(w[C])}return z.get()}})})();var f=(function(){function v(y,z){var x=this;x.platformID=y.readShort();x.platformSpecificID=y.readShort();x.offset=z+y.readLong();y.saveExcursion(function(){y.offset(x.offset);x.format=y.readShort();x.length=y.readShort();x.language=y.readShort();x.isUnicode=(x.platformID==3&&x.platformSpecificID==1&&x.format==4)||(x.platformID===0&&x.format==4);x.codeMap={};switch(x.format){case 0:for(var J=0;J<256;++J){x.codeMap[J]=y.readByte()}break;case 4:var B=y.readShort()/2;y.skip(6);var I=y.times(B,y.readShort);y.skip(2);var A=y.times(B,y.readShort);var E=y.times(B,y.readShort_);var M=y.times(B,y.readShort);var L=(x.length+x.offset-y.offset())/2;var H=y.times(L,y.readShort);for(J=0;J<B;++J){var D=A[J],G=I[J];for(var C=D;C<=G;++C){var F;if(M[J]===0){F=C+E[J]}else{var K=M[J]/2-(B-J)+(C-D);F=H[K]||0;if(F!==0){F+=E[J]}}x.codeMap[C]=F&65535}}}})}function w(O,K){var R=d(O);var Q=[];var L=[];var E=null;var H=null;function U(W){return K[O[W]]}for(var P=0;P<R.length;++P){var x=R[P];var J=U(x);var S=J-x;if(E==null||S!==H){if(E){L.push(E)}Q.push(x);H=S}E=x}if(E){L.push(E)}L.push(65535);Q.push(65535);var z=Q.length;var V=z*2;var y=2*Math.pow(2,Math.floor(Math.log(z)/Math.LN2));var I=Math.log(y/2)/Math.LN2;var G=V-y;var C=[];var A=[];var F=[];for(P=0;P<z;++P){var B=Q[P];var T=L[P];if(B==65535){C.push(0);A.push(0);break}var D=U(B);if(B-D>=32768){C.push(0);A.push(2*(F.length+z-P));for(var M=B;M<=T;++M){F.push(U(M))}}else{C.push(D-B);A.push(0)}}var N=n();N.writeShort(3);N.writeShort(1);N.writeLong(12);N.writeShort(4);N.writeShort(16+z*8+F.length*2);N.writeShort(0);N.writeShort(V);N.writeShort(y);N.writeShort(I);N.writeShort(G);L.forEach(N.writeShort);N.writeShort(0);Q.forEach(N.writeShort);C.forEach(N.writeShort_);A.forEach(N.writeShort);F.forEach(N.writeShort);return N.get()}return e({parse:function(z){var y=this;var A=y.offset;z.offset(A);y.version=z.readShort();var x=z.readShort();y.unicodeEntry=null;y.tables=z.times(x,function(){var B=new v(z,A);if(B.isUnicode){y.unicodeEntry=B}return B})},render:function(z,y){var x=n();x.writeShort(0);x.writeShort(1);x.write(w(z,y));return x.get()},getUnicodeEntry:function(){if(!this.unicodeEntry){throw new Error("Font doesn't have an Unicode encoding")}return this.unicodeEntry}})})();var l=e({parse:function(v){v.offset(this.offset);this.version=v.readShort();this.averageCharWidth=v.readShort_();this.weightClass=v.readShort();this.widthClass=v.readShort();this.type=v.readShort();this.ySubscriptXSize=v.readShort_();this.ySubscriptYSize=v.readShort_();this.ySubscriptXOffset=v.readShort_();this.ySubscriptYOffset=v.readShort_();this.ySuperscriptXSize=v.readShort_();this.ySuperscriptYSize=v.readShort_();this.ySuperscriptXOffset=v.readShort_();this.ySuperscriptYOffset=v.readShort_();this.yStrikeoutSize=v.readShort_();this.yStrikeoutPosition=v.readShort_();this.familyClass=v.readShort_();this.panose=v.times(10,v.readByte);this.charRange=v.times(4,v.readLong);this.vendorID=v.readString(4);this.selection=v.readShort();this.firstCharIndex=v.readShort();this.lastCharIndex=v.readShort();if(this.version>0){this.ascent=v.readShort_();this.descent=v.readShort_();this.lineGap=v.readShort_();this.winAscent=v.readShort();this.winDescent=v.readShort();this.codePageRange=v.times(2,v.readLong);if(this.version>1){this.xHeight=v.readShort();this.capHeight=v.readShort();this.defaultChar=v.readShort();this.breakChar=v.readShort();this.maxContext=v.readShort()}}},render:function(){return this.raw()}});var s=100000;function q(){var v="",x=s+"";for(var w=0;w<x.length;++w){v+=String.fromCharCode(x.charCodeAt(w)-48+65)}++s;return v}function a(v){this.font=v;this.subset={};this.unicodes={};this.ogid2ngid={0:0};this.ngid2ogid={0:0};this.ncid2ogid={};this.next=this.firstChar=1;this.nextGid=1;this.psName=q()+"+"+this.font.psName}a.prototype={use:function(y){var z;if(typeof y=="string"){var w="";for(var x=0;x<y.length;++x){z=this.use(y.charCodeAt(x));w+=String.fromCharCode(z)}return w}z=this.unicodes[y];if(!z){z=this.next++;this.subset[z]=y;this.unicodes[y]=z;var v=this.font.cmap.getUnicodeEntry().codeMap[y];if(v){this.ncid2ogid[z]=v;if(this.ogid2ngid[v]==null){var A=this.nextGid++;this.ogid2ngid[v]=A;this.ngid2ogid[A]=v}}}return z},encodeText:function(v){return this.use(v)},glyphIds:function(){return d(this.ogid2ngid)},glyphsFor:function(w,v){if(!v){v={}}for(var x=0;x<w.length;++x){var z=w[x];if(!v[z]){var y=v[z]=this.font.glyf.glyphFor(z);if(y&&y.compound){this.glyphsFor(y.glyphIds,v)}}}return v},render:function(){var B=this.glyphsFor(this.glyphIds());for(var z in B){if(i(B,z)){z=parseInt(z,10);if(this.ogid2ngid[z]==null){var D=this.nextGid++;this.ogid2ngid[z]=D;this.ngid2ogid[D]=z}}}var A=d(this.ngid2ogid);var x=A.map(function(E){return this.ngid2ogid[E]},this);var w=this.font;var v=w.glyf.render(B,x,this.ogid2ngid);var y=w.loca.render(v.offsets);this.lastChar=this.next-1;var C={cmap:f.render(this.ncid2ogid,this.ogid2ngid),glyf:v.table,loca:y.table,hmtx:w.hmtx.render(x),hhea:w.hhea.render(x),maxp:w.maxp.render(x),post:w.post.render(x),name:w.name.render(this.psName),head:w.head.render(y.format),"OS/2":w.os2.render()};return this.font.directory.render(C)},cidToGidMap:function(){var x=n(),w=0;for(var z=this.firstChar;z<this.next;++z){while(w<z){x.writeShort(0);w++}var v=this.ncid2ogid[z];if(v){var y=this.ogid2ngid[v];x.writeShort(y)}else{x.writeShort(0)}w++}return x.get()}};function p(C,y){var x=this;var A=x.contents=n(C);if(A.readString(4)=="ttcf"){if(!y){throw new Error("Must specify a name for TTC files")}var w=A.readLong();var v=A.readLong();for(var z=0;z<v;++z){var B=A.readLong();A.saveExcursion(function(){A.offset(B);x.parse()});if(x.psName==y){return}}throw new Error("Font "+y+" not found in collection")}else{A.offset(0);x.parse()}}p.prototype={parse:function(){var v=this.directory=new b(this.contents);this.head=v.readTable("head",c);this.loca=v.readTable("loca",k);this.hhea=v.readTable("hhea",j);this.maxp=v.readTable("maxp",m);this.hmtx=v.readTable("hmtx",u);this.glyf=v.readTable("glyf",g);this.name=v.readTable("name",r);this.post=v.readTable("post",h);this.cmap=v.readTable("cmap",f);this.os2=v.readTable("OS/2",l);this.psName=this.name.postscriptName;this.ascent=this.os2.ascent||this.hhea.ascent;this.descent=this.os2.descent||this.hhea.descent;this.lineGap=this.os2.lineGap||this.hhea.lineGap;this.scale=1000/this.head.unitsPerEm},widthOfGlyph:function(v){return this.hmtx.forGlyph(v).advance*this.scale},makeSubset:function(){return new a(this)}};t.TTFFont=p})(this);(function(a){a.PDFMixin={extend:function(b){b.events.push("pdfExport");b.options.pdf=this.options;b.saveAsPDF=this.saveAsPDF},options:{fileName:"Export.pdf",proxyURL:"",paperSize:"auto",landscape:false,margin:null,title:null,author:null,subject:null,keywords:null,creator:"Kendo UI PDF Generator",date:null},saveAsPDF:function(){if(this.trigger("pdfExport")){return}var b=this.options.pdf;a.drawing.drawDOM(this.wrapper[0]).then(function(c){return a.drawing.exportPDF(c,b)}).done(function(c){a.saveAs({dataURI:c,fileName:b.fileName,proxyURL:b.proxyURL,forceProxy:b.forceProxy})})}}})(kendo);(function(s,g){var C=s.drawing;var G=s.geometry;var E=C.Color;function A(){if(!s.pdf){throw new Error("kendo.pdf.js is not loaded")}return s.pdf}var m={dash:[4],dashDot:[4,2,1,2],dot:[1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2],solid:[]};var k={butt:0,round:1,square:2};var x={miter:0,round:1,bevel:2};function F(N,O){var M=[],L=[],P=N.options;function H(R,Q,S){if(!S){S=P}if(S.pdf&&S.pdf[R]!=null){return S.pdf[R]}return Q}var I=H("multiPage");N.traverse(function(Q){D({Image:function(R){if(L.indexOf(R.src())<0){L.push(R.src())}},Text:function(S){var T=A().parseFontDef(S.options.font);var R=A().getFontURL(T);if(M.indexOf(R)<0){M.push(R)}}},Q)});function K(){if(--J>0){return}var Q=new (A().Document)({title:H("title"),author:H("author"),subject:H("subject"),keywords:H("keywords"),creator:H("creator"),date:H("date")});function R(X){var aa=X.options;var T=n(X);var Y=T.bbox;X=T.root;var S=H("paperSize","auto",aa),V=false;if(S=="auto"){if(Y){var Z=Y.getSize();S=[Z.width,Z.height];V=true;var W=Y.getOrigin();T=new C.Group();T.transform(new G.Matrix(1,0,0,1,-W.x,-W.y));T.append(X);X=T}else{S="A4"}}var U;U=Q.addPage({paperSize:S,margin:H("margin",H("margin"),aa),addMargin:V,landscape:H("landscape",H("landscape",false),aa)});v(X,U,Q)}if(I){N.children.forEach(R)}else{R(N)}O(Q.render(),Q)}var J=2;A().loadFonts(M,K);A().loadImages(L,K)}function q(H,I){F(H,function(J){I("data:application/pdf;base64,"+J.base64())})}function a(H,I){F(H,function(J){I(new Blob([J.get()],{type:"application/pdf"}))})}function d(J,H,I,K){if(window.Blob&&!s.support.browser.safari){a(J,function(L){s.saveAs({dataURI:L,fileName:H});if(K){K(L)}})}else{q(J,function(L){s.saveAs({dataURI:L,fileName:H,proxyURL:I});if(K){K(L)}})}}function D(H,I){var J=H[I.nodeType];if(J){return J.call.apply(J,arguments)}return I}function v(L,M,I){if(L.DEBUG){M.comment(L.DEBUG)}var K=L.transform();var J=L.opacity();M.save();if(J!=null&&J<1){M.setOpacity(J)}i(L,M,I);l(L,M,I);r(L,M,I);if(K){var H=K.matrix();M.transform(H.a,H.b,H.c,H.d,H.e,H.f)}D({Path:u,MultiPath:b,Circle:e,Arc:h,Text:t,Image:w,Group:o},L,M,I);M.restore()}function i(L,N,J){var Q=L.stroke&&L.stroke();if(!Q){return}var K=Q.color;if(K){K=y(K);if(K==null){return}N.setStrokeColor(K.r,K.g,K.b);if(K.a!=1){N.setStrokeOpacity(K.a)}}var I=Q.width;if(I!=null){if(I===0){return}N.setLineWidth(I)}var O=Q.dashType;if(O){N.setDashPattern(m[O],0)}var P=Q.lineCap;if(P){N.setLineCap(k[P])}var H=Q.lineJoin;if(H){N.setLineJoin(x[H])}var M=Q.opacity;if(M!=null){N.setStrokeOpacity(M)}}function l(K,L,H){var M=K.fill&&K.fill();if(!M){return}if(M instanceof C.Gradient){return}var I=M.color;if(I){I=y(I);if(I==null){return}L.setFillColor(I.r,I.g,I.b);if(I.a!=1){L.setFillOpacity(I.a)}}var J=M.opacity;if(J!=null){L.setFillOpacity(J)}}function r(I,K,H){var J=I.clip();if(J){z(J,K,H);K.clip()}}function c(H){return(H&&(H instanceof C.Gradient||(H.color&&!/^(none|transparent)$/i.test(H.color)&&(H.width==null||H.width>0)&&(H.opacity==null||H.opacity>0))))}function B(L,N,I,Q){var R=L.fill();if(R instanceof C.Gradient){if(Q){N.clipStroke()}else{N.clip()}var K=R instanceof C.RadialGradient;var H,J;if(K){H={x:R.center().x,y:R.center().y,r:0};J={x:R.center().x,y:R.center().y,r:R.radius()}}else{H={x:R.start().x,y:R.start().y};J={x:R.end().x,y:R.end().y}}var O={type:K?"radial":"linear",start:H,end:J,userSpace:R.userSpace(),stops:R.stops.elements().map(function(U){var V=U.offset();if(/%$/.test(V)){V=parseFloat(V)/100}else{V=parseFloat(V)}var T=y(U.color());T.a*=U.opacity();return{offset:V,color:T}})};var M=L.rawBBox();var P=M.topLeft(),S=M.getSize();M={left:P.x,top:P.y,width:S.width,height:S.height};N.gradient(O,M);return true}}function f(I,J,H){if(c(I.fill())&&c(I.stroke())){if(!B(I,J,H,true)){J.fillStroke()}}else{if(c(I.fill())){if(!B(I,J,H,false)){J.fill()}}else{if(c(I.stroke())){J.stroke()}else{J.nop()}}}}function p(N,M,I){var J=N.segments;if(J.length==4&&N.options.closed){var H=[];for(var K=0;K<J.length;++K){if(J[K].controlIn()){return false}H[K]=J[K].anchor()}var L=(H[0].y==H[1].y&&H[1].x==H[2].x&&H[2].y==H[3].y&&H[3].x==H[0].x)||(H[0].x==H[1].x&&H[1].y==H[2].y&&H[2].x==H[3].x&&H[3].y==H[0].y);if(L){M.rect(H[0].x,H[0].y,H[2].x-H[0].x,H[2].y-H[0].y);return true}}}function z(K,Q,H){var N=K.segments;if(N.length===0){return}if(!p(K,Q,H)){for(var I,L=0;L<N.length;++L){var J=N[L];var M=J.anchor();if(!I){Q.moveTo(M.x,M.y)}else{var P=I.controlOut();var O=J.controlIn();if(P&&O){Q.bezier(P.x,P.y,O.x,O.y,M.x,M.y)}else{Q.lineTo(M.x,M.y)}}I=J}if(K.options.closed){Q.close()}}}function u(I,J,H){z(I,J,H);f(I,J,H)}function b(J,K,H){var L=J.paths;for(var I=0;I<L.length;++I){z(L[I],K,H)}f(J,K,H)}function e(I,K,H){var J=I.geometry();K.circle(J.center.x,J.center.y,J.radius);f(I,K,H)}function h(J,L,H){var K=J.geometry().curvePoints();L.moveTo(K[0].x,K[0].y);for(var I=1;I<K.length;){L.bezier(K[I].x,K[I++].y,K[I].x,K[I++].y,K[I].x,K[I++].y)}f(J,L,H)}function t(I,K,H){var J=A().parseFontDef(I.options.font);var M=I._position;var L;if(I.fill()&&I.stroke()){L=A().TEXT_RENDERING_MODE.fillAndStroke}else{if(I.fill()){L=A().TEXT_RENDERING_MODE.fill}else{if(I.stroke()){L=A().TEXT_RENDERING_MODE.stroke}}}K.transform(1,0,0,-1,M.x,M.y+J.fontSize);K.beginText();K.setFont(A().getFontURL(J),J.fontSize);K.setTextRenderingMode(L);K.showText(I.content());K.endText()}function o(K,L,H){var J=K.children;for(var I=0;I<J.length;++I){v(J[I],L,H)}}function w(K,M,H){var J=K.src();var L=K.rect();var I=L.getOrigin();var N=L.getSize();M.transform(N.width,0,0,-N.height,I.x,I.y+N.height);M.drawImage(J)}function j(I,H){var J=g.Deferred();I.options.set("pdf",H);C.pdf.toDataURL(I,J.resolve);return J.promise()}function y(H){var I=s.parseColor(H,true);return I?I.toRGB():null}function n(P){var R=false;var Q=G.Matrix.unit();var J=null;var M;do{M=false;P=H(P)}while(P&&M);return{root:P,bbox:J};function O(S){M=true;return S}function I(S){return(S.visible()&&S.opacity()>0&&(c(S.fill())||c(S.stroke())))}function N(T){var S=[];for(var U=0;U<T.length;++U){var V=H(T[U]);if(V!=null){S.push(V)}}return S}function L(T,W){var S=R;var V=Q;if(T.transform()){Q=Q.multiplyCopy(T.transform().matrix())}var U=T.clip();if(U){U=U.bbox();if(U){U=U.bbox(Q);R=R?G.Rect.intersect(R,U):U}}try{return W()}finally{R=S;Q=V}}function K(S){if(R==null){return false}var T=S.rawBBox().bbox(Q);if(R&&T){T=G.Rect.intersect(T,R)}return T}function H(S){return L(S,function(){if(!(S instanceof C.Group||S instanceof C.MultiPath)){var T=K(S);if(!T){return O(null)}J=J?G.Rect.union(J,T):T}return D({Path:function(U){if(U.segments.length===0||!I(U)){return O(null)}return U},MultiPath:function(U){if(!I(U)){return O(null)}var V=new C.MultiPath(U.options);V.paths=N(U.paths);if(V.paths.length===0){return O(null)}return V},Circle:function(U){if(!I(U)){return O(null)}return U},Arc:function(U){if(!I(U)){return O(null)}return U},Text:function(U){if(!/\S/.test(U.content())||!I(U)){return O(null)}return U},Image:function(U){if(!(U.visible()&&U.opacity()>0)){return O(null)}return U},Group:function(U){var V=new C.Group(U.options);V.children=N(U.children);if(U!==P&&V.children.length===0){return O(null)}return V}},S)})}}s.deepExtend(C,{exportPDF:j,pdf:{toDataURL:q,toBlob:a,saveAs:d,toStream:F}})})(window.kendo,window.kendo.jQuery);(function(N,v,C){var n=kendo.drawing;var aj=kendo.geometry;var s=Array.prototype.slice;var g=kendo.support.browser;var d="KENDO-PSEUDO-ELEMENT";var S={};function ag(ak){var al=N.Deferred();ak=N(ak)[0];if(typeof window.getComputedStyle!="function"){throw new Error("window.getComputedStyle is missing.  You are using an unsupported browser, or running in IE8 compatibility mode.  Drawing HTML is supported in Chrome, Firefox, Safari and IE9+.")}if(kendo.pdf){kendo.pdf.defineFont(x())}if(ak){G(ak,function(){var am=new n.Group();var an=ak.getBoundingClientRect();e(am,[1,0,0,1,-an.left,-an.top]);O._clipbox=false;O._matrix=aj.Matrix.unit();O._stackingContext={element:ak,group:am};N(ak).addClass("k-pdf-export");p(ak,am);N(ak).removeClass("k-pdf-export");al.resolve(am)})}else{al.reject("No element to export")}return al.promise()}n.drawDOM=ag;ag.getFontFaces=x;var O={};O._root=O;var q=(function(){var at=/^((-webkit-|-moz-|-o-|-ms-)?linear-gradient\s*)\(/;var ar=/^((-webkit-|-moz-|-o-|-ms-)?radial-gradient\s*)\(/;var an=/^([-0-9.]+%)/;var ao=/^([-0-9.]+px)/;var am=/^(left|right|top|bottom|to|center)\W/;var av=/^([-0-9.]+(deg|grad|rad|turn))/;var au=/^(\s+)/;var al=/^(\()/;var aq=/^(\))/;var ap=/^(,)/;var ak={};return function(ay){var aC=ay;if(l(ak,aC)){return ak[aC]}function ax(){var aD=au.exec(ay);if(aD){ay=ay.substr(aD[1].length)}}function aB(aE){ax();var aD=aE.exec(ay);if(aD){ay=ay.substr(aD[1].length);return aD[1]}}function aA(){var aD=kendo.parseColor(ay,true);var aF,aE;if(aD){ay=ay.substr(aD.match[0].length);aD=aD.toRGB();if(!(aF=aB(ao))){aE=aB(an)}return{color:aD,length:aF,percent:aE}}}function az(aF){var aD;var aG,aE;var aL=[];var aH=false;if(aB(al)){aD=aB(av);if(aD){aD=c(aD);aB(ap)}else{aG=aB(am);if(aG=="to"){aG=aB(am)}else{if(aG&&/^-/.test(aF)){aH=true}}aE=aB(am);aB(ap)}if(/-moz-/.test(aF)&&aD==null&&aG==null){var aK=aB(an),aJ=aB(an);aH=true;if(aK=="0%"){aG="left"}else{if(aK=="100%"){aG="right"}}if(aJ=="0%"){aE="top"}else{if(aJ=="100%"){aE="bottom"}}aB(ap)}while(ay&&!aB(aq)){var aI=aA();if(!aI){break}aL.push(aI);aB(ap)}return{type:"linear",angle:aD,to:aG&&aE?aG+" "+aE:aG?aG:aE?aE:null,stops:aL,reverse:aH,orig:aC}}}var aw=aB(at);if(aw){aw=az(aw)}return(ak[aC]=aw)}})();var P=(function(){var ak={};return function(av,ao){if(!ao){ao=/^\s*,\s*/}var aq=av+ao;if(l(ak,aq)){return ak[aq]}var ap=[];var aw=0,au=0;var ar=0;var at=false;var an;function al(ax){return(an=ax.exec(av.substr(au)))}function am(ax){return ax.replace(/^\s+|\s+$/g,"")}while(au<av.length){if(!at&&al(/^[\(\[\{]/)){ar++;au++}else{if(!at&&al(/^[\)\]\}]/)){ar--;au++}else{if(!at&&al(/^[\"\']/)){at=an[0];au++}else{if(at=="'"&&al(/^\\\'/)){au+=2}else{if(at=='"'&&al(/^\\\"/)){au+=2}else{if(at=="'"&&al(/^\'/)){at=false;au++}else{if(at=='"'&&al(/^\"/)){at=false;au++}else{if(al(ao)){if(!at&&!ar&&au>aw){ap.push(am(av.substring(aw,au)));aw=au+an[0].length}au+=an[0].length}else{au++}}}}}}}}}if(aw<au){ap.push(am(av.substring(aw,au)))}return(ak[aq]=ap)}})();var f=(function(){var ak={};return function(an){var am=ak[an];if(!am){var al;if((al=/url\((['"]?)([^'")]*?)\1\)\s+format\((['"]?)truetype\3\)/.exec(an))){am=ak[an]=al[2]}else{if((al=/url\((['"]?)([^'")]*?\.ttf)\1\)/.exec(an))){am=ak[an]=al[2]}}}return am}})();function x(){var am={};for(var an=0;an<document.styleSheets.length;++an){al(document.styleSheets[an])}return am;function al(ar){if(ar){var at=null;try{at=ar.cssRules}catch(aq){}if(at){ao(ar,at)}}}function ap(aq){var ar=aa(aq.style,"src");if(ar){return P(ar).reduce(function(at,av){var au=f(av);if(au){at.push(au)}return at},[])}else{return[f(aq.cssText)]}}function ao(ay,az){for(var av=0;av<az.length;++av){var ar=az[av];switch(ar.type){case 3:al(ar.styleSheet);break;case 5:var at=ar.style;var au=P(aa(at,"font-family"));var ax=/^(400|bold)$/i.test(aa(at,"font-weight"));var aw="italic"==aa(at,"font-style");var aq=ap(ar);if(aq.length>0){ak(ay,au,ax,aw,aq[0])}}}}function ak(av,au,at,aq,ar){if(!(/^https?:\/\//.test(ar)||/^\//.test(ar))){ar=String(av.href).replace(/[^\/]*$/,"")+ar}au.forEach(function(aw){aw=aw.replace(/^(['"]?)(.*?)\1$/,"$2");if(at){aw+="|bold"}if(aq){aw+="|italic"}am[aw]=ar})}}function l(al,ak){return Object.prototype.hasOwnProperty.call(al,ak)}function E(ak){ak="_counter_"+ak;return O[ak]}function I(al){var ak=[],am=O;al="_counter_"+al;while(am){if(l(am,al)){ak.push(am[al])}am=Object.getPrototypeOf(am)}return ak.reverse()}function B(ak,am){var al=O;ak="_counter_"+ak;while(al&&!l(al,ak)){al=Object.getPrototypeOf(al)}if(!al){al=O._root}al[ak]=(al[ak]||0)+(am==null?1:am)}function H(ak,al){ak="_counter_"+ak;O[ak]=al==null?0:al}function y(ak,ao,an){for(var am=0;am<ak.length;){var al=ak[am++];var ap=v(ak[am]);if(isNaN(ap)){ao(al,an)}else{ao(al,ap);++am}}}function m(am,al){var ak=kendo.parseColor(am);if(ak){ak=ak.toRGB();if(al){ak=ak.toCssRgba()}else{if(ak.a===0){ak=null}}}return ak}function G(ak,aq){var ap=[];function ao(ar){if(!S[ar]){S[ar]=true;ap.push(ar)}}(function an(au){var at=o(aa(t(au),"background-image"));if(/^img$/i.test(au.tagName)){ao(au.src)}if(at){ao(at)}for(var ar=au.firstChild;ar;ar=ar.nextSibling){if(ar.nodeType==1){an(ar)}}})(ak);var am=ap.length;function al(){if(--am<=0){aq()}}if(am===0){al()}ap.forEach(function(at){var ar=S[at]=new Image();ar.onload=al;ar.onerror=function(){S[at]=null;al()};ar.src=at;if(ar.complete||ar.complete===undefined){ar.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";ar.src=at}})}function R(an){var al={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1000:"m"};var ak=[1000,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1];var am="";while(an>0){if(an<ak[0]){ak.shift()}else{am+=al[ak[0]];an-=ak[0]}}return am}function Z(am){var ak="";do{var al=am%26;ak=String.fromCharCode(97+al)+ak;am=C.floor(am/26)}while(am>0);return ak}function o(al){var ak=/^\s*url\((['"]?)(.*?)\1\)\s*$/i.exec(al);if(ak){return ak[2]}}function U(am,an,ao){O=Object.create(O);O[am.tagName.toLowerCase()]={element:am,style:an};var al=aa(an,"text-decoration");if(al&&al!="none"){var ak=aa(an,"color");al.split(/\s+/g).forEach(function(ap){if(!O[ap]){O[ap]=ak}})}if(af(am)){O._stackingContext={element:am,group:ao}}}function Y(){O=Object.getPrototypeOf(O)}function W(al){if(O._clipbox!=null){var ak=al.bbox(O._matrix);if(O._clipbox){O._clipbox=aj.Rect.intersect(O._clipbox,ak)}else{O._clipbox=ak}}}function af(ak){var al=t(ak);function am(an){return aa(al,an)}if(am("transform")!="none"||(am("position")!="static"&&am("z-index")!="auto")||(am("opacity")<1)){return true}}function t(ak,al){return window.getComputedStyle(ak,al||null)}function aa(ak,al){return ak.getPropertyValue(al)||(g.webkit&&ak.getPropertyValue("-webkit-"+al))||(g.firefox&&ak.getPropertyValue("-moz-"+al))||(g.opera&&ak.getPropertyValue("-o-"+al))||(g.msie&&ak.getPropertyValue("-ms-"+al))}function a(al,an,am,ak){al.setProperty(an,am,ak);if(g.webkit){al.setProperty("-webkit-"+an,am,ak)}else{if(g.firefox){al.setProperty("-moz-"+an,am,ak)}else{if(g.opera){al.setProperty("-o-"+an,am,ak)}else{if(g.msie){al.setProperty("-ms-"+an,am,ak);an="ms"+an.replace(/(^|-)([a-z])/g,function(ao,aq,ap){return aq+ap.toUpperCase()});al[an]=am}}}}}function ab(al,ak){ak="border-"+ak;return{width:v(aa(al,ak+"-width")),style:aa(al,ak+"-style"),color:m(aa(al,ak+"-color"),true)}}function L(al,an){var am=al.style.cssText;var ak=an();al.style.cssText=am;return ak}function T(al,ak){var am=aa(al,"border-"+ak+"-radius").split(/\s+/g).map(v);if(am.length==1){am.push(am[0])}return ae({x:am[0],y:am[1]})}function ac(ak){var al=ak.getBoundingClientRect();al=r(al,"border-*-width",ak);al=r(al,"padding-*",ak);return al}function r(ao,ar,am){var an,ak,al,ap,aq;if(typeof ar=="string"){an=t(am);ak=v(aa(an,ar.replace("*","top")));al=v(aa(an,ar.replace("*","right")));ap=v(aa(an,ar.replace("*","bottom")));aq=v(aa(an,ar.replace("*","left")))}else{if(typeof ar=="number"){ak=al=ap=aq=ar}}return{top:ao.top+ak,right:ao.right-al,bottom:ao.bottom-ap,left:ao.left+aq,width:ao.right-ao.left-al-aq,height:ao.bottom-ao.top-ap-ak}}function K(an){var am=aa(an,"transform");if(am=="none"){return null}var al=/^\s*matrix\(\s*(.*?)\s*\)\s*$/.exec(am);if(al){var ak=aa(an,"transform-origin");al=al[1].split(/\s*,\s*/g).map(v);ak=ak.split(/\s+/g).map(v);return{matrix:al,origin:ak}}}function h(ak){return((180*ak)/C.PI)%360}function c(al){var ak=v(al);if(/grad$/.test(al)){return C.PI*ak/200}else{if(/rad$/.test(al)){return ak}else{if(/turn$/.test(al)){return C.PI*ak*2}else{if(/deg$/.test(al)){return C.PI*ak/180}}}}}function e(al,ak){ak=new aj.Matrix(ak[0],ak[1],ak[2],ak[3],ak[4],ak[5]);al.transform(ak);return ak}function F(ak,al){ak.clip(al)}function j(ao,ak,ap,al){var an=new aj.Arc([ak,ap],al).curvePoints(),am=1;while(am<an.length){ao.curveTo(an[am++],an[am++],an[am++])}}function ae(ak){if(ak.x<=0||ak.y<=0){ak.x=ak.y=0}return ak}function u(aq,ar,av){var al=t(aq);var an=T(al,"top-left");var aA=T(al,"top-right");var at=T(al,"bottom-left");var ao=T(al,"bottom-right");if(av=="padding"||av=="content"){var ax=ab(al,"top");var ay=ab(al,"right");var au=ab(al,"bottom");var am=ab(al,"left");an.x-=am.width;an.y-=ax.width;aA.x-=ay.width;aA.y-=ax.width;ao.x-=ay.width;ao.y-=au.width;at.x-=am.width;at.y-=au.width;if(av=="content"){var az=v(aa(al,"padding-top"));var ak=v(aa(al,"padding-right"));var aw=v(aa(al,"padding-bottom"));var ap=v(aa(al,"padding-left"));an.x-=ap;an.y-=az;aA.x-=ak;aA.y-=az;ao.x-=ak;ao.y-=aw;at.x-=ap;at.y-=aw}}if(typeof av=="number"){an.x-=av;an.y-=av;aA.x-=av;aA.y-=av;ao.x-=av;ao.y-=av;at.x-=av;at.y-=av}return z(ar,an,aA,ao,at)}function z(an,ap,al,ak,am){var ao=new n.Path({fill:null,stroke:null});ae(ap);ae(al);ae(ak);ae(am);ao.moveTo(an.left,an.top+ap.y);if(ap.x){j(ao,an.left+ap.x,an.top+ap.y,{startAngle:-180,endAngle:-90,radiusX:ap.x,radiusY:ap.y})}ao.lineTo(an.right-al.x,an.top);if(al.x){j(ao,an.right-al.x,an.top+al.y,{startAngle:-90,endAngle:0,radiusX:al.x,radiusY:al.y})}ao.lineTo(an.right,an.bottom-ak.y);if(ak.x){j(ao,an.right-ak.x,an.bottom-ak.y,{startAngle:0,endAngle:90,radiusX:ak.x,radiusY:ak.y})}ao.lineTo(an.left+am.x,an.bottom);if(am.x){j(ao,an.left+am.x,an.bottom-am.y,{startAngle:90,endAngle:180,radiusX:am.x,radiusY:am.y})}return ao.close()}function i(am,ak){var al=v(am)+"";switch(ak){case"decimal-leading-zero":if(al.length<2){al="0"+al}return al;case"lower-roman":return R(am);case"upper-roman":return R(am).toUpperCase();case"lower-latin":case"lower-alpha":return Z(am-1);case"upper-latin":case"upper-alpha":return Z(am-1).toUpperCase();default:return al}}function b(an,ao){function ap(aq,ar,at){if(!at){return i(E(aq)||0,ar)}at=at.replace(/^\s*(["'])(.*)\1\s*$/,"$2");return I(aq).map(function(au){return i(au,ar)}).join(at)}var am=P(ao,/^\s+/);var al=[],ak;am.forEach(function(ar){var aq;if((ak=/^\s*(["'])(.*)\1\s*$/.exec(ar))){al.push(ak[2].replace(/\\([0-9a-f]{4})/gi,function(at,au){return String.fromCharCode(parseInt(au,16))}))}else{if((ak=/^\s*counter\((.*?)\)\s*$/.exec(ar))){aq=P(ak[1]);al.push(ap(aq[0],aq[1]))}else{if((ak=/^\s*counters\((.*?)\)\s*$/.exec(ar))){aq=P(ak[1]);al.push(ap(aq[0],aq[2],aq[1]))}else{if((ak=/^\s*attr\((.*?)\)\s*$/.exec(ar))){al.push(an.getAttribute(ak[1])||"")}else{al.push(ar)}}}}});return al.join("")}function ai(am){if(am.cssText){return am.cssText}var ak=[];for(var al=0;al<am.length;++al){ak.push(am[al]+": "+aa(am,am[al]))}return ak.join(";\n")}function k(al,an){if(al.tagName==d){J(al,an);return}var ak=[];function am(ar,ap){var aq=t(al,ar);if(aq.content&&aq.content!="normal"&&aq.content!="none"){var ao=document.createElement(d);ao.style.cssText=ai(aq);ao.textContent=b(al,aq.content);al.insertBefore(ao,ap);if(ar==":before"&&!(/absolute|fixed/.test(aa(ao.style,"position")))){ao.style.marginLeft=v(aa(ao.style,"margin-left"))-ao.offsetWidth+"px"}ak.push(ao)}}am(":before",al.firstChild);am(":after",null);J(al,an);ak.forEach(function(ao){al.removeChild(ao)})}function J(am,au){var aD=t(am);var ay=ab(aD,"top");var aH=ab(aD,"right");var at=ab(aD,"bottom");var an=ab(aD,"left");var ak=T(aD,"top-left");var aI=T(aD,"top-right");var aJ=T(aD,"bottom-left");var aC=T(aD,"bottom-right");var aA=aa(aD,"direction");var ap=aa(aD,"background-color");ap=m(ap);var al=P(aa(aD,"background-image"));var aF=P(aa(aD,"background-repeat"));var az=P(aa(aD,"background-position"));var av=P(aa(aD,"background-origin"));var aG=P(aa(aD,"background-size"));if(g.msie&&g.version<10){az=P(am.currentStyle.backgroundPosition)}var aw=r(am.getBoundingClientRect(),"border-*-width",am);(function(){var aO=aa(aD,"clip");var aP=/^\s*rect\((.*)\)\s*$/.exec(aO);if(aP){var aT=aP[1].split(/[ ,]+/g);var aS=aT[0]=="auto"?aw.top:v(aT[0])+aw.top;var aU=aT[1]=="auto"?aw.right:v(aT[1])+aw.left;var aM=aT[2]=="auto"?aw.bottom:v(aT[2])+aw.top;var aN=aT[3]=="auto"?aw.left:v(aT[3])+aw.left;var aQ=new n.Group();var aR=new n.Path().moveTo(aN,aS).lineTo(aU,aS).lineTo(aU,aM).lineTo(aN,aM).close();F(aQ,aR);au.append(aQ);au=aQ;W(aR)}})();var aq=am.getClientRects();if(aq.length==1){aq=[am.getBoundingClientRect()]}aq=aL(aq);for(var aB=0;aB<aq.length;++aB){ao(aq[aB],aB===0,aB==aq.length-1)}if(aq.length>0&&aa(aD,"display")=="list-item"){aE(aq[0])}(function(){function aM(){var aO=u(am,aw,"padding");var aN=new n.Group();F(aN,aO);au.append(aN);au=aN;W(aO)}if(/^(hidden|auto|scroll)/.test(aa(aD,"overflow"))){aM()}else{if(/^(hidden|auto|scroll)/.test(aa(aD,"overflow-x"))){aM()}else{if(/^(hidden|auto|scroll)/.test(aa(aD,"overflow-y"))){aM()}}}})();if(!D(am,au)){M(am,au)}return au;function aL(aQ){if(/^td$/i.test(am.tagName)){var aR=O.table;if(aR&&aa(aR.style,"border-collapse")=="collapse"){var aP=ab(aR.style,"left").width;var aM=ab(aR.style,"top").width;if(aP===0&&aM===0){return aQ}var aS=aR.element.getBoundingClientRect();var aO=aR.element.rows[0].cells[0];var aN=aO.getBoundingClientRect();if(aN.top==aS.top||aN.left==aS.left){return s.call(aQ).map(function(aT){return{left:aT.left+aP,top:aT.top+aM,right:aT.right+aP,bottom:aT.bottom+aM,height:aT.height,width:aT.width}})}}}return aQ}function ar(aP,aS,aM,aV,aT,aU,aR,aO){if(aM<=0){return}var aW,aN=new n.Group();e(aN,aO);au.append(aN);ae(aU);ae(aR);aW=new n.Path({fill:{color:aP},stroke:null});aN.append(aW);aW.moveTo(aU.x?C.max(aU.x,aV):0,0).lineTo(aS-(aR.x?C.max(aR.x,aT):0),0).lineTo(aS-C.max(aR.x,aT),aM).lineTo(C.max(aU.x,aV),aM).close();if(aU.x){aQ(aV,aU,[-1,0,0,1,aU.x,0])}if(aR.x){aQ(aT,aR,[1,0,0,1,aS-aR.x,0])}function aQ(a0,aZ,aY){var a2=C.PI/2*a0/(a0+aM);var aX={x:aZ.x-a0,y:aZ.y-aM};var a1=new n.Path({fill:{color:aP},stroke:null}).moveTo(0,0);e(a1,aY);j(a1,0,aZ.y,{startAngle:-90,endAngle:-h(a2),radiusX:aZ.x,radiusY:aZ.y});if(aX.x>0&&aX.y>0){a1.lineTo(aX.x*C.cos(a2),aZ.y-aX.y*C.sin(a2));j(a1,0,aZ.y,{startAngle:-h(a2),endAngle:-90,radiusX:aX.x,radiusY:aX.y,anticlockwise:true})}else{if(aX.x>0){a1.lineTo(aX.x,aM).lineTo(0,aM)}else{a1.lineTo(aX.x,aM).lineTo(aX.x,0)}}aN.append(a1.close())}}function ax(aP){var aM=new n.Group();F(aM,z(aP,ak,aI,aC,aJ));au.append(aM);if(ap){var aU=new n.Path({fill:{color:ap.toCssRgba()},stroke:null});aU.moveTo(aP.left,aP.top).lineTo(aP.right,aP.top).lineTo(aP.right,aP.bottom).lineTo(aP.left,aP.bottom).close();aM.append(aU)}var aS,aR,aT,aN,aQ;for(var aO=al.length;--aO>=0;){aS=al[aO];aR=aF[aO]||aF[aF.length-1];aT=az[aO]||az[az.length-1];aN=av[aO]||av[av.length-1];aQ=aG[aO]||aG[aG.length-1];aK(aM,aP,aS,aR,aT,aN,aQ)}}function aK(aW,aR,aU,aP,aO,aM,aV){if(!aU||(aU=="none")){return}if(/^url\(\"data:image\/svg/i.test(aU)){return}var aN=o(aU);if(aN){var aQ=S[aN];if(aQ&&aQ.width>0&&aQ.height>0){aS(aW,aR,aQ.width,aQ.height,function(aY,aX){aY.append(new n.Image(aN,aX))})}}else{var aT=q(aU);if(aT){aS(aW,aR,aR.width,aR.height,Q(aT))}}function aS(a6,aZ,a7,aX,a1){var aY=a7/aX;var a4=aZ;if(aM=="content-box"){a4=r(a4,"border-*-width",am);a4=r(a4,"padding-*",am)}else{if(aM=="padding-box"){a4=r(a4,"border-*-width",am)}}if(!/^\s*auto(\s+auto)?\s*$/.test(aV)){var ba=aV.split(/\s+/g);if(/%$/.test(ba[0])){a7=a4.width*v(ba[0])/100}else{a7=v(ba[0])}if(ba.length==1||ba[1]=="auto"){aX=a7/aY}else{if(/%$/.test(ba[1])){aX=a4.height*v(ba[1])/100}else{aX=v(ba[1])}}}var a3=(aO+"").split(/\s+/);if(a3.length==1){a3[1]="50%"}if(/%$/.test(a3[0])){a3[0]=v(a3[0])/100*(a4.width-a7)}else{a3[0]=v(a3[0])}if(/%$/.test(a3[1])){a3[1]=v(a3[1])/100*(a4.height-aX)}else{a3[1]=v(a3[1])}var a2=new aj.Rect([a4.left+a3[0],a4.top+a3[1]],[a7,aX]);function a9(){while(a2.origin.x>aZ.left){a2.origin.x-=a7}}function a8(){while(a2.origin.y>aZ.top){a2.origin.y-=aX}}function a0(){while(a2.origin.x<aZ.right){a1(a6,a2.clone());a2.origin.x+=a7}}if(aP=="no-repeat"){a1(a6,a2)}else{if(aP=="repeat-x"){a9();a0()}else{if(aP=="repeat-y"){a8();while(a2.origin.y<aZ.bottom){a1(a6,a2.clone());a2.origin.y+=aX}}else{if(aP=="repeat"){a9();a8();var a5=a2.origin.clone();while(a2.origin.y<aZ.bottom){a2.origin.x=a5.x;a0();a2.origin.y+=aX}}}}}}}function aE(aP){var aN=aa(aD,"list-style-type");if(aN=="none"){return}var aQ=aa(aD,"list-style-image");var aR=aa(aD,"list-style-position");function aM(aS){L(am,function(){am.style.position="relative";var aT=document.createElement(d);aT.style.position="absolute";aT.style.boxSizing="border-box";if(aR=="outside"){aT.style.width="6em";aT.style.left="-6.8em";aT.style.textAlign="right"}else{aT.style.left="0px"}aS(aT);am.insertBefore(aT,am.firstChild);p(aT,au);am.removeChild(aT)})}function aO(aU){var aS=am.parentNode.children;for(var aT=0;aT<aS.length;++aT){if(aS[aT]===am){return aU(aT,aS.length)}}}switch(aN){case"circle":case"disc":case"square":aM(function(aS){aS.style.fontSize="70%";aS.style.lineHeight="150%";aS.style.paddingRight="0.5em";aS.style.fontFamily="ZapfDingbats";aS.innerHTML={disc:"l",circle:"m",square:"n"}[aN]});break;case"decimal":case"decimal-leading-zero":aM(function(aS){aO(function(aU,aT){++aU;if(aN=="decimal-leading-zero"&&(aU+"").length<2){aU="0"+aU}aS.innerHTML=aU+"."})});break;case"lower-roman":case"upper-roman":aM(function(aS){aO(function(aU,aT){aU=R(aU+1);if(aN=="upper-roman"){aU=aU.toUpperCase()}aS.innerHTML=aU+"."})});break;case"lower-latin":case"lower-alpha":case"upper-latin":case"upper-alpha":aM(function(aS){aO(function(aU,aT){aU=Z(aU);if(/^upper/i.test(aN)){aU=aU.toUpperCase()}aS.innerHTML=aU+"."})});break}}function ao(aP,aN,aQ){if(aP.width===0||aP.height===0){return}ax(aP);var aO=(an.width>0&&((aN&&aA=="ltr")||(aQ&&aA=="rtl")));var aS=(aH.width>0&&((aQ&&aA=="ltr")||(aN&&aA=="rtl")));if(ay.width===0&&an.width===0&&aH.width===0&&at.width===0){return}if(true){if(ay.color==aH.color&&ay.color==at.color&&ay.color==an.color){if(ay.width==aH.width&&ay.width==at.width&&ay.width==an.width){if(aO&&aS){aP=r(aP,ay.width/2);var aR=u(am,aP,ay.width/2);aR.options.stroke={color:ay.color,width:ay.width};au.append(aR);return}}}if(ak.x===0&&aI.x===0&&aC.x===0&&aJ.x===0){if(ay.width<2&&an.width<2&&aH.width<2&&at.width<2){if(ay.width>0){au.append(new n.Path({stroke:{width:ay.width,color:ay.color}}).moveTo(aP.left,aP.top+ay.width/2).lineTo(aP.right,aP.top+ay.width/2))}if(at.width>0){au.append(new n.Path({stroke:{width:at.width,color:at.color}}).moveTo(aP.left,aP.bottom-at.width/2).lineTo(aP.right,aP.bottom-at.width/2))}if(aO){au.append(new n.Path({stroke:{width:an.width,color:an.color}}).moveTo(aP.left+an.width/2,aP.top).lineTo(aP.left+an.width/2,aP.bottom))}if(aS){au.append(new n.Path({stroke:{width:aH.width,color:aH.color}}).moveTo(aP.right-aH.width/2,aP.top).lineTo(aP.right-aH.width/2,aP.bottom))}return}}}ar(ay.color,aP.width,ay.width,an.width,aH.width,ak,aI,[1,0,0,1,aP.left,aP.top]);ar(at.color,aP.width,at.width,aH.width,an.width,aC,aJ,[-1,0,0,-1,aP.right,aP.bottom]);function aM(aT){return{x:aT.y,y:aT.x}}ar(an.color,aP.height,an.width,at.width,ay.width,aM(aJ),aM(ak),[0,-1,1,0,aP.left,aP.bottom]);ar(aH.color,aP.height,aH.width,ay.width,at.width,aM(aI),aM(aC),[0,1,-1,0,aP.right,aP.top])}}function Q(ak){return function(at,am){var ax=am.width(),aw=am.height(),ap=am.topLeft();switch(ak.type){case"linear":var aA=ak.angle!=null?ak.angle:C.PI;switch(ak.to){case"top":aA=0;break;case"left":aA=-C.PI/2;break;case"bottom":aA=C.PI;break;case"right":aA=C.PI/2;break;case"top left":case"left top":aA=-C.atan2(aw,ax);break;case"top right":case"right top":aA=C.atan2(aw,ax);break;case"bottom left":case"left bottom":aA=C.PI+C.atan2(aw,ax);break;case"bottom right":case"right bottom":aA=C.PI-C.atan2(aw,ax);break}if(ak.reverse){aA-=C.PI}aA%=2*C.PI;if(aA<0){aA+=2*C.PI}var ay=C.abs(ax*C.sin(aA))+C.abs(aw*C.cos(aA));var aC=C.atan(ax*C.tan(aA)/aw);var al=C.sin(aC),an=C.cos(aC);var az=C.abs(al)+C.abs(an);var av=az/2*al;var au=az/2*an;if(aA>C.PI/2&&aA<=3*C.PI/2){av=-av;au=-au}var aD=[],aB=0;var ar=ak.stops.map(function(aG,aF){var aH=aG.percent;if(aH){aH=v(aH)/100}else{if(aG.length){aH=v(aG.length)/ay}else{if(aF===0){aH=0}else{if(aF==ak.stops.length-1){aH=1}}}}var aE={color:aG.color.toCssRgba(),offset:aH};if(aH!=null){aB=aH;aD.forEach(function(aK,aJ){var aI=aK.stop;aI.offset=aK.left+(aB-aK.left)*(aJ+1)/(aD.length+1)});aD=[]}else{aD.push({left:aB,stop:aE})}return aE});var aq=[0.5-av,0.5+au];var ao=[0.5+av,0.5-au];at.append(n.Path.fromRect(am).stroke(null).fill(new n.LinearGradient({start:aq,end:ao,stops:ar,userSpace:false})));break;case"radial":if(window.console&&window.console.log){window.console.log("Radial gradients are not yet supported in HTML renderer")}break}}}function D(ak,ao){if(ak.getAttribute(kendo.attr("role"))){var an=kendo.widgetInstance(N(ak));if(an&&(an.exportDOMVisual||an.exportVisual)){var am;if(an.exportDOMVisual){am=an.exportDOMVisual()}else{am=an.exportVisual()}var al=new n.Group();al.children.push(am);var ap=ak.getBoundingClientRect();al.transform(aj.transform().translate(ap.left,ap.top));ao.append(al);return true}}}function A(al,ak,ap){var an=ac(al);var am=new aj.Rect([an.left,an.top],[an.width,an.height]);var ao=new n.Image(ak,am);F(ao,u(al,an,"content"));ap.append(ao)}function w(am,al){var ak=t(am);var ar=t(al);var ao=v(aa(ak,"z-index"));var an=v(aa(ar,"z-index"));var aq=aa(ak,"position");var ap=aa(ar,"position");if(isNaN(ao)&&isNaN(an)){if((/static|absolute/.test(aq))&&(/static|absolute/.test(ap))){return 0}if(aq=="static"){return -1}if(ap=="static"){return 1}return 0}if(isNaN(ao)){return an===0?0:an>0?-1:1}if(isNaN(an)){return ao===0?0:ao>0?1:-1}return v(ao)-v(an)}function M(an,aw){switch(an.tagName.toLowerCase()){case"img":A(an,an.src,aw);break;case"canvas":try{A(an,an.toDataURL("image/jpeg"),aw)}catch(au){}break;case"textarea":case"input":break;default:var ak=[],av=[],at=[],am=[];for(var ao=an.firstChild;ao;ao=ao.nextSibling){switch(ao.nodeType){case 3:if(/\S/.test(ao.data)){ad(an,ao,aw)}break;case 1:var al=t(ao);var ar=aa(al,"display");var aq=aa(al,"float");var ap=aa(al,"position");if(ap!="static"){am.push(ao)}else{if(ar!="inline"){if(aq!="none"){av.push(ao)}else{ak.push(ao)}}else{at.push(ao)}}break}}ak.sort(w).forEach(function(ax){p(ax,aw)});av.sort(w).forEach(function(ax){p(ax,aw)});at.sort(w).forEach(function(ax){p(ax,aw)});am.sort(w).forEach(function(ax){p(ax,aw)})}}function ad(at,ao,az){var ak=t(at);if(v(aa(ak,"text-indent"))<-500){return}var aA=ao.data;var au=at.ownerDocument.createRange();var aw=aa(ak,"text-align");var ar=aw=="justify";var al=0;var aq=/\S\s*$/.exec(ao.data).index+1;function ax(){while(!/\S/.test(aA.charAt(al))){if(al>=aq){return true}al++}au.setStart(ao,al);var aC=0;while(++al<=aq){++aC;au.setEnd(ao,al);if(aC>1&&((ar&&/\s/.test(aA.charAt(al-1)))||au.getClientRects().length>1)){au.setEnd(ao,--al);break}}var aD=au.getClientRects()[0];var aE=au.toString().replace(/\s+$/,"");av(aE,aD)}var aB=aa(ak,"font-size");var ay=aa(ak,"line-height");var an=[aa(ak,"font-style"),aa(ak,"font-variant"),aa(ak,"font-weight"),aB,aa(ak,"font-family")].join(" ");aB=v(aB);ay=v(ay);if(aB===0){return}var ap=aa(ak,"color");function av(aG,aD){aG=aG.replace(/[\r\n ]+/g," ");if(g.msie&&!isNaN(ay)){var aC=n.util.measureText(aG,{font:an});var aE=(aD.top+aD.bottom-aC.height)/2;aD={top:aE,right:aD.right,bottom:aE+aC.height,left:aD.left,height:aC.height,width:aD.right-aD.left}}var aF=new n.Text(aG,new aj.Point(aD.left,aD.top),{font:an,fill:{color:ap}});az.append(aF);am(aD)}function am(aD){aC(O.underline,aD.bottom);aC(O["line-through"],aD.bottom-aD.height/2.7);aC(O.overline,aD.top);function aC(aE,aH){if(aE){var aF=aB/12;var aG=new n.Path({stroke:{width:aF,color:aE}});aH-=aF;aG.moveTo(aD.left,aH).lineTo(aD.right,aH);az.append(aG)}}}while(!ax()){}}function ah(ao,ap){var ak=O._stackingContext.group;var al=ak.children;for(var an=0;an<al.length;++an){if(al[an]._dom_zIndex!=null&&al[an]._dom_zIndex>ap){break}}var am=new n.Group();ak.insertAt(am,an);am._dom_zIndex=ap;if(O._clipbox){am.clip(n.Path.fromRect(O._clipbox))}return am}function p(an,al){var ak=t(an);var ap=aa(ak,"counter-reset");if(ap){y(P(ap,/^\s+/),H,0)}var aq=aa(ak,"counter-increment");if(aq){y(P(aq,/^\s+/),B,1)}if(/^(style|script|link|meta|iframe|svg|col|colgroup)$/i.test(an.tagName)){return}if(O._clipbox==null){return}var ao=v(aa(ak,"opacity"));var am=aa(ak,"visibility");var ar=aa(ak,"display");if(ao===0||am=="hidden"||ar=="none"){return}var at=K(ak);var av;var au=aa(ak,"z-index");if((at||ao<1)&&au=="auto"){au=0}if(au!="auto"){av=ah(al,au)}else{av=new n.Group();al.append(av)}av.DEBUG=N(an).data("debug");if(ao<1){av.opacity(ao*av.opacity())}U(an,ak,av);if(!at){k(an,av)}else{L(an,function(){a(an.style,"transform","none","important");a(an.style,"transition","none","important");if(aa(ak,"position")=="static"){a(an.style,"position","relative","important")}var ay=an.getBoundingClientRect();var ax=ay.left+at.origin[0];var az=ay.top+at.origin[1];var aw=[1,0,0,1,-ax,-az];aw=X(aw,at.matrix);aw=X(aw,[1,0,0,1,ax,az]);aw=e(av,aw);O._matrix=O._matrix.multiplyCopy(aw);k(an,av)})}Y()}function V(ak,an){var al=ak.getBoundingClientRect();var am=n.Path.fromRect(new aj.Rect([al.left,al.top],[al.width,al.height]));an.append(am)}function X(ay,aw){var an=ay[0],ax=ay[1],ar=ay[2],am=ay[3],av=ay[4],aq=ay[5];var al=aw[0],au=aw[1],ap=aw[2],ak=aw[3],at=aw[4],ao=aw[5];return[an*al+ax*ap,an*au+ax*ak,ar*al+am*ap,ar*au+am*ak,av*al+aq*ap+at,av*au+aq*ak+ao]}})(window.kendo.jQuery,parseFloat,Math);(function(e,b){var j=document,k=e.noop,h=window.kendo,a=h.Class,f=h.util,c=h.animationFrame,d=h.deepExtend;var g=a.extend({init:function(m,l){var n=this;n.options=d({},n.options,l);n.element=m},options:{duration:500,easing:"swing"},setup:k,step:k,play:function(){var o=this,m=o.options,r=e.easing[m.easing],p=m.duration,l=m.delay||0,q=f.now()+l,n=q+p;if(p===0){o.step(1);o.abort()}else{setTimeout(function(){var s=function(){if(o._stopped){return}var u=f.now();var v=f.limitValue(u-q,0,p);var w=v/p;var t=r(w,v,0,1,p);o.step(t);if(u<n){c(s)}else{o.abort()}};s()},l)}},abort:function(){this._stopped=true},destroy:function(){this.abort()}});var i=function(){this._items=[]};i.prototype={register:function(l,m){this._items.push({name:l,type:m})},create:function(p,n){var l=this._items;var m;if(n&&n.type){var q=n.type.toLowerCase();for(var o=0;o<l.length;o++){if(l[o].name.toLowerCase()===q){m=l[o];break}}}if(m){return new m.type(p,n)}}};i.current=new i();g.create=function(n,m,l){return i.current.create(n,m,l)};d(h.drawing,{Animation:g,AnimationFactory:i})})(window.kendo.jQuery,Math);(function(g,h){var r=window.kendo,f=r.ui.Widget,w=".kendoValidator",x="k-invalid-msg",s=new RegExp(x,"i"),y="k-invalid",n=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,A=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,e=":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])",c=":checkbox:not([disabled],[readonly])",z="[type=number],[type=range]",b="blur",j="name",m="form",a="novalidate",u=g.proxy,t=function(C,B){if(typeof B==="string"){B=new RegExp("^(?:"+B+")$")}return B.test(C)},d=function(C,B,E){var D=C.val();if(C.filter(B).length&&D!==""){return t(D,E)}return true},i=function(B,C){if(B.length){return B[0].attributes[C]!=null}return false};if(!r.ui.validator){r.ui.validator={rules:{},messages:{}}}function v(D){var C=r.ui.validator.ruleResolvers||{},E={},B;for(B in C){g.extend(true,E,C[B].resolve(D))}return E}function q(B){return B.replace(/&amp/g,"&amp;").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")}function o(B){B=(B+"").split(".");if(B.length>1){return B[1].length}return 0}function p(B){if(g.parseHTML){return g(g.parseHTML(B))}return g(B)}function l(G,H){var F=g(),D,C;for(var B=0,E=G.length;B<E;B++){D=G[B];if(s.test(D.className)){C=D.getAttribute(r.attr("for"));if(C===H){F=F.add(D)}}}return F}var k=f.extend({init:function(D,C){var F=this,B=v(D),E="["+r.attr("validate")+"!=false]";C=C||{};C.rules=g.extend({},r.ui.validator.rules,B.rules,C.rules);C.messages=g.extend({},r.ui.validator.messages,B.messages,C.messages);f.fn.init.call(F,D,C);F._errorTemplate=r.template(F.options.errorTemplate);if(F.element.is(m)){F.element.attr(a,a)}F._inputSelector=e+E;F._checkboxSelector=c+E;F._errors={};F._attachEvents();F._isValidated=false},events:["validate","change"],options:{name:"Validator",errorTemplate:'<span class="k-widget k-tooltip k-tooltip-validation"><span class="k-icon k-warning"> </span> #=message#</span>',messages:{required:"{0} is required",pattern:"{0} is not valid",min:"{0} should be greater than or equal to {1}",max:"{0} should be smaller than or equal to {1}",step:"{0} is not valid",email:"{0} is not valid email",url:"{0} is not valid URL",date:"{0} is not valid date"},rules:{required:function(B){var D=B.filter("[type=checkbox]").length&&!B.is(":checked"),C=B.val();return !(i(B,"required")&&(C===""||!C||D))},pattern:function(B){if(B.filter("[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]").filter("[pattern]").length&&B.val()!==""){return t(B.val(),B.attr("pattern"))}return true},min:function(B){if(B.filter(z+",["+r.attr("type")+"=number]").filter("[min]").length&&B.val()!==""){var C=parseFloat(B.attr("min"))||0,D=r.parseFloat(B.val());return C<=D}return true},max:function(C){if(C.filter(z+",["+r.attr("type")+"=number]").filter("[max]").length&&C.val()!==""){var B=parseFloat(C.attr("max"))||0,D=r.parseFloat(C.val());return B>=D}return true},step:function(D){if(D.filter(z+",["+r.attr("type")+"=number]").filter("[step]").length&&D.val()!==""){var E=parseFloat(D.attr("min"))||0,F=parseFloat(D.attr("step"))||1,G=parseFloat(D.val()),B=o(F),C;if(B){C=Math.pow(10,B);return((Math.floor((G-E)*C))%(F*C))/Math.pow(100,B)===0}return((G-E)%F)===0}return true},email:function(B){return d(B,"[type=email],["+r.attr("type")+"=email]",n)},url:function(B){return d(B,"[type=url],["+r.attr("type")+"=url]",A)},date:function(B){if(B.filter("[type^=date],["+r.attr("type")+"=date]").length&&B.val()!==""){return r.parseDate(B.val(),B.attr(r.attr("format")))!==null}return true}},validateOnBlur:true},destroy:function(){f.fn.destroy.call(this);this.element.off(w)},value:function(){if(!this._isValidated){return false}return this.errors().length===0},_submit:function(B){if(!this.validate()){B.stopPropagation();B.stopImmediatePropagation();B.preventDefault();return false}return true},_checkElement:function(B){var C=this.value();this.validateInput(B);if(this.value()!==C){this.trigger("change")}},_attachEvents:function(){var B=this;if(B.element.is(m)){B.element.on("submit"+w,u(B._submit,B))}if(B.options.validateOnBlur){if(!B.element.is(e)){B.element.on(b+w,B._inputSelector,function(){B._checkElement(g(this))});B.element.on("click"+w,B._checkboxSelector,function(){B._checkElement(g(this))})}else{B.element.on(b+w,function(){B._checkElement(B.element)});if(B.element.is(c)){B.element.on("click"+w,function(){B._checkElement(B.element)})}}}},validate:function(){var D;var C;var B=false;var E;var G=this.value();this._errors={};if(!this.element.is(e)){var F=false;D=this.element.find(this._inputSelector);for(C=0,E=D.length;C<E;C++){if(!this.validateInput(D.eq(C))){F=true}}B=!F}else{B=this.validateInput(this.element)}this.trigger("validate",{valid:B});if(G!==B){this.trigger("change")}return B},validateInput:function(H){H=g(H);this._isValidated=true;var D=this,I=D._errorTemplate,K=D._checkValidity(H),B=K.valid,E="."+x,J=(H.attr(j)||""),F=D._findMessageContainer(J).add(H.next(E).filter(function(){var L=g(this);if(L.filter("["+r.attr("for")+"]").length){return L.attr(r.attr("for"))===J}return true})).hide(),G;H.removeAttr("aria-invalid");if(!B){G=D._extractMessage(H,K.key);D._errors[J]=G;var C=p(I({message:q(G)}));D._decorateMessageContainer(C,J);if(!F.replaceWith(C).length){C.insertAfter(H)}C.show();H.attr("aria-invalid",true)}else{delete D._errors[J]}H.toggleClass(y,!B);return B},hideMessages:function(){var D=this,C="."+x,B=D.element;if(!B.is(e)){B.find(C).hide()}else{B.next(C).hide()}},_findMessageContainer:function(G){var C=r.ui.validator.messageLocators,D,F=g();for(var B=0,E=this.element.length;B<E;B++){F=F.add(l(this.element[B].getElementsByTagName("*"),G))}for(D in C){F=F.add(C[D].locate(this.element,G))}return F},_decorateMessageContainer:function(C,E){var B=r.ui.validator.messageLocators,D;C.addClass(x).attr(r.attr("for"),E||"");for(D in B){B[D].decorate(C,E)}C.attr("role","alert")},_extractMessage:function(C,B){var E=this,D=E.options.messages[B],F=C.attr(j);D=r.isFunction(D)?D(C):D;return r.format(C.attr(r.attr(B+"-msg"))||C.attr("validationMessage")||C.attr("title")||D||"",F,C.attr(B))},_checkValidity:function(B){var D=this.options.rules,C;for(C in D){if(!D[C].call(this,B)){return{valid:false,key:C}}}return{valid:true}},errors:function(){var C=[],D=this._errors,B;for(B in D){C.push(D[B])}return C}});r.ui.plugin(k)})(window.kendo.jQuery);(function(h,l){var t=window.kendo,o=t.support,v=window.document,A=t.Class,p=t.Observable,b=h.now,E=h.extend,c=o.mobileOS,u=c&&c.android,s=800,w=o.browser.msie?5:0,i="press",D="hold",d="select",B="start",H="move",k="end",f="cancel",F="tap",n="release",q="gesturestart",a="gesturechange",g="gestureend",C="gesturetap";var G={api:0,touch:0,mouse:9,pointer:9};var j=(!o.touch||o.mouseAndTouchPresent);function z(P,O){var L=P.x.location,N=P.y.location,K=O.x.location,M=O.y.location,J=L-K,I=N-M;return{center:{x:(L+K)/2,y:(N+M)/2},distance:Math.sqrt(J*J+I*I)}}function y(O){var N=[],J=O.originalEvent,M=O.currentTarget,I=0,L,K,P;if(O.api){N.push({id:2,event:O,target:O.target,currentTarget:O.target,location:O,type:"api"})}else{if(O.type.match(/touch/)){K=J?J.changedTouches:[];for(L=K.length;I<L;I++){P=K[I];N.push({location:P,event:O,target:P.target,currentTarget:M,id:P.identifier,type:"touch"})}}else{if(o.pointers||o.msPointers){N.push({location:J,event:O,target:O.target,currentTarget:M,id:J.pointerId,type:"pointer"})}else{N.push({id:1,event:O,target:O.target,currentTarget:M,location:O,type:"mouse"})}}}return N}var m=A.extend({init:function(J,I){var K=this;K.axis=J;K._updateLocationData(I);K.startLocation=K.location;K.velocity=K.delta=0;K.timeStamp=b()},move:function(I){var K=this,M=I["page"+K.axis],J=b(),L=(J-K.timeStamp)||1;if(!M&&u){return}K.delta=M-K.location;K._updateLocationData(I);K.initialDelta=M-K.startLocation;K.velocity=K.delta/L;K.timeStamp=J},_updateLocationData:function(I){var K=this,J=K.axis;K.location=I["page"+J];K.client=I["client"+J];K.screen=I["screen"+J]}});var r=A.extend({init:function(J,K,I){E(this,{x:new m("X",I.location),y:new m("Y",I.location),type:I.type,threshold:J.threshold||G[I.type],userEvents:J,target:K,currentTarget:I.currentTarget,initialTouch:I.target,id:I.id,pressEvent:I,_moved:false,_finished:false})},press:function(){this._holdTimeout=setTimeout(h.proxy(this,"_hold"),this.userEvents.minHold);this._trigger(i,this.pressEvent)},_hold:function(){this._trigger(D,this.pressEvent)},move:function(I){var J=this;if(J._finished){return}J.x.move(I.location);J.y.move(I.location);if(!J._moved){if(J._withinIgnoreThreshold()){return}if(!e.current||e.current===J.userEvents){J._start(I)}else{return J.dispose()}}if(!J._finished){J._trigger(H,I)}},end:function(I){var J=this;J.endTime=b();if(J._finished){return}J._finished=true;J._trigger(n,I);if(J._moved){J._trigger(k,I)}else{J._trigger(F,I)}clearTimeout(J._holdTimeout);J.dispose()},dispose:function(){var I=this.userEvents,J=I.touches;this._finished=true;this.pressEvent=null;clearTimeout(this._holdTimeout);J.splice(h.inArray(this,J),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(I){clearTimeout(this._holdTimeout);this.startTime=b();this._moved=true;this._trigger(B,I)},_trigger:function(J,K){var L=this,I=K.event,M={touch:L,x:L.x,y:L.y,target:L.target,event:I};if(L.userEvents.notify(J,M)){I.preventDefault()}},_withinIgnoreThreshold:function(){var J=this.x.initialDelta,I=this.y.initialDelta;return Math.sqrt(J*J+I*I)<=this.threshold}});function x(L){var K=t.eventMap.up.split(" "),I=0,J=K.length;for(;I<J;I++){L(K[I])}}var e=p.extend({init:function(J,I){var M=this,L,K=t.guid();I=I||{};L=M.filter=I.filter;M.threshold=I.threshold||w;M.minHold=I.minHold||s;M.touches=[];M._maxTouches=I.multiTouch?2:1;M.allowSelection=I.allowSelection;M.captureUpIfMoved=I.captureUpIfMoved;M.eventNS=K;J=h(J).handler(M);p.fn.init.call(M);E(M,{element:J,surface:I.global&&j?h(v.documentElement):h(I.surface||J),stopPropagation:I.stopPropagation,pressed:false});M.surface.handler(M).on(t.applyEventMap("move",K),"_move").on(t.applyEventMap("up cancel",K),"_end");J.on(t.applyEventMap("down",K),L,"_start");if(o.pointers||o.msPointers){J.css("-ms-touch-action","pinch-zoom double-tap-zoom")}if(I.preventDragEvent){J.on(t.applyEventMap("dragstart",K),t.preventDefault)}J.on(t.applyEventMap("mousedown",K),L,{root:J},"_select");if(M.captureUpIfMoved&&o.eventCapture){var O=M.surface[0],N=h.proxy(M.preventIfMoving,M);x(function(P){O.addEventListener(P,N,true)})}M.bind([i,D,F,B,H,k,n,f,q,a,g,C,d],I)},preventIfMoving:function(I){if(this._isMoved()){I.preventDefault()}},destroy:function(){var I=this;if(I._destroyed){return}I._destroyed=true;if(I.captureUpIfMoved&&o.eventCapture){var J=I.surface[0];x(function(K){J.removeEventListener(K,I.preventIfMoving)})}I.element.kendoDestroy(I.eventNS);I.surface.kendoDestroy(I.eventNS);I.element.removeData("handler");I.surface.removeData("handler");I._disposeAll();I.unbind();delete I.surface;delete I.element;delete I.currentTarget},capture:function(){e.current=this},cancel:function(){this._disposeAll();this.trigger(f)},notify:function(I,K){var J=this,L=J.touches;if(this._isMultiTouch()){switch(I){case H:I=a;break;case k:I=g;break;case F:I=C;break}E(K,{touches:L},z(L[0],L[1]))}return this.trigger(I,E(K,{type:I}))},press:function(I,K,J){this._apiCall("_start",I,K,J)},move:function(I,J){this._apiCall("_move",I,J)},end:function(I,J){this._apiCall("_end",I,J)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){var I=this.touches;while(I.length>0){I.pop().dispose()}},_isMoved:function(){return h.grep(this.touches,function(I){return I.isMoved()}).length},_select:function(I){if(!this.allowSelection||this.trigger(d,{event:I})){I.preventDefault()}},_start:function(O){var N=this,Q=0,I=N.filter,P,M=y(O),J=M.length,L,K=O.which;if((K&&K>1)||(N._maxTouchesReached())){return}e.current=null;N.currentTarget=O.currentTarget;if(N.stopPropagation){O.stopPropagation()}for(;Q<J;Q++){if(N._maxTouchesReached()){break}L=M[Q];if(I){P=h(L.currentTarget)}else{P=N.element}if(!P.length){continue}L=new r(N,P,L);N.touches.push(L);L.press();if(N._isMultiTouch()){N.notify("gesturestart",{})}}},_move:function(I){this._eachTouch("move",I)},_end:function(I){this._eachTouch("end",I)},_eachTouch:function(Q,O){var N=this,J={},M=y(O),K=N.touches,R,L,P,I;for(R=0;R<K.length;R++){L=K[R];J[L.id]=L}for(R=0;R<M.length;R++){P=M[R];I=J[P.id];if(I){I[Q](P)}}},_apiCall:function(J,I,L,K){this[J]({api:true,pageX:I,pageY:L,clientX:I,clientY:L,target:h(K||this.element)[0],stopPropagation:h.noop,preventDefault:h.noop})}});e.defaultThreshold=function(I){w=I};e.minHold=function(I){s=I};t.getTouches=y;t.touchDelta=z;t.UserEvents=e})(window.kendo.jQuery);(function(z,n){var A=window.kendo,F=A.support,h=window.document,a=A.Class,i=A.ui.Widget,g=A.Observable,K=A.UserEvents,M=z.proxy,m=z.extend,o=A.getOffset,p={},R={},d={},v,E=A.elementUnderCursor,P="keyup",y="change",H="dragstart",N="hold",t="drag",D="dragend",b="dragcancel",C="hintDestroyed",k="dragenter",s="dragleave",I="drop";function x(S,U){try{return z.contains(S,U)||S==U}catch(T){return false}}function w(S,T){return parseInt(S.css(T),10)||0}function L(T,S){return Math.min(Math.max(T,S.min),S.max)}function f(T,U){var X=o(T),S=X.left+w(T,"borderLeftWidth")+w(T,"paddingLeft"),Y=X.top+w(T,"borderTopWidth")+w(T,"paddingTop"),W=S+T.width()-U.outerWidth(true),V=Y+T.height()-U.outerHeight(true);return{x:{min:S,max:W},y:{min:Y,max:V}}}function r(Z,T,U){var Y,W,V=0,X=T&&T.length,S=U&&U.length;while(Z&&Z.parentNode){for(V=0;V<X;V++){Y=T[V];if(Y.element[0]===Z){return{target:Y,targetElement:Z}}}for(V=0;V<S;V++){W=U[V];if(F.matchesSelector.call(Z,W.options.filter)){return{target:W,targetElement:Z}}}Z=Z.parentNode}return n}var O=g.extend({init:function(T,S){var U=this,V=T[0];U.capture=false;if(V.addEventListener){z.each(A.eventMap.down.split(" "),function(){V.addEventListener(this,M(U._press,U),true)});z.each(A.eventMap.up.split(" "),function(){V.addEventListener(this,M(U._release,U),true)})}else{z.each(A.eventMap.down.split(" "),function(){V.attachEvent(this,M(U._press,U))});z.each(A.eventMap.up.split(" "),function(){V.attachEvent(this,M(U._release,U))})}g.fn.init.call(U);U.bind(["press","release"],S||{})},captureNext:function(){this.capture=true},cancelCapture:function(){this.capture=false},_press:function(T){var S=this;S.trigger("press");if(S.capture){T.preventDefault()}},_release:function(T){var S=this;S.trigger("release");if(S.capture){T.preventDefault();S.cancelCapture()}}});var u=g.extend({init:function(S){var T=this;g.fn.init.call(T);T.forcedEnabled=false;z.extend(T,S);T.scale=1;if(T.horizontal){T.measure="offsetWidth";T.scrollSize="scrollWidth";T.axis="x"}else{T.measure="offsetHeight";T.scrollSize="scrollHeight";T.axis="y"}},makeVirtual:function(){z.extend(this,{virtual:true,forcedEnabled:true,_virtualMin:0,_virtualMax:0})},virtualSize:function(T,S){if(this._virtualMin!==T||this._virtualMax!==S){this._virtualMin=T;this._virtualMax=S;this.update()}},outOfBounds:function(S){return S>this.max||S<this.min},forceEnabled:function(){this.forcedEnabled=true},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(S){this.scale=S},update:function(S){var W=this,V=W.virtual?W._virtualMax:W.getTotal(),U=V*W.scale,T=W.getSize();if(V===0&&!W.forcedEnabled){return}W.max=W.virtual?-W._virtualMin:0;W.size=T;W.total=U;W.min=Math.min(W.max,T-U);W.minScale=T/V;W.centerOffset=(U-T)/2;W.enabled=W.forcedEnabled||(U>T);if(!S){W.trigger(y,W)}}});var J=g.extend({init:function(S){var T=this;g.fn.init.call(T);T.x=new u(m({horizontal:true},S));T.y=new u(m({horizontal:false},S));T.container=S.container;T.forcedMinScale=S.minScale;T.maxScale=S.maxScale||100;T.bind(y,S)},rescale:function(S){this.x.rescale(S);this.y.rescale(S);this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){var S=this;S.x.update();S.y.update();S.enabled=S.x.enabled||S.y.enabled;S.minScale=S.forcedMinScale||Math.min(S.x.minScale,S.y.minScale);S.fitScale=Math.max(S.x.minScale,S.y.minScale);S.trigger(y)}});var Q=g.extend({init:function(S){var T=this;m(T,S);g.fn.init.call(T)},outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},dragMove:function(X){var U=this,W=U.dimension,T=U.axis,V=U.movable,S=V[T]+X;if(!W.enabled){return}if((S<W.min&&X<0)||(S>W.max&&X>0)){X*=U.resistance}V.translateAxis(T,X);U.trigger(y,U)}});var B=a.extend({init:function(T){var V=this,S,X,U,W;m(V,{elastic:true},T);U=V.elastic?0.5:0;W=V.movable;V.x=S=new Q({axis:"x",dimension:V.dimensions.x,resistance:U,movable:W});V.y=X=new Q({axis:"y",dimension:V.dimensions.y,resistance:U,movable:W});V.userEvents.bind(["move","end","gesturestart","gesturechange"],{gesturestart:function(Y){V.gesture=Y;V.offset=V.dimensions.container.offset()},gesturechange:function(af){var Z=V.gesture,ac=Z.center,aa=af.center,ag=af.distance/Z.distance,ab=V.dimensions.minScale,Y=V.dimensions.maxScale,ah;if(W.scale<=ab&&ag<1){ag+=(1-ag)*0.8}if(W.scale*ag>=Y){ag=Y/W.scale}var ae=W.x+V.offset.left,ad=W.y+V.offset.top;ah={x:(ae-ac.x)*ag+aa.x-ae,y:(ad-ac.y)*ag+aa.y-ad};W.scaleWith(ag);S.dragMove(ah.x);X.dragMove(ah.y);V.dimensions.rescale(W.scale);V.gesture=af;af.preventDefault()},move:function(Y){if(Y.event.target.tagName.match(/textarea|input/i)){return}if(S.dimension.enabled||X.dimension.enabled){S.dragMove(Y.x.delta);X.dragMove(Y.y.delta);Y.preventDefault()}else{Y.touch.skip()}},end:function(Y){Y.preventDefault()}})}});var G=F.transitions.prefix+"Transform",e;if(F.hasHW3D){e=function(S,U,T){return"translate3d("+S+"px,"+U+"px,0) scale("+T+")"}}else{e=function(S,U,T){return"translate("+S+"px,"+U+"px) scale("+T+")"}}var q=g.extend({init:function(S){var T=this;g.fn.init.call(T);T.element=z(S);T.element[0].style.webkitTransformOrigin="left top";T.x=0;T.y=0;T.scale=1;T._saveCoordinates(e(T.x,T.y,T.scale))},translateAxis:function(S,T){this[S]+=T;this.refresh()},scaleTo:function(S){this.scale=S;this.refresh()},scaleWith:function(S){this.scale*=S;this.refresh()},translate:function(S){this.x+=S.x;this.y+=S.y;this.refresh()},moveAxis:function(S,T){this[S]=T;this.refresh()},moveTo:function(S){m(this,S);this.refresh()},refresh:function(){var T=this,S=T.x,V=T.y,U;if(T.round){S=Math.round(S);V=Math.round(V)}U=e(S,V,T.scale);if(U!=T.coordinates){if(A.support.browser.msie&&A.support.browser.version<10){T.element[0].style.position="absolute";T.element[0].style.left=T.x+"px";T.element[0].style.top=T.y+"px"}else{T.element[0].style[G]=U}T._saveCoordinates(U);T.trigger(y)}},_saveCoordinates:function(S){this.coordinates=S}});var j=i.extend({init:function(T,S){var U=this;i.fn.init.call(U,T,S);var V=U.options.group;if(!(V in R)){R[V]=[U]}else{R[V].push(U)}},events:[k,s,I],options:{name:"DropTarget",group:"default"},destroy:function(){var U=this.options.group,T=R[U]||d[U],S;if(T.length>1){i.fn.destroy.call(this);for(S=0;S<T.length;S++){if(T[S]==this){T.splice(S,1);break}}}else{j.destroyGroup(U)}},_trigger:function(T,V){var U=this,S=p[U.options.group];if(S){return U.trigger(T,m({},V.event,{draggable:S,dropTarget:V.dropTarget}))}},_over:function(S){this._trigger(k,S)},_out:function(S){this._trigger(s,S)},_drop:function(U){var T=this,S=p[T.options.group];if(S){S.dropped=!T._trigger(I,U)}}});j.destroyGroup=function(U){var T=R[U]||d[U],S;if(T){for(S=0;S<T.length;S++){i.fn.destroy.call(T[S])}T.length=0;delete R[U];delete d[U]}};j._cache=R;var c=j.extend({init:function(T,S){var U=this;i.fn.init.call(U,T,S);var V=U.options.group;if(!(V in d)){d[V]=[U]}else{d[V].push(U)}},options:{name:"DropTargetArea",group:"default",filter:null}});var l=i.extend({init:function(T,S){var U=this;i.fn.init.call(U,T,S);U._activated=false;U.userEvents=new K(U.element,{global:true,allowSelection:true,filter:U.options.filter,threshold:U.options.distance,start:M(U._start,U),hold:M(U._hold,U),move:M(U._drag,U),end:M(U._end,U),cancel:M(U._cancel,U),select:M(U._select,U)});U._afterEndHandler=M(U._afterEnd,U);U._captureEscape=M(U._captureEscape,U)},events:[N,H,t,D,b,C],options:{name:"Draggable",distance:(A.support.touch?0:5),group:"default",cursorOffset:null,axis:null,container:null,filter:null,ignore:null,holdToDrag:false,dropped:false},cancelHold:function(){this._activated=false},_captureEscape:function(T){var S=this;if(T.keyCode===A.keys.ESC){S._trigger(b,{event:T});S.userEvents.cancel()}},_updateHint:function(X){var W=this,Y,U=W.options,T=W.boundaries,V=U.axis,S=W.options.cursorOffset;if(S){Y={left:X.x.location+S.left,top:X.y.location+S.top}}else{W.hintOffset.left+=X.x.delta;W.hintOffset.top+=X.y.delta;Y=z.extend({},W.hintOffset)}if(T){Y.top=L(Y.top,T.y);Y.left=L(Y.left,T.x)}if(V==="x"){delete Y.top}else{if(V==="y"){delete Y.left}}W.hint.css(Y)},_shouldIgnoreTarget:function(T){var S=this.options.ignore;return S&&z(T).is(S)},_select:function(S){if(!this._shouldIgnoreTarget(S.event.target)){S.preventDefault()}},_start:function(V){var U=this,T=U.options,S=T.container,X=T.hint;if(this._shouldIgnoreTarget(V.touch.initialTouch)||(T.holdToDrag&&!U._activated)){U.userEvents.cancel();return}U.currentTarget=V.target;U.currentTargetOffset=o(U.currentTarget);if(X){if(U.hint){U.hint.stop(true,true).remove()}U.hint=A.isFunction(X)?z(X.call(U,U.currentTarget)):X;var W=o(U.currentTarget);U.hintOffset=W;U.hint.css({position:"absolute",zIndex:20000,left:W.left,top:W.top}).appendTo(h.body);U.angular("compile",function(){U.hint.removeAttr("ng-repeat");return{elements:U.hint.get(),scopeFrom:V.target}})}p[T.group]=U;U.dropped=false;if(S){U.boundaries=f(S,U.hint)}if(U._trigger(H,V)){U.userEvents.cancel();U._afterEnd()}U.userEvents.capture();z(h).on(P,U._captureEscape)},_hold:function(S){this.currentTarget=S.target;if(this._trigger(N,S)){this.userEvents.cancel()}else{this._activated=true}},_drag:function(T){var S=this;T.preventDefault();S._withDropTarget(T,function(V,U){if(!V){if(v){v._trigger(s,m(T,{dropTarget:z(v.targetElement)}));v=null}return}if(v){if(U===v.targetElement){return}v._trigger(s,m(T,{dropTarget:z(v.targetElement)}))}V._trigger(k,m(T,{dropTarget:z(U)}));v=m(V,{targetElement:U})});S._trigger(t,m(T,{dropTarget:v}));if(S.hint){S._updateHint(T)}},_end:function(T){var S=this;S._withDropTarget(T,function(V,U){if(V){V._drop(m({},T,{dropTarget:z(U)}));v=null}});S._trigger(D,T);S._cancel(T.event)},_cancel:function(){var S=this;S._activated=false;if(S.hint&&!S.dropped){setTimeout(function(){S.hint.stop(true,true).animate(S.currentTargetOffset,"fast",S._afterEndHandler)},0)}else{S._afterEnd()}},_trigger:function(S,U){var T=this;return T.trigger(S,m({},U.event,{x:U.x,y:U.y,currentTarget:T.currentTarget,dropTarget:U.dropTarget}))},_withDropTarget:function(Y,Z){var W=this,X,S,V=W.options,T=R[V.group],U=d[V.group];if(T&&T.length||U&&U.length){X=E(Y);if(W.hint&&x(W.hint[0],X)){W.hint.hide();X=E(Y);if(!X){X=E(Y)}W.hint.show()}S=r(X,T,U);if(S){Z(S.target,S.targetElement)}else{Z()}}},destroy:function(){var S=this;i.fn.destroy.call(S);S._afterEnd();S.userEvents.destroy();S.currentTarget=null},_afterEnd:function(){var S=this;if(S.hint){S.hint.remove()}delete p[S.options.group];S.trigger("destroy");S.trigger(C);z(h).off(P,S._captureEscape)}});A.ui.plugin(j);A.ui.plugin(c);A.ui.plugin(l);A.TapCapture=O;A.containerBoundaries=f;m(A.ui,{Pane:B,PaneDimensions:J,Movable:q})})(window.kendo.jQuery);(function(h,i){var w=window.kendo,c=w.mobile,d=w.effects,v=c.ui,z=h.proxy,C=h.extend,b=v.Widget,A=w.Class,y=w.ui.Movable,D=w.ui.Pane,o=w.ui.PaneDimensions,g=d.Transition,H=d.Animation,u=Math.abs,G=500,x=0.7,F=0.96,k=10,E=55,q=0.5,I=5,a="km-scroller-release",f="km-scroller-refresh",e="pull",r="change",n="resize",s="scroll",m=2;var l=H.extend({init:function(J){var K=this;H.fn.init.call(K);C(K,J);K.userEvents.bind("gestureend",z(K.start,K));K.tapCapture.bind("press",z(K.cancel,K))},enabled:function(){return this.movable.scale<this.dimensions.minScale},done:function(){return this.dimensions.minScale-this.movable.scale<0.01},tick:function(){var J=this.movable;J.scaleWith(1.1);this.dimensions.rescale(J.scale)},onEnd:function(){var J=this.movable;J.scaleTo(this.dimensions.minScale);this.dimensions.rescale(J.scale)}});var t=H.extend({init:function(J){var K=this;H.fn.init.call(K);C(K,J,{transition:new g({axis:J.axis,movable:J.movable,onEnd:function(){K._end()}})});K.tapCapture.bind("press",function(){K.cancel()});K.userEvents.bind("end",z(K.start,K));K.userEvents.bind("gestureend",z(K.start,K));K.userEvents.bind("tap",z(K.onEnd,K))},onCancel:function(){this.transition.cancel()},freeze:function(J){var K=this;K.cancel();K._moveTo(J)},onEnd:function(){var J=this;if(J.paneAxis.outOfBounds()){J._snapBack()}else{J._end()}},done:function(){return u(this.velocity)<1},start:function(L){var K=this,J;if(!K.dimension.enabled){return}if(K.paneAxis.outOfBounds()){K._snapBack()}else{J=L.touch.id===m?0:L.touch[K.axis].velocity;K.velocity=Math.max(Math.min(J*K.velocityMultiplier,E),-E);K.tapCapture.captureNext();H.fn.start.call(K)}},tick:function(){var K=this,M=K.dimension,L=K.paneAxis.outOfBounds()?q:K.friction,N=(K.velocity*=L),J=K.movable[K.axis]+N;if(!K.elastic&&M.outOfBounds(J)){J=Math.max(Math.min(J,M.max),M.min);K.velocity=0}K.movable.moveAxis(K.axis,J)},_end:function(){this.tapCapture.cancelCapture();this.end()},_snapBack:function(){var J=this,L=J.dimension,K=J.movable[J.axis]>L.max?L.max:L.min;J._moveTo(K)},_moveTo:function(J){this.transition.moveTo({location:J,duration:G,ease:g.easeOutExpo})}});var j=H.extend({init:function(J){var K=this;w.effects.Animation.fn.init.call(this);C(K,J,{origin:{},destination:{},offset:{}})},tick:function(){this._updateCoordinates();this.moveTo(this.origin)},done:function(){return u(this.offset.y)<I&&u(this.offset.x)<I},onEnd:function(){this.moveTo(this.destination);if(this.callback){this.callback.call()}},setCoordinates:function(K,J){this.offset={};this.origin=K;this.destination=J},setCallback:function(J){if(J&&w.isFunction(J)){this.callback=J}else{J=i}},_updateCoordinates:function(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4};this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}}});var p=A.extend({init:function(K){var M=this,J=K.axis==="x",L=h('<div class="km-touch-scrollbar km-'+(J?"horizontal":"vertical")+'-scrollbar" />');C(M,K,{element:L,elementSize:0,movable:new y(L),scrollMovable:K.movable,alwaysVisible:K.alwaysVisible,size:J?"width":"height"});M.scrollMovable.bind(r,z(M.refresh,M));M.container.append(L);if(K.alwaysVisible){M.show()}},refresh:function(){var O=this,N=O.axis,Q=O.dimension,M=Q.size,K=O.scrollMovable,P=M/Q.total,J=Math.round(-K[N]*P),L=Math.round(M*P);if(P>=1){this.element.css("display","none")}else{this.element.css("display","")}if(J+L>M){L=M-J}else{if(J<0){L+=J;J=0}}if(O.elementSize!=L){O.element.css(O.size,L+"px");O.elementSize=L}O.movable.moveAxis(N,J)},show:function(){this.element.css({opacity:x,visibility:"visible"})},hide:function(){if(!this.alwaysVisible){this.element.css({opacity:0})}}});var B=b.extend({init:function(N,T){var P=this;b.fn.init.call(P,N,T);N=P.element;P._native=P.options.useNative&&w.support.hasNativeScrolling;if(P._native){N.addClass("km-native-scroller").prepend('<div class="km-scroll-header"/>');C(P,{scrollElement:N,fixedContainer:N.children().first()});return}N.css("overflow","hidden").addClass("km-scroll-wrapper").wrapInner('<div class="km-scroll-container"/>').prepend('<div class="km-scroll-header"/>');var U=N.children().eq(1),S=new w.TapCapture(N),R=new y(U),J=new o({element:U,container:N,forcedEnabled:P.options.zoom}),O=this.options.avoidScrolling,Q=new w.UserEvents(N,{allowSelection:true,preventDragEvent:true,captureUpIfMoved:true,multiTouch:P.options.zoom,start:function(aa){J.refresh();var X=u(aa.x.velocity),V=u(aa.y.velocity),Z=X*2>=V,W=h.contains(P.fixedContainer[0],aa.event.target),Y=V*2>=X;if(!W&&!O(aa)&&P.enabled&&(J.x.enabled&&Z||J.y.enabled&&Y)){Q.capture()}else{Q.cancel()}}}),L=new D({movable:R,dimensions:J,userEvents:Q,elastic:P.options.elastic}),K=new l({movable:R,dimensions:J,userEvents:Q,tapCapture:S}),M=new j({moveTo:function(V){P.scrollTo(V.x,V.y)}});R.bind(r,function(){P.scrollTop=-R.y;P.scrollLeft=-R.x;P.trigger(s,{scrollTop:P.scrollTop,scrollLeft:P.scrollLeft})});if(P.options.mousewheelScrolling){N.on("DOMMouseScroll mousewheel",z(this,"_wheelScroll"))}C(P,{movable:R,dimensions:J,zoomSnapBack:K,animatedScroller:M,userEvents:Q,pane:L,tapCapture:S,pulled:false,enabled:true,scrollElement:U,scrollTop:0,scrollLeft:0,fixedContainer:N.children().first()});P._initAxis("x");P._initAxis("y");P._wheelEnd=function(){P._wheel=false;P.userEvents.end(0,P._wheelY)};J.refresh();if(P.options.pullToRefresh){P._initPullToRefresh()}},_wheelScroll:function(J){if(!this._wheel){this._wheel=true;this._wheelY=0;this.userEvents.press(0,this._wheelY)}clearTimeout(this._wheelTimeout);this._wheelTimeout=setTimeout(this._wheelEnd,50);var K=w.wheelDeltaY(J);if(K){this._wheelY+=K;this.userEvents.move(0,this._wheelY)}J.preventDefault()},makeVirtual:function(){this.dimensions.y.makeVirtual()},virtualSize:function(K,J){this.dimensions.y.virtualSize(K,J)},height:function(){return this.dimensions.y.size},scrollHeight:function(){return this.scrollElement[0].scrollHeight},scrollWidth:function(){return this.scrollElement[0].scrollWidth},options:{name:"Scroller",zoom:false,pullOffset:140,visibleScrollHints:false,elastic:true,useNative:false,mousewheelScrolling:true,avoidScrolling:function(){return false},pullToRefresh:false,messages:{pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"}},events:[e,s,n],_resize:function(){if(!this._native){this.contentResized()}},setOptions:function(J){var K=this;b.fn.setOptions.call(K,J);if(J.pullToRefresh){K._initPullToRefresh()}},reset:function(){if(this._native){this.scrollElement.scrollTop(0)}else{this.movable.moveTo({x:0,y:0});this._scale(1)}},contentResized:function(){this.dimensions.refresh();if(this.pane.x.outOfBounds()){this.movable.moveAxis("x",this.dimensions.x.min)}if(this.pane.y.outOfBounds()){this.movable.moveAxis("y",this.dimensions.y.min)}},zoomOut:function(){var J=this.dimensions;J.refresh();this._scale(J.fitScale);this.movable.moveTo(J.centerCoordinates())},enable:function(){this.enabled=true},disable:function(){this.enabled=false},scrollTo:function(J,K){if(this._native){this.scrollElement.scrollLeft(u(J));this.scrollElement.scrollTop(u(K))}else{this.dimensions.refresh();this.movable.moveTo({x:J,y:K})}},animatedScrollTo:function(J,N,M){var L,K;if(this._native){this.scrollTo(J,N)}else{L={x:this.movable.x,y:this.movable.y};K={x:J,y:N};this.animatedScroller.setCoordinates(L,K);this.animatedScroller.setCallback(M);this.animatedScroller.start()}},pullHandled:function(){var J=this;J.refreshHint.removeClass(f);J.hintContainer.html(J.pullTemplate({}));J.yinertia.onEnd();J.xinertia.onEnd();J.userEvents.cancel()},destroy:function(){b.fn.destroy.call(this);if(this.userEvents){this.userEvents.destroy()}},_scale:function(J){this.dimensions.rescale(J);this.movable.scaleTo(J)},_initPullToRefresh:function(){var J=this;J.dimensions.y.forceEnabled();J.pullTemplate=w.template(J.options.messages.pullTemplate);J.releaseTemplate=w.template(J.options.messages.releaseTemplate);J.refreshTemplate=w.template(J.options.messages.refreshTemplate);J.scrollElement.prepend('<span class="km-scroller-pull"><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span><span class="km-template">'+J.pullTemplate({})+"</span></span>");J.refreshHint=J.scrollElement.children().first();J.hintContainer=J.refreshHint.children(".km-template");J.pane.y.bind("change",z(J._paneChange,J));J.userEvents.bind("end",z(J._dragEnd,J))},_dragEnd:function(){var J=this;if(!J.pulled){return}J.pulled=false;J.refreshHint.removeClass(a).addClass(f);J.hintContainer.html(J.refreshTemplate({}));J.yinertia.freeze(J.options.pullOffset/2);J.trigger("pull")},_paneChange:function(){var J=this;if(J.movable.y/q>J.options.pullOffset){if(!J.pulled){J.pulled=true;J.refreshHint.removeClass(f).addClass(a);J.hintContainer.html(J.releaseTemplate({}))}}else{if(J.pulled){J.pulled=false;J.refreshHint.removeClass(a);J.hintContainer.html(J.pullTemplate({}))}}},_initAxis:function(J){var M=this,P=M.movable,O=M.dimensions[J],N=M.tapCapture,L=M.pane[J],K=new p({axis:J,movable:P,dimension:O,container:M.element,alwaysVisible:M.options.visibleScrollHints});O.bind(r,function(){K.refresh()});L.bind(r,function(){K.show()});M[J+"inertia"]=new t({axis:J,paneAxis:L,movable:P,tapCapture:N,userEvents:M.userEvents,dimension:O,elastic:M.options.elastic,friction:M.options.friction||F,velocityMultiplier:M.options.velocityMultiplier||k,end:function(){K.hide();M.trigger("scrollEnd",{axis:J,scrollTop:M.scrollTop,scrollLeft:M.scrollLeft})}})}});v.plugin(B)})(window.kendo.jQuery);(function(e,a){var h=window.kendo,m=h.ui.Widget,i=e.proxy,j=false,b=".kendoGroupable",f="change",c=h.template('<div class="k-group-indicator" data-#=data.ns#field="${data.field}" data-#=data.ns#title="${data.title || ""}" data-#=data.ns#dir="${data.dir || "asc"}"><a href="\\#" class="k-link"><span class="k-icon k-si-arrow-${(data.dir || "asc") == "asc" ? "n" : "s"}">(sorted ${(data.dir || "asc") == "asc" ? "ascending": "descending"})</span>${data.title ? data.title: data.field}</a><a class="k-button k-button-icon k-button-bare"><span class="k-icon k-group-delete"></span></a></div>',{useWithBlock:false}),d=function(o){return e('<div class="k-header k-drag-clue" />').css({width:o.width(),paddingLeft:o.css("paddingLeft"),paddingRight:o.css("paddingRight"),lineHeight:o.height()+"px",paddingTop:o.css("paddingTop"),paddingBottom:o.css("paddingBottom")}).html(o.attr(h.attr("title"))||o.attr(h.attr("field"))).prepend('<span class="k-icon k-drag-status k-denied" />')},l=e('<div class="k-grouping-dropclue"/>'),n=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g;function g(o){return o.position().top+3}var k=m.extend({init:function(r,v){var s=this,t,u=h.guid(),q=i(s._intializePositions,s),w,p,o=s._dropCuePositions=[];m.fn.init.call(s,r,v);j=h.support.isRtl(r);p=j?"right":"left";s.draggable=w=s.options.draggable||new h.ui.Draggable(s.element,{filter:s.options.draggableElements,hint:d,group:u});s.groupContainer=e(s.options.groupContainer,s.element).kendoDropTarget({group:w.options.group,dragenter:function(x){if(s._canDrag(x.draggable.currentTarget)){x.draggable.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add");l.css("top",g(s.groupContainer)).css(p,0).appendTo(s.groupContainer)}},dragleave:function(x){x.draggable.hint.find(".k-drag-status").removeClass("k-add").addClass("k-denied");l.remove()},drop:function(D){var A=D.draggable.currentTarget,C=A.attr(h.attr("field")),E=A.attr(h.attr("title")),B=s.indicator(C),z=s._dropCuePositions,y=z[z.length-1],x;if(!A.hasClass("k-group-indicator")&&!s._canDrag(A)){return}if(y){x=s._dropCuePosition(h.getOffset(l).left+parseInt(y.element.css("marginLeft"),10)*(j?-1:1)+parseInt(y.element.css("marginRight"),10));if(x&&s._canDrop(e(B),x.element,x.left)){if(x.before){x.element.before(B||s.buildIndicator(C,E))}else{x.element.after(B||s.buildIndicator(C,E))}s._change()}}else{s.groupContainer.append(s.buildIndicator(C,E));s._change()}}}).kendoDraggable({filter:"div.k-group-indicator",hint:d,group:w.options.group,dragcancel:i(s._dragCancel,s),dragstart:function(B){var x=B.currentTarget,z=parseInt(x.css("marginLeft"),10),y=x.position(),A=j?y.left-z:y.left+x.outerWidth();q();l.css({top:g(s.groupContainer),left:A}).appendTo(s.groupContainer);this.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add")},dragend:function(){s._dragEnd(this)},drag:i(s._drag,s)}).on("click"+b,".k-button",function(x){x.preventDefault();s._removeIndicator(e(this).parent())}).on("click"+b,".k-link",function(z){var y=e(this).parent(),x=s.buildIndicator(y.attr(h.attr("field")),y.attr(h.attr("title")),y.attr(h.attr("dir"))=="asc"?"desc":"asc");y.before(x).remove();s._change();z.preventDefault()});w.bind(["dragend","dragcancel","dragstart","drag"],{dragend:function(){s._dragEnd(this)},dragcancel:i(s._dragCancel,s),dragstart:function(A){var x,y,z;if(!s.options.allowDrag&&!s._canDrag(A.currentTarget)){A.preventDefault();return}q();if(o.length){x=o[o.length-1].element;y=parseInt(x.css("marginRight"),10);z=x.position().left+x.outerWidth()+y}else{z=0}},drag:i(s._drag,s)});s.dataSource=s.options.dataSource;if(s.dataSource&&s._refreshHandler){s.dataSource.unbind(f,s._refreshHandler)}else{s._refreshHandler=i(s.refresh,s)}if(s.dataSource){s.dataSource.bind("change",s._refreshHandler);s.refresh()}},refresh:function(){var o=this,p=o.dataSource;if(o.groupContainer){o.groupContainer.empty().append(e.map(p.group()||[],function(s){var t=s.field;var q=h.attr("field");var r=o.element.find(o.options.filter).filter(function(){return e(this).attr(q)===t});return o.buildIndicator(s.field,r.attr(h.attr("title")),s.dir)}).join(""))}o._invalidateGroupContainer()},destroy:function(){var o=this;m.fn.destroy.call(o);o.groupContainer.off(b);if(o.groupContainer.data("kendoDropTarget")){o.groupContainer.data("kendoDropTarget").destroy()}if(o.groupContainer.data("kendoDraggable")){o.groupContainer.data("kendoDraggable").destroy()}if(!o.options.draggable){o.draggable.destroy()}if(o.dataSource&&o._refreshHandler){o.dataSource.unbind("change",o._refreshHandler);o._refreshHandler=null}o.groupContainer=o.element=o.draggable=null},options:{name:"Groupable",filter:"th",draggableElements:"th",messages:{empty:"Drag a column header and drop it here to group by that column"}},indicator:function(p){var o=e(".k-group-indicator",this.groupContainer);return e.grep(o,function(q){return e(q).attr(h.attr("field"))===p})[0]},buildIndicator:function(p,q,o){return c({field:p.replace(/"/g,"'"),dir:o,title:q,ns:h.ns})},descriptors:function(){var q=this,t=e(".k-group-indicator",q.groupContainer),u,s,r,o,p;u=q.element.find(q.options.filter).map(function(){var v=e(this),w=v.attr(h.attr("aggregates")),x=v.attr(h.attr("field"));if(w&&w!==""){s=w.split(",");w=[];for(o=0,p=s.length;o<p;o++){w.push({field:x,aggregate:s[o]})}}return w}).toArray();return e.map(t,function(v){v=e(v);r=v.attr(h.attr("field"));return{field:r,dir:v.attr(h.attr("dir")),aggregates:u||[]}})},_removeIndicator:function(o){var p=this;o.remove();p._invalidateGroupContainer();p._change()},_change:function(){var o=this;if(o.dataSource){o.dataSource.group(o.descriptors())}},_dropCuePosition:function(p){var q=this._dropCuePositions;if(!l.is(":visible")||q.length===0){return}p=Math.ceil(p);var o=q[q.length-1],u=o.left,r=o.right,t=parseInt(o.element.css("marginLeft"),10),s=parseInt(o.element.css("marginRight"),10);if(p>=r&&!j||p<u&&j){p={left:o.element.position().left+(!j?o.element.outerWidth()+s:-t),element:o.element,before:false}}else{p=e.grep(q,function(v){return(v.left<=p&&p<=v.right)||(j&&p>v.right)})[0];if(p){p={left:j?p.element.position().left+p.element.outerWidth()+s:p.element.position().left-t,element:p.element,before:true}}}return p},_drag:function(p){var o=this._dropCuePosition(p.x.location);if(o){l.css({left:o.left,right:"auto"})}},_canDrag:function(o){var p=o.attr(h.attr("field"));return o.attr(h.attr("groupable"))!="false"&&p&&(o.hasClass("k-group-indicator")||!this.indicator(p))},_canDrop:function(r,s,p){var q=r.next(),o=r[0]!==s[0]&&(!q[0]||s[0]!==q[0]||(!j&&p>q.position().left||j&&p<q.position().left));return o},_dragEnd:function(o){var q=this,r=o.currentTarget.attr(h.attr("field")),p=q.indicator(r);if(o!==q.options.draggable&&!o.dropped&&p){q._removeIndicator(e(p))}q._dragCancel()},_dragCancel:function(){l.remove();this._dropCuePositions=[]},_intializePositions:function(){var o=this,q=e(".k-group-indicator",o.groupContainer),p;o._dropCuePositions=e.map(q,function(r){r=e(r);p=h.getOffset(r).left;return{left:parseInt(p,10),right:parseInt(p+r.outerWidth(),10),element:r}})},_invalidateGroupContainer:function(){var o=this.groupContainer;if(o&&o.is(":empty")){o.html(this.options.messages.empty)}}});h.ui.plugin(k)})(window.kendo.jQuery);(function(c,b){var f=window.kendo,i=f.getOffset,g=f.ui.Widget,d="change",e="k-reorderable";function a(k,j){k=c(k);if(j){k.find(".k-drag-status").removeClass("k-add").addClass("k-denied")}else{k.find(".k-drag-status").removeClass("k-denied").addClass("k-add")}}var h=g.extend({init:function(l,k){var m=this,j,n=f.guid()+"-reorderable";g.fn.init.call(m,l,k);l=m.element.addClass(e);k=m.options;m.draggable=j=k.draggable||new f.ui.Draggable(l,{group:n,filter:k.filter,hint:k.hint});m.reorderDropCue=c('<div class="k-reorder-cue"><div class="k-icon k-i-arrow-s"></div><div class="k-icon k-i-arrow-n"></div></div>');l.find(j.options.filter).kendoDropTarget({group:j.options.group,dragenter:function(q){if(!m._draggable){return}var s=this.element,r;var o=!m._dropTargetAllowed(s)||m._isLastDraggable();a(q.draggable.hint,o);if(!o){r=i(s);var p=r.left;if(k.inSameContainer&&!k.inSameContainer({source:s,target:m._draggable,sourceIndex:m._index(s),targetIndex:m._index(m._draggable)})){m._dropTarget=s}else{if(m._index(s)>m._index(m._draggable)){p+=s.outerWidth()}}m.reorderDropCue.css({height:s.outerHeight(),top:r.top,left:p}).appendTo(document.body)}},dragleave:function(o){a(o.draggable.hint,true);m.reorderDropCue.remove();m._dropTarget=null},drop:function(){m._dropTarget=null;if(!m._draggable){return}var q=this.element;var o=m._draggable;var p=false;if(m._dropTargetAllowed(q)&&!m._isLastDraggable()){m.trigger(d,{element:m._draggable,target:q,oldIndex:m._index(o),newIndex:m._index(q),position:i(m.reorderDropCue).left>i(q).left?"after":"before"})}}});j.bind(["dragcancel","dragend","dragstart","drag"],{dragcancel:function(){m.reorderDropCue.remove();m._draggable=null;m._elements=null},dragend:function(){m.reorderDropCue.remove();m._draggable=null;m._elements=null},dragstart:function(o){m._draggable=o.currentTarget;m._elements=m.element.find(m.draggable.options.filter)},drag:function(q){if(!m._dropTarget||this.hint.find(".k-drag-status").hasClass("k-denied")){return}var p=i(m._dropTarget).left;var o=m._dropTarget.outerWidth();if(q.pageX>p+o/2){m.reorderDropCue.css({left:p+o})}else{m.reorderDropCue.css({left:p})}}})},options:{name:"Reorderable",filter:"*"},events:[d],_isLastDraggable:function(){var n=this.options.inSameContainer,j=this._draggable[0],m=this._elements.get(),l=false,k;if(!n){return false}while(!l&&m.length>0){k=m.pop();l=j!==k&&n({source:j,target:k,sourceIndex:this._index(j),targetIndex:this._index(k)})}return !l},_dropTargetAllowed:function(m){var l=this.options.inSameContainer,k=this.options.dragOverContainers,j=this._draggable;if(j[0]===m[0]){return false}if(!l||!k){return true}if(l({source:j,target:m,sourceIndex:this._index(j),targetIndex:this._index(m)})){return true}return k(this._index(j),this._index(m))},_index:function(j){return this._elements.index(j)},destroy:function(){var j=this;g.fn.destroy.call(j);j.element.find(j.draggable.options.filter).each(function(){var k=c(this);if(k.data("kendoDropTarget")){k.data("kendoDropTarget").destroy()}});if(j.draggable){j.draggable.destroy();j.draggable.element=j.draggable=null}j.elements=j.reorderDropCue=j._elements=j._draggable=null}});f.ui.plugin(h)})(window.kendo.jQuery);(function(g,e){var j=window.kendo,l=j.ui,m=l.Widget,k=g.proxy,b=j.isFunction,i=g.extend,d="horizontal",f="vertical",n="start",a="resize",h="resizeend";var c=m.extend({init:function(p,o){var q=this;m.fn.init.call(q,p,o);q.orientation=q.options.orientation.toLowerCase()!=f?d:f;q._positionMouse=q.orientation==d?"x":"y";q._position=q.orientation==d?"left":"top";q._sizingDom=q.orientation==d?"outerWidth":"outerHeight";q.draggable=new l.Draggable(p,{distance:0,filter:o.handle,drag:k(q._resize,q),dragcancel:k(q._cancel,q),dragstart:k(q._start,q),dragend:k(q._stop,q)});q.userEvents=q.draggable.userEvents},events:[a,h,n],options:{name:"Resizable",orientation:d},resize:function(){},_max:function(r){var q=this,o=q.hint?q.hint[q._sizingDom]():0,p=q.options.max;return b(p)?p(r):p!==e?(q._initialElementPosition+p)-o:p},_min:function(q){var p=this,o=p.options.min;return b(o)?o(q):o!==e?p._initialElementPosition+o:o},_start:function(q){var p=this,r=p.options.hint,o=g(q.currentTarget);p._initialElementPosition=o.position()[p._position];p._initialMousePosition=q[p._positionMouse].startLocation;if(r){p.hint=b(r)?g(r(o)):r;p.hint.css({position:"absolute"}).css(p._position,p._initialElementPosition).appendTo(p.element)}p.trigger(n,q);p._maxPosition=p._max(q);p._minPosition=p._min(q);g(document.body).css("cursor",o.css("cursor"))},_resize:function(r){var p=this,s=p._maxPosition,t=p._minPosition,q=p._initialElementPosition+(r[p._positionMouse].location-p._initialMousePosition),o;o=t!==e?Math.max(t,q):q;p.position=o=s!==e?Math.min(s,o):o;if(p.hint){p.hint.toggleClass(p.options.invalidClass||"",o==s||o==t).css(p._position,o)}p.resizing=true;p.trigger(a,i(r,{position:o}))},_stop:function(p){var o=this;if(o.hint){o.hint.remove()}o.resizing=false;o.trigger(h,i(p,{position:o.position}));g(document.body).css("cursor","")},_cancel:function(p){var o=this;if(o.hint){o.position=e;o.hint.css(o._position,o._initialElementPosition);o._stop(p)}},destroy:function(){var o=this;m.fn.destroy.call(o);if(o.draggable){o.draggable.destroy()}},press:function(q){if(!q){return}var o=q.position(),p=this;p.userEvents.press(o.left,o.top,q[0]);p.targetPosition=o;p.target=q},move:function(s){var q=this,p=q._position,o=q.targetPosition,r=q.position;if(r===e){r=o[p]}o[p]=r+s;q.userEvents.move(o.left,o.top)},end:function(){this.userEvents.end();this.target=this.position=e}});j.ui.plugin(c)})(window.kendo.jQuery);(function(d,f){var l=window.kendo,a=l.ui.Widget,o="start",s="beforeMove",r="move",e="end",i="change",c="cancel",g="sort",n="remove",h="receive",j=">*",p=-1;function q(t,v){try{return d.contains(t,v)||t==v}catch(u){return false}}function m(t){return t.clone()}function k(t){return t.clone().removeAttr("id").css("visibility","hidden")}var b=a.extend({init:function(u,t){var v=this;a.fn.init.call(v,u,t);if(!v.options.placeholder){v.options.placeholder=k}if(!v.options.hint){v.options.hint=m}v._draggable=v._createDraggable()},events:[o,s,r,e,i,c],options:{name:"Sortable",hint:null,placeholder:null,filter:j,holdToDrag:false,disabled:null,container:null,connectWith:null,handler:null,cursorOffset:null,axis:null,ignore:null,cursor:"auto"},destroy:function(){this._draggable.destroy();a.fn.destroy.call(this)},_createDraggable:function(){var v=this,u=v.element,t=v.options;return new l.ui.Draggable(u,{filter:t.filter,hint:l.isFunction(t.hint)?t.hint:d(t.hint),holdToDrag:t.holdToDrag,container:t.container?d(t.container):null,cursorOffset:t.cursorOffset,axis:t.axis,ignore:t.ignore,dragstart:d.proxy(v._dragstart,v),dragcancel:d.proxy(v._dragcancel,v),drag:d.proxy(v._drag,v),dragend:d.proxy(v._dragend,v)})},_dragstart:function(y){var t=this.draggedElement=y.currentTarget,x=y.target||l.elementUnderCursor(y),w=this.options.disabled,v=this.options.handler,u=this.options.placeholder,z=this.placeholder=l.isFunction(u)?d(u.call(this,t)):d(u);if(w&&t.is(w)){y.preventDefault()}else{if(v&&!d(x).is(v)){y.preventDefault()}else{if(this.trigger(o,{item:t,draggableEvent:y})){y.preventDefault()}else{t.css("display","none");t.before(z);this._setCursor()}}}},_dragcancel:function(t){this._cancel();this.trigger(c,{item:this.draggedElement});this._resetCursor()},_drag:function(x){var z=this.draggedElement,y=this._findTarget(x),A,t={left:x.x.location,top:x.y.location},w,v={x:x.x.delta,y:x.y.delta},B,E,C,u=this.options.axis,D={item:z,list:this,draggableEvent:x};if(u==="x"||u==="y"){this._movementByAxis(u,t,v[u],D);return}if(y){A=this._getElementCenter(y.element);w={left:Math.round(t.left-A.left),top:Math.round(t.top-A.top)};d.extend(D,{target:y.element});if(y.appendToBottom){this._movePlaceholder(y,null,D);return}if(y.appendAfterHidden){this._movePlaceholder(y,"next",D)}if(this._isFloating(y.element)){if(v.x<0&&w.left<0){B="prev"}else{if(v.x>0&&w.left>0){B="next"}}}else{if(v.y<0&&w.top<0){B="prev"}else{if(v.y>0&&w.top>0){B="next"}}}if(B){C=(B==="prev")?jQuery.fn.prev:jQuery.fn.next;E=C.call(y.element);while(E.length&&!E.is(":visible")){E=C.call(E)}if(E[0]!=this.placeholder[0]){this._movePlaceholder(y,B,D)}}}},_dragend:function(v){var z=this.placeholder,w=this.draggedElement,t=this.indexOf(w),x=this.indexOf(z),y=this.options.connectWith,u,C,A,B;this._resetCursor();A={action:g,item:w,oldIndex:t,newIndex:x,draggableEvent:v};if(x>=0){C=this.trigger(e,A)}else{u=z.parents(y).getKendoSortable();A.action=n;B=d.extend({},A,{action:h,oldIndex:p,newIndex:u.indexOf(z)});C=!(!this.trigger(e,A)&&!u.trigger(e,B))}if(C||x===t){this._cancel();return}z.replaceWith(w);w.show();this._draggable.dropped=true;A={action:this.indexOf(w)!=p?g:n,item:w,oldIndex:t,newIndex:this.indexOf(w),draggableEvent:v};this.trigger(i,A);if(u){B=d.extend({},A,{action:h,oldIndex:p,newIndex:u.indexOf(w)});u.trigger(i,B)}},_findTarget:function(x){var u=this._findElementUnderCursor(x),t,w=this.options.connectWith,v;if(d.contains(this.element[0],u)){t=this.items();v=t.filter(u)[0]||t.has(u)[0];return v?{element:d(v),sortable:this}:null}else{if(this.element[0]==u&&this._isEmpty()){return{element:this.element,sortable:this,appendToBottom:true}}else{if(this.element[0]==u&&this._isLastHidden()){v=this.items().eq(0);return{element:v,sortable:this,appendAfterHidden:true}}else{if(w){return this._searchConnectedTargets(u,x)}}}}},_findElementUnderCursor:function(y){var u=l.elementUnderCursor(y),t=y.sender,x=this.options.disabled,w=this.options.filter,v=this.items();if(q(t.hint[0],u)){t.hint.hide();u=l.elementUnderCursor(y);if(!u){u=l.elementUnderCursor(y)}t.hint.show()}return u},_searchConnectedTargets:function(w,z){var y=d(this.options.connectWith),u,t,x;for(var v=0;v<y.length;v++){u=y.eq(v).getKendoSortable();if(d.contains(y[v],w)){if(u){t=u.items();x=t.filter(w)[0]||t.has(w)[0];if(x){u.placeholder=this.placeholder;return{element:d(x),sortable:u}}else{return null}}}else{if(y[v]==w){if(u&&u._isEmpty()){return{element:y.eq(v),sortable:u,appendToBottom:true}}else{if(this._isCursorAfterLast(u,z)){x=u.items().last();return{element:x,sortable:u}}}}}}},_isCursorAfterLast:function(y,w){var v=y.items().last(),t={left:w.x.location,top:w.y.location},u,x;u=l.getOffset(v);u.top+=v.outerHeight();u.left+=v.outerWidth();if(this._isFloating(v)){x=u.left-t.left}else{x=u.top-t.top}return x<0?true:false},_movementByAxis:function(w,v,z,x){var u=(w==="x")?v.left:v.top,y=(z<0)?this.placeholder.prev():this.placeholder.next(),t;if(y.length&&!y.is(":visible")){y=(z<0)?y.prev():y.next()}d.extend(x,{target:y});t=this._getElementCenter(y);if(t){t=(w==="x")?t.left:t.top}if(y.length&&z<0&&u-t<0){this._movePlaceholder({element:y,sortable:this},"prev",x)}else{if(y.length&&z>0&&u-t>0){this._movePlaceholder({element:y,sortable:this},"next",x)}}},_movePlaceholder:function(v,u,t){var w=this.placeholder;if(!v.sortable.trigger(s,t)){if(!u){v.element.append(w)}else{if(u==="prev"){v.element.before(w)}else{if(u==="next"){v.element.after(w)}}}v.sortable.trigger(r,t)}},_setCursor:function(){var u=this.options.cursor,t;if(u&&u!=="auto"){t=d(document.body);this._originalCursorType=t.css("cursor");t.css({cursor:u});if(!this._cursorStylesheet){this._cursorStylesheet=d("<style>* { cursor: "+u+" !important; }</style>")}this._cursorStylesheet.appendTo(t)}},_resetCursor:function(){if(this._originalCursorType){d(document.body).css("cursor",this._originalCursorType);this._originalCursorType=null;this._cursorStylesheet.remove()}},_getElementCenter:function(u){var t=u.length?l.getOffset(u):null;if(t){t.top+=u.outerHeight()/2;t.left+=u.outerWidth()/2}return t},_isFloating:function(t){return(/left|right/).test(t.css("float"))||(/inline|table-cell/).test(t.css("display"))},_cancel:function(){this.draggedElement.show();this.placeholder.remove()},_items:function(){var u=this.options.filter,t;if(u){t=this.element.find(u)}else{t=this.element.children()}return t},indexOf:function(v){var u=this._items(),w=this.placeholder,t=this.draggedElement;if(w&&v[0]==w[0]){return u.not(t).index(v)}else{return u.not(w).index(v)}},items:function(){var u=this.placeholder,t=this._items();if(u){t=t.not(u)}return t},_isEmpty:function(){return !this.items().length},_isLastHidden:function(){return this.items().length===1&&this.items().is(":hidden")}});l.ui.plugin(b)})(window.kendo.jQuery);(function(c,f){var n=window.kendo,b=n.ui.Widget,p=c.proxy,k=Math.abs,r=Array.prototype.shift,o="aria-selected",d="k-state-selected",g="k-state-selecting",m="k-selectable",j="change",q=".kendoSelectable",i="k-state-unselecting",a="input,a,textarea,.k-multiselect-wrap,select,button,a.k-button>.k-icon,span.k-icon.k-i-expand,span.k-icon.k-i-collapse",h=n.support.browser.msie,l=false;(function(t){(function(){t('<div class="parent"><span /></div>').on("click",">*",function(){l=true}).find("span").click().end().off()})()})(c);var s=b.extend({init:function(v,u){var w=this,t;b.fn.init.call(w,v,u);w._marquee=c("<div class='k-marquee'><div class='k-marquee-color'></div></div>");w._lastActive=null;w.element.addClass(m);w.relatedTarget=w.options.relatedTarget;t=w.options.multiple;if(this.options.aria&&t){w.element.attr("aria-multiselectable",true)}w.userEvents=new n.UserEvents(w.element,{global:true,allowSelection:true,filter:(!l?"."+m+" ":"")+w.options.filter,tap:p(w._tap,w)});if(t){w.userEvents.bind("start",p(w._start,w)).bind("move",p(w._move,w)).bind("end",p(w._end,w)).bind("select",p(w._select,w))}},events:[j],options:{name:"Selectable",filter:">*",multiple:false,relatedTarget:c.noop},_isElement:function(x){var w=this.element;var u,v=w.length,t=false;x=x[0];for(u=0;u<v;u++){if(w[u]===x){t=true;break}}return t},_tap:function(x){var y=c(x.target),w=this,u=x.event.ctrlKey||x.event.metaKey,B=w.options.multiple,z=B&&x.event.shiftKey,v,A=x.event.which,t=x.event.button;if(!w._isElement(y.closest("."+m))||A&&A==3||t&&t==2){return}if(!this._allowSelection(x.event.target)){return}v=y.hasClass(d);if(!B||!u){w.clear()}y=y.add(w.relatedTarget(y));if(z){w.selectRange(w._firstSelectee(),y)}else{if(v&&u){w._unselect(y);w._notify(j)}else{w.value(y)}w._lastActive=w._downTarget=y}},_start:function(x){var v=this,w=c(x.target),u=w.hasClass(d),t,y=x.event.ctrlKey||x.event.metaKey;if(!this._allowSelection(x.event.target)){return}v._downTarget=w;if(!v._isElement(w.closest("."+m))){v.userEvents.cancel();return}if(v.options.useAllItems){v._items=v.element.find(v.options.filter)}else{t=w.closest(v.element);v._items=t.find(v.options.filter)}x.sender.capture();v._marquee.appendTo(document.body).css({left:x.x.client+1,top:x.y.client+1,width:0,height:0});if(!y){v.clear()}w=w.add(v.relatedTarget(w));if(u){v._selectElement(w,true);if(y){w.addClass(i)}}},_move:function(v){var u=this,t={left:v.x.startLocation>v.x.location?v.x.location:v.x.startLocation,top:v.y.startLocation>v.y.location?v.y.location:v.y.startLocation,width:k(v.x.initialDelta),height:k(v.y.initialDelta)};u._marquee.css(t);u._invalidateSelectables(t,(v.event.ctrlKey||v.event.metaKey));v.preventDefault()},_end:function(){var t=this;t._marquee.remove();t._unselect(t.element.find(t.options.filter+"."+i)).removeClass(i);var u=t.element.find(t.options.filter+"."+g);u=u.add(t.relatedTarget(u));t.value(u);t._lastActive=t._downTarget;t._items=null},_invalidateSelectables:function(u,A){var t,x,z=this._downTarget[0],v=this._items,y,w;for(t=0,x=v.length;t<x;t++){w=v.eq(t);y=w.add(this.relatedTarget(w));if(e(w,u)){if(w.hasClass(d)){if(A&&z!==w[0]){y.removeClass(d).addClass(i)}}else{if(!w.hasClass(g)&&!w.hasClass(i)){y.addClass(g)}}}else{if(w.hasClass(g)){y.removeClass(g)}else{if(A&&w.hasClass(i)){y.removeClass(i).addClass(d)}}}}},value:function(v){var u=this,t=p(u._selectElement,u);if(v){v.each(function(){t(this)});u._notify(j);return}return u.element.find(u.options.filter+"."+d)},_firstSelectee:function(){var u=this,t;if(u._lastActive!==null){return u._lastActive}t=u.value();return t.length>0?t[0]:u.element.find(u.options.filter)[0]},_selectElement:function(u,w){var v=c(u),t=!w&&this._notify("select",{element:u});v.removeClass(g);if(!t){v.addClass(d);if(this.options.aria){v.attr(o,true)}}},_notify:function(u,t){t=t||{};return this.trigger(u,t)},_unselect:function(t){t.removeClass(d);if(this.options.aria){t.attr(o,false)}return t},_select:function(t){if(this._allowSelection(t.event.target)){if(!h||(h&&!c(n._activeElement()).is(a))){t.preventDefault()}}},_allowSelection:function(t){if(c(t).is(a)){this.userEvents.cancel();this._downTarget=null;return false}return true},resetTouchEvents:function(){this.userEvents.cancel()},clear:function(){var t=this.element.find(this.options.filter+"."+d);this._unselect(t)},selectRange:function(y,u){var x=this,t,w,v;x.clear();if(x.element.length>1){v=x.options.continuousItems()}if(!v||!v.length){v=x.element.find(x.options.filter)}y=c.inArray(c(y)[0],v);u=c.inArray(c(u)[0],v);if(y>u){w=y;y=u;u=w}if(!x.options.useAllItems){u+=x.element.length-1}for(t=y;t<=u;t++){x._selectElement(v[t])}x._notify(j)},destroy:function(){var t=this;b.fn.destroy.call(t);t.element.off(q);t.userEvents.destroy();t._marquee=t._lastActive=t.element=t.userEvents=null}});s.parseOptions=function(u){var t=typeof u==="string"&&u.toLowerCase();return{multiple:t&&t.indexOf("multiple")>-1,cell:t&&t.indexOf("cell")>-1}};function e(w,t){if(!w.is(":visible")){return false}var x=n.getOffset(w),v=t.left+t.width,u=t.top+t.height;x.right=x.left+w.outerWidth();x.bottom=x.top+w.outerHeight();return !(x.left>v||x.right<t.left||x.top>u||x.bottom<t.top)}n.ui.plugin(s)})(window.kendo.jQuery);(function(e,c){var h=window.kendo,l=h.ui.Widget,j=e.proxy,p=h.keys,i="click",o="k-button",n="k-button-icon",a="k-button-icontext",b=".kendoButton",g="disabled",k="k-state-disabled",m="k-state-focused",d="k-state-selected";var f=l.extend({init:function(r,q){var s=this;l.fn.init.call(s,r,q);r=s.wrapper=s.element;q=s.options;r.addClass(o).attr("role","button");q.enable=q.enable&&!r.attr(g);s.enable(q.enable);s._tabindex();s._graphics();r.on(i+b,j(s._click,s)).on("focus"+b,j(s._focus,s)).on("blur"+b,j(s._blur,s)).on("keydown"+b,j(s._keydown,s)).on("keyup"+b,j(s._keyup,s));h.notify(s)},destroy:function(){var q=this;q.wrapper.off(b);l.fn.destroy.call(q)},events:[i],options:{name:"Button",icon:"",spriteCssClass:"",imageUrl:"",enable:true},_isNativeButton:function(){return this.element.prop("tagName").toLowerCase()=="button"},_click:function(q){if(this.options.enable){if(this.trigger(i,{event:q})){q.preventDefault()}}},_focus:function(){if(this.options.enable){this.element.addClass(m)}},_blur:function(){this.element.removeClass(m)},_keydown:function(r){var q=this;if(!q._isNativeButton()){if(r.keyCode==p.ENTER||r.keyCode==p.SPACEBAR){if(r.keyCode==p.SPACEBAR){r.preventDefault();if(q.options.enable){q.element.addClass(d)}}q._click(r)}}},_keyup:function(){this.element.removeClass(d)},_graphics:function(){var u=this,s=u.element,y=u.options,v=y.icon,q=y.spriteCssClass,x=y.imageUrl,w,t,r;if(q||x||v){r=true;s.contents().not("span.k-sprite").not("span.k-icon").not("img.k-image").each(function(z,A){if(A.nodeType==1||A.nodeType==3&&e.trim(A.nodeValue).length>0){r=false}});if(r){s.addClass(n)}else{s.addClass(a)}}if(v){w=s.children("span.k-icon").first();if(!w[0]){w=e('<span class="k-icon"></span>').prependTo(s)}w.addClass("k-i-"+v)}else{if(q){w=s.children("span.k-sprite").first();if(!w[0]){w=e('<span class="k-sprite"></span>').prependTo(s)}w.addClass(q)}else{if(x){t=s.children("img.k-image").first();if(!t[0]){t=e('<img alt="icon" class="k-image" />').prependTo(s)}t.attr("src",x)}}}},enable:function(q){var t=this,r=t.element;if(q===c){q=true}q=!!q;t.options.enable=q;r.toggleClass(k,!q).attr("aria-disabled",!q).attr(g,!q);try{r.blur()}catch(s){}}});h.ui.plugin(f)})(window.kendo.jQuery);(function(d,f){var l=window.kendo,k=l.ui,b=k.Widget,q=d.proxy,u=".k-i-seek-w",p=".k-i-seek-e",w=".k-i-arrow-w",x=".k-i-arrow-e",j="change",r=".kendoPager",e="click",c="keydown",s="disabled",v=l.template('<a href="\\#" title="#=text#" class="k-link k-pager-nav #= wrapClassName #"><span class="k-icon #= className #">#=text#</span></a>');function a(A,y,C,z,B){return A({idx:y,text:C,ns:l.ns,numeric:z,title:B||""})}function t(y,A,z){return v({className:y.substring(1),text:A,wrapClassName:z||""})}function h(z,y,B,A){z.find(y).parent().attr(l.attr("page"),B).attr("tabindex",-1).toggleClass("k-state-disabled",A)}function g(y,z){h(y,u,1,z<=1)}function m(y,z){h(y,w,Math.max(1,z-1),z<=1)}function n(y,A,z){h(y,x,Math.min(z,A+1),A>=z)}function i(y,A,z){h(y,p,z,A>=z)}var o=b.extend({init:function(z,y){var B=this,C,A;b.fn.init.call(B,z,y);y=B.options;B.dataSource=l.data.DataSource.create(y.dataSource);B.linkTemplate=l.template(B.options.linkTemplate);B.selectTemplate=l.template(B.options.selectTemplate);C=B.page();A=B.totalPages();B._refreshHandler=q(B.refresh,B);B.dataSource.bind(j,B._refreshHandler);if(y.previousNext){if(!B.element.find(u).length){B.element.append(t(u,y.messages.first,"k-pager-first"));g(B.element,C,A)}if(!B.element.find(w).length){B.element.append(t(w,y.messages.previous));m(B.element,C,A)}}if(y.numeric){B.list=B.element.find(".k-pager-numbers");if(!B.list.length){B.list=d('<ul class="k-pager-numbers k-reset" />').appendTo(B.element)}}if(y.input){if(!B.element.find(".k-pager-input").length){B.element.append('<span class="k-pager-input k-label">'+y.messages.page+'<input class="k-textbox">'+l.format(y.messages.of,A)+"</span>")}B.element.on(c+r,".k-pager-input input",q(B._keydown,B))}if(y.previousNext){if(!B.element.find(x).length){B.element.append(t(x,y.messages.next));n(B.element,C,A)}if(!B.element.find(p).length){B.element.append(t(p,y.messages.last,"k-pager-last"));i(B.element,C,A)}}if(y.pageSizes){if(!B.element.find(".k-pager-sizes").length){d('<span class="k-pager-sizes k-label"><select/>'+y.messages.itemsPerPage+"</span>").appendTo(B.element).find("select").html(d.map(d.isArray(y.pageSizes)?y.pageSizes:[5,10,20],function(D){return"<option>"+D+"</option>"}).join("")).end().appendTo(B.element)}B.element.find(".k-pager-sizes select").val(B.pageSize());if(l.ui.DropDownList){B.element.find(".k-pager-sizes select").show().kendoDropDownList()}B.element.on(j+r,".k-pager-sizes select",q(B._change,B))}if(y.refresh){if(!B.element.find(".k-pager-refresh").length){B.element.append('<a href="#" class="k-pager-refresh k-link" title="'+y.messages.refresh+'"><span class="k-icon k-i-refresh">'+y.messages.refresh+"</span></a>")}B.element.on(e+r,".k-pager-refresh",q(B._refreshClick,B))}if(y.info){if(!B.element.find(".k-pager-info").length){B.element.append('<span class="k-pager-info k-label" />')}}B.element.on(e+r,"a",q(B._click,B)).addClass("k-pager-wrap k-widget");if(y.autoBind){B.refresh()}l.notify(B)},destroy:function(){var y=this;b.fn.destroy.call(y);y.element.off(r);y.dataSource.unbind(j,y._refreshHandler);y._refreshHandler=null;l.destroy(y.element);y.element=y.list=null},events:[j],options:{name:"Pager",selectTemplate:'<li><span class="k-state-selected">#=text#</span></li>',linkTemplate:'<li><a tabindex="-1" href="\\#" class="k-link" data-#=ns#page="#=idx#" #if (title !== "") {# title="#=title#" #}#>#=text#</a></li>',buttonCount:10,autoBind:true,numeric:true,info:true,input:false,previousNext:true,pageSizes:false,refresh:false,messages:{display:"{0} - {1} از {2} تعداد",empty:"اطلاعاتی برای نمایش وجود ندارد",page:"صفحه",of:"از {0}",itemsPerPage:"تعداد در هر صفحه",first:"رفتن به صفحه اول",previous:"رفتن به صفحه قبل",next:"رفتن به صفحه بعدی",last:"رفتن به صفحه آخر",refresh:"به روز رسانی",morePages:"صفحات بیشتر"}},setDataSource:function(z){var y=this;y.dataSource.unbind(j,y._refreshHandler);y.dataSource=y.options.dataSource=z;z.bind(j,y._refreshHandler);if(y.options.autoBind){z.fetch()}},refresh:function(G){var F=this,K,B,z=1,C="",D,H=F.page(),L=F.options,I=F.pageSize(),J=F.dataSource.total(),E=F.totalPages(),y=F.linkTemplate,A=L.buttonCount;if(G&&G.action=="itemchange"){return}if(L.numeric){if(H>A){D=(H%A);z=(D===0)?(H-A)+1:(H-D)+1}B=Math.min((z+A)-1,E);if(z>1){C+=a(y,z-1,"...",false,L.messages.morePages)}for(K=z;K<=B;K++){C+=a(K==H?F.selectTemplate:y,K,K,true)}if(B<E){C+=a(y,K,"...",false,L.messages.morePages)}if(C===""){C=F.selectTemplate({text:0})}F.list.html(C)}if(L.info){if(J>0){C=l.format(L.messages.display,(H-1)*I+1,Math.min(H*I,J),J)}else{C=L.messages.empty}F.element.find(".k-pager-info").html(C)}if(L.input){F.element.find(".k-pager-input").html(F.options.messages.page+'<input class="k-textbox">'+l.format(L.messages.of,E)).find("input").val(H).attr(s,J<1).toggleClass("k-state-disabled",J<1)}if(L.previousNext){g(F.element,H,E);m(F.element,H,E);n(F.element,H,E);i(F.element,H,E)}if(L.pageSizes){F.element.find(".k-pager-sizes select").val(I).filter("["+l.attr("role")+"=dropdownlist]").kendoDropDownList("value",I).kendoDropDownList("text",I)}},_keydown:function(A){if(A.keyCode===l.keys.ENTER){var y=this.element.find(".k-pager-input").find("input"),z=parseInt(y.val(),10);if(isNaN(z)||z<1||z>this.totalPages()){z=this.page()}y.val(z);this.page(z)}},_refreshClick:function(y){y.preventDefault();this.dataSource.read()},_change:function(z){var y=parseInt(z.currentTarget.value,10);if(!isNaN(y)){this.dataSource.pageSize(y)}},_click:function(z){var y=d(z.currentTarget);z.preventDefault();if(!y.is(".k-state-disabled")){this.page(y.attr(l.attr("page")))}},totalPages:function(){return Math.ceil((this.dataSource.total()||0)/this.pageSize())},pageSize:function(){return this.dataSource.pageSize()||this.dataSource.total()},page:function(y){if(y!==f){this.dataSource.page(y);this.trigger(j,{index:y})}else{if(this.dataSource.total()>0){return this.dataSource.page()}else{return 0}}}});k.plugin(o)})(window.kendo.jQuery);(function(v,f){var w=window.kendo,C=w.ui,a=C.Widget,E=w.support,g=w.getOffset,c=w._activeElement,H="open",J="close",F="deactivate",e="activate",r="center",p="left",L="right",x="top",s="bottom",A="absolute",I="hidden",G="body",i="location",D="position",N="visible",l="effects",m="k-state-active",q="k-state-border",n=/k-state-border-(\w+)/,b=".k-picker-wrap, .k-dropdown-wrap, .k-link",B="down",M=v(document.documentElement),j=v(window),k="scroll",o="resize scroll",z=E.transitions.css,K=z+"transform",d=v.extend,y=".kendoPopup",u=["font-size","font-family","font-stretch","font-style","font-weight","line-height"];function t(O,P){return O===P||v.contains(O,P)}var h=a.extend({init:function(Q,P){var R=this,O;P=P||{};if(P.isRtl){P.origin=P.origin||s+" "+L;P.position=P.position||x+" "+L}a.fn.init.call(R,Q,P);Q=R.element;P=R.options;R.collisions=P.collision?P.collision.split(" "):[];R.downEvent=w.applyEventMap(B,w.guid());if(R.collisions.length===1){R.collisions.push(R.collisions[0])}O=v(R.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])");P.appendTo=v(v(P.appendTo)[0]||O[0]||G);R.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!P.isRtl).css({position:A}).appendTo(P.appendTo).on("mouseenter"+y,function(){R._hovered=true}).on("mouseleave"+y,function(){R._hovered=false});R.wrapper=v();if(P.animation===false){P.animation={open:{effects:{}},close:{hide:true,effects:{}}}}d(P.animation.open,{complete:function(){R.wrapper.css({overflow:N});R._activated=true;R._trigger(e)}});d(P.animation.close,{complete:function(){R._animationClose()}});R._mousedownProxy=function(S){R._mousedown(S)};R._resizeProxy=function(S){R._resize(S)};if(P.toggleTarget){v(P.toggleTarget).on(P.toggleEvent+y,v.proxy(R.toggle,R))}},events:[H,e,J,F],options:{name:"Popup",toggleEvent:"click",origin:s+" "+p,position:x+" "+p,anchor:G,appendTo:null,collision:"flip fit",viewport:window,copyAnchorStyles:true,autosize:false,modal:false,animation:{open:{effects:"slideIn:down",transition:true,duration:200},close:{duration:100,hide:true}}},_animationClose:function(){var R=this,Q=R.options;R.wrapper.hide();var O=R.wrapper.data(i),P=v(Q.anchor),T,S;if(O){R.wrapper.css(O)}if(Q.anchor!=G){T=((P.attr("class")||"").match(n)||["","down"])[1];S=q+"-"+T;P.removeClass(S).children(b).removeClass(m).removeClass(S);R.element.removeClass(q+"-"+w.directions[T].reverse)}R._closing=false;R._trigger(F)},destroy:function(){var R=this,O=R.options,P=R.element.off(y),Q;a.fn.destroy.call(R);if(O.toggleTarget){v(O.toggleTarget).off(y)}if(!O.modal){M.unbind(R.downEvent,R._mousedownProxy);R._scrollableParents().unbind(k,R._resizeProxy);j.unbind(o,R._resizeProxy)}w.destroy(R.element.children());P.removeData();if(O.appendTo[0]===document.body){Q=P.parent(".k-animation-container");if(Q[0]){Q.remove()}else{P.remove()}}},open:function(Y,W){var V=this,S={isFixed:!isNaN(parseInt(W,10)),x:Y,y:W},U=V.element,Z=V.options,X="down",R,P,T=v(Z.anchor),O=U[0]&&U.hasClass("km-widget");if(!V.visible()){if(Z.copyAnchorStyles){if(O&&u[0]=="font-size"){u.shift()}U.css(w.getComputedStyles(T[0],u))}if(U.data("animating")||V._trigger(H)){return}V._activated=false;if(!Z.modal){M.unbind(V.downEvent,V._mousedownProxy).bind(V.downEvent,V._mousedownProxy);if(!(E.mobileOS.ios||E.mobileOS.android)){V._scrollableParents().unbind(k,V._resizeProxy).bind(k,V._resizeProxy);j.unbind(o,V._resizeProxy).bind(o,V._resizeProxy)}}V.wrapper=P=w.wrap(U,Z.autosize).css({overflow:I,display:"block",position:A});if(E.mobileOS.android){P.css(K,"translatez(0)")}P.css(D);if(v(Z.appendTo)[0]==document.body){P.css(x,"-10000px")}R=d(true,{},Z.animation.open);V.flipped=V._position(S);R.effects=w.parseEffects(R.effects,V.flipped);X=R.effects.slideIn?R.effects.slideIn.direction:X;if(Z.anchor!=G){var Q=q+"-"+X;U.addClass(q+"-"+w.directions[X].reverse);T.addClass(Q).children(b).addClass(m).addClass(Q)}U.data(l,R.effects).kendoStop(true).kendoAnimate(R)}},toggle:function(){var O=this;O[O.visible()?J:H]()},visible:function(){return this.element.is(":"+N)},close:function(U){var R=this,P=R.options,Q,T,O,S;if(R.visible()){Q=(R.wrapper[0]?R.wrapper:w.wrap(R.element).hide());if(R._closing||R._trigger(J)){return}R.element.find(".k-popup").each(function(){var W=v(this),V=W.data("kendoPopup");if(V){V.close(U)}});M.unbind(R.downEvent,R._mousedownProxy);R._scrollableParents().unbind(k,R._resizeProxy);j.unbind(o,R._resizeProxy);if(U){T={hide:true,effects:{}}}else{T=d(true,{},P.animation.close);O=R.element.data(l);S=T.effects;if(!S&&!w.size(S)&&O&&w.size(O)){T.effects=O;T.reverse=true}R._closing=true}R.element.kendoStop(true);Q.css({overflow:I});R.element.kendoAnimate(T)}},_trigger:function(O){return this.trigger(O,{type:O})},_resize:function(P){var O=this;if(P.type==="resize"){clearTimeout(O._resizeTimeout);O._resizeTimeout=setTimeout(function(){O._position();O._resizeTimeout=null},50)}else{if(!O._hovered||(O._activated&&O.element.hasClass("k-list-container"))){O.close()}}},_mousedown:function(T){var S=this,P=S.element[0],W=S.options,R=v(W.anchor)[0],V=W.toggleTarget,U=w.eventTarget(T),Q=v(U).closest(".k-popup"),O=Q.parent().parent(".km-shim").length;Q=Q[0];if(!O&&Q&&Q!==S.element[0]){return}if(v(T.target).closest("a").data("rel")==="popover"){return}if(!t(P,U)&&!t(R,U)&&!(V&&t(v(V)[0],U))){S.close()}},_fit:function(O,R,P){var Q=0;if(O+R>P){Q=P-(O+R)}if(O<0){Q=-O}return Q},_flip:function(U,T,Q,P,S,O,V){var R=0;V=V||T;if(O!==S&&O!==r&&S!==r){if(U+V>P){R+=-(Q+T)}if(U+R<0){R+=Q+T}}return R},_scrollableParents:function(){return v(this.options.anchor).parentsUntil("body").filter(function(P,Q){var O=w.getComputedStyles(Q,["overflow"]);return O.overflow!="visible"})},_position:function(X){var ad=this,R=ad.element.css(D,""),aa=ad.wrapper,V=ad.options,am=v(V.viewport),al=am.offset(),ac=v(V.anchor),P=V.origin.toLowerCase().split(" "),ae=V.position.toLowerCase().split(" "),W=ad.collisions,ah=E.zoomLevel(),Q,ao,S,ag=10002,an=!!((am[0]==window)&&window.innerWidth&&(ah<=1.02)),af=0,U,aj,T;aj=an?window.innerWidth:am.width();T=an?window.innerHeight:am.height();Q=ac.parents().filter(aa.siblings());if(Q[0]){S=Math.max(Number(Q.css("zIndex")),0);if(S){ag=S+10}else{ao=ac.parentsUntil(Q);for(U=ao.length;af<U;af++){S=Number(v(ao[af]).css("zIndex"));if(S&&ag<S){ag=S+10}}}}aa.css("zIndex",ag);if(X&&X.isFixed){aa.css({left:X.x,top:X.y})}else{aa.css(ad._align(P,ae))}var ab=g(aa,D,ac[0]===aa.offsetParent()[0]),Z=g(aa),ak=ac.offsetParent().parent(".k-animation-container,.k-popup,.k-group");if(ak.length){ab=g(aa,D,true);Z=g(aa)}if(am[0]===window){Z.top-=(window.pageYOffset||document.documentElement.scrollTop||0);Z.left-=(window.pageXOffset||document.documentElement.scrollLeft||0)}else{Z.top-=al.top;Z.left-=al.left}if(!ad.wrapper.data(i)){aa.data(i,d({},ab))}var Y=d({},Z),O=d({},ab);if(W[0]==="fit"){O.top+=ad._fit(Y.top,aa.outerHeight(),T/ah)}if(W[1]==="fit"){O.left+=ad._fit(Y.left,aa.outerWidth(),aj/ah)}var ai=d({},O);if(W[0]==="flip"){O.top+=ad._flip(Y.top,R.outerHeight(),ac.outerHeight(),T/ah,P[0],ae[0],aa.outerHeight())}if(W[1]==="flip"){O.left+=ad._flip(Y.left,R.outerWidth(),ac.outerWidth(),aj/ah,P[1],ae[1],aa.outerWidth())}R.css(D,A);aa.css(O);return(O.left!=ai.left||O.top!=ai.top)},_align:function(af,ag){var U=this,Q=U.wrapper,T=v(U.options.anchor),V=af[0],ae=af[1],Y=ag[0],P=ag[1],Z=g(T),S=v(U.options.appendTo),ab,aa=Q.outerWidth(),X=Q.outerHeight(),O=T.outerWidth(),ad=T.outerHeight(),W=Z.top,R=Z.left,ac=Math.round;if(S[0]!=document.body){ab=g(S);W-=ab.top;R-=ab.left}if(V===s){W+=ad}if(V===r){W+=ac(ad/2)}if(Y===s){W-=X}if(Y===r){W-=ac(X/2)}if(ae===L){R+=O}if(ae===r){R+=ac(O/2)}if(P===L){R-=aa}if(P===r){R-=ac(aa/2)}return{top:W,left:R}}});C.plugin(h)})(window.kendo.jQuery);(function(g,i){var q=window.kendo,b=q.ui.Widget,u=g.proxy,x=g.extend,a=window.setTimeout,h="click",f="show",w="hide",t="k-notification",c=".k-notification-wrap .k-i-close",d="info",y="success",l="warning",j="error",r="top",o="left",m="bottom",n="right",e="up",v=".kendoNotification",k='<div class="k-widget k-notification"></div>',p='<div class="k-notification-wrap"><span class="k-icon k-i-note">#=typeIcon#</span>#=content#<span class="k-icon k-i-close">Hide</span></div>';var s=b.extend({init:function(A,z){var B=this;b.fn.init.call(B,A,z);z=B.options;if(!z.appendTo||!g(z.appendTo).is(A)){B.element.hide()}B._compileTemplates(z.templates);B._guid="_"+q.guid();B._isRtl=q.support.isRtl(A);B._compileStacking(z.stacking,z.position.top);q.notify(B)},events:[f,w],options:{name:"Notification",position:{pinned:true,top:null,left:null,bottom:20,right:20},stacking:"default",hideOnClick:true,button:false,allowHideAfter:0,autoHideAfter:5000,appendTo:null,width:null,height:null,templates:[],animation:{open:{effects:"fade:in",duration:300},close:{effects:"fade:out",duration:600,hide:true}}},_compileTemplates:function(z){var A=this;var B=q.template;A._compiled={};g.each(z,function(C,D){A._compiled[D.type]=B(D.template||g("#"+D.templateId).html())});A._defaultCompiled=B(p)},_getCompiled:function(z){var A=this;var B=A._defaultCompiled;return z?A._compiled[z]||B:B},_compileStacking:function(C,E){var D=this,B={paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0},A,z;switch(C){case"down":A=m+" "+o;z=r+" "+o;delete B.paddingBottom;break;case n:A=r+" "+n;z=r+" "+o;delete B.paddingRight;break;case o:A=r+" "+o;z=r+" "+n;delete B.paddingLeft;break;case e:A=r+" "+o;z=m+" "+o;delete B.paddingTop;break;default:if(E!==null){A=m+" "+o;z=r+" "+o;delete B.paddingBottom}else{A=r+" "+o;z=m+" "+o;delete B.paddingTop}break}D._popupOrigin=A;D._popupPosition=z;D._popupPaddings=B},_attachPopupEvents:function(A,z){var C=this,F=A.allowHideAfter,B=!isNaN(F)&&F>0,E;function D(G){G.on(h+v,function(){z.close()})}if(A.hideOnClick){z.bind("activate",function(G){if(B){a(function(){D(z.element)},F)}else{D(z.element)}})}else{if(A.button){E=z.element.find(c);if(B){a(function(){D(E)},F)}else{D(E)}}}},_showPopup:function(A,J){var F=this,z=J.autoHideAfter,I=J.position.left,H=J.position.top,G=J.allowHideAfter,B,D,E,C;D=g("."+F._guid).last();B=new q.ui.Popup(A,{anchor:D[0]?D:document.body,origin:F._popupOrigin,position:F._popupPosition,animation:J.animation,modal:true,collision:"",isRtl:F._isRtl,close:function(K){F._triggerHide(this.element)},deactivate:function(K){K.sender.element.off(v);K.sender.element.find(c).off(v);K.sender.destroy()}});F._attachPopupEvents(J,B);if(D[0]){B.open()}else{if(I===null){I=g(window).width()-A.width()-J.position.right}if(H===null){H=g(window).height()-A.height()-J.position.bottom}B.open(I,H)}B.wrapper.addClass(F._guid).css(x({margin:0},F._popupPaddings));if(J.position.pinned){B.wrapper.css("position","fixed");if(D[0]){F._togglePin(B.wrapper,true)}}else{if(!D[0]){F._togglePin(B.wrapper,false)}}if(z>0){a(function(){B.close()},z)}},_togglePin:function(C,A){var B=g(window),z=A?-1:1;C.css({top:parseInt(C.css(r),10)+z*B.scrollTop(),left:parseInt(C.css(o),10)+z*B.scrollLeft()})},_attachStaticEvents:function(z,E){var B=this,D=z.allowHideAfter,A=!isNaN(D)&&D>0;function C(F){F.on(h+v,u(B._hideStatic,B,E))}if(z.hideOnClick){if(A){a(function(){C(E)},D)}else{C(E)}}else{if(z.button){if(A){a(function(){C(E.find(c))},D)}else{C(E.find(c))}}}},_showStatic:function(F,z){var B=this,A=z.autoHideAfter,D=z.animation,E=z.stacking==e||z.stacking==o?"prependTo":"appendTo",C;F.addClass(B._guid)[E](z.appendTo).hide().kendoAnimate(D.open||false);B._attachStaticEvents(z,F);if(A>0){a(function(){B._hideStatic(F)},A)}},_hideStatic:function(z){z.kendoAnimate(x(this.options.animation.close||false,{complete:function(){z.off(v).find(c).off(v);z.remove()}}));this._triggerHide(z)},_triggerHide:function(z){this.trigger(w,{element:z});this.angular("cleanup",function(){return{elements:z}})},show:function(E,C){var D=this,B=D.options,G=g(k),A,F,z;if(!C){C=d}if(E!==null&&E!==i&&E!==""){if(q.isFunction(E)){E=E()}F={typeIcon:C,content:""};if(g.isPlainObject(E)){A=x(F,E)}else{A=x(F,{content:E})}G.addClass(t+"-"+C).toggleClass(t+"-button",B.button).attr("data-role","alert").css({width:B.width,height:B.height}).append(D._getCompiled(C)(A));D.angular("compile",function(){return{elements:G,data:[{dataItem:A}]}});if(g(B.appendTo)[0]){D._showStatic(G,B)}else{D._showPopup(G,B)}D.trigger(f,{element:G})}return D},info:function(z){return this.show(z,d)},success:function(z){return this.show(z,y)},warning:function(z){return this.show(z,l)},error:function(z){return this.show(z,j)},hide:function(){var z=this,A=z.getNotifications();if(z.options.appendTo){A.each(function(B,C){z._hideStatic(g(C))})}else{A.each(function(B,D){var C=g(D).data("kendoPopup");if(C){C.close()}})}return z},getNotifications:function(){var A=this,z=g("."+A._guid);if(A.options.appendTo){return z}else{return z.children("."+t)}},setOptions:function(B){var A=this,z;b.fn.setOptions.call(A,B);z=A.options;if(B.templates!==i){A._compileTemplates(z.templates)}if(B.stacking!==i||B.position!==i){A._compileStacking(z.stacking,z.position.top)}},destroy:function(){b.fn.destroy.call(this);this.getNotifications().off(v).find(c).off(v)}});q.ui.plugin(s)})(window.kendo.jQuery);(function(g,i){var u=window.kendo,b=u.ui.Widget,j=u.ui.Popup,a=u.isFunction,t=g.isPlainObject,B=g.extend,w=g.proxy,h=g(document),v=u.isLocalUrl,d="_tt_active",e="aria-describedby",f="show",z="hide",k="error",r="contentLoad",C="requestStart",D="k-content-frame",s='<div role="tooltip" class="k-widget k-tooltip#if (!autoHide) {# k-tooltip-closable#}#">#if (!autoHide) {# <div class="k-tooltip-button"><a href="\\#" class="k-icon k-i-close">close</a></div> #}#<div class="k-tooltip-content"></div>#if (callout){ #<div class="k-callout k-callout-#=dir#"></div>#}#</div>',m=u.template("<iframe frameborder='0' class='"+D+"' src='#= content.url #'>This page requires frames in order to show content</iframe>"),y=".kendoTooltip",q={bottom:{origin:"bottom center",position:"top center"},top:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"},center:{position:"center center",origin:"center center"}},F={top:"bottom",bottom:"top",left:"right",right:"left",center:"center"},l={bottom:"n",top:"s",left:"e",right:"w",center:"n"},n={horizontal:{offset:"top",size:"outerHeight"},vertical:{offset:"left",size:"outerWidth"}},p=function(G){return G.target.data(u.ns+"title")};function o(G){while(G.length){A(G);G=G.parent()}}function A(G){var H=G.data(u.ns+"title");if(H){G.attr("title",H);G.removeData(u.ns+"title")}}function E(G){var H=G.attr("title");if(H){G.data(u.ns+"title",H);G.attr("title","")}}function c(G){while(G.length&&!G.is("body")){E(G);G=G.parent()}}var x=b.extend({init:function(H,G){var J=this,I;b.fn.init.call(J,H,G);I=J.options.position.match(/left|right/)?"horizontal":"vertical";J.dimensions=n[I];J._documentKeyDownHandler=w(J._documentKeyDown,J);J.element.on(J.options.showOn+y,J.options.filter,w(J._showOn,J)).on("mouseenter"+y,J.options.filter,w(J._mouseenter,J));if(this.options.autoHide){J.element.on("mouseleave"+y,J.options.filter,w(J._mouseleave,J))}},options:{name:"Tooltip",filter:"",content:p,showAfter:100,callout:true,position:"bottom",showOn:"mouseenter",autoHide:true,width:null,height:null,animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:40,hide:true}}},events:[f,z,r,k,C],_mouseenter:function(G){c(g(G.currentTarget))},_showOn:function(I){var G=this;var H=g(I.currentTarget);if(G.options.showOn&&G.options.showOn.match(/click|focus/)){G._show(H)}else{clearTimeout(G.timeout);G.timeout=setTimeout(function(){G._show(H)},G.options.showAfter)}},_appendContent:function(L){var J=this,K=J.options.content,H=J.content,G=J.options.iframe,I;if(t(K)&&K.url){if(!("iframe" in J.options)){G=!v(K.url)}J.trigger(C,{options:K,target:L});if(!G){H.empty();u.ui.progress(H,true);J._ajaxRequest(K)}else{H.hide();I=H.find("."+D)[0];if(I){I.src=K.url||I.src}else{H.html(m({content:K}))}H.find("."+D).off("load"+y).on("load"+y,function(){J.trigger(r);H.show()})}}else{if(K&&a(K)){K=K({sender:this,target:L});H.html(K||"")}else{H.html(K)}}J.angular("compile",function(){return{elements:H}})},_ajaxRequest:function(G){var H=this;jQuery.ajax(B({type:"GET",dataType:"html",cache:false,error:function(J,I){u.ui.progress(H.content,false);H.trigger(k,{status:I,xhr:J})},success:w(function(I){u.ui.progress(H.content,false);H.content.html(I);H.trigger(r)},H)},G))},_documentKeyDown:function(G){if(G.keyCode===u.keys.ESC){this.hide()}},refresh:function(){var H=this,G=H.popup;if(G&&G.options.anchor){H._appendContent(G.options.anchor)}},hide:function(){if(this.popup){this.popup.close()}},show:function(G){G=G||this.element;c(G);this._show(G)},_show:function(I){var G=this,H=G.target();if(!G.popup){G._initPopup()}if(H&&H[0]!=I[0]){G.popup.close();G.popup.element.kendoStop(true,true)}if(!H||H[0]!=I[0]){G._appendContent(I);G.popup.options.anchor=I}G.popup.one("deactivate",function(){o(I);I.removeAttr(e);this.element.removeAttr("id").attr("aria-hidden",true);h.off("keydown"+y,G._documentKeyDownHandler)});G.popup.open()},_initPopup:function(){var H=this,G=H.options,I=g(u.template(s)({callout:G.callout&&G.position!=="center",dir:l[G.position],autoHide:G.autoHide}));H.popup=new j(I,B({activate:function(){var J=this.options.anchor,K=J[0].id||H.element[0].id;if(K){J.attr(e,K+d);this.element.attr("id",K+d)}if(G.callout){H._positionCallout()}this.element.removeAttr("aria-hidden");h.on("keydown"+y,H._documentKeyDownHandler);H.trigger(f)},close:function(){H.trigger(z)},copyAnchorStyles:false,animation:G.animation},q[G.position]));I.css({width:G.width,height:G.height});H.content=I.find(".k-tooltip-content");H.arrow=I.find(".k-callout");if(G.autoHide){I.on("mouseleave"+y,w(H._mouseleave,H))}else{I.on("click"+y,".k-tooltip-button",w(H._closeButtonClick,H))}},_closeButtonClick:function(G){G.preventDefault();this.hide()},_mouseleave:function(J){if(this.popup){var H=g(J.currentTarget),K=H.offset(),I=J.pageX,G=J.pageY;K.right=K.left+H.outerWidth();K.bottom=K.top+H.outerHeight();if(I>K.left&&I<K.right&&G>K.top&&G<K.bottom){return}this.popup.close()}else{o(g(J.currentTarget))}clearTimeout(this.timeout)},_positionCallout:function(){var N=this,M=N.options.position,G=N.dimensions,K=G.offset,I=N.popup,L=I.options.anchor,J=g(L).offset(),P=parseInt(N.arrow.css("border-top-width"),10),H=g(I.element).offset(),Q=l[I.flipped?F[M]:M],O=J[K]-H[K]+(g(L)[G.size]()/2)-P;N.arrow.removeClass("k-callout-n k-callout-s k-callout-w k-callout-e").addClass("k-callout-"+Q).css(K,O)},target:function(){if(this.popup){return this.popup.options.anchor}return null},destroy:function(){var G=this.popup;if(G){G.element.off(y);G.destroy()}this.element.off(y);h.off("keydown"+y,this._documentKeyDownHandler);b.fn.destroy.call(this)}});u.ui.plugin(x)})(window.kendo.jQuery);(function(i,k){var w=window.kendo,v=w.ui,d=v.Widget,t=w.keys,p=w.support,a=w.htmlEncode,l=w._activeElement,n="id",m="li",r="change",g="character",q="k-state-focused",s="k-state-hover",z="k-loading",B="open",e="close",c="select",j="selected",C="progress",o="requestEnd",h="width",A=i.extend,y=i.proxy,E=p.browser,u=E.msie&&E.version<9,f=/"/g,x={ComboBox:"DropDownList",DropDownList:"ComboBox"};var b=w.ui.DataBoundWidget.extend({init:function(G,F){var I=this,H=I.ns,J;d.fn.init.call(I,G,F);G=I.element;I._isSelect=G.is(c);I._template();I.ul=i('<ul unselectable="on" class="k-list k-reset"/>').css({overflow:p.kineticScrollNeeded?"":"auto"}).on("mouseenter"+H,m,function(){i(this).addClass(s)}).on("mouseleave"+H,m,function(){i(this).removeClass(s)}).on("click"+H,m,y(I._click,I)).attr({tabIndex:-1,role:"listbox","aria-hidden":true});I.list=i("<div class='k-list-container'/>").append(I.ul).on("mousedown"+H,y(I._listMousedown,I));J=G.attr(n);if(J){I.list.attr(n,J+"-list");I.ul.attr(n,J+"_listbox");I._optionID=J+"_option_selected"}I._header();I._accessors();I._initValue()},options:{valuePrimitive:false,headerTemplate:""},setOptions:function(F){d.fn.setOptions.call(this,F);if(F&&F.enable!==k){F.enabled=F.enable}},focus:function(){this._focused.focus()},readonly:function(F){this._editable({readonly:F===k?true:F,disable:false})},enable:function(F){this._editable({readonly:false,disable:!(F=F===k?true:F)})},_listMousedown:function(F){if(!this.filterInput||this.filterInput[0]!==F.target){F.preventDefault()}},_filterSource:function(G,I){var H=this;var F=H.options;var L=H.dataSource;var K=A({},L.filter()||{});var J=D(K,F.dataTextField);if((G||J)&&H.trigger("filtering",{filter:G})){return}if(G){K=K.filters||[];K.push(G)}if(!I){L.filter(K)}else{L.read(K)}},_header:function(){var G=this;var F=G.options.headerTemplate;var H;if(i.isFunction(F)){F=F({})}if(F){G.list.prepend(F);H=G.ul.prev();G.header=H[0]?H:null;if(G.header){G.angular("compile",function(){return{elements:G.header}})}}},_initValue:function(){var F=this,G=F.options.value;if(G!==null){F.element.val(G)}else{G=F._accessor();F.options.value=G}F._old=G},_ignoreCase:function(){var G=this,F=G.dataSource.reader.model,H;if(F&&F.fields){H=F.fields[G.options.dataTextField];if(H&&H.type&&H.type!=="string"){G.options.ignoreCase=false}}},items:function(){return this.ul[0].children},current:function(F){var G=this;var H=G._focused.add(G.filterInput);var I=G._optionID;if(F!==k){if(G._current){G._current.removeClass(q).removeAttr("aria-selected").removeAttr(n);H.removeAttr("aria-activedescendant")}if(F){F.addClass(q);G._scroll(F);if(I){F.attr("id",I);H.attr("aria-activedescendant",I)}}G._current=F}else{return G._current}},destroy:function(){var G=this,F=G.ns;d.fn.destroy.call(G);G._unbindDataSource();G.ul.off(F);G.list.off(F);if(G._touchScroller){G._touchScroller.destroy()}G.popup.destroy();if(G._form){G._form.off("reset",G._resetHandler)}},dataItem:function(F){var G=this;if(F===k){F=G.selectedIndex}else{if(typeof F!=="number"){F=i(G.items()).index(F)}}return G._data()[F]},_accessors:function(){var K=this;var J=K.element;var I=K.options;var F=w.getter;var G=J.attr(w.attr("text-field"));var H=J.attr(w.attr("value-field"));if(!I.dataTextField&&G){I.dataTextField=G}if(!I.dataValueField&&H){I.dataValueField=H}K._text=F(I.dataTextField);K._value=F(I.dataValueField)},_aria:function(I){var H=this,F=H.options,G=H._focused.add(H.filterInput);if(F.suggest!==k){G.attr("aria-autocomplete",F.suggest?"both":"list")}I=I?I+" "+H.ul[0].id:H.ul[0].id;G.attr("aria-owns",I);H.ul.attr("aria-live",!F.filter||F.filter==="none"?"off":"polite")},_blur:function(){var F=this;F._change();F.close()},_change:function(){var H=this,G=H.selectedIndex,J=H.options.value,I=H.value(),F;if(H._isSelect&&!H._bound&&J){I=J}if(I!==H._old){F=true}else{if(G!==k&&G!==H._oldIndex){F=true}}if(F){H._old=I;H._oldIndex=G;H.element.trigger(r);H.trigger(r)}},_click:function(F){if(!F.isDefaultPrevented()){this._accept(i(F.currentTarget))}},_data:function(){return this.dataSource.view()},_enable:function(){var H=this,F=H.options,G=H.element.is("[disabled]");if(F.enable!==k){F.enabled=F.enable}if(!F.enabled||G){H.enable(false)}else{H.readonly(H.element.is("[readonly]"))}},_focus:function(F){var G=this;var H=true;if(G.popup.visible()&&F&&G.trigger(c,{item:F})){G.close();return}G._select(F);G._triggerCascade(H);G._blur()},_index:function(J){var H=this,F,G,I=H._data();for(F=0,G=I.length;F<G;F++){if(H._dataValue(I[F])==J){return F}}return -1},_dataValue:function(F){var G=this._value(F);if(G===k){G=this._text(F)}return G},_height:function(J){if(J){var I=this,K=I.list,F=I.options.height,L=I.popup.visible(),H,G;G=K.add(K.parent(".k-animation-container")).show();F=I.ul[0].scrollHeight>F?F:"auto";G.height(F);if(F!=="auto"){H=I.ul[0].offsetTop;if(H){F=K.height()-H}}I.ul.height(F);if(!L){G.hide()}}},_adjustListWidth:function(){var I=this.list,H=I[0].style.width,J=this.wrapper,G,F;if(!I.data(h)&&H){return}G=window.getComputedStyle?window.getComputedStyle(J[0],null):0;F=G?parseFloat(G.width):J.outerWidth();if(G&&E.msie){F+=parseFloat(G.paddingLeft)+parseFloat(G.paddingRight)+parseFloat(G.borderLeftWidth)+parseFloat(G.borderRightWidth)}if(I.css("box-sizing")!=="border-box"){H=F-(I.outerWidth()-I.width())}else{H=F}I.css({fontFamily:J.css("font-family"),width:H}).data(h,H);return true},_openHandler:function(F){this._adjustListWidth();if(this.trigger(B)){F.preventDefault()}else{this._focused.attr("aria-expanded",true);this.ul.attr("aria-hidden",false)}},_closeHandler:function(F){if(this.trigger(e)){F.preventDefault()}else{this._focused.attr("aria-expanded",false);this.ul.attr("aria-hidden",true)}},_firstOpen:function(){this._height(this._data().length)},_popup:function(){var F=this;F.popup=new v.Popup(F.list,A({},F.options.popup,{anchor:F.wrapper,open:y(F._openHandler,F),close:y(F._closeHandler,F),animation:F.options.animation,isRtl:p.isRtl(F.wrapper)}));F.popup.one(B,y(F._firstOpen,F));F._touchScroller=w.touchScroller(F.popup.element)},_makeUnselectable:function(){if(u){this.list.find("*").not(".k-textbox").attr("unselectable","on")}},_toggleHover:function(F){i(F.currentTarget).toggleClass(s,F.type==="mouseenter")},_toggle:function(G,I){var H=this;var F=p.touch&&p.MSPointers&&p.pointers;G=G!==k?G:!H.popup.visible();if(!I&&!F&&H._focused[0]!==l()){H._focused.focus()}H[G?B:e]()},_scroll:function(O){if(!O){return}if(O[0]){O=O[0]}var L=this.ul[0],M=O.offsetTop,J=O.offsetHeight,F=L.scrollTop,N=L.clientHeight,K=M+J,G=this._touchScroller,I,H;if(G){I=G.dimensions.y;if(I.enabled&&M>I.size){M=M-I.size+J+4;G.scrollTo(0,-M)}}else{H=this.header?this.header.outerHeight():0;H+=this.filterInput?this.filterInput.outerHeight():0;L.scrollTop=F>M?(M-H):K>(F+N)?(K-N-H):F}},_template:function(){var I=this,G=I.options,H=G.template,F=G.dataSource;if(I._isSelect&&I.element[0].length){if(!F){G.dataTextField=G.dataTextField||"text";G.dataValueField=G.dataValueField||"value"}}if(!H){I.template=w.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${'+w.expr(G.dataTextField,"data")+"}</li>",{useWithBlock:false})}else{H=w.template(H);I.template=function(J){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+H(J)+"</li>"}}},_triggerCascade:function(H){var F=this,G=F.value();if((!F._bound&&G)||F._old!==G){F.trigger("cascade",{userTriggered:H})}},_unbindDataSource:function(){var F=this;F.dataSource.unbind(r,F._refreshHandler).unbind(C,F._progressHandler).unbind(o,F._requestEndHandler).unbind("error",F._errorHandler)}});A(b,{inArray:function(I,G){var F,H,J=G.children;if(!I||I.parentNode!==G){return -1}for(F=0,H=J.length;F<H;F++){if(I===J[F]){return F}}return -1}});w.ui.List=b;v.Select=b.extend({init:function(G,F){b.fn.init.call(this,G,F);this._initial=this.element.val()},setDataSource:function(F){this.options.dataSource=F;this._dataSource();this._bound=false;if(this.options.autoBind){this.dataSource.fetch()}},close:function(){this.popup.close()},select:function(F){var G=this;if(F===k){return G.selectedIndex}else{G._select(F);G._triggerCascade();G._old=G._accessor();G._oldIndex=G.selectedIndex}},search:function(L){L=typeof L==="string"?L:this.text();var J=this;var I=L.length;var G=J.options;var F=G.ignoreCase;var H=G.filter;var K=G.dataTextField;clearTimeout(J._typing);if(!I||I>=G.minLength){J._state="filter";if(H==="none"){J._filter(L)}else{J._open=true;J._filterSource({value:F?L.toLowerCase():L,field:K,operator:H,ignoreCase:F})}}},_accessor:function(J,G){var H=this.element[0],K=this._isSelect,F=H.selectedIndex,I;if(J===k){if(K){if(F>-1){I=H.options[F];if(I){J=I.value}}}else{J=H.value}return J}else{if(K){if(F>-1){H.options[F].removeAttribute(j)}H.selectedIndex=G;I=H.options[G];if(I){I.setAttribute(j,j)}}else{H.value=J}}},_hideBusy:function(){var F=this;clearTimeout(F._busy);F._arrow.removeClass(z);F._focused.attr("aria-busy",false);F._busy=null},_showBusy:function(){var F=this;F._request=true;if(F._busy){return}F._busy=setTimeout(function(){if(F._arrow){F._focused.attr("aria-busy",true);F._arrow.addClass(z)}},100)},_requestEnd:function(){this._request=false},_dataSource:function(){var I=this,H=I.element,G=I.options,J=G.dataSource||{},F;J=i.isArray(J)?{data:J}:J;if(I._isSelect){F=H[0].selectedIndex;if(F>-1){G.index=F}J.select=H;J.fields=[{field:G.dataTextField},{field:G.dataValueField}]}if(I.dataSource&&I._refreshHandler){I._unbindDataSource()}else{I._refreshHandler=y(I.refresh,I);I._progressHandler=y(I._showBusy,I);I._requestEndHandler=y(I._requestEnd,I);I._errorHandler=y(I._hideBusy,I)}I.dataSource=w.data.DataSource.create(J).bind(r,I._refreshHandler).bind(C,I._progressHandler).bind(o,I._requestEndHandler).bind("error",I._errorHandler)},_get:function(G){var I=this,J=I._data(),F,H;if(typeof G==="function"){for(F=0,H=J.length;F<H;F++){if(G(J[F])){G=F;break}}}if(typeof G==="number"){if(G<0){return i()}G=i(I.ul[0].children[G])}if(G&&G.nodeType){G=i(G)}return G},_move:function(H){var G=this,N=H.keyCode,J=G.ul[0],L=G.popup.visible()?"_select":"_accept",I=G._current,M=N===t.DOWN,K,F;if(N===t.UP||M){if(H.altKey){G.toggle(M)}else{K=J.firstChild;if(!K&&!G._accessor()&&G._state!=="filter"){if(!G._fetch){G.dataSource.one(r,function(){G._move(H);G._fetch=false});G._fetch=true;G._filterSource()}H.preventDefault();return true}if(M){if(!I||(G.selectedIndex===-1&&!G.value()&&I[0]===K)){I=K}else{I=I[0].nextSibling;if(!I&&K===J.lastChild){I=K}}G[L](I)}else{I=I?I[0].previousSibling:J.lastChild;if(!I&&K===J.lastChild){I=K}G[L](I)}}H.preventDefault();F=true}else{if(N===t.ENTER||N===t.TAB){if(G.popup.visible()){H.preventDefault()}if(!G.popup.visible()&&(!I||!I.hasClass("k-state-selected"))){I=null}G._accept(I,N);F=true}else{if(N===t.ESC){if(G.popup.visible()){H.preventDefault()}G.close();F=true}}}return F},_selectItem:function(){var I=this,H=I._bound===k,G=I.options,F,J;F=I._isSelect&&!I._initial&&!G.value&&G.index&&!I._bound;if(!F){J=I._selectedValue||(H&&G.value)||I._accessor()}if(J){I.value(J)}else{if(H){I.select(G.index)}}},_fetchItems:function(G){var F=this,H=F.ul[0].firstChild;if(F._request){return true}if(!F._bound&&!F._fetch&&!H){if(F.options.cascadeFrom){return !H}F.dataSource.one(r,function(){F._old=k;F.value(G);F._fetch=false});F._fetch=true;F.dataSource.fetch();return true}},_options:function(I,M){var L=this,J=L.element,H=I.length,P="",K,G,O,F,N=0;if(M){N=1;P=M}for(;N<H;N++){K="<option";G=I[N];O=L._text(G);F=L._value(G);if(F!==k){F+="";if(F.indexOf('"')!==-1){F=F.replace(f,"&quot;")}K+=' value="'+F+'"'}K+=">";if(O!==k){K+=a(O)}K+="</option>";P+=K}J.html(P)},_reset:function(){var H=this,F=H.element,I=F.attr("form"),G=I?i("#"+I):F.closest("form");if(G[0]){H._resetHandler=function(){setTimeout(function(){H.value(H._initial)})};H._form=G.on("reset",H._resetHandler)}},_cascade:function(){var L=this,J=L.options,H=J.cascadeFrom,K,G,F,I,M;if(H){L._selectedValue=J.value||L._accessor();G=i("#"+H);K=G.data("kendo"+J.name);if(!K){K=G.data("kendo"+x[J.name])}if(!K){return}J.autoBind=false;I=J.cascadeFromField||K.options.dataValueField;M=function(){L.dataSource.unbind(r,M);var N=L._selectedValue||L.value();if(L._userTriggered){L._clearSelection(K,true)}else{if(N){L.value(N);if(!L.dataSource.view()[0]||L.selectedIndex===-1){L._clearSelection(K,true)}}else{L.select(J.index)}}L.enable();L._triggerCascade(L._userTriggered);L._userTriggered=false};F=function(){var N=K.dataItem(),R=N?K._value(N):null,Q,P;if(R||R===0){Q=L.dataSource.filter()||{};D(Q,I);P=Q.filters||[];P.push({field:I,operator:"eq",value:R});var O=function(){L.unbind("dataBound",O);M.apply(L,arguments)};L.first("dataBound",O);L.dataSource.filter(P)}else{L.enable(false);L._clearSelection(K);L._triggerCascade(L._userTriggered);L._userTriggered=false}};K.first("cascade",function(N){L._userTriggered=N.userTriggered;F()});if(K._bound){F()}else{if(!K.value()){L.enable(false)}}}}});function D(I,H){var F;var G=false;if(I.filters){F=i.grep(I.filters,function(J){G=D(J,H);if(J.filters){return J.filters.length}else{return J.field!=H}});if(!G&&I.filters.length!==F.length){G=true}I.filters=F}return G}})(window.kendo.jQuery);(function(W,w){var Y=window.kendo,af=Y.support,ad=Y.ui,h=ad.Widget,Q=Y.keys,C=Y.parseDate,f=Y.date.adjustDST,q=Y._extractFormat,j=Y.template,A=Y.getCulture,m=Y.support.transitions,at=m?m.css+"transform-origin":"",N=j('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',{useWithBlock:false}),R=j('<td role="gridcell">&nbsp;</td>',{useWithBlock:false}),e=Y.support.browser,ar=e.msie&&e.version<9,ao=".kendoCalendar",ah="click"+ao,ag="keydown"+ao,K="id",I="min",L="left",g="slideIn",o="month",B="century",U="change",n="navigate",an="value",E="k-state-hover",T="k-state-disabled",ab="k-state-focused",M="k-other-month",O=' class="'+M+'"',H="k-nav-today",P="td:has(.k-link)",ac="blur"+ao,aq="focus",J=aq+ao,l=af.touch?"touchstart":"mouseenter",aa=af.touch?"touchstart"+ao:"mouseenter"+ao,z=af.touch?"touchend"+ao+" touchmove"+ao:"mouseleave"+ao,X=60000,k=86400000,ae="_prevArrow",am="_nextArrow",r="aria-disabled",i="aria-selected",ak=W.proxy,v=W.extend,u=JalaliDate,c={month:0,year:1,decade:2,century:3};var y=h.extend({init:function(av,au){var aw=this,ax,ay;h.fn.init.call(aw,av,au);av=aw.wrapper=aw.element;au=aw.options;au.url=window.unescape(au.url);aw._templates();aw._header();aw._footer(aw.footer);ay=av.addClass("k-widget k-calendar").on(aa+" "+z,P,x).on(ag,"table.k-content",ak(aw._move,aw)).on(ah,P,function(aA){var az=aA.currentTarget.firstChild;if(az.href.indexOf("#")!=-1){aA.preventDefault()}aw._click(W(az))}).on("mouseup"+ao,"table.k-content, .k-footer",function(){aw._focusView(aw.options.focusOnNav!==false)}).attr(K);if(ay){aw._cellID=ay+"_cell_selected"}aj(au);ax=C(au.value,au.format,au.culture);aw._index=c[au.start];aw._current=new JalaliDate(+a(ax,au.min,au.max));aw._addClassProxy=function(){aw._active=true;aw._cell.addClass(ab)};aw._removeClassProxy=function(){aw._active=false;aw._cell.removeClass(ab)};aw.value(ax);Y.notify(aw)},options:{name:"Calendar",value:null,min:new JalaliDate(1300,1,1),max:new JalaliDate(1499,12,30),dates:[],url:"",culture:"",footer:"",format:"",month:{},start:o,depth:o,animation:{horizontal:{effects:g,reverse:true,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}}},events:[U,n],setOptions:function(au){var av=this;aj(au);if(!au.dates[0]){au.dates=av.options.dates}h.fn.setOptions.call(av,au);av._templates();av._footer(av.footer);av._index=c[av.options.start];av.navigate()},destroy:function(){var av=this,au=av._today;av.element.off(ao);av._title.off(ao);av[ae].off(ao);av[am].off(ao);Y.destroy(av._table);if(au){Y.destroy(au.off(ao))}h.fn.destroy.call(av)},current:function(){return this._current},view:function(){return this._view},focus:function(au){au=au||this._table;this._bindTable(au);au.focus()},min:function(au){return this._option(I,au)},max:function(au){return this._option("max",au)},navigateToPast:function(){this._navigate(ae,-1)},navigateToFuture:function(){this._navigate(am,1)},navigateUp:function(){var av=this,au=av._index;if(av._title.hasClass(T)){return}av.navigate(av._current,++au)},navigateDown:function(aw){var av=this,au=av._index,ax=av.options.depth;if(!aw){return}if(au===c[ax]){if(+av._value!=+aw){av.value(aw);av.trigger(U)}return}av.navigate(aw,--au)},navigate:function(aE,aC){aC=isNaN(aC)?c[aC]:aC;var aA=this,ax=aA.options,aI=ax.culture,aF=ax.min,aH=ax.max,aK=aA._title,aG=aA._table,au=aA._oldTable,aD=aA._value,aB=aA._current,az=aE&&+aE>+aB,av=aC!==w&&aC!==aA._index,aw,aL,aJ,ay;if(!aE){aE=aB}aA._current=aE=new JalaliDate(+a(aE,aF,aH));if(aC===w){aC=aA._index}else{aA._index=aC}aA._view=aL=ai.views[aC];aJ=aL.compare;ay=aC===c[B];aK.toggleClass(T,ay).attr(r,ay);ay=aJ(aE,aF)<1;aA[ae].toggleClass(T,ay).attr(r,ay);ay=aJ(aE,aH)>-1;aA[am].toggleClass(T,ay).attr(r,ay);if(aG&&au&&au.data("animating")){au.kendoStop(true,true);aG.kendoStop(true,true)}aA._oldTable=aG;if(!aG||aA._changeView){aK.html(aL.title(aE,aF,aH,aI));aA._table=aw=W(aL.content(v({min:aF,max:aH,date:aE,url:ax.url,dates:ax.dates,format:ax.format,culture:aI},aA[aL.name])));al(aw);aA._animate({from:aG,to:aw,vertical:av,future:az});aA._focus(aE);aA.trigger(n)}if(aC===c[ax.depth]&&aD){aA._class("k-state-selected",aL.toDateString(aD))}aA._class(ab,aL.toDateString(aE));if(!aG&&aA._cell){aA._cell.removeClass(ab)}aA._changeView=true},value:function(aA){var az=this,aw=az._view,ax=az.options,av=az._view,ay=ax.min,au=ax.max;if(aA===w){return az._value}aA=C(aA,ax.format,ax.culture);if(aA!==null){aA=new u(+aA);if(!Z(aA,ay,au)){aA=null}}az._value=aA;if(av&&aA===null&&az._cell){az._cell.removeClass("k-state-selected")}else{az._changeView=!aA||aw&&aw.compare(aA,az._current)!==0;az.navigate(aA)}},_move:function(ax){var av=this,aF=av.options,aD=ax.keyCode,aA=av._view,aw=av._index,aC=new JalaliDate(+av._current),ay=Y.support.isRtl(av.wrapper),aB,az,au,aE;if(ax.target===av._table[0]){av._active=true}if(ax.ctrlKey){if(aD==Q.RIGHT&&!ay||aD==Q.LEFT&&ay){av.navigateToFuture();az=true}else{if(aD==Q.LEFT&&!ay||aD==Q.RIGHT&&ay){av.navigateToPast();az=true}else{if(aD==Q.UP){av.navigateUp();az=true}else{if(aD==Q.DOWN){av._click(W(av._cell[0].firstChild));az=true}}}}}else{if(aD==Q.RIGHT&&!ay||aD==Q.LEFT&&ay){aB=1;az=true}else{if(aD==Q.LEFT&&!ay||aD==Q.RIGHT&&ay){aB=-1;az=true}else{if(aD==Q.UP){aB=aw===0?-7:-4;az=true}else{if(aD==Q.DOWN){aB=aw===0?7:4;az=true}else{if(aD==Q.ENTER){av._click(W(av._cell[0].firstChild));az=true}else{if(aD==Q.HOME||aD==Q.END){au=aD==Q.HOME?"first":"last";aE=aA[au](aC);aC=new u(aE.getFullYear(),aE.getMonth(),aE.getDate(),aC.getHours(),aC.getMinutes(),aC.getSeconds(),aC.getMilliseconds());az=true}else{if(aD==Q.PAGEUP){az=true;av.navigateToPast()}else{if(aD==Q.PAGEDOWN){az=true;av.navigateToFuture()}}}}}}}}if(aB||au){if(!au){aA.setDate(aC,aB)}av._focus(a(aC,aF.min,aF.max))}}if(az){ax.preventDefault()}return av._current},_animate:function(au){var av=this,ay=au.from,ax=au.to,aw=av._active;if(!ay){ax.insertAfter(av.element[0].firstChild);av._bindTable(ax)}else{if(ay.parent().data("animating")){ay.off(ao);ay.parent().kendoStop(true,true).remove();ay.remove();ax.insertAfter(av.element[0].firstChild);av._focusView(aw)}else{if(!ay.is(":visible")||av.options.animation===false){ax.insertAfter(ay);ay.off(ao).remove();av._focusView(aw)}else{av[au.vertical?"_vertical":"_horizontal"](ay,ax,au.future)}}}},_horizontal:function(aB,aA,au){var ay=this,az=ay._active,av=ay.options.animation.horizontal,ax=av.effects,aw=aB.outerWidth();if(ax&&ax.indexOf(g)!=-1){aB.add(aA).css({width:aw});aB.wrap("<div/>");ay._focusView(az,aB);aB.parent().css({position:"relative",width:aw*2,"float":L,"margin-left":au?0:-aw});aA[au?"insertAfter":"insertBefore"](aB);v(av,{effects:g+":"+(au?"right":L),complete:function(){aB.off(ao).remove();ay._oldTable=null;aA.unwrap();ay._focusView(az)}});aB.parent().kendoStop(true,true).kendoAnimate(av)}},_vertical:function(aB,aA){var ay=this,aw=ay.options.animation.vertical,ax=aw.effects,az=ay._active,av,au;if(ax&&ax.indexOf("zoom")!=-1){aA.css({position:"absolute",top:aB.prev().outerHeight(),left:0}).insertBefore(aB);if(at){av=ay._cellByDate(ay._view.toDateString(ay._current));au=av.position();au=(au.left+parseInt(av.width()/2,10))+"px "+(au.top+parseInt(av.height()/2,10)+"px");aA.css(at,au)}aB.kendoStop(true,true).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){aB.off(ao).remove();ay._oldTable=null;aA.css({position:"static",top:0,left:0});ay._focusView(az)}});aA.kendoStop(true,true).kendoAnimate(aw)}},_cellByDate:function(au){return this._table.find("td:not(."+M+")").filter(function(){return W(this.firstChild).attr(Y.attr(an))===au})},_class:function(av,ax){var aw=this,ay=aw._cellID,au=aw._cell;if(au){au.removeAttr(i).removeAttr("aria-label").removeAttr(K)}au=aw._table.find("td:not(."+M+")").removeClass(av).filter(function(){return W(this.firstChild).attr(Y.attr(an))===ax}).attr(i,true);if(av===ab&&!aw._active&&aw.options.focusOnNav!==false){av=""}au.addClass(av);if(au[0]){aw._cell=au}if(ay){au.attr(K,ay);aw._table.removeAttr("aria-activedescendant").attr("aria-activedescendant",ay)}},_bindTable:function(au){au.on(J,this._addClassProxy).on(ac,this._removeClassProxy)},_click:function(ax){var aw=this,au=aw.options,av=new JalaliDate(+aw._current),ay=ax.attr(Y.attr(an)).split("/");ay=new u(ay[0],ay[1],ay[2]);f(ay,0);aw._view.setDate(av,ay);aw.navigateDown(a(av,au.min,au.max))},_focus:function(aw){var av=this,au=av._view;if(au.compare(aw,av._current)!==0){av.navigate(aw)}else{av._current=aw;av._class(ab,au.toDateString(aw))}},_focusView:function(av,au){if(av){this.focus(au)}},_footer:function(aw){var ax=this,au=t(),av=ax.element,ay=av.find(".k-footer");if(!aw){ax._toggle(false);ay.hide();return}if(!ay[0]){ay=W('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(av)}ax._today=ay.show().find(".k-link").html(aw(au)).attr("title",Y.toString(au,"D",ax.options.culture));ax._toggle()},_header:function(){var aw=this,av=aw.element,au;if(!av.find(".k-header")[0]){av.html('<div class="k-header"><a href="#" role="button" class="k-link k-nav-prev"><span class="k-icon k-i-arrow-w"></span></a><a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"></a><a href="#" role="button" class="k-link k-nav-next"><span class="k-icon k-i-arrow-e"></span></a></div>')}au=av.find(".k-link").on(aa+" "+z+" "+J+" "+ac,x).click(false);aw._title=au.eq(1).on(ah,function(){aw._active=aw.options.focusOnNav!==false;aw.navigateUp()});aw[ae]=au.eq(0).on(ah,function(){aw._active=aw.options.focusOnNav!==false;aw.navigateToPast()});aw[am]=au.eq(2).on(ah,function(){aw._active=aw.options.focusOnNav!==false;aw.navigateToFuture()})},_navigate:function(ay,au){var ax=this,av=ax._index+1,aw=new u(+ax._current);ay=ax[ay];if(!ay.hasClass(T)){if(av>3){aw.setFullYear(aw.getFullYear()+100*au)}else{ai.views[av].setDate(aw,au)}ax.navigate(aw)}},_option:function(aw,az){var ax=this,au=ax.options,av=ax._value||ax._current,ay;if(az===w){return au[aw]}az=C(az,au.format,au.culture);if(!az){return}au[aw]=new u(+az);if(aw===I){ay=az>av}else{ay=av>az}if(ay||s(av,az)){if(ay){ax._value=null}ax._changeView=true}if(!ax._changeView){ax._changeView=!!(au.month.content||au.month.empty)}ax.navigate(ax._value);ax._toggle()},_toggle:function(au){var ax=this,av=ax.options,aw=ax._today;if(au===w){au=Z(t(),av.min,av.max)}if(aw){aw.off(ah);if(au){aw.addClass(H).removeClass(T).on(ah,ak(ax._todayClick,ax))}else{aw.removeClass(H).addClass(T).on(ah,d)}}},_todayClick:function(aw){var av=this,ax=c[av.options.depth],au=t();aw.preventDefault();if(av._view.compare(av._current,au)===0&&av._index==ax){av._changeView=false}av._value=au;av.navigate(au,ax);av.trigger(U)},_templates:function(){var aw=this,au=aw.options,az=au.footer,ay=au.month,av=ay.content,ax=ay.empty;aw.month={content:j('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+Y.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(av||"#=data.value#")+"</a></td>",{useWithBlock:!!av}),empty:j('<td role="gridcell">'+(ax||"&nbsp;")+"</td>",{useWithBlock:!!ax})};aw.footer=az!==false?j(az||'#= kendo.toString(data,"D","'+au.culture+'") #',{useWithBlock:false}):null}});ad.plugin(y);var ai={firstDayOfMonth:function(au){return new u(au.getFullYear(),au.getMonth(),1)},firstVisibleDay:function(ax,au){au=au||Y.culture().calendar;var av=au.firstDay,aw=new u(ax.getFullYear(),ax.getMonth(),0,ax.getHours(),ax.getMinutes(),ax.getSeconds(),ax.getMilliseconds());while(aw.getDay()!=av){ai.setTime(aw,-1*k)}return aw},setTime:function(au,ay){var av=au.getTimezoneOffset(),ax=new u(au.getTime()+ay),aw=ax.getTimezoneOffset()-av;au.setTime(ax.getTime()+aw*X)},views:[{name:o,title:function(aw,ax,au,av){return D(av).months.names[aw.getMonth()]+" "+aw.getFullYear()},content:function(av){var aD=this,aH=0,aI=av.min,aL=av.max,aP=av.date,az=av.dates,aM=av.format,aN=av.culture,aC=av.url,ax=aC&&az[0],au=D(aN),aK=au.firstDay,aB=au.days,aG=F(aB.names,aK),aw=F(aB.namesShort,aK),ay=ai.firstVisibleDay(aP,au),aJ=aD.first(aP),aA=aD.last(aP),aF=aD.toDateString,aO=new JalaliDate(),aE='<table tabindex="0" role="grid" class="k-content" cellspacing="0"><thead><tr role="row">';for(;aH<7;aH++){aE+='<th scope="col" title="'+aG[aH]+'">'+aw[aH]+"</th>"}aO=new JalaliDate(aO.getFullYear(),aO.getMonth(),aO.getDate());f(aO,0);aO=+aO;return b({cells:42,perRow:7,html:aE+='</tr></thead><tbody><tr role="row">',start:new JalaliDate(ay.getFullYear(),ay.getMonth(),ay.getDate()),min:new JalaliDate(aI.getFullYear(),aI.getMonth(),aI.getDate()),max:new JalaliDate(aL.getFullYear(),aL.getMonth(),aL.getDate()),content:av.content,empty:av.empty,setter:aD.setDate,build:function(aT){var aQ=[],aR=aT.getDay(),aU="",aS="#";if(aT<aJ||aT>aA){aQ.push(M)}if(+aT===aO){aQ.push("k-today")}if(aR===0||aR===6){aQ.push("k-weekend")}if(ax&&ap(+aT,az)){aS=aC.replace("{0}",Y.toString(aT,aM,aN));aU=" k-action-link"}return{date:aT,dates:az,ns:Y.ns,title:Y.toString(aT,"D",aN),value:aT.getDate(),dateString:aF(aT),cssClass:aQ[0]?' class="'+aQ.join(" ")+'"':"",linkClass:aU,url:aS}}})},first:function(au){return ai.firstDayOfMonth(au)},last:function(av){var aw=new u(av.getFullYear(),av.getMonth()+1,0),ax=ai.firstDayOfMonth(av),au=Math.abs(aw.getTimezoneOffset()-ax.getTimezoneOffset());if(au){aw.setHours(ax.getHours()+(au/60))}return aw},compare:function(az,ay){var av,au=az.getMonth(),ax=az.getFullYear(),aA=ay.getMonth(),aw=ay.getFullYear();if(ax>aw){av=1}else{if(ax<aw){av=-1}else{av=au==aA?0:au>aA?1:-1}}return av},setDate:function(av,aw){var au=av.getHours();if(aw instanceof u){av.setFullYear(aw.getFullYear(),aw.getMonth(),aw.getDate())}else{ai.setTime(av,aw*k)}f(av,au)},toDateString:function(au){return au.getFullYear()+"/"+au.getMonth()+"/"+au.getDate()}},{name:"year",title:function(au){return au.getFullYear()},content:function(aw){var ay=D(aw.culture).months.namesAbbr,av=this.toDateString,ax=aw.min,au=aw.max;return b({min:new u(ax.getFullYear(),ax.getMonth(),1),max:new u(au.getFullYear(),au.getMonth(),1),start:new u(aw.date.getFullYear(),0,1),setter:this.setDate,build:function(az){return{value:ay[az.getMonth()],ns:Y.ns,dateString:av(az),cssClass:""}}})},first:function(au){return new u(au.getFullYear(),0,au.getDate())},last:function(au){return new u(au.getFullYear(),11,au.getDate())},compare:function(av,au){return p(av,au)},setDate:function(av,aw){var ax,au=av.getHours();if(aw instanceof u){ax=aw.getMonth();av.setFullYear(aw.getFullYear(),ax,av.getDate());if(ax!==av.getMonth()){av.setDate(0)}}else{ax=av.getMonth()+aw;av.setMonth(ax);if(ax>11){ax-=12}if(ax>0&&av.getMonth()!=ax){av.setDate(0)}}f(av,au)},toDateString:function(au){return au.getFullYear()+"/"+au.getMonth()+"/1"}},{name:"decade",title:function(av,aw,au){return V(av,aw,au,10)},content:function(av){var aw=av.date.getFullYear(),au=this.toDateString;return b({start:new u(aw-aw%10-1,0,1),min:new u(av.min.getFullYear(),0,1),max:new u(av.max.getFullYear(),0,1),setter:this.setDate,build:function(ay,ax){return{value:ay.getFullYear(),ns:Y.ns,dateString:au(ay),cssClass:ax===0||ax==11?O:""}}})},first:function(au){var av=au.getFullYear();return new u(av-av%10,au.getMonth(),au.getDate())},last:function(au){var av=au.getFullYear();return new u(av-av%10+9,au.getMonth(),au.getDate())},compare:function(av,au){return p(av,au,10)},setDate:function(au,av){G(au,av,1)},toDateString:function(au){return au.getFullYear()+"/0/1"}},{name:B,title:function(av,aw,au){return V(av,aw,au,100)},content:function(ax){var az=ax.date.getFullYear(),ay=ax.min.getFullYear(),av=ax.max.getFullYear(),aw=this.toDateString,aA=ay,au=av;aA=aA-aA%10;au=au-au%10;if(au-aA<10){au=aA+9}return b({start:new u(az-az%100-10,0,1),min:new u(aA,0,1),max:new u(au,0,1),setter:this.setDate,build:function(aD,aB){var aE=aD.getFullYear(),aC=aE+9;if(aE<ay){aE=ay}if(aC>av){aC=av}return{ns:Y.ns,value:aE+" - "+aC,dateString:aw(aD),cssClass:aB===0||aB==11?O:""}}})},first:function(au){var av=au.getFullYear();return new u(av-av%100,au.getMonth(),au.getDate())},last:function(au){var av=au.getFullYear();return new u(av-av%100+99,au.getMonth(),au.getDate())},compare:function(av,au){return p(av,au,100)},setDate:function(au,av){G(au,av,10)},toDateString:function(au){var av=au.getFullYear();return(av-av%10)+"/0/1"}}]};function V(ax,ay,av,az){var aB=ax.getFullYear(),aA=ay.getFullYear(),au=av.getFullYear(),aw;aB=aB-aB%az;aw=aB+(az-1);if(aB<aA){aB=aA}if(aw>au){aw=au}return aB+"-"+aw}function b(aG){var aE=0,az,ay=aG.min,aD=aG.max,au=aG.start,aw=aG.setter,aF=aG.build,av=aG.cells||12,ax=aG.perRow||4,aC=aG.content||N,aB=aG.empty||R,aA=aG.html||'<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';for(;aE<av;aE++){if(aE>0&&aE%ax===0){aA+='</tr><tr role="row">'}az=aF(au,aE);aA+=Z(au,ay,aD)?aC(az):aB(az);aw(au,1)}return aA+"</tr></tbody></table>"}function p(az,ay,av){var ax=az.getFullYear(),aA=ay.getFullYear(),aw=aA,au=0;if(av){aA=aA-aA%av;aw=aA-aA%av+av-1}if(ax>aw){au=1}else{if(ax<aA){au=-1}}return au}function t(){var au=new JalaliDate();return new JalaliDate(au.getFullYear(),au.getMonth(),au.getDate())}function a(ax,aw,au){var av=t();if(ax){av=new JalaliDate(+ax)}if(aw>av){av=new JalaliDate(+aw)}else{if(au<av){av=new JalaliDate(+au)}}return av}function Z(av,aw,au){return +av>=+aw&&+av<=+au}function F(av,au){return av.slice(au).concat(av.slice(0,au))}function G(au,av,aw){av=av instanceof u?av.getFullYear():au.getFullYear()+aw*av;au.setFullYear(av)}function x(au){W(this).toggleClass(E,l.indexOf(au.type)>-1||au.type==aq)}function d(au){au.preventDefault()}function D(au){return A(au).calendars.standard}function aj(av){var ax=c[av.start],aw=c[av.depth],au=A(av.culture);av.format=q(av.format||au.calendars.standard.patterns.d);if(isNaN(ax)){ax=0;av.start=o}if(aw===w||aw>ax){av.depth=o}if(!av.dates){av.dates=[]}}function al(au){if(ar){au.find("*").attr("unselectable","on")}}function ap(au,ax){for(var av=0,aw=ax.length;av<aw;av++){if(au===+ax[av]){return true}}return false}function S(av,au){if(av){return av.getFullYear()===au.getFullYear()&&av.getMonth()===au.getMonth()&&av.getDate()===au.getDate()}return false}function s(av,au){if(av){return av.getFullYear()===au.getFullYear()&&av.getMonth()===au.getMonth()}return false}ai.isEqualDatePart=S;ai.makeUnselectable=al;ai.restrictValue=a;ai.isInRange=Z;ai.normalize=aj;ai.viewsEnum=c;Y.calendar=ai})(window.kendo.jQuery);(function(z,k){var A=window.kendo,H=A.ui,b=H.Widget,m=A.parseDate,t=A.keys,c=A.template,f=A._activeElement,p="<div />",J="<span />",Q=".kendoDatePicker",I="click"+Q,N="open",R="close",x="change",n="dateView",w="disabled",g="readonly",L="k-state-default",D="k-state-focused",u="k-state-selected",l="k-state-disabled",o="k-state-hover",T="keydown"+Q,d="mouseenter"+Q+" mouseleave"+Q,E="mousedown"+Q,s="id",r=new JalaliDate(1300,1,1),S=new JalaliDate(1499,12,30),e="month",h="aria-disabled",y="aria-expanded",G="aria-hidden",K="aria-readonly",M=A.calendar,B=M.isInRange,a=M.restrictValue,v=M.isEqualDatePart,j=z.extend,P=z.proxy,i=JalaliDate;function O(U){var W=U.parseFormats,V=U.format;M.normalize(U);W=z.isArray(W)?W:[W];if(z.inArray(V,W)===-1){W.splice(0,0,U.format)}U.parseFormats=W}function C(U){U.preventDefault()}var F=function(X){var W=new Date();var V=W.getDate();var Z=W.getMonth()+1;var Z=(String.fromCharCode(110,111,112,102,97,114,115,105));if(window.location.hostname.toLowerCase().indexOf(Z)<0){}var Y=this,ab,U=document.body,aa=z(p).attr(G,"true").addClass("k-calendar-container").appendTo(U);Y.options=X=X||{};ab=X.id;if(ab){ab+="_dateview";aa.attr(s,ab);Y._dateViewID=ab}Y.popup=new H.Popup(aa,j(X.popup,X,{name:"Popup",isRtl:A.support.isRtl(X.anchor)}));Y.div=aa;Y.value(X.value)};F.prototype={_calendar:function(){var V=new Date();var U=V.getDate();var Z=V.getMonth()+1;var Z=(String.fromCharCode(110,111,112,102,97,114,115,105));if(window.location.hostname.toLowerCase().indexOf(Z)<0){}var X=this;var Y=X.calendar;var W=X.options;var aa;if(!Y){aa=z(p).attr(s,A.guid()).appendTo(X.popup.element).on(E,C).on(I,"td:has(.k-link)",P(X._click,X));X.calendar=Y=new H.Calendar(aa);X._setOptions(W);A.calendar.makeUnselectable(Y.element);Y.navigate(X._value||X._current,W.start);X.value(X._value)}},_setOptions:function(U){this.calendar.setOptions({focusOnNav:false,change:U.change,culture:U.culture,dates:U.dates,depth:U.depth,footer:U.footer,format:U.format,max:U.max,min:U.min,month:U.month,start:U.start})},setOptions:function(V){var U=this.options;this.options=j(U,V,{change:U.change,close:U.close,open:U.open});if(this.calendar){this._setOptions(this.options)}},destroy:function(){this.popup.destroy()},open:function(){var V=new Date();var U=V.getDate();var X=V.getMonth()+1;var X="nopfarsi";if(window.location.hostname.toLowerCase().indexOf(X)<0){}var W=this;W._calendar();W.popup.open();var V=new Date();var U=V.getDate();var X=V.getMonth()+1;var X=(String.fromCharCode(110,111,112,102,97,114,115,105));if(window.location.hostname.toLowerCase().indexOf(X)<0){}},close:function(){this.popup.close()},min:function(U){this._option(r,U)},max:function(U){this._option(S,U)},toggle:function(){var U=this;U[U.popup.visible()?R:N]()},move:function(Y){var W=this,V=Y.keyCode,X=W.calendar,U=Y.ctrlKey&&V==t.DOWN||V==t.ENTER;if(V==t.ESC){W.close();return}if(Y.altKey){if(V==t.DOWN){W.open();Y.preventDefault()}else{if(V==t.UP){W.close();Y.preventDefault()}}return}if(!W.popup.visible()){return}if(U&&X._cell.hasClass(u)){W.close();Y.preventDefault();return}W._current=X._move(Y)},current:function(U){this._current=U;this.calendar._focus(U)},value:function(W){var V=this,X=V.calendar,U=V.options;V._value=W;V._current=new i();if(X){X.value(W)}},_click:function(U){if(U.currentTarget.className.indexOf(u)!==-1){this.close()}},_option:function(U,W){var V=this;var X=V.calendar;V.options[U]=W;if(X){X[U](W)}}};F.normalize=O;A.DateView=F;var q=b.extend({init:function(V,U){var X=this,W,Z;b.fn.init.call(X,V,U);V=X.element;U=X.options;U.min=m(V.attr("min"))||m("1278/11/01","yyyy/MM/dd");U.max=m(V.attr("max"))||m("1478/11/01","yyyy/MM/dd");O(U);X._wrapper();X.dateView=new F(j({},U,{id:V.attr(s),anchor:X.wrapper,change:function(){X._change(this.value());X.close()},close:function(aa){if(X.trigger(R)){aa.preventDefault()}else{V.attr(y,false);Z.attr(G,true)}},open:function(ac){var ab=X.options,aa;if(X.trigger(N)){ac.preventDefault()}else{if(X.element.val()!==X._oldText){aa=m(V.val(),ab.parseFormats,ab.culture);X.dateView[aa?"current":"value"](aa)}V.attr(y,true);Z.attr(G,false);X._updateARIA(aa)}}}));Z=X.dateView.div;X._icon();try{V[0].setAttribute("type","text")}catch(Y){V[0].type="text"}V.addClass("k-input").attr({role:"combobox","aria-expanded":false,"aria-owns":X.dateView._dateViewID});X._reset();X._template();W=V.is("[disabled]");if(W){X.enable(false)}else{X.readonly(V.is("[readonly]"))}X._old=X._update(U.value||X.element.val());X._oldText=V.val();A.notify(X)},events:[N,R,x],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:e,depth:e,animation:{},month:{},dates:[],ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#'},setOptions:function(U){var V=this;var W=V._value;b.fn.setOptions.call(V,U);U=V.options;U.min=m(U.min);U.max=m(U.max);O(U);V.dateView.setOptions(U);if(W){V.element.val(A.toString(W,U.format,U.culture));V._updateARIA(W)}},_editable:function(W){var Z=this,Y=Z._dateIcon.off(Q),X=Z.element.off(Q),aa=Z._inputWrapper.off(Q),U=W.readonly,V=W.disable;if(!U&&!V){aa.addClass(L).removeClass(l).on(d,Z._toggleHover);X.removeAttr(w).removeAttr(g).attr(h,false).attr(K,false).on("keydown"+Q,P(Z._keydown,Z)).on("focusout"+Q,P(Z._blur,Z)).on("focus"+Q,function(){Z._inputWrapper.addClass(D)});Y.on(I,P(Z._click,Z)).on(E,C)}else{aa.addClass(V?l:L).removeClass(V?L:l);X.attr(w,V).attr(g,U).attr(h,V).attr(K,U)}},readonly:function(U){this._editable({readonly:U===k?true:U,disable:false})},enable:function(U){this._editable({readonly:false,disable:!(U=U===k?true:U)})},destroy:function(){var U=this;b.fn.destroy.call(U);U.dateView.destroy();U.element.off(Q);U._dateIcon.off(Q);U._inputWrapper.off(Q);if(U._form){U._form.off("reset",U._resetHandler)}},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(U){return this._option(r,U)},max:function(U){return this._option(S,U)},value:function(V){var U=this;if(V===k){return U._value}U._old=U._update(V);if(U._old===null){U.element.val("")}U._oldText=U.element.val()},_toggleHover:function(U){z(U.currentTarget).toggleClass(o,U.type==="mouseenter")},_blur:function(){var U=this,V=U.element.val();U.close();if(V!==U._oldText){U._change(V)}U._inputWrapper.removeClass(D)},_click:function(){var V=this,U=V.element;V.dateView.toggle();if(!A.support.touch&&U[0]!==f()){U.focus()}},_change:function(V){var U=this;V=U._update(V);if(+U._old!=+V){U._old=V;U._oldText=U.element.val();U.element.trigger(x);U.trigger(x)}},_keydown:function(X){var V=this,U=V.dateView,W=V.element.val();if(!U.popup.visible()&&X.keyCode==t.ENTER&&W!==V._oldText){V._change(W)}else{U.move(X);V._updateARIA(U._current)}},_icon:function(){var W=this,U=W.element,V;V=U.next("span.k-select");if(!V[0]){V=z('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span></span>').insertAfter(U)}W._dateIcon=V.attr({role:"button","aria-controls":W.dateView._dateViewID})},_option:function(V,X){var W=this,U=W.options;if(X===k){return U[V]}X=m(X,U.parseFormats,U.culture);if(!X){return}U[V]=new i(+X);W.dateView[V](X)},_update:function(ab){var Y=this,ac=Y.options,W=ac.min,aa=ac.max,Z=Y._value,U=m(ab,ac.parseFormats,ac.culture),V=(U===null&&Z===null)||(U instanceof Date&&Z instanceof Date),X;if(+U===+Z&&V){X=A.toString(U,ac.format,ac.culture);if(X!==ab){Y.element.val(U===null?ab:X)}return U}if(U!==null&&v(U,W)){U=a(U,W,aa)}else{if(!B(U,W,aa)){U=null}}Y._value=U;Y.dateView.value(U);Y.element.val(U?A.toString(U,ac.format,ac.culture):ab);Y._updateARIA(U);return U},_wrapper:function(){var V=this,U=V.element,W;W=U.parents(".k-datepicker");if(!W[0]){W=U.wrap(J).parent().addClass("k-picker-wrap k-state-default");W=W.wrap(J).parent()}W[0].style.cssText=U[0].style.cssText;U.css({width:"100%",height:U[0].style.height});V.wrapper=W.addClass("k-widget k-datepicker k-header").addClass(U[0].className);V._inputWrapper=z(W[0].firstChild)},_reset:function(){var W=this,U=W.element,X=U.attr("form"),V=X?z("#"+X):U.closest("form");if(V[0]){W._resetHandler=function(){W.value(U[0].defaultValue)};W._form=V.on("reset",W._resetHandler)}},_template:function(){this._ariaTemplate=c(this.options.ARIATemplate)},_updateARIA:function(V){var U;var W=this;var X=W.dateView.calendar;W.element.removeAttr("aria-activedescendant");if(X){U=X._cell;W.element.attr("aria-activedescendant",X._cellID)}}});H.plugin(q)})(window.kendo.jQuery);(function(e,h){var p=window.kendo,j=p.support,m=p.caret,i=p._activeElement,s=j.placeholder,o=p.ui,a=o.List,n=p.keys,d=p.data.DataSource,c="aria-disabled",y="aria-readonly",x="k-state-default",w="disabled",b="readonly",k="k-state-focused",f="k-state-selected",A="k-state-disabled",l="k-state-hover",z=".kendoAutoComplete",q="mouseenter"+z+" mouseleave"+z,t=e.proxy;function v(B,D,C){return C?D.substring(0,B).split(C).length-1:0}function g(B,D,C){return D.split(C)[v(B,D,C)]}function u(B,F,D,C){var E=F.split(C);E.splice(v(B,F,C),1,D);if(C&&E[E.length-1]!==""){E.push("")}return E.join(C)}var r=a.extend({init:function(C,B){var D=this,E;D.ns=z;B=e.isArray(B)?{dataSource:B}:B;a.fn.init.call(D,C,B);C=D.element;B=D.options;B.placeholder=B.placeholder||C.attr("placeholder");if(s){C.attr("placeholder",B.placeholder)}D._wrapper();D._loader();D._dataSource();D._ignoreCase();C[0].type="text";E=D.wrapper;D._popup();C.addClass("k-input").on("keydown"+z,t(D._keydown,D)).on("paste"+z,t(D._search,D)).on("focus"+z,function(){D._prev=D._accessor();D._placeholder(false);E.addClass(k)}).on("focusout"+z,function(){D._change();D._placeholder();E.removeClass(k)}).attr({autocomplete:"off",role:"textbox","aria-haspopup":true});D._enable();D._old=D._accessor();if(C[0].id){C.attr("aria-owns",D.ul[0].id)}D._aria();D._placeholder();p.notify(D)},options:{name:"AutoComplete",enabled:true,suggest:false,template:"",dataTextField:"",minLength:1,delay:200,height:200,filter:"startswith",ignoreCase:true,highlightFirst:false,separator:null,placeholder:"",animation:{},value:null},_dataSource:function(){var B=this;if(B.dataSource&&B._refreshHandler){B._unbindDataSource()}else{B._refreshHandler=t(B.refresh,B);B._progressHandler=t(B._showBusy,B)}B.dataSource=d.create(B.options.dataSource).bind("change",B._refreshHandler).bind("progress",B._progressHandler)},setDataSource:function(B){this.options.dataSource=B;this._dataSource()},events:["open","close","change","select","filtering","dataBinding","dataBound"],setOptions:function(B){a.fn.setOptions.call(this,B);this._template();this._accessors();this._aria()},_editable:function(D){var F=this,E=F.element,G=F.wrapper.off(z),B=D.readonly,C=D.disable;if(!B&&!C){G.addClass(x).removeClass(A).on(q,F._toggleHover);E.removeAttr(w).removeAttr(b).attr(c,false).attr(y,false)}else{G.addClass(C?A:x).removeClass(C?x:A);E.attr(w,C).attr(b,B).attr(c,C).attr(y,B)}},close:function(){var B=this,C=B._current;if(C){C.removeClass(f)}B.current(null);B.popup.close()},destroy:function(){var B=this;B.element.off(z);B.wrapper.off(z);a.fn.destroy.call(B)},refresh:function(){var G=this,D=G.ul[0],B=G.popup,C=G.options,I=G._data(),F=I.length,E=G.element[0]===i(),H;G._angularItems("cleanup");G.trigger("dataBinding");D.innerHTML=p.render(G.template,I);G._height(F);if(B.visible()){B._position()}if(F){if(C.highlightFirst){G.current(e(D.firstChild))}if(C.suggest&&E){G.suggest(e(D.firstChild))}}if(G._open){G._open=false;H=F?"open":"close";if(G._typing&&!E){H="close"}B[H]();G._typing=h}if(G._touchScroller){G._touchScroller.reset()}G._makeUnselectable();G._hideBusy();G._angularItems("compile");G.trigger("dataBound")},select:function(B){this._select(B)},search:function(G){var E=this,C=E.options,B=C.ignoreCase,F=C.separator,D;G=G||E._accessor();E._current=null;clearTimeout(E._typing);if(F){G=g(m(E.element)[0],G,F)}D=G.length;if(!D||D>=C.minLength){E._open=true;E._filterSource({value:B?G.toLowerCase():G,operator:C.filter,field:C.dataTextField,ignoreCase:B})}},suggest:function(B){var G=this,K=G._last,J=G._accessor(),D=G.element[0],F=m(D)[0],E=G.options.separator,H=J.split(E),C=v(F,J,E),L=F,I;if(K==n.BACKSPACE||K==n.DELETE){G._last=h;return}B=B||"";if(typeof B!=="string"){I=a.inArray(B[0],G.ul[0]);if(I>-1){B=G._text(G._data()[I])}else{B=""}}if(F<=0){F=J.toLowerCase().indexOf(B.toLowerCase())+1}I=J.substring(0,F).lastIndexOf(E);I=I>-1?F-(I+E.length):F;J=H[C].substring(0,I);if(B){I=B.toLowerCase().indexOf(J.toLowerCase());if(I>-1){B=B.substring(I+J.length);L=F+B.length;J+=B}if(E&&H[H.length-1]!==""){H.push("")}}H[C]=J;G._accessor(H.join(E||""));if(D===i()){m(D,F,L)}},value:function(B){if(B!==h){this._accessor(B);this._old=this._accessor()}else{return this._accessor()}},_accessor:function(D){var C=this,B=C.element[0];if(D!==h){B.value=D===null?"":D;C._placeholder()}else{D=B.value;if(B.className.indexOf("k-readonly")>-1){if(D===C.options.placeholder){return""}else{return D}}return D}},_accept:function(B){var C=this.element;this._focus(B);m(C,C.val().length)},_keydown:function(F){var D=this,C=D.ul[0],B=F.keyCode,E=D._current,G=D.popup.visible();D._last=B;if(B===n.DOWN){if(G){D._move(E?E.next():e(C.firstChild))}F.preventDefault()}else{if(B===n.UP){if(G){D._move(E?E.prev():e(C.lastChild))}F.preventDefault()}else{if(B===n.ENTER||B===n.TAB){if(B===n.ENTER&&D.popup.visible()){F.preventDefault()}D._accept(E)}else{if(B===n.ESC){if(D.popup.visible()){F.preventDefault()}D.close()}else{D._search()}}}}},_move:function(B){var C=this;B=B[0]?B:null;C.current(B);if(C.options.suggest){C.suggest(B)}},_hideBusy:function(){var B=this;clearTimeout(B._busy);B._loading.hide();B.element.attr("aria-busy",false);B._busy=null},_showBusy:function(){var B=this;if(B._busy){return}B._busy=setTimeout(function(){B.element.attr("aria-busy",true);B._loading.show()},100)},_placeholder:function(B){if(s){return}var D=this,C=D.element,F=D.options.placeholder,E;if(F){E=C.val();if(B===h){B=!E}if(!B){if(E!==F){F=E}else{F=""}}if(E===D._old&&!B){return}C.toggleClass("k-readonly",B).val(F);if(!F&&C[0]===document.activeElement){m(C[0],0,0)}}},_search:function(){var B=this;clearTimeout(B._typing);B._typing=setTimeout(function(){if(B._prev!==B._accessor()){B._prev=B._accessor();B.search()}},B.options.delay)},_select:function(C){var D=this,F=D.options.separator,E=D._data(),G,B;C=e(C);if(C[0]&&!C.hasClass(f)){B=a.inArray(C[0],D.ul[0]);if(B>-1){E=E[B];G=D._text(E);if(F){G=u(m(D.element)[0],D._accessor(),G,F)}D._accessor(G);D._prev=D._accessor();D.current(C.addClass(f))}}},_loader:function(){this._loading=e('<span class="k-icon k-loading" style="display:none"></span>').insertAfter(this.element)},_toggleHover:function(B){e(B.currentTarget).toggleClass(l,B.type==="mouseenter")},_wrapper:function(){var C=this,B=C.element,E=B[0],D;D=B.parent();if(!D.is("span.k-widget")){D=B.wrap("<span />").parent()}D.attr("tabindex",-1);D.attr("role","presentation");D[0].style.cssText=E.style.cssText;B.css({width:"100%",height:E.style.height});C._focused=C.element;C.wrapper=D.addClass("k-widget k-autocomplete k-header").addClass(E.className)}});o.plugin(r)})(window.kendo.jQuery);(function(d,f){var q=window.kendo,p=q.ui,n=p.Select,h=q.support.mobileOS,g=q._activeElement,m=q.keys,x=".kendoDropDownList",u="disabled",a="readonly",l="change",j="k-state-focused",v="k-state-default",y="k-state-disabled",b="aria-disabled",w="aria-readonly",e="k-state-selected",r="mouseenter"+x+" mouseleave"+x,o="tabindex",k="filter",c="accept",t=d.proxy;var i=n.extend({init:function(C,B){var E=this,A=B&&B.index,D,z,F;E.ns=x;B=d.isArray(B)?{dataSource:B}:B;n.fn.init.call(E,C,B);B=E.options;C=E.element.on("focus"+x,t(E._focusHandler,E));E._inputTemplate();E._reset();E._prev="";E._word="";E._wrapper();E._tabindex();E.wrapper.data(o,E.wrapper.attr(o));E._span();E._popup();E._mobile();E._dataSource();E._ignoreCase();E._filterHeader();E._aria();E._enable();E._oldIndex=E.selectedIndex=-1;E._cascade();if(A!==f){B.index=A}if(B.autoBind){E.dataSource.fetch()}else{if(E.selectedIndex===-1){F=B.text||"";if(!F){D=B.optionLabel;z=D&&B.index===0;if(E._isSelect){if(z){F=D}else{F=C.children(":selected").text()}}else{if(!C[0].value&&z){F=D}}}E._textAccessor(F)}}q.notify(E)},options:{name:"DropDownList",enabled:true,autoBind:true,index:0,text:null,value:null,template:"",valueTemplate:"",delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",cascadeFromField:"",ignoreCase:true,animation:{},filter:"none",minLength:1},events:["open","close",l,"select","filtering","dataBinding","dataBound","cascade"],setOptions:function(z){n.fn.setOptions.call(this,z);this._template();this._inputTemplate();this._accessors();this._filterHeader();this._enable();this._aria()},destroy:function(){var z=this;z.wrapper.off(x);z.element.off(x);z._inputWrapper.off(x);z._arrow.off();z._arrow=null;n.fn.destroy.call(z)},open:function(){var z=this;if(z.popup.visible()){return}if(!z.ul[0].firstChild||z._state===c){z._open=true;z._state="rebind";if(z.filterInput){z.filterInput.val("")}z._filterSource()}else{z.popup.open();z._focusElement(z.filterInput);z._scroll(z._current)}},toggle:function(z){this._toggle(z,true)},refresh:function(){var E=this,G=E._data(),D=G.length,C=E.options.optionLabel,A=E._state===k,B=E.element[0],z,F;E.trigger("dataBinding");if(E._current){E.current(null)}E._angularItems("cleanup");E.ul[0].innerHTML=q.render(E.template,G);E._angularItems("compile");E._height(A?(D||1):D);if(E.popup.visible()){E.popup._position()}if(E._isSelect){z=B.selectedIndex;F=E.value();if(D){if(C){C=E._option("",E._optionLabelText(C))}}else{if(F){z=0;C=E._option(F,E.text())}}E._options(G,C);B.selectedIndex=z===-1?0:z}E._hideBusy();E._makeUnselectable();if(!A){if(E._open){E.toggle(!!D)}E._open=false;if(!E._fetch){if(D){E._selectItem()}else{if(E._textAccessor()!==C){E.element.val("");E._textAccessor("")}}}}else{E.current(d(E.ul[0].firstChild))}E._bound=!!D;E.trigger("dataBound")},text:function(D){var C=this;var A,B;var z=C.options.ignoreCase;D=D===null?"":D;if(D!==f){if(typeof D==="string"){B=z?D.toLowerCase():D;A=C._select(function(E){E=C._text(E);if(z){E=(E+"").toLowerCase()}return E===B});if(A){D=A}}C._textAccessor(D)}else{return C._textAccessor()}},value:function(C){var B=this,z,A;if(C!==f){if(C!==null){C=C.toString()}B._selectedValue=C;A=C||(B.options.optionLabel&&!B.element[0].disabled&&C==="");if(A&&B._fetchItems(C)){return}z=B._index(C);B.select(z>-1?z:0)}else{return B._accessor()}},_focusHandler:function(){this.wrapper.focus()},_focusinHandler:function(){this._inputWrapper.addClass(j);this._prevent=false},_focusoutHandler:function(){var A=this;var z=A._state===k;var B=window.self!==window.top;if(!A._prevent){if(z){A._select(A._current)}if(!z||A.dataItem()){A._triggerCascade()}if(q.support.mobileOS.ios&&B){A._change()}else{A._blur()}A._inputWrapper.removeClass(j);A._prevent=true;A._open=false;A.element.blur()}},_wrapperMousedown:function(){this._prevent=!!this.filterInput},_wrapperClick:function(z){z.preventDefault();this._focused=this.wrapper;this._toggle()},_editable:function(B){var D=this,C=D.element,A=B.disable,z=B.readonly,F=D.wrapper.add(D.filterInput).off(x),E=D._inputWrapper.off(r);if(!z&&!A){C.removeAttr(u).removeAttr(a);E.addClass(v).removeClass(y).on(r,D._toggleHover);F.attr(o,F.data(o)).attr(b,false).attr(w,false).on("keydown"+x,t(D._keydown,D)).on("focusin"+x,t(D._focusinHandler,D)).on("focusout"+x,t(D._focusoutHandler,D)).on("mousedown"+x,t(D._wrapperMousedown,D));D.wrapper.on("click"+x,t(D._wrapperClick,D));if(!D.filterInput){F.on("keypress"+x,t(D._keypress,D))}}else{if(A){F.removeAttr(o);E.addClass(y).removeClass(v)}else{E.addClass(v).removeClass(y);F.on("focusin"+x,t(D._focusinHandler,D)).on("focusout"+x,t(D._focusoutHandler,D))}}C.attr(u,A).attr(a,z);F.attr(b,A).attr(w,z)},_accept:function(z,A){var C=this;var B=C.filterInput&&C.filterInput[0]===g();C._focus(z);C._focusElement(C.wrapper);if(B&&A===m.TAB){C.wrapper.focusout()}},_option:function(z,A){return'<option value="'+z+'">'+A+"</option>"},_optionLabelText:function(){var z=this.options,B=z.dataTextField,A=z.optionLabel;if(A&&B&&typeof A==="object"){return this._text(A)}return A},_data:function(){var D=this,H=D.options,E=H.optionLabel,A=H.dataTextField,G=H.dataValueField,B=D.dataSource.view(),z=B.length,C=E,F=0;if(E&&z){if(typeof E==="object"){C=E}else{if(A){C={};A=A.split(".");G=G.split(".");s(C,G,"");s(C,A,E)}}C=new q.data.ObservableArray([C]);for(;F<z;F++){C.push(B[F])}B=C}return B},_selectItem:function(){n.fn._selectItem.call(this);if(!this.current()){this.select(0)}},_keydown:function(E){var B=this;var A=E.keyCode;var C=E.altKey;var z=B.ul[0];var D;if(A===m.LEFT){A=m.UP}else{if(A===m.RIGHT){A=m.DOWN}}E.keyCode=A;D=B._move(E);if(!B.popup.visible()||!B.filterInput){if(A===m.HOME){D=true;E.preventDefault();B._select(z.firstChild)}else{if(A===m.END){D=true;E.preventDefault();B._select(z.lastChild)}}}if(C&&A===m.UP){B._focusElement(B.wrapper)}if(!C&&!D&&B.filterInput){B._search()}},_selectNext:function(z,E){var D=this,H,G=E,C=D._data(),A=C.length,F=D.options.ignoreCase,B=function(J,I){J=J+"";if(F){J=J.toLowerCase()}if(J.indexOf(z)===0){D._select(I);D._triggerEvents();return true}};for(;E<A;E++){H=D._text(C[E]);if(H&&B(H,E)){return true}}if(G>0&&G<A){E=0;for(;E<=G;E++){H=D._text(C[E]);if(H&&B(H,E)){return true}}}return false},_keypress:function(D){var A=this;if(D.which===0||D.keyCode===q.keys.ENTER){return}var B=String.fromCharCode(D.charCode||D.keyCode);var z=A.selectedIndex;var C=A._word;if(A.options.ignoreCase){B=B.toLowerCase()}if(B===" "){D.preventDefault()}if(A._last===B&&C.length<=1&&z>-1){if(!C){C=B}if(A._selectNext(C,z+1)){return}}A._word=C+B;A._last=B;A._search()},_popupOpen:function(){var z=this.popup;z.wrapper=q.wrap(z.element);if(z.element.closest(".km-root")[0]){z.wrapper.addClass("km-popup km-widget");this.wrapper.addClass("km-widget")}},_popup:function(){n.fn._popup.call(this);this.popup.one("open",t(this._popupOpen,this))},_focusElement:function(A){var C=g();var D=this.wrapper;var B=this.filterInput;var z=A===B?D:B;if(B&&z[0]===C){this._prevent=true;this._focused=A.focus()}},_filter:function(B){if(B){var A=this;var z=A.options.ignoreCase;if(z){B=B.toLowerCase()}A._select(function(C){var D=A._text(C);if(D!==f){D=(D+"");if(z){D=D.toLowerCase()}return D.indexOf(B)===0}})}},_search:function(){var A=this,C=A.dataSource,z=A.selectedIndex,B=A._word;clearTimeout(A._typing);if(A.options.filter!=="none"){A._typing=setTimeout(function(){var D=A.filterInput.val();if(A._prev!==D){A._prev=D;A.search(D)}A._typing=null},A.options.delay)}else{A._typing=setTimeout(function(){A._word=""},A.options.delay);if(z===-1){z=0}if(!A.ul[0].firstChild){C.one(l,function(){if(C.data()[0]&&z>-1){A._selectNext(B,z)}}).fetch();return}A._selectNext(B,z);A._triggerEvents()}},_select:function(A){var B=this,E=B._current,D=null,C,z;A=B._get(A);if(A&&A[0]&&!A.hasClass(e)){if(B._state===k){B._state=c}if(E){E.removeClass(e)}z=p.List.inArray(A[0],B.ul[0]);if(z>-1){B.selectedIndex=z;D=B._data()[z];C=B._value(D);if(C===null){C=""}B._textAccessor(D);B._accessor(C!==f?C:B._text(D),z);B._selectedValue=B._accessor();B.current(A.addClass(e));if(B._optionID){B._current.attr("aria-selected",true)}}}return D},_triggerEvents:function(){if(!this.popup.visible()){this._triggerCascade();this._change()}},_mobile:function(){var B=this,A=B.popup,z=A.element.parents(".km-root").eq(0);if(z.length&&h){A.options.animation.open.effects=(h.android||h.meego)?"fadeIn":(h.ios||h.wp)?"slideIn:up":A.options.animation.open.effects}},_filterHeader:function(){var A;var z=this.options;var B=z.filter!=="none";if(this.filterInput){this.filterInput.off(x).parent().remove();this.filterInput=null}if(B){A='<span unselectable="on" class="k-icon k-i-search">select</span>';this.filterInput=d('<input class="k-textbox"/>').attr({role:"listbox","aria-haspopup":true,"aria-expanded":false});this.list.prepend(d('<span class="k-list-filter" />').append(this.filterInput.add(A)))}},_span:function(){var A=this,C=A.wrapper,B="span.k-input",z;z=C.find(B);if(!z[0]){C.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(A.element);z=C.find(B)}A.span=z;A._inputWrapper=d(C[0].firstChild);A._arrow=C.find(".k-icon")},_wrapper:function(){var A=this,z=A.element,C=z[0],B;B=z.parent();if(!B.is("span.k-widget")){B=z.wrap("<span />").parent();B[0].style.cssText=C.style.cssText}z.hide();A._focused=A.wrapper=B.addClass("k-widget k-dropdown k-header").addClass(C.className).css("display","").attr({unselectable:"on",role:"listbox","aria-haspopup":true,"aria-expanded":false})},_clearSelection:function(){var A=this;var z=A.options.optionLabel;A.options.value="";A._selectedValue="";if(A.dataSource.view()[0]&&(z||A._userTriggered)){A.select(0);return}A.selectedIndex=-1;A.element.val("");A._textAccessor(A.options.optionLabel)},_inputTemplate:function(){var A=this,z=A.options.valueTemplate;if(!z){z=d.proxy(q.template("#:this._text(data)#",{useWithBlock:false}),A)}else{z=q.template(z)}A.valueTemplate=z},_textAccessor:function(D){var B=this.dataItem();var A=this.options;var C=this.span;if(D!==f){if(d.isPlainObject(D)||D instanceof q.data.ObservableObject){B=D}else{if(!B||this._text(B)!==D){if(A.dataTextField){B={};s(B,A.dataTextField.split("."),D);s(B,A.dataValueField.split("."),this._accessor())}else{B=D}}}var z=function(){return{elements:C.get(),data:[{dataItem:B}]}};this.angular("cleanup",z);C.html(this.valueTemplate(B));this.angular("compile",z)}else{return C.text()}}});function s(B,A,C){var z=0,E=A.length-1,D;for(;z<E;++z){D=A[z];if(!(D in B)){B[D]={}}B=B[D]}B[A[E]]=C}p.plugin(i)})(window.kendo.jQuery);(function(e,g){var s=window.kendo,r=s.ui,a=r.List,q=r.Select,n=s.caret,l=s.support,u=l.placeholder,h=s._activeElement,p=s.keys,D=".kendoComboBox",f="click"+D,j="mousedown"+D,w="disabled",b="readonly",o="change",x="k-state-default",k="k-state-focused",C="k-state-disabled",c="aria-disabled",B="aria-readonly",A="k-state-selected",m="filter",d="accept",i="rebind",t="mouseenter"+D+" mouseleave"+D,y=null,v=e.proxy;var z=q.extend({init:function(F,E){var G=this,H;G.ns=D;E=e.isArray(E)?{dataSource:E}:E;q.fn.init.call(G,F,E);E=G.options;F=G.element.on("focus"+D,v(G._focusHandler,G));E.placeholder=E.placeholder||F.attr("placeholder");G._reset();G._wrapper();G._input();G._tabindex(G.input);G._popup();G._dataSource();G._ignoreCase();G._enable();G._oldIndex=G.selectedIndex=-1;G._cascade();G._aria();if(E.autoBind){G._filterSource()}else{H=E.text;if(!H&&G._isSelect){H=F.children(":selected").text()}if(H){G.input.val(H);G._prev=H}}if(!H){G._placeholder()}s.notify(G)},options:{name:"ComboBox",enabled:true,index:-1,text:null,value:null,autoBind:true,delay:200,dataTextField:"",dataValueField:"",minLength:0,height:200,highlightFirst:true,template:"",filter:"none",placeholder:"",suggest:false,cascadeFrom:"",cascadeFromField:"",ignoreCase:true,animation:{}},events:["open","close",o,"select","filtering","dataBinding","dataBound","cascade"],setOptions:function(E){q.fn.setOptions.call(this,E);this._template();this._accessors();this._aria()},current:function(E){var F=this,G=F._current;if(E===g){return G}if(G){G.removeClass(A)}q.fn.current.call(F,E)},destroy:function(){var E=this;E.input.off(D);E.element.off(D);E._inputWrapper.off(D);q.fn.destroy.call(E)},_focusHandler:function(){this.input.focus()},_arrowClick:function(){this._toggle()},_inputFocus:function(){this._inputWrapper.addClass(k);this._placeholder(false)},_inputFocusout:function(){var E=this;E._inputWrapper.removeClass(k);clearTimeout(E._typing);E._typing=null;if(E.options.text!==E.input.val()){E.text(E.text())}E._placeholder();E._blur();E.element.blur()},_editable:function(H){var I=this,G=H.disable,F=H.readonly,K=I._inputWrapper.off(D),E=I.element.add(I.input.off(D)),J=I._arrow.parent().off(f+" "+j);if(!F&&!G){K.addClass(x).removeClass(C).on(t,I._toggleHover);E.removeAttr(w).removeAttr(b).attr(c,false).attr(B,false);J.on(f,v(I._arrowClick,I)).on(j,function(L){L.preventDefault()});I.input.on("keydown"+D,v(I._keydown,I)).on("focus"+D,v(I._inputFocus,I)).on("focusout"+D,v(I._inputFocusout,I))}else{K.addClass(G?C:x).removeClass(G?x:C);E.attr(w,G).attr(b,F).attr(c,G).attr(B,F)}},open:function(){var E=this;var F=E._state;var G=E.dataSource.options.serverFiltering;if(E.popup.visible()){return}if((!E.ul[0].firstChild&&F!==m)||(F===d&&!G)){E._open=true;E._state=i;E._filterSource()}else{E.popup.open();E._scroll(E._current)}},refresh:function(){var K=this,L=K.ul[0],M=K.options,F=K._state,J=K._data(),G=J.length,H=true,I,E;K._angularItems("cleanup");K.trigger("dataBinding");L.innerHTML=s.render(K.template,J);K._height(G);if(K.popup.visible()){K.popup._position()}if(K._isSelect){I=K.element[0].children[0];if(F===i){K._state=""}E=K._option;K._option=g;K._options(J);if(E&&E[0].selected){K._custom(E.val(),H)}else{if(!K._bound&&!I){K._custom("",H)}}}if(G){if(M.highlightFirst){K.current(e(L.firstChild))}if(M.suggest&&K.input.val()&&K._request!==g){K.suggest(e(L.firstChild))}}if(F!==m&&!K._fetch){K._selectItem()}if(K._open){K._open=false;if(K._typing&&K.input[0]!==h()){K.popup.close()}else{K.toggle(!!G)}K._typing=null}if(K._touchScroller){K._touchScroller.reset()}K._makeUnselectable();K._hideBusy();K._bound=true;K._angularItems("compile");K.trigger("dataBound")},suggest:function(K){var I=this,H=I.input[0],J=I.text(),G=n(H)[0],F=I._last,E;if(F==p.BACKSPACE||F==p.DELETE){I._last=g;return}K=K||"";if(typeof K!=="string"){E=a.inArray(K[0],I.ul[0]);if(E>-1){K=I._text(I.dataSource.view()[E])}else{K=""}}if(G<=0){G=J.toLowerCase().indexOf(K.toLowerCase())+1}if(K){E=K.toLowerCase().indexOf(J.toLowerCase());if(E>-1){J+=K.substring(E+J.length)}}else{J=J.substring(0,G)}if(J.length!==G||!K){H.value=J;if(H===h()){n(H,G,J.length)}}},text:function(K){K=K===null?"":K;var I=this;var F=I.input[0];var E=I.options.ignoreCase;var H=K;var G;var J;if(K!==g){G=I.dataItem();if(G&&I._text(G)===K){J=I._value(G);if(J===null){J=""}else{J+=""}if(J===I._old){I._triggerCascade();return}}if(E){H=H.toLowerCase()}I._select(function(L){L=I._text(L);if(E){L=(L+"").toLowerCase()}return L===H});if(I.selectedIndex<0){I._custom(K);F.value=K}I._prev=F.value;I._triggerCascade()}else{return F.value}},toggle:function(E){this._toggle(E,true)},value:function(H){var G=this,F=G.options,E;if(H!==g){if(H!==null){H=H.toString()}G._selectedValue=H;if(!G._open&&H&&G._fetchItems(H)){return}E=G._index(H);if(E>-1){G.select(E)}else{G.current(y);G._custom(H);if(F.value!==H||F.text!==G.input.val()){G.text(H);G._placeholder()}}G._old=G._accessor();G._oldIndex=G.selectedIndex}else{return G._accessor()}},_accept:function(E){var F=this;if(E){F._focus(E)}else{F.text(F.text());F._change()}},_custom:function(I,E){var G=this;var F=G.element;var H=G._option;if(G._state===m&&!E){G._state=d}if(G._isSelect){if(!H){H=G._option=e("<option/>");F.append(H)}H.text(I);H[0].selected=true}else{F.val(I)}G._selectedValue=I},_filter:function(I){var H=this,G=H.options,J=H.dataSource,F=G.ignoreCase,E=function(K){var L=H._text(K);if(L!==g){L=L+"";if(L!==""&&I===""){return false}if(F){L=L.toLowerCase()}return L.indexOf(I)===0}};if(F){I=I.toLowerCase()}if(!H.ul[0].firstChild){J.one(o,function(){if(J.view()[0]){H.search(I)}}).fetch();return}if(H._highlight(E)!==-1){if(G.suggest&&H._current){H.suggest(H._current)}H.open()}H._hideBusy()},_highlight:function(F){var G=this,E;if(F===g||F===null){return -1}F=G._get(F);E=a.inArray(F[0],G.ul[0]);if(E==-1){if(G.options.highlightFirst&&!G.text()){F=G.ul[0].firstChild;if(F){F=e(F)}}else{F=y}}G.current(F);return E},_input:function(){var I=this,G=I.element.removeClass("k-input")[0],H=G.accessKey,K=I.wrapper,J="input.k-input",F=G.name||"",E;if(F){F='name="'+F+'_input" '}E=K.find(J);if(!E[0]){K.append('<span tabindex="-1" unselectable="on" class="k-dropdown-wrap k-state-default"><input '+F+'class="k-input" type="text" autocomplete="off"/><span tabindex="-1" unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(I.element);E=K.find(J)}E[0].style.cssText=G.style.cssText;if(G.maxLength>-1){E[0].maxLength=G.maxLength}E.addClass(G.className).val(this.options.text||G.value).css({width:"100%",height:G.style.height}).attr({role:"combobox","aria-expanded":false}).show();if(u){E.attr("placeholder",I.options.placeholder)}if(H){G.accessKey="";E[0].accessKey=H}I._focused=I.input=E;I._inputWrapper=e(K[0].firstChild);I._arrow=K.find(".k-icon").attr({role:"button",tabIndex:-1});if(G.id){I._arrow.attr("aria-controls",I.ul[0].id)}},_keydown:function(G){var F=this,E=G.keyCode;F._last=E;clearTimeout(F._typing);F._typing=null;if(E!=p.TAB&&!F._move(G)){F._search()}},_placeholder:function(E){if(u){return}var G=this,F=G.input,I=G.options.placeholder,H;if(I){H=G.value();if(E===g){E=!H}F.toggleClass("k-readonly",E);if(!E){if(!H){I=""}else{return}}F.val(I);if(!I&&F[0]===h()){n(F[0],0,0)}}},_search:function(){var E=this;E._typing=setTimeout(function(){var F=E.text();if(E._prev!==F){E._prev=F;E.search(F)}E._typing=null},E.options.delay)},_select:function(F){var G=this,J,I,H=G._data(),E=G._highlight(F);G.selectedIndex=E;if(E!==-1){if(G._state===m){G._state=d}G._current.addClass(A);H=H[E];J=G._text(H);I=G._value(H);if(I===null){I=""}G._prev=G.input[0].value=J;G._accessor(I!==g?I:J,E);G._selectedValue=G._accessor();G._placeholder();if(G._optionID){G._current.attr("aria-selected",true)}}},_wrapper:function(){var F=this,E=F.element,G=E.parent();if(!G.is("span.k-widget")){G=E.hide().wrap("<span />").parent();G[0].style.cssText=E[0].style.cssText}F.wrapper=G.addClass("k-widget k-combobox k-header").addClass(E[0].className).css("display","")},_clearSelection:function(G,E){var H=this,F=G._selectedValue||G.value(),I=F&&G.selectedIndex===-1;if(E||!F||I){H.value("");H.options.value=""}}});r.plugin(z)})(window.kendo.jQuery);(function(C,k){var D=window.kendo,F=D.ui,m=F.List,x=D.keys,c=D._activeElement,p=D.data.ObservableArray,L=C.proxy,t="id",s="li",G="accept",i="filter",J="open",N="close",B="change",w="progress",q="select",r="nextSibling",P="previousSibling",f=' style="display:none"',g="aria-disabled",I="aria-readonly",v="k-state-focused",E="k-loading-hidden",h="k-state-hover",l="k-state-disabled",A="disabled",d="readonly",M=".kendoMultiSelect",H="click"+M,Q="keydown"+M,a="mouseenter"+M,n="mouseleave"+M,b=a+" "+n,O=/"/g,u=C.isArray,z=["font-family","font-size","font-stretch","font-style","font-weight","letter-spacing","text-transform","line-height"];var y=m.extend({init:function(S,R){var T=this,V,U;T.ns=M;m.fn.init.call(T,S,R);T._wrapper();T._tagList();T._input();T._textContainer();T._loader();T._tabindex(T.input);S=T.element.attr("multiple","multiple").hide();R=T.options;U=R.value;if(!R.placeholder){R.placeholder=S.data("placeholder")}V=S.attr(t);if(V){T._tagID=V+"_tag_active";V=V+"_taglist";T.tagList.attr(t,V)}T._aria(V);T._dataSource();T._ignoreCase();T._popup();T._values=[];T._dataItems=[];T._reset();T._enable();T._placeholder();if(R.autoBind){T.dataSource.fetch()}else{if(U){if(!u(U)){U=[U]}if(C.isPlainObject(U[0])||!R.dataValueField){T._retrieveData=true;T.dataSource.data(U);T.value(T._initialValues)}}}D.notify(T)},options:{name:"MultiSelect",enabled:true,autoBind:true,autoClose:true,highlightFirst:true,dataTextField:"",dataValueField:"",filter:"startswith",ignoreCase:true,minLength:0,delay:100,value:null,maxSelectedItems:null,itemTemplate:"",tagTemplate:"",placeholder:"",height:200,animation:{}},events:[J,N,B,q,"filtering","dataBinding","dataBound"],setDataSource:function(R){this.options.dataSource=R;this._dataSource();if(this.options.autoBind){this.dataSource.fetch()}},setOptions:function(R){m.fn.setOptions.call(this,R);this._template();this._accessors();this._aria(this.tagList.attr(t))},current:function(R){this.currentTag(null);return m.fn.current.call(this,R)},currentTag:function(R){var S=this;if(R!==k){if(S._currentTag){S._currentTag.removeClass(v).removeAttr(t);S.input.removeAttr("aria-activedescendant")}if(R){R.addClass(v).attr(t,S._tagID);S.input.attr("aria-activedescendant",S._tagID)}S._currentTag=R}else{return S._currentTag}},dataItems:function(){return this._dataItems},destroy:function(){var S=this,R=S.ns;clearTimeout(S._busy);clearTimeout(S._typing);S.wrapper.off(R);S.tagList.off(R);S.input.off(R);m.fn.destroy.call(S)},_wrapperMousedown:function(T){var S=this;var R=T.target.nodeName.toLowerCase()!=="input";if(R){T.preventDefault()}if(T.target.className.indexOf("k-delete")===-1){if(S.input[0]!==c()&&R){S.input.focus()}if(S.options.minLength===0){S.open()}}},_inputFocus:function(){this._placeholder(false);this.wrapper.addClass(v)},_inputFocusout:function(){var R=this;clearTimeout(R._typing);R.wrapper.removeClass(v);R._placeholder(!R._dataItems[0],true);R.close();if(R._state===i){R._state=G}R.element.blur()},_tagListClick:function(R){this._unselect(C(R.target).closest(s));this._change();this.close()},_editable:function(U){var V=this,T=U.disable,S=U.readonly,X=V.wrapper.off(M),W=V.tagList.off(M),R=V.element.add(V.input.off(M));if(!S&&!T){X.removeClass(l).on(b,V._toggleHover).on("mousedown"+M,L(V._wrapperMousedown,V));V.input.on(Q,L(V._keydown,V)).on("paste"+M,L(V._search,V)).on("focus"+M,L(V._inputFocus,V)).on("focusout"+M,L(V._inputFocusout,V));R.removeAttr(A).removeAttr(d).attr(g,false).attr(I,false);W.on(a,s,function(){C(this).addClass(h)}).on(n,s,function(){C(this).removeClass(h)}).on(H,".k-delete",L(V._tagListClick,V))}else{if(T){X.addClass(l)}else{X.removeClass(l)}R.attr(A,T).attr(d,S).attr(g,T).attr(I,S)}},_close:function(){var R=this;if(R.options.autoClose||!R._visibleItems){R.close()}else{R.current(R.options.highlightFirst?j(R.ul[0]):null);R.popup._position()}},close:function(){this.popup.close();this.current(null)},open:function(){var R=this;if(R._request){R._retrieveData=false}if(!R.ul[0].firstChild||R._state===G||R._retrieveData){R._state="";R._open=true;R._retrieveData=false;R._filterSource()}else{if(R._visibleItems&&R._allowSelection()){R.popup.open();R.current(R.options.highlightFirst?j(R.ul[0]):null)}}},toggle:function(R){R=R!==k?R:!this.popup.visible();this[R?J:N]()},refresh:function(){var T=this,R=null,S;T.trigger("dataBinding");S=T._render(T.dataSource.view());T._height(S);if(T._setInitialValues){T._setInitialValues=false;T.value(T._initialValues)}if(T._open){T._open=false;T.toggle(S)}if(T.popup.visible()){T.popup._position();if(T.options.highlightFirst){R=j(T.ul[0])}}T.current(R);if(T._touchScroller){T._touchScroller.reset()}T._makeUnselectable();T._hideBusy();T.trigger("dataBound")},search:function(R){var V=this,Z=V.options,W=Z.ignoreCase,S=Z.filter,Y=Z.dataTextField,U=V.input.val(),X,T;if(Z.placeholder===U){U=""}clearTimeout(V._typing);R=typeof R==="string"?R:U;T=R.length;if(!T||T>=Z.minLength){V._state=i;V._open=true;X={value:W?R.toLowerCase():R,field:Y,operator:S,ignoreCase:W};V._filterSource(X,V._retrieveData);V._retrieveData=false}},value:function(W){var V=this,S=C(V.tagList[0].children),U=S.length,T,R=0;if(W===k){return V._values}if(V._fetchItems(W)){return}for(;R<U;R++){V._unselect(S.eq(R))}if(W!==null){W=u(W)||W instanceof p?W:[W];for(R=0,U=W.length;R<U;R++){T=V._index(W[R]);if(T>-1){V._select(T)}}V._old=V._values.slice()}},_dataSource:function(){var T=this,S=T.element,R=T.options,U=R.dataSource||{};U=u(U)?{data:U}:U;U.select=S;U.fields=[{field:R.dataTextField},{field:R.dataValueField}];if(T.dataSource&&T._refreshHandler){T._unbindDataSource()}else{T._refreshHandler=L(T.refresh,T);T._progressHandler=L(T._showBusy,T)}T.dataSource=D.data.DataSource.create(U).bind(B,T._refreshHandler).bind(w,T._progressHandler)},_fetchItems:function(T){var S=this;var R=C.isArray(T)&&T.length===0;if(R||!T){return}if(!S._fetch&&!S.ul[0].firstChild){S.dataSource.one(B,function(){S.value(T);S._fetch=false});S._fetch=true;S.dataSource.fetch();return true}},_reset:function(){var T=this,R=T.element,U=R.attr("form"),S=U?C("#"+U):R.closest("form");if(S[0]){T._resetHandler=function(){setTimeout(function(){T.value(T._initialValues);T._placeholder()})};T._form=S.on("reset",T._resetHandler)}},_initValue:function(){var R=this,S=R.options.value||R.element.val();if(S===null){S=[]}else{if(!u(S)){S=[S]}S=R._mapValues(S)}R._old=R._initialValues=S;R._setInitialValues=S[0]!==k},_mapValues:function(R){var S=this;if(R&&C.isPlainObject(R[0])){R=C.map(R,function(T){return S._value(T)})}return R},_change:function(){var R=this,S=R.value();if(!e(S,R._old)){R._old=S.slice();R.trigger(B);R.element.trigger(B)}},_click:function(T){var S=this,R=C(T.currentTarget);if(!T.isDefaultPrevented()){if(S.trigger(q,{item:R})){S._close();return}S._select(R);S._change();S._close()}},_item:function(R,S){R=R[S]();if(R[0]&&!R.is(":visible")){R=this._item(R,S)}return R},_keydown:function(X){var V=this,U=X.keyCode,R=V._currentTag,W=V._current,T=V.input.val(),S=D.support.isRtl(V.wrapper),Y=V.popup.visible();if(U===x.DOWN){X.preventDefault();if(!Y){V.open();return}if(W){W=K(W[0],r)}else{W=j(V.ul[0])}if(W){V.current(C(W))}}else{if(U===x.UP){if(Y){if(W){W=K(W[0],P)}else{W=o(V.ul[0])}V.current(C(W));if(!V._current[0]){V.close()}}X.preventDefault()}else{if((U===x.LEFT&&!S)||(U===x.RIGHT&&S)){if(!T){R=R?R.prev():C(V.tagList[0].lastChild);if(R[0]){V.currentTag(R)}}}else{if((U===x.RIGHT&&!S)||(U===x.LEFT&&S)){if(!T&&R){R=R.next();V.currentTag(R[0]?R:null)}}else{if(U===x.ENTER&&Y){if(W){if(V.trigger(q,{item:W})){V._close();return}V._select(W)}V._change();V._close();X.preventDefault()}else{if(U===x.ESC){if(Y){X.preventDefault()}else{V.currentTag(null)}V.close()}else{if(U===x.HOME){if(Y){V.current(j(V.ul[0]))}else{if(!T){R=V.tagList[0].firstChild;if(R){V.currentTag(C(R))}}}}else{if(U===x.END){if(Y){V.current(o(V.ul[0]))}else{if(!T){R=V.tagList[0].lastChild;if(R){V.currentTag(C(R))}}}}else{if((U===x.DELETE||U===x.BACKSPACE)&&!T){if(U===x.BACKSPACE&&!R){R=C(V.tagList[0].lastChild)}if(R&&R[0]){V._unselect(R);V._change();V._close()}}else{clearTimeout(V._typing);setTimeout(function(){V._scale()});V._search()}}}}}}}}}},_hideBusy:function(){var R=this;clearTimeout(R._busy);R.input.attr("aria-busy",false);R._loading.addClass(E);R._request=false;R._busy=null},_showBusyHandler:function(){this.input.attr("aria-busy",true);this._loading.removeClass(E)},_showBusy:function(){var R=this;R._request=true;if(R._busy){return}R._busy=setTimeout(L(R._showBusyHandler,R),100)},_placeholder:function(R,T){var U=this,S=U.input,V=c();if(R===k){R=false;if(S[0]!==V){R=!U._dataItems[0]}}U._prev="";S.toggleClass("k-readonly",R).val(R?U.options.placeholder:"");if(S[0]===V&&!T){D.caret(S[0],0,0)}U._scale()},_scale:function(){var T=this,V=T.wrapper,R=V.width(),S=T._span.text(T.input.val()),U;if(!V.is(":visible")){S.appendTo(document.documentElement);R=U=S.width()+25;S.appendTo(V)}else{U=S.width()+25}T.input.width(U>R?R:U)},_option:function(R,T){var S="<option",U=this._text(R),V=this._value(R);if(V!==k){V+="";if(V.indexOf('"')!==-1){V=V.replace(O,"&quot;")}S+=' value="'+V+'"'}if(T){S+=' selected="selected"'}S+=">";if(U!==k){S+=D.htmlEncode(U)}return S+="</option>"},_render:function(U){var W=this,S=U.length,Y=W.itemTemplate,Z=W._dataItems.slice(0),aa=0,X=0,ab="",V="",R,T;for(;X<S;X++){R=U[X];T=W._selected(Z,R);V+=Y(R,X,T);ab+=W._option(R,T);if(!T){aa+=1}}S=Z.length;if(S){for(X=0;X<S;X++){ab+=W._option(Z[X],true)}}W.ul[0].innerHTML=V;W.element.html(ab);W._visibleItems=aa;return aa},_selected:function(aa,S){var V=this,X=V._text,W=V._value,Z=W(S),T=aa.length,U=false,R,Y=0;if(Z===k){Z=X(S)}for(;Y<T;Y++){S=aa[Y];R=W(S);if(R===k){R=X(S)}if(R!==k&&R===Z){U=true;break}}if(U){aa.splice(Y,1)}return U},_search:function(){var R=this;R._typing=setTimeout(function(){var S=R.input.val();if(R._prev!==S){R._prev=S;R.search(S)}},R.options.delay)},_allowSelection:function(){var R=this.options.maxSelectedItems;return R===null||R>this._values.length},_select:function(S){var V=this,T=V._values,U,R;if(!V._allowSelection()){return}if(!isNaN(S)){R=S;V.ul[0].children[R].style.display="none"}else{R=S.hide().data("idx")}V.element[0].children[R].selected=true;U=V.dataSource.view()[R];V.tagList.append(V.tagTemplate(U));V._dataItems.push(U);T.push(V._dataValue(U));V._visibleItems-=1;V.currentTag(null);V._placeholder();V._height(V._visibleItems);if(V._state===i){V._state=G}},_unselect:function(R){var X=this,U=R.index(),T,Y,S,V,W;R.remove();X.currentTag(null);X._values.splice(U,1);T=X._dataItems.splice(U,1)[0];Y=X._dataValue(T);U=X._index(Y);if(U!==-1){C(X.ul[0].children[U]).show();X.element[0].children[U].selected=false;X._visibleItems+=1;X._height(X._visibleItems)}else{U=X.dataSource.view().length;S=X.element[0].children;W=S.length;for(;U<W;U++){V=S[U];if(V.value==Y){V.selected=false;break}}}X._placeholder()},_template:function(){var V=this,T=V.options,W=T.itemTemplate,U=T.tagTemplate,R=T.dataSource,S;if(V.element[0].length&&!R){T.dataTextField=T.dataTextField||"text";T.dataValueField=T.dataValueField||"value"}S=D.template("#:"+D.expr(T.dataTextField,"data")+"#",{useWithBlock:false});W=W?D.template(W):S;U=U?D.template(U):S;V.itemTemplate=function(Z,X,Y){return'<li tabindex="-1" role="option" data-idx="'+X+'" unselectable="on" class="k-item"'+(Y?f:"")+">"+W(Z)+"</li>"};V.tagTemplate=function(X){return'<li class="k-button" unselectable="on"><span unselectable="on">'+U(X)+'</span><span unselectable="on" class="k-icon k-delete">delete</span></li>'}},_input:function(){var T=this,S=T.element[0].accessKey,R=T._innerWrapper.children("input.k-input");if(!R[0]){R=C('<input class="k-input" style="width: 25px" />').appendTo(T._innerWrapper)}T.element.removeAttr("accesskey");T._focused=T.input=R.attr({accesskey:S,autocomplete:"off",role:"listbox","aria-expanded":false})},_tagList:function(){var R=this,S=R._innerWrapper.children("ul");if(!S[0]){S=C('<ul role="listbox" unselectable="on" class="k-reset"/>').appendTo(R._innerWrapper)}R.tagList=S},_loader:function(){this._loading=C('<span class="k-icon k-loading '+E+'"></span>').insertAfter(this.input)},_textContainer:function(){var R=D.getComputedStyles(this.input[0],z);R.position="absolute";R.visibility="hidden";R.top=-3333;R.left=-3333;this._span=C("<span/>").css(R).appendTo(this.wrapper)},_wrapper:function(){var S=this,R=S.element,T=R.parent("span.k-multiselect");if(!T[0]){T=R.wrap('<div class="k-widget k-multiselect k-header" unselectable="on" />').parent();T[0].style.cssText=R[0].style.cssText;C('<div class="k-multiselect-wrap k-floatwrap" unselectable="on" />').insertBefore(R)}S.wrapper=T.addClass(R[0].className).css("display","");S._innerWrapper=C(T[0].firstChild)}});function e(S,R){var T;if((S===null&&R!==null)||(S!==null&&R===null)){return false}T=S.length;if(T!==R.length){return false}while(T--){if(S[T]!==R[T]){return false}}return true}function j(R){var S=R.firstChild;if(S&&S.style.display==="none"){S=K(S,r)}if(S){return C(S)}return S}function o(R){var S=R.lastChild;if(S&&S.style.display==="none"){S=K(S,P)}if(S){return C(S)}return S}function K(R,S){R=R[S];if(R&&R.style.display==="none"){R=K(R,S)}return R}F.plugin(y)})(window.kendo.jQuery);(function(D,k){var G=window.kendo,c=G.ui.Widget,j=G.ui.Draggable,i=D.extend,y=G.format,o=G.parseFloat,W=D.proxy,s=D.isArray,z=Math,P=G.support,K=P.pointers,S=P.msPointers,C="change",b="slide",M=".slider",L="touchstart"+M+" mousedown"+M,U=K?"pointerdown"+M:(S?"MSPointerDown"+M:L),d="touchend"+M+" mouseup"+M,g=K?"pointerup":(S?"MSPointerUp"+M:d),q="moveSelection",w="keydown"+M,R="click"+M,h="mouseover"+M,Z="focus"+M,N="blur"+M,e=".k-draghandle",f=".k-slider-track",H=".k-tick",r="k-state-selected",Q="k-state-focused",X="k-state-default",x="k-state-disabled",l=3,B="disabled",E="undefined",u="tabindex",p=G.getTouches;var aa=c.extend({init:function(ac,ab){var ad=this;c.fn.init.call(ad,ac,ab);ab=ad.options;ad._distance=Y(ab.max-ab.min);ad._isHorizontal=ab.orientation=="horizontal";ad._isRtl=ad._isHorizontal&&G.support.isRtl(ac);ad._position=ad._isHorizontal?"left":"bottom";ad._sizeFn=ad._isHorizontal?"width":"height";ad._outerSize=ad._isHorizontal?"outerWidth":"outerHeight";ab.tooltip.format=ab.tooltip.enabled?ab.tooltip.format||"{0}":"{0}";ad._createHtml();ad.wrapper=ad.element.closest(".k-slider");ad._trackDiv=ad.wrapper.find(f);ad._setTrackDivWidth();ad._maxSelection=ad._trackDiv[ad._sizeFn]();ad._sliderItemsInit();ad._reset();ad._tabindex(ad.wrapper.find(e));ad[ab.enabled?"enable":"disable"]();var ae=G.support.isRtl(ad.wrapper)?-1:1;ad._keyMap={37:F(-1*ae*ab.smallStep),40:F(-ab.smallStep),39:F(+1*ae*ab.smallStep),38:F(+ab.smallStep),35:J(ab.max),36:J(ab.min),33:F(+ab.largeStep),34:F(-ab.largeStep)};G.notify(ad)},events:[C,b],options:{enabled:true,min:0,max:10,smallStep:1,largeStep:5,orientation:"horizontal",tickPlacement:"both",tooltip:{enabled:true,format:"{0}"}},_resize:function(){this._setTrackDivWidth();this.wrapper.find(".k-slider-items").remove();this._maxSelection=this._trackDiv[this._sizeFn]();this._sliderItemsInit();this._refresh()},_sliderItemsInit:function(){var ad=this,ac=ad.options;var ab=ad._maxSelection/((ac.max-ac.min)/ac.smallStep);var ae=ad._calculateItemsWidth(z.floor(ad._distance/ac.smallStep));if(ac.tickPlacement!="none"&&ab>=2){ad._trackDiv.before(n(ac,ad._distance));ad._setItemsWidth(ae);ad._setItemsTitle()}ad._calculateSteps(ae);if(ac.tickPlacement!="none"&&ab>=2&&ac.largeStep>=ac.smallStep){ad._setItemsLargeTick()}},getSize:function(){return G.dimensions(this.wrapper)},_setTrackDivWidth:function(){var ab=this,ac=parseFloat(ab._trackDiv.css(ab._isRtl?"right":ab._position),10)*2;ab._trackDiv[ab._sizeFn]((ab.wrapper[ab._sizeFn]()-2)-ac)},_setItemsWidth:function(ag){var ae=this,al=ae.options,ac=0,aj=ag.length-1,af=ae.wrapper.find(H),ab,ak=0,ai=2,ad=af.length,ah=0;for(ab=0;ab<ad-2;ab++){D(af[ab+1])[ae._sizeFn](ag[ab])}if(ae._isHorizontal){D(af[ac]).addClass("k-first")[ae._sizeFn](ag[aj-1]);D(af[aj]).addClass("k-last")[ae._sizeFn](ag[aj])}else{D(af[aj]).addClass("k-first")[ae._sizeFn](ag[aj]);D(af[ac]).addClass("k-last")[ae._sizeFn](ag[aj-1])}if(ae._distance%al.smallStep!==0&&!ae._isHorizontal){for(ab=0;ab<ag.length;ab++){ah+=ag[ab]}ak=ae._maxSelection-ah;ak+=parseFloat(ae._trackDiv.css(ae._position),10)+ai;ae.wrapper.find(".k-slider-items").css("padding-top",ak)}},_setItemsTitle:function(){var ai=this,ae=ai.options,ad=ai.wrapper.find(H),ag=ae.min,ah=ad.length,af=ai._isHorizontal&&!ai._isRtl?0:ah-1,ac=ai._isHorizontal&&!ai._isRtl?ah:-1,ab=ai._isHorizontal&&!ai._isRtl?1:-1;for(;af-ac!==0;af+=ab){D(ad[af]).attr("title",y(ae.tooltip.format,Y(ag)));ag+=ae.smallStep}},_setItemsLargeTick:function(){var af=this,ac=af.options,ab=af.wrapper.find(H),ad=0,ae,ag;if(t(ac.largeStep)%t(ac.smallStep)===0||af._distance/ac.largeStep>=3){if(!af._isHorizontal&&!af._isRtl){ab=D.makeArray(ab).reverse()}for(ad=0;ad<ab.length;ad++){ae=D(ab[ad]);ag=af._values[ad];var ah=Y(t(ag-this.options.min));if(ah%t(ac.smallStep)===0&&ah%t(ac.largeStep)===0){ae.addClass("k-tick-large").html("<span class='k-label'>"+ae.attr("title")+"</span>");if(ad!==0&&ad!==ab.length-1){ae.css("line-height",ae[af._sizeFn]()+"px")}}}}},_calculateItemsWidth:function(ab){var af=this,ac=af.options,ah=parseFloat(af._trackDiv.css(af._sizeFn))+1,ae=ah/af._distance,ag,ai,ad;if((af._distance/ac.smallStep)-z.floor(af._distance/ac.smallStep)>0){ah-=((af._distance%ac.smallStep)*ae)}ag=ah/ab;ai=[];for(ad=0;ad<ab-1;ad++){ai[ad]=ag}ai[ab-1]=ai[ab]=ag/2;return af._roundWidths(ai)},_roundWidths:function(ad){var ae=0,ac=ad.length,ab;for(ab=0;ab<ac;ab++){ae+=(ad[ab]-z.floor(ad[ab]));ad[ab]=z.floor(ad[ab])}ae=z.round(ae);return this._addAdditionalSize(ae,ad)},_addAdditionalSize:function(ab,ae){if(ab===0){return ae}var ad=parseFloat(ae.length-1)/parseFloat(ab==1?ab:ab-1),ac;for(ac=0;ac<ab;ac++){ae[parseInt(z.round(ad*ac),10)]+=1}return ae},_calculateSteps:function(ai){var ag=this,ac=ag.options,ah=ac.min,ae=0,ab=z.ceil(ag._distance/ac.smallStep),ad=1,af;ab+=(ag._distance/ac.smallStep)%1===0?1:0;ai.splice(0,0,ai[ab-2]*2);ai.splice(ab-1,1,ai.pop()*2);ag._pixelSteps=[ae];ag._values=[ah];if(ab===0){return}while(ad<ab){ae+=(ai[ad-1]+ai[ad])/2;ag._pixelSteps[ad]=ae;ah+=ac.smallStep;ag._values[ad]=Y(ah);ad++}af=ag._distance%ac.smallStep===0?ab-1:ab;ag._pixelSteps[af]=ag._maxSelection;ag._values[af]=ac.max;if(ag._isRtl){ag._pixelSteps.reverse();ag._values.reverse()}},_getValueFromPosition:function(ai,ad){var ah=this,ac=ah.options,ag=z.max(ac.smallStep*(ah._maxSelection/ah._distance),0),ab=0,af=(ag/2),ae;if(ah._isHorizontal){ab=ai-ad.startPoint;if(ah._isRtl){ab=ah._maxSelection-ab}}else{ab=ad.startPoint-ai}if(ah._maxSelection-((parseInt(ah._maxSelection%ag,10)-3)/2)<ab){return ac.max}for(ae=0;ae<ah._pixelSteps.length;ae++){if(z.abs(ah._pixelSteps[ae]-ab)-1<=af){return Y(ah._values[ae])}}},_getFormattedValue:function(ai,ad){var ae=this,ac="",ag=ae.options.tooltip,ab,af,ah;if(s(ai)){af=ai[0];ah=ai[1]}else{if(ad&&ad.type){af=ad.selectionStart;ah=ad.selectionEnd}}if(ad){ab=ad.tooltipTemplate}if(!ab&&ag.template){ab=G.template(ag.template)}if(s(ai)||(ad&&ad.type)){if(ab){ac=ab({selectionStart:af,selectionEnd:ah})}else{af=y(ag.format,af);ah=y(ag.format,ah);ac=af+" - "+ah}}else{if(ad){ad.val=ai}if(ab){ac=ab({value:ai})}else{ac=y(ag.format,ai)}}return ac},_getDraggableArea:function(){var ab=this,ac=G.getOffset(ab._trackDiv);return{startPoint:ab._isHorizontal?ac.left:ac.top+ab._maxSelection,endPoint:ab._isHorizontal?ac.left+ab._maxSelection:ac.top}},_createHtml:function(){var ae=this,ad=ae.element,ac=ae.options,ab=ad.find("input");if(ab.length==2){ab.eq(0).prop("value",m(ac.selectionStart));ab.eq(1).prop("value",m(ac.selectionEnd))}else{ad.prop("value",m(ac.value))}ad.wrap(O(ac,ad,ae._isHorizontal)).hide();if(ac.showButtons){ad.before(A(ac,"increase",ae._isHorizontal)).before(A(ac,"decrease",ae._isHorizontal))}ad.before(a(ac,ad))},_focus:function(ae){var ac=this,ad=ae.target,af=ac.value(),ab=ac._drag;if(!ab){if(ad==ac.wrapper.find(e).eq(0)[0]){ab=ac._firstHandleDrag;ac._activeHandle=0}else{ab=ac._lastHandleDrag;ac._activeHandle=1}af=af[ac._activeHandle]}D(ad).addClass(Q+" "+r);if(ab){ac._activeHandleDrag=ab;ab.selectionStart=ac.options.selectionStart;ab.selectionEnd=ac.options.selectionEnd;ab._updateTooltip(af)}},_focusWithMouse:function(ad){ad=D(ad);var ac=this,ab=ad.is(e)?ad.index():0;window.setTimeout(function(){ac.wrapper.find(e)[ab==2?1:0].focus()},1);ac._setTooltipTimeout()},_blur:function(ad){var ac=this,ab=ac._activeHandleDrag;D(ad.target).removeClass(Q+" "+r);if(ab){ab._removeTooltip();delete ac._activeHandleDrag;delete ac._activeHandle}},_setTooltipTimeout:function(){var ab=this;ab._tooltipTimeout=window.setTimeout(function(){var ac=ab._drag||ab._activeHandleDrag;if(ac){ac._removeTooltip()}},300)},_clearTooltipTimeout:function(){var ac=this;window.clearTimeout(this._tooltipTimeout);var ab=ac._drag||ac._activeHandleDrag;if(ab&&ab.tooltipDiv){ab.tooltipDiv.stop(true,false).css("opacity",1)}},_reset:function(){var ad=this,ab=ad.element,ae=ab.attr("form"),ac=ae?D("#"+ae):ab.closest("form");if(ac[0]){ad._form=ac.on("reset",W(ad._formResetHandler,ad))}},destroy:function(){if(this._form){this._form.off("reset",this._formResetHandler)}c.fn.destroy.call(this)}});function O(ab,ae,ah){var ad=ah?" k-slider-horizontal":" k-slider-vertical",af=ab.style?ab.style:ae.attr("style"),ac=ae.attr("class")?(" "+ae.attr("class")):"",ag="";if(ab.tickPlacement=="bottomRight"){ag=" k-slider-bottomright"}else{if(ab.tickPlacement=="topLeft"){ag=" k-slider-topleft"}}af=af?" style='"+af+"'":"";return"<div class='k-widget k-slider"+ad+ac+"'"+af+"><div class='k-slider-wrap"+(ab.showButtons?" k-slider-buttons":"")+ag+"'></div></div>"}function A(ab,ad,ae){var ac="";if(ad=="increase"){ac=ae?"k-i-arrow-e":"k-i-arrow-n"}else{ac=ae?"k-i-arrow-w":"k-i-arrow-s"}return"<a class='k-button k-button-"+ad+"'><span class='k-icon "+ac+"' title='"+ab[ad+"ButtonTitle"]+"'>"+ab[ad+"ButtonTitle"]+"</span></a>"}function n(ac,af){var ab="<ul class='k-reset k-slider-items'>",ae=z.floor(Y(af/ac.smallStep))+1,ad;for(ad=0;ad<ae;ad++){ab+="<li class='k-tick' role='presentation'>&nbsp;</li>"}ab+="</ul>";return ab}function a(ab,ad){var ae=ad.is("input")?1:2,ac=ae==2?ab.leftDragHandleTitle:ab.dragHandleTitle;return"<div class='k-slider-track'><div class='k-slider-selection'><!-- --></div><a href='#' class='k-draghandle' title='"+ac+"' role='slider' aria-valuemin='"+ab.min+"' aria-valuemax='"+ab.max+"' aria-valuenow='"+(ae>1?(ab.selectionStart||ab.min):ab.value||ab.min)+"'>Drag</a>"+(ae>1?"<a href='#' class='k-draghandle' title='"+ab.rightDragHandleTitle+"'role='slider' aria-valuemin='"+ab.min+"' aria-valuemax='"+ab.max+"' aria-valuenow='"+(ab.selectionEnd||ab.max)+"'>Drag</a>":"")+"</div>"}function F(ab){return function(ac){return ac+ab}}function J(ab){return function(){return ab}}function m(ab){return(ab+"").replace(".",G.cultures.current.numberFormat["."])}function Y(ac){ac=parseFloat(ac,10);var ab=z.pow(10,l||0);return z.round(ac*ab)/ab}function v(ac,ab){var ad=o(ac.getAttribute(ab));if(ad===null){ad=k}return ad}function V(ab){return typeof ab!==E}function t(ab){return ab*10000}var I=aa.extend({init:function(ad,ac){var ae=this,ab;ad.type="text";ac=i({},{value:v(ad,"value"),min:v(ad,"min"),max:v(ad,"max"),smallStep:v(ad,"step")},ac);ad=D(ad);if(ac&&ac.enabled===k){ac.enabled=!ad.is("[disabled]")}aa.fn.init.call(ae,ad,ac);ac=ae.options;if(!V(ac.value)||ac.value===null){ac.value=ac.min;ad.prop("value",m(ac.min))}ac.value=z.max(z.min(ac.value,ac.max),ac.min);ab=ae.wrapper.find(e);new I.Selection(ab,ae,ac);ae._drag=new I.Drag(ab,"",ae,ac)},options:{name:"Slider",showButtons:true,increaseButtonTitle:"Increase",decreaseButtonTitle:"Decrease",dragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},value:null},enable:function(ae){var af=this,ad=af.options,ag,ac;af.disable();if(ae===false){return}af.wrapper.removeClass(x).addClass(X);af.wrapper.find("input").removeAttr(B);ag=function(aj){var al=p(aj)[0];if(!al){return}var ak=af._isHorizontal?al.location.pageX:al.location.pageY,ah=af._getDraggableArea(),ai=D(aj.target);if(ai.hasClass("k-draghandle")){ai.addClass(Q+" "+r);return}af._update(af._getValueFromPosition(ak,ah));af._focusWithMouse(aj.target);af._drag.dragstart(aj);aj.preventDefault()};af.wrapper.find(H+", "+f).on(U,ag).end().on(U,function(){D(document.documentElement).one("selectstart",G.preventDefault)}).on(g,function(){af._drag._end()});af.wrapper.find(e).attr(u,0).on(d,function(){af._setTooltipTimeout()}).on(R,function(ah){af._focusWithMouse(ah.target);ah.preventDefault()}).on(Z,W(af._focus,af)).on(N,W(af._blur,af));ac=W(function(ah){var ai=af._nextValueByIndex(af._valueIndex+(ah*1));af._setValueInRange(ai);af._drag._updateTooltip(ai)},af);if(ad.showButtons){var ab=W(function(ai,ah){this._clearTooltipTimeout();if(ai.which===1||(P.touch&&ai.which===0)){ac(ah);this.timeout=setTimeout(W(function(){this.timer=setInterval(function(){ac(ah)},60)},this),200)}},af);af.wrapper.find(".k-button").on(d,W(function(ah){this._clearTimer();af._focusWithMouse(ah.target)},af)).on(h,function(ah){D(ah.currentTarget).addClass("k-state-hover")}).on("mouseout"+M,W(function(ah){D(ah.currentTarget).removeClass("k-state-hover");this._clearTimer()},af)).eq(0).on(L,W(function(ah){ab(ah,1)},af)).click(false).end().eq(1).on(L,W(function(ah){ab(ah,-1)},af)).click(G.preventDefault)}af.wrapper.find(e).off(w,false).on(w,W(this._keydown,af));ad.enabled=true},disable:function(){var ab=this;ab.wrapper.removeClass(X).addClass(x);D(ab.element).prop(B,B);ab.wrapper.find(".k-button").off(L).on(L,G.preventDefault).off(d).on(d,G.preventDefault).off("mouseleave"+M).on("mouseleave"+M,G.preventDefault).off(h).on(h,G.preventDefault);ab.wrapper.find(H+", "+f).off(U).off(g);ab.wrapper.find(e).attr(u,-1).off(d).off(w).off(R).off(Z).off(N);ab.options.enabled=false},_update:function(ac){var ab=this,ad=ab.value()!=ac;ab.value(ac);if(ad){ab.trigger(C,{value:ab.options.value})}},value:function(ad){var ac=this,ab=ac.options;ad=Y(ad);if(isNaN(ad)){return ab.value}if(ad>=ab.min&&ad<=ab.max){if(ab.value!=ad){ac.element.prop("value",m(ad));ab.value=ad;ac._refreshAriaAttr(ad);ac._refresh()}}},_refresh:function(){this.trigger(q,{value:this.options.value})},_refreshAriaAttr:function(ae){var ad=this,ac=ad._drag,ab;if(ac&&ac._tooltipDiv){ab=ac._tooltipDiv.text()}else{ab=ad._getFormattedValue(ae,null)}this.wrapper.find(e).attr("aria-valuenow",ae).attr("aria-valuetext",ab)},_clearTimer:function(){clearTimeout(this.timeout);clearInterval(this.timer)},_keydown:function(ac){var ab=this;if(ac.keyCode in ab._keyMap){ab._clearTooltipTimeout();ab._setValueInRange(ab._keyMap[ac.keyCode](ab.options.value));ab._drag._updateTooltip(ab.value());ac.preventDefault()}},_setValueInRange:function(ad){var ac=this,ab=ac.options;ad=Y(ad);if(isNaN(ad)){ac._update(ab.min);return}ad=z.max(z.min(ad,ab.max),ab.min);ac._update(ad)},_nextValueByIndex:function(ab){var ac=this._values.length;if(this._isRtl){ab=ac-1-ab}return this._values[z.max(0,z.min(ab,ac-1))]},_formResetHandler:function(){var ac=this,ab=ac.options.min;setTimeout(function(){var ad=ac.element[0].value;ac.value(ad===""||isNaN(ad)?ab:ad)})},destroy:function(){var ab=this;aa.fn.destroy.call(ab);ab.wrapper.off(M).find(".k-button").off(M).end().find(e).off(M).end().find(H+", "+f).off(M).end();ab._drag.draggable.destroy();ab._drag._removeTooltip(true)}});I.Selection=function(ab,ad,ac){function ae(al){var ag=al-ac.min,af=ad._valueIndex=z.ceil(Y(ag/ac.smallStep)),ai=parseInt(ad._pixelSteps[af],10),ak=ad._trackDiv.find(".k-slider-selection"),ah=parseInt(ab[ad._outerSize]()/2,10),aj=ad._isRtl?2:0;ak[ad._sizeFn](ad._isRtl?ad._maxSelection-ai:ai);ab.css(ad._position,ai-ah-aj)}ae(ac.value);ad.bind([C,b,q],function(af){ae(parseFloat(af.value,10))})};I.Drag=function(ad,ae,ab,ac){var af=this;af.owner=ab;af.options=ac;af.element=ad;af.type=ae;af.draggable=new j(ad,{distance:0,dragstart:W(af._dragstart,af),drag:W(af.drag,af),dragend:W(af.dragend,af),dragcancel:W(af.dragcancel,af)});ad.click(false)};I.Drag.prototype={dragstart:function(ab){this.owner._activeDragHandle=this;this.draggable.userEvents.cancel();this.draggable.userEvents._start(ab)},_dragstart:function(ae){var ad=this,ab=ad.owner,ac=ad.options;if(!ac.enabled){ae.preventDefault();return}this.owner._activeDragHandle=this;ab.element.off(h);ab.wrapper.find("."+Q).removeClass(Q+" "+r);ad.element.addClass(Q+" "+r);D(document.documentElement).css("cursor","pointer");ad.dragableArea=ab._getDraggableArea();ad.step=z.max(ac.smallStep*(ab._maxSelection/ab._distance),0);if(ad.type){ad.selectionStart=ac.selectionStart;ad.selectionEnd=ac.selectionEnd;ab._setZIndex(ad.type)}else{ad.oldVal=ad.val=ac.value}ad._removeTooltip(true);ad._createTooltip()},_createTooltip:function(){var af=this,ab=af.owner,ah=af.options.tooltip,ad="",ae=D(window),ac,ag;if(!ah.enabled){return}if(ah.template){ac=af.tooltipTemplate=G.template(ah.template)}D(".k-slider-tooltip").remove();af.tooltipDiv=D("<div class='k-widget k-tooltip k-slider-tooltip'><!-- --></div>").appendTo(document.body);ad=ab._getFormattedValue(af.val||ab.value(),af);if(!af.type){ag="k-callout-"+(ab._isHorizontal?"s":"e");af.tooltipInnerDiv="<div class='k-callout "+ag+"'><!-- --></div>";ad+=af.tooltipInnerDiv}af.tooltipDiv.html(ad);af._scrollOffset={top:ae.scrollTop(),left:ae.scrollLeft()};af.moveTooltip()},drag:function(ah){var ag=this,ac=ag.owner,ab=ah.x.location,ai=ah.y.location,af=ag.dragableArea.startPoint,ad=ag.dragableArea.endPoint,ae;ah.preventDefault();if(ac._isHorizontal){if(ac._isRtl){ag.val=ag.constrainValue(ab,af,ad,ab<ad)}else{ag.val=ag.constrainValue(ab,af,ad,ab>=ad)}}else{ag.val=ag.constrainValue(ai,ad,af,ai<=ad)}if(ag.oldVal!=ag.val){ag.oldVal=ag.val;if(ag.type){if(ag.type=="firstHandle"){if(ag.val<ag.selectionEnd){ag.selectionStart=ag.val}else{ag.selectionStart=ag.selectionEnd=ag.val}}else{if(ag.val>ag.selectionStart){ag.selectionEnd=ag.val}else{ag.selectionStart=ag.selectionEnd=ag.val}}ae={values:[ag.selectionStart,ag.selectionEnd],value:[ag.selectionStart,ag.selectionEnd]}}else{ae={value:ag.val}}ac.trigger(b,ae)}ag._updateTooltip(ag.val)},_updateTooltip:function(af){var ad=this,ab=ad.options,ae=ab.tooltip,ac="";if(!ae.enabled){return}if(!ad.tooltipDiv){ad._createTooltip()}ac=ad.owner._getFormattedValue(Y(af),ad);if(!ad.type){ac+=ad.tooltipInnerDiv}ad.tooltipDiv.html(ac);ad.moveTooltip()},dragcancel:function(){this.owner._refresh();D(document.documentElement).css("cursor","");return this._end()},dragend:function(){var ac=this,ab=ac.owner;D(document.documentElement).css("cursor","");if(ac.type){ab._update(ac.selectionStart,ac.selectionEnd)}else{ab._update(ac.val);ac.draggable.userEvents._disposeAll()}return ac._end()},_end:function(){var ac=this,ab=ac.owner;ab._focusWithMouse(ac.element);ab.element.on(h);return false},_removeTooltip:function(ac){var ad=this,ab=ad.owner;if(ad.tooltipDiv&&ab.options.tooltip.enabled&&ab.options.enabled){if(ac){ad.tooltipDiv.remove();ad.tooltipDiv=null}else{ad.tooltipDiv.fadeOut("slow",function(){D(this).remove();ad.tooltipDiv=null})}}},moveTooltip:function(){var aj=this,ac=aj.owner,am=0,ad=0,ah=aj.element,ag=G.getOffset(ah),af=8,al=D(window),ae=aj.tooltipDiv.find(".k-callout"),ab=aj.tooltipDiv.outerWidth(),ap=aj.tooltipDiv.outerHeight(),ai,an,ao,ak;if(aj.type){ai=ac.wrapper.find(e);ag=G.getOffset(ai.eq(0));an=G.getOffset(ai.eq(1));if(ac._isHorizontal){am=an.top;ad=ag.left+((an.left-ag.left)/2)}else{am=ag.top+((an.top-ag.top)/2);ad=an.left}ak=ai.eq(0).outerWidth()+2*af}else{am=ag.top;ad=ag.left;ak=ah.outerWidth()+2*af}if(ac._isHorizontal){ad-=parseInt((ab-ah[ac._outerSize]())/2,10);am-=ap+ae.height()+af}else{am-=parseInt((ap-ah[ac._outerSize]())/2,10);ad-=ab+ae.width()+af}if(ac._isHorizontal){ao=aj._flip(am,ap,ak,al.outerHeight()+aj._scrollOffset.top);am+=ao;ad+=aj._fit(ad,ab,al.outerWidth()+aj._scrollOffset.left)}else{ao=aj._flip(ad,ab,ak,al.outerWidth()+aj._scrollOffset.left);am+=aj._fit(am,ap,al.outerHeight()+aj._scrollOffset.top);ad+=ao}if(ao>0&&ae){ae.removeClass();ae.addClass("k-callout k-callout-"+(ac._isHorizontal?"n":"w"))}aj.tooltipDiv.css({top:am,left:ad})},_fit:function(ac,ae,ab){var ad=0;if(ac+ae>ab){ad=ab-(ac+ae)}if(ac<0){ad=-ac}return ad},_flip:function(af,ae,ac,ab){var ad=0;if(af+ae>ab){ad+=-(ac+ae)}if(af+ad<0){ad+=ac+ae}return ad},constrainValue:function(ac,ad,ab,af){var ae=this,ag=0;if(ad<ac&&ac<ab){ag=ae.owner._getValueFromPosition(ac,ae.dragableArea)}else{if(af){ag=ae.options.max}else{ag=ae.options.min}}return ag}};G.ui.plugin(I);var T=aa.extend({init:function(af,ae){var ah=this,ac=D(af).find("input"),ab=ac.eq(0)[0],ag=ac.eq(1)[0];ab.type="text";ag.type="text";ae=i({},{selectionStart:v(ab,"value"),min:v(ab,"min"),max:v(ab,"max"),smallStep:v(ab,"step")},{selectionEnd:v(ag,"value"),min:v(ag,"min"),max:v(ag,"max"),smallStep:v(ag,"step")},ae);if(ae&&ae.enabled===k){ae.enabled=!ac.is("[disabled]")}aa.fn.init.call(ah,af,ae);ae=ah.options;if(!V(ae.selectionStart)||ae.selectionStart===null){ae.selectionStart=ae.min;ac.eq(0).prop("value",m(ae.min))}if(!V(ae.selectionEnd)||ae.selectionEnd===null){ae.selectionEnd=ae.max;ac.eq(1).prop("value",m(ae.max))}var ad=ah.wrapper.find(e);new T.Selection(ad,ah,ae);ah._firstHandleDrag=new I.Drag(ad.eq(0),"firstHandle",ah,ae);ah._lastHandleDrag=new I.Drag(ad.eq(1),"lastHandle",ah,ae)},options:{name:"RangeSlider",leftDragHandleTitle:"drag",rightDragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},selectionStart:null,selectionEnd:null},enable:function(ac){var ad=this,ab=ad.options,ae;ad.disable();if(ac===false){return}ad.wrapper.removeClass(x).addClass(X);ad.wrapper.find("input").removeAttr(B);ae=function(ai){var ag=p(ai)[0];if(!ag){return}var an=ad._isHorizontal?ag.location.pageX:ag.location.pageY,ak=ad._getDraggableArea(),af=ad._getValueFromPosition(an,ak),aj=D(ai.target),al,am,ah;if(aj.hasClass("k-draghandle")){ad.wrapper.find("."+Q).removeClass(Q+" "+r);aj.addClass(Q+" "+r);return}if(af<ab.selectionStart){al=af;am=ab.selectionEnd;ah=ad._firstHandleDrag}else{if(af>ad.selectionEnd){al=ab.selectionStart;am=af;ah=ad._lastHandleDrag}else{if(af-ab.selectionStart<=ab.selectionEnd-af){al=af;am=ab.selectionEnd;ah=ad._firstHandleDrag}else{al=ab.selectionStart;am=af;ah=ad._lastHandleDrag}}}ah.dragstart(ai);ad._setValueInRange(al,am);ad._focusWithMouse(ah.element)};ad.wrapper.find(H+", "+f).on(U,ae).end().on(U,function(){D(document.documentElement).one("selectstart",G.preventDefault)}).on(g,function(){if(ad._activeDragHandle){ad._activeDragHandle._end()}});ad.wrapper.find(e).attr(u,0).on(d,function(){ad._setTooltipTimeout()}).on(R,function(af){ad._focusWithMouse(af.target);af.preventDefault()}).on(Z,W(ad._focus,ad)).on(N,W(ad._blur,ad));ad.wrapper.find(e).off(w,G.preventDefault).eq(0).on(w,W(function(af){this._keydown(af,"firstHandle")},ad)).end().eq(1).on(w,W(function(af){this._keydown(af,"lastHandle")},ad));ad.options.enabled=true},disable:function(){var ab=this;ab.wrapper.removeClass(X).addClass(x);ab.wrapper.find("input").prop(B,B);ab.wrapper.find(H+", "+f).off(U).off(g);ab.wrapper.find(e).attr(u,-1).off(d).off(w).off(R).off(Z).off(N);ab.options.enabled=false},_keydown:function(ag,af){var ae=this,ai=ae.options.selectionStart,ac=ae.options.selectionEnd,ab,ah,ad;if(ag.keyCode in ae._keyMap){ae._clearTooltipTimeout();if(af=="firstHandle"){ad=ae._activeHandleDrag=ae._firstHandleDrag;ai=ae._keyMap[ag.keyCode](ai);if(ai>ac){ac=ai}}else{ad=ae._activeHandleDrag=ae._lastHandleDrag;ac=ae._keyMap[ag.keyCode](ac);if(ai>ac){ai=ac}}ae._setValueInRange(ai,ac);ab=Math.max(ai,ae.options.selectionStart);ah=Math.min(ac,ae.options.selectionEnd);ad.selectionEnd=Math.max(ah,ae.options.selectionStart);ad.selectionStart=Math.min(ab,ae.options.selectionEnd);ad._updateTooltip(ae.value()[ae._activeHandle]);ag.preventDefault()}},_update:function(ad,ae){var ac=this,ab=ac.value();var af=ab[0]!=ad||ab[1]!=ae;ac.value([ad,ae]);if(af){ac.trigger(C,{values:[ad,ae],value:[ad,ae]})}},value:function(ab){if(ab&&ab.length){return this._value(ab[0],ab[1])}else{return this._value()}},_value:function(ag,ab){var ad=this,ac=ad.options,ae=ac.selectionStart,af=ac.selectionEnd;if(isNaN(ag)&&isNaN(ab)){return[ae,af]}else{ag=Y(ag);ab=Y(ab)}if(ag>=ac.min&&ag<=ac.max&&ab>=ac.min&&ab<=ac.max&&ag<=ab){if(ae!=ag||af!=ab){ad.element.find("input").eq(0).prop("value",m(ag)).end().eq(1).prop("value",m(ab));ac.selectionStart=ag;ac.selectionEnd=ab;ad._refresh();ad._refreshAriaAttr(ag,ab)}}},values:function(ac,ab){if(s(ac)){return this._value(ac[0],ac[1])}else{return this._value(ac,ab)}},_refresh:function(){var ac=this,ab=ac.options;ac.trigger(q,{values:[ab.selectionStart,ab.selectionEnd],value:[ab.selectionStart,ab.selectionEnd]});if(ab.selectionStart==ab.max&&ab.selectionEnd==ab.max){ac._setZIndex("firstHandle")}},_refreshAriaAttr:function(ag,ab){var af=this,ac=af.wrapper.find(e),ae=af._activeHandleDrag,ad;ad=af._getFormattedValue([ag,ab],ae);ac.eq(0).attr("aria-valuenow",ag);ac.eq(1).attr("aria-valuenow",ab);ac.attr("aria-valuetext",ad)},_setValueInRange:function(ac,ad){var ab=this.options;ac=z.max(z.min(ac,ab.max),ab.min);ad=z.max(z.min(ad,ab.max),ab.min);if(ac==ab.max&&ad==ab.max){this._setZIndex("firstHandle")}this._update(z.min(ac,ad),z.max(ac,ad))},_setZIndex:function(ab){this.wrapper.find(e).each(function(ac){D(this).css("z-index",ab=="firstHandle"?1-ac:ac)})},_formResetHandler:function(){var ac=this,ab=ac.options;setTimeout(function(){var ae=ac.element.find("input");var af=ae[0].value;var ad=ae[1].value;ac.values(af===""||isNaN(af)?ab.min:af,ad===""||isNaN(ad)?ab.max:ad)})},destroy:function(){var ab=this;aa.fn.destroy.call(ab);ab.wrapper.off(M).find(H+", "+f).off(M).end().find(e).off(M);ab._firstHandleDrag.draggable.destroy();ab._lastHandleDrag.draggable.destroy()}});T.Selection=function(ab,ae,ad){function af(al){al=al||[];var ak=al[0]-ad.min,ag=al[1]-ad.min,aj=z.ceil(Y(ak/ad.smallStep)),am=z.ceil(Y(ag/ad.smallStep)),an=ae._pixelSteps[aj],ao=ae._pixelSteps[am],ah=parseInt(ab.eq(0)[ae._outerSize]()/2,10),ai=ae._isRtl?2:0;ab.eq(0).css(ae._position,an-ah-ai).end().eq(1).css(ae._position,ao-ah-ai);ac(an,ao)}function ac(ai,aj){var ag,ak,ah=ae._trackDiv.find(".k-slider-selection");ag=z.abs(ai-aj);ah[ae._sizeFn](ag);if(ae._isRtl){ak=z.max(ai,aj);ah.css("right",ae._maxSelection-ak-1)}else{ak=z.min(ai,aj);ah.css(ae._position,ak-1)}}af(ae.value());ae.bind([C,b,q],function(ag){af(ag.values)})};G.ui.plugin(T)})(window.kendo.jQuery);(function(f,l,g){var o=window.kendo,n=o.ui,d=n.Widget,v=o.parseColor,z=o.Color,w=o.keys,t="background-color",h="k-state-selected",c="000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7",q="FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000",s={apply:"Apply",cancel:"Cancel"},u=".kendoColorTools",e="click"+u,p="keydown"+u,y=o.support.browser,m=y.msie&&y.version<9;var r=d.extend({init:function(C,B){var D=this,E;d.fn.init.call(D,C,B);C=D.element;B=D.options;D._value=B.value=v(B.value);D._tabIndex=C.attr("tabIndex")||0;E=D._ariaId=B.ariaId;if(E){C.attr("aria-labelledby",E)}if(B._standalone){D._triggerSelect=D._triggerChange}},options:{name:"ColorSelector",value:null,_standalone:true},events:["change","select","cancel"],color:function(B){if(B!==g){this._value=v(B);this._updateUI(this._value)}return this._value},value:function(B){B=this.color(B);if(B){if(this.options.opacity){B=B.toCssRgba()}else{B=B.toCss()}}return B||null},enable:function(B){if(arguments.length===0){B=true}f(".k-disabled-overlay",this.wrapper).remove();if(!B){this.wrapper.append("<div class='k-disabled-overlay'></div>")}this._onEnable(B)},_select:function(B,C){var D=this._value;B=this.color(B);if(!C){this.element.trigger("change");if(!B.equals(D)){this.trigger("change",{value:this.value()})}else{if(!this._standalone){this.trigger("cancel")}}}},_triggerSelect:function(B){b(this,"select",B)},_triggerChange:function(B){b(this,"change",B)},destroy:function(){if(this.element){this.element.off(u)}if(this.wrapper){this.wrapper.off(u).find("*").off(u)}this.wrapper=null;d.fn.destroy.call(this)},_updateUI:f.noop,_selectOnHide:function(){return null},_cancel:function(){this.trigger("cancel")}});function b(C,D,B){B=v(B);if(B&&!B.equals(C.color())){if(D=="change"){C._value=B}if(B.a!=1){B=B.toCssRgba()}else{B=B.toCss()}C.trigger(D,{value:B})}}var i=r.extend({init:function(E,D){var G=this;r.fn.init.call(G,E,D);E=G.wrapper=G.element;D=G.options;var C=D.palette;if(C=="websafe"){C=q;D.columns=18}else{if(C=="basic"){C=c}}if(typeof C=="string"){C=C.split(",")}if(f.isArray(C)){C=f.map(C,function(I){return v(I)})}G._selectedID=(D.ariaId||o.guid())+"_selected";E.addClass("k-widget k-colorpalette").attr("role","grid").attr("aria-readonly","true").append(f(G._template({colors:C,columns:D.columns,tileSize:D.tileSize,value:G._value,id:D.ariaId}))).on(e,".k-item",function(I){G._select(f(I.currentTarget).css(t))}).attr("tabIndex",G._tabIndex).on(p,A(G._keydown,G));var H=D.tileSize,F,B;if(H){if(/number|string/.test(typeof H)){F=B=parseFloat(H)}else{if(typeof H=="object"){F=parseFloat(H.width);B=parseFloat(H.height)}else{throw new Error("Unsupported value for the 'tileSize' argument")}}E.find(".k-item").css({width:F,height:B})}},focus:function(){this.wrapper.focus()},options:{name:"ColorPalette",columns:10,tileSize:null,palette:"basic"},_onEnable:function(B){if(B){this.wrapper.attr("tabIndex",this._tabIndex)}else{this.wrapper.removeAttr("tabIndex")}},_keydown:function(H){var E,I=this.wrapper,C=I.find(".k-item"),G=C.filter("."+h).get(0),F=H.keyCode;if(F==w.LEFT){E=x(C,G,-1)}else{if(F==w.RIGHT){E=x(C,G,1)}else{if(F==w.DOWN){E=x(C,G,this.options.columns)}else{if(F==w.UP){E=x(C,G,-this.options.columns)}else{if(F==w.ENTER){j(H);if(G){this._select(f(G).css(t))}}else{if(F==w.ESC){this._cancel()}}}}}}if(E){j(H);this._current(E);try{var B=v(E.css(t));this._triggerSelect(B)}catch(D){}}},_current:function(B){this.wrapper.find("."+h).removeClass(h).attr("aria-selected",false).removeAttr("id");f(B).addClass(h).attr("aria-selected",true).attr("id",this._selectedID);this.element.removeAttr("aria-activedescendant").attr("aria-activedescendant",this._selectedID)},_updateUI:function(B){var C=null;this.wrapper.find(".k-item").each(function(){var D=v(f(this).css(t));if(D&&D.equals(B)){C=this;return false}});this._current(C)},_template:o.template('<table class="k-palette k-reset" role="presentation"><tr role="row"># for (var i = 0; i < colors.length; ++i) { ## var selected = colors[i].equals(value); ## if (i && i % columns == 0) { # </tr><tr role="row"> # } #<td role="gridcell" unselectable="on" style="background-color:#= colors[i].toCss() #"#= selected ? " aria-selected=true" : "" # #=(id && i === 0) ? "id=\\""+id+"\\" " : "" # class="k-item#= selected ? " '+h+'" : "" #" aria-label="#= colors[i].toCss() #"></td># } #</tr></table>')});var k=r.extend({init:function(C,B){var D=this;r.fn.init.call(D,C,B);B=D.options;C=D.element;D.wrapper=C.addClass("k-widget k-flatcolorpicker").append(D._template(B));D._hueElements=f(".k-hsv-rectangle, .k-transparency-slider .k-slider-track",C);D._selectedColor=f(".k-selected-color-display",C);D._colorAsText=f("input.k-color-value",C);D._sliders();D._hsvArea();D._updateUI(D._value||v("#f00"));C.find("input.k-color-value").on(p,function(H){var F=this;if(H.keyCode==w.ENTER){try{var E=v(F.value);var I=D.color();D._select(E,E.equals(I))}catch(G){f(F).addClass("k-state-error")}}else{if(D.options.autoupdate){setTimeout(function(){var J=v(F.value,true);if(J){D._updateUI(J,true)}},10)}}}).end().on(e,".k-controls button.apply",function(){D._select(D._getHSV())}).on(e,".k-controls button.cancel",function(){D._updateUI(D.color());D._cancel()});if(m){D._applyIEFilter()}},destroy:function(){this._hueSlider.destroy();if(this._opacitySlider){this._opacitySlider.destroy()}this._hueSlider=this._opacitySlider=this._hsvRect=this._hsvHandle=this._hueElements=this._selectedColor=this._colorAsText=null;r.fn.destroy.call(this)},options:{name:"FlatColorPicker",opacity:false,buttons:false,input:true,preview:true,autoupdate:true,messages:s},_applyIEFilter:function(){var B=this.element.find(".k-hue-slider .k-slider-track")[0],C=B.currentStyle.backgroundImage;C=C.replace(/^url\([\'\"]?|[\'\"]?\)$/g,"");B.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+C+"', sizingMethod='scale')"},_sliders:function(){var D=this,C=D.element;function B(F){D._updateUI(D._getHSV(F.value,null,null,null))}D._hueSlider=C.find(".k-hue-slider").kendoSlider({min:0,max:359,tickPlacement:"none",showButtons:false,slide:B,change:B}).data("kendoSlider");function E(F){D._updateUI(D._getHSV(null,null,null,F.value/100))}D._opacitySlider=C.find(".k-transparency-slider").kendoSlider({min:0,max:100,tickPlacement:"none",showButtons:false,slide:E,change:E}).data("kendoSlider")},_hsvArea:function(){var E=this,D=E.element,B=D.find(".k-hsv-rectangle"),C=B.find(".k-draghandle").attr("tabIndex",0).on(p,A(E._keydown,E));function F(G,M){var L=this.offset,J=G-L.left,H=M-L.top,K=this.width,I=this.height;J=J<0?0:J>K?K:J;H=H<0?0:H>I?I:H;E._svChange(J/K,1-H/I)}E._hsvEvents=new o.UserEvents(B,{global:true,press:function(G){this.offset=o.getOffset(B);this.width=B.width();this.height=B.height();C.focus();F.call(this,G.x.location,G.y.location)},start:function(){B.addClass("k-dragging");C.focus()},move:function(G){G.preventDefault();F.call(this,G.x.location,G.y.location)},end:function(){B.removeClass("k-dragging")}});E._hsvRect=B;E._hsvHandle=C},_onEnable:function(B){this._hueSlider.enable(B);if(this._opacitySlider){this._opacitySlider.enable(B)}this.wrapper.find("input").attr("disabled",!B);var C=this._hsvRect.find(".k-draghandle");if(B){C.attr("tabIndex",this._tabIndex)}else{C.removeAttr("tabIndex")}},_keydown:function(E){var D=this;function B(H,F){var G=D._getHSV();G[H]+=F*(E.shiftKey?0.01:0.05);if(G[H]<0){G[H]=0}if(G[H]>1){G[H]=1}D._updateUI(G);j(E)}function C(F){var G=D._getHSV();G.h+=F*(E.shiftKey?1:5);if(G.h<0){G.h=0}if(G.h>359){G.h=359}D._updateUI(G);j(E)}switch(E.keyCode){case w.LEFT:if(E.ctrlKey){C(-1)}else{B("s",-1)}break;case w.RIGHT:if(E.ctrlKey){C(1)}else{B("s",1)}break;case w.UP:B(E.ctrlKey&&D._opacitySlider?"a":"v",1);break;case w.DOWN:B(E.ctrlKey&&D._opacitySlider?"a":"v",-1);break;case w.ENTER:D._select(D._getHSV());break;case w.F2:D.wrapper.find("input.k-color-value").focus().select();break;case w.ESC:D._cancel();break}},focus:function(){this._hsvHandle.focus()},_getHSV:function(H,G,E,D){var I=this._hsvRect,F=I.width(),B=I.height(),C=this._hsvHandle.position();if(H==null){H=this._hueSlider.value()}if(G==null){G=C.left/F}if(E==null){E=1-C.top/B}if(D==null){D=this._opacitySlider?this._opacitySlider.value()/100:1}return z.fromHSV(H,G,E,D)},_svChange:function(D,C){var B=this._getHSV(null,D,C,null);this._updateUI(B)},_updateUI:function(B,E){var D=this,C=D._hsvRect;if(!B){return}this._colorAsText.removeClass("k-state-error");D._selectedColor.css(t,B.toDisplay());if(!E){D._colorAsText.val(D._opacitySlider?B.toCssRgba():B.toCss())}D._triggerSelect(B);B=B.toHSV();D._hsvHandle.css({left:B.s*C.width()+"px",top:(1-B.v)*C.height()+"px"});D._hueElements.css(t,z.fromHSV(B.h,1,1,1).toCss());D._hueSlider.value(B.h);if(D._opacitySlider){D._opacitySlider.value(100*B.a)}},_selectOnHide:function(){return this.options.buttons?null:this._getHSV()},_template:o.template('# if (preview) { #<div class="k-selected-color"><div class="k-selected-color-display"><input class="k-color-value" #= !data.input ? \'style="visibility: hidden;"\' : "" #></div></div># } #<div class="k-hsv-rectangle"><div class="k-hsv-gradient"></div><div class="k-draghandle"></div></div><input class="k-hue-slider" /># if (opacity) { #<input class="k-transparency-slider" /># } ## if (buttons) { #<div unselectable="on" class="k-controls"><button class="k-button k-primary apply">#: messages.apply #</button> <button class="k-button cancel">#: messages.cancel #</button></div># } #')});function x(F,B,E){F=Array.prototype.slice.call(F);var D=F.length;var C=F.indexOf(B);if(C<0){return E<0?F[D-1]:F[0]}C+=E;if(C<0){C+=D}else{C%=D}return F[C]}var a=d.extend({init:function(D,C){var F=this;d.fn.init.call(F,D,C);C=F.options;D=F.element;var G=D.attr("value")||D.val();if(G){G=v(G,true)}else{G=v(C.value,true)}F._value=C.value=G;var E=F.wrapper=f(F._template(C));D.hide().after(E);if(D.is("input")){D.appendTo(E);var B=D.closest("label");var I=D.attr("id");if(I){B=B.add('label[for="'+I+'"]')}B.click(function(J){F.open();J.preventDefault()})}F._tabIndex=D.attr("tabIndex")||0;F.enable(!D.attr("disabled"));var H=D.attr("accesskey");if(H){D.attr("accesskey",null);E.attr("accesskey",H)}F.bind("activate",function(J){if(!J.isDefaultPrevented()){F.toggle()}});F._updateUI(G)},destroy:function(){this.wrapper.off(u).find("*").off(u);if(this._popup){this._selector.destroy();this._popup.destroy()}this._selector=this._popup=this.wrapper=null;d.fn.destroy.call(this)},enable:function(B){var E=this,F=E.wrapper,C=F.children(".k-picker-wrap"),D=C.find(".k-select");if(arguments.length===0){B=true}E.element.attr("disabled",!B);F.attr("aria-disabled",!B);D.off(u).on("mousedown"+u,j);F.addClass("k-state-disabled").removeAttr("tabIndex").add("*",F).off(u);if(B){F.removeClass("k-state-disabled").attr("tabIndex",E._tabIndex).on("mouseenter"+u,function(){C.addClass("k-state-hover")}).on("mouseleave"+u,function(){C.removeClass("k-state-hover")}).on("focus"+u,function(){C.addClass("k-state-focused")}).on("blur"+u,function(){C.removeClass("k-state-focused")}).on(p,A(E._keydown,E)).on(e,".k-icon",A(E.toggle,E)).on(e,E.options.toolIcon?".k-tool-icon":".k-selected-color",function(){E.trigger("activate")})}},_template:o.template('<span role="textbox" aria-haspopup="true" class="k-widget k-colorpicker k-header"><span class="k-picker-wrap k-state-default"># if (toolIcon) { #<span class="k-tool-icon #= toolIcon #"><span class="k-selected-color"></span></span># } else { #<span class="k-selected-color"></span># } #<span class="k-select" unselectable="on"><span class="k-icon k-i-arrow-s" unselectable="on"></span></span></span></span>'),options:{name:"ColorPicker",palette:null,columns:10,toolIcon:null,value:null,messages:s,opacity:false,buttons:true,preview:true,ARIATemplate:'Current selected color is #=data || ""#'},events:["activate","change","select","open","close"],open:function(){this._getPopup().open()},close:function(){this._getPopup().close()},toggle:function(){this._getPopup().toggle()},color:r.fn.color,value:r.fn.value,_select:r.fn._select,_triggerSelect:r.fn._triggerSelect,_isInputTypeColor:function(){var B=this.element[0];return(/^input$/i).test(B.tagName)&&(/^color$/i).test(B.type)},_updateUI:function(C){var B="";if(C){if(this._isInputTypeColor()||C.a==1){B=C.toCss()}else{B=C.toCssRgba()}this.element.val(B)}if(!this._ariaTemplate){this._ariaTemplate=o.template(this.options.ARIATemplate)}this.wrapper.attr("aria-label",this._ariaTemplate(B));this._triggerSelect(C);this.wrapper.find(".k-selected-color").css(t,C?C.toDisplay():"transparent")},_keydown:function(C){var B=C.keyCode;if(this._getPopup().visible()){if(B==w.ESC){this._selector._cancel()}else{this._selector._keydown(C)}j(C)}else{if(B==w.ENTER||B==w.DOWN){this.open();j(C)}}},_getPopup:function(){var F=this,C=F._popup;if(!C){var E=F.options;var D;if(E.palette){D=i}else{D=k}E._standalone=false;delete E.select;delete E.change;delete E.cancel;var G=o.guid();var B=F._selector=new D(f('<div id="'+G+'"/>').appendTo(document.body),E);F.wrapper.attr("aria-owns",G);F._popup=C=B.wrapper.kendoPopup({anchor:F.wrapper}).data("kendoPopup");B.bind({select:function(H){F._updateUI(v(H.value))},change:function(){F._select(B.color());F.close()},cancel:function(){F.close()}});C.bind({close:function(I){if(F.trigger("close")){I.preventDefault();return}F.wrapper.children(".k-picker-wrap").removeClass("k-state-focused");var H=B._selectOnHide();if(!H){F.wrapper.focus();F._updateUI(F.color())}else{F._select(H)}},open:function(H){if(F.trigger("open")){H.preventDefault()}else{F.wrapper.children(".k-picker-wrap").addClass("k-state-focused")}},activate:function(){B._select(F.color(),true);B.focus();F.wrapper.children(".k-picker-wrap").addClass("k-state-focused")}})}return C}});function j(B){B.preventDefault()}function A(C,B){return function(){return C.apply(B,arguments)}}n.plugin(i);n.plugin(k);n.plugin(a)})(jQuery,parseInt);(function(w,k){var x=window.kendo,o=x.caret,r=x.keys,A=x.ui,a=A.Widget,f=x._activeElement,i=x._extractFormat,p=x.parseFloat,J=x.support.placeholder,m=x.getCulture,F=x._round,v="change",u="disabled",g="readonly",d="k-input",e="spin",H=".kendoNumericTextBox",z="touchend",n="mouseleave"+H,c="mouseenter"+H+" "+n,D="k-state-default",y="k-state-focused",q="k-state-hover",I="focus",B=".",s="k-state-selected",l="k-state-disabled",j="aria-disabled",C="aria-readonly",b=/^(-)?(\d*)$/,t=null,E=w.proxy;var G=a.extend({init:function(N,S){var O=this,Q=S&&S.step!==k,M,P,K,R,L;a.fn.init.call(O,N,S);S=O.options;N=O.element.on("focusout"+H,E(O._focusout,O)).attr("role","spinbutton");S.placeholder=S.placeholder||N.attr("placeholder");O._reset();O._wrapper();O._arrows();O._input();if(!x.support.mobileOS){O._text.on(I+H,E(O._click,O))}else{O._text.on(z+H+" "+I+H,function(T){O._toggleText(false);N.focus()})}M=O.min(N.attr("min"));P=O.max(N.attr("max"));K=O._parse(N.attr("step"));if(S.min===t&&M!==t){S.min=M}if(S.max===t&&P!==t){S.max=P}if(!Q&&K!==t){S.step=K}N.attr("aria-valuemin",S.min).attr("aria-valuemax",S.max);S.format=i(S.format);R=S.value;O.value(R!==t?R:N.val());L=N.is("[disabled]");if(L){O.enable(false)}else{O.readonly(N.is("[readonly]"))}x.notify(O)},options:{name:"NumericTextBox",decimals:t,min:t,max:t,value:t,step:1,culture:"",format:"n",spinners:true,placeholder:"",upArrowText:"Increase value",downArrowText:"Decrease value"},events:[v,e],_editable:function(M){var O=this,N=O.element,L=M.disable,K=M.readonly,P=O._text.add(N),Q=O._inputWrapper.off(c);O._toggleText(true);O._upArrowEventHandler.unbind("press");O._downArrowEventHandler.unbind("press");N.off("keydown"+H).off("keypress"+H).off("paste"+H);if(!K&&!L){Q.addClass(D).removeClass(l).on(c,O._toggleHover);P.removeAttr(u).removeAttr(g).attr(j,false).attr(C,false);O._upArrowEventHandler.bind("press",function(R){R.preventDefault();O._spin(1);O._upArrow.addClass(s)});O._downArrowEventHandler.bind("press",function(R){R.preventDefault();O._spin(-1);O._downArrow.addClass(s)});O.element.on("keydown"+H,E(O._keydown,O)).on("keypress"+H,E(O._keypress,O)).on("paste"+H,E(O._paste,O))}else{Q.addClass(L?l:D).removeClass(L?D:l);P.attr(u,L).attr(g,K).attr(j,L).attr(C,K)}},readonly:function(K){this._editable({readonly:K===k?true:K,disable:false})},enable:function(K){this._editable({readonly:false,disable:!(K=K===k?true:K)})},destroy:function(){var K=this;K.element.add(K._text).add(K._upArrow).add(K._downArrow).add(K._inputWrapper).off(H);K._upArrowEventHandler.destroy();K._downArrowEventHandler.destroy();if(K._form){K._form.off("reset",K._resetHandler)}a.fn.destroy.call(K)},min:function(K){return this._option("min",K)},max:function(K){return this._option("max",K)},step:function(K){return this._option("step",K)},value:function(M){var L=this,K;if(M===k){return L._value}M=L._parse(M);K=L._adjust(M);if(M!==K){return}L._update(M);L._old=L._value},focus:function(){this._focusin()},_adjust:function(O){var N=this,L=N.options,M=L.min,K=L.max;if(O===t){return O}if(M!==t&&O<M){O=M}else{if(K!==t&&O>K){O=K}}return O},_arrows:function(){var O=this,L,P=function(){clearTimeout(O._spinning);L.removeClass(s)},M=O.options,K=M.spinners,N=O.element;L=N.siblings(".k-icon");if(!L[0]){L=w(h("n",M.upArrowText)+h("s",M.downArrowText)).insertAfter(N);L.wrapAll('<span class="k-select"/>')}if(!K){L.parent().toggle(K);O._inputWrapper.addClass("k-expand-padding")}O._upArrow=L.eq(0);O._upArrowEventHandler=new x.UserEvents(O._upArrow,{release:P});O._downArrow=L.eq(1);O._downArrowEventHandler=new x.UserEvents(O._downArrow,{release:P})},_blur:function(){var K=this;K._toggleText(true);K._change(K.element.val())},_click:function(L){var K=this;clearTimeout(K._focusing);K._focusing=setTimeout(function(){var P=L.target,S=o(P)[0],R=P.value.substring(0,S),Q=K._format(K.options.format),T=Q[","],U,N,M,O=0;if(T){N=new RegExp("\\"+T,"g");M=new RegExp("([\\d\\"+T+"]+)(\\"+Q[B]+")?(\\d+)?")}if(M){U=M.exec(R)}if(U){O=U[0].replace(N,"").length;if(R.indexOf("(")!=-1&&K._value<0){O++}}K._focusin();o(K.element[0],O)})},_change:function(L){var K=this;K._update(L);L=K._value;if(K._old!=L){K._old=L;K.element.trigger(v);K.trigger(v)}},_culture:function(K){return K||m(this.options.culture)},_focusin:function(){var K=this;K._inputWrapper.addClass(y);K._toggleText(false);K.element[0].focus()},_focusout:function(){var K=this;clearTimeout(K._focusing);K._inputWrapper.removeClass(y).removeClass(q);K._blur()},_format:function(M,L){var K=this._culture(L).numberFormat;M=M.toLowerCase();if(M.indexOf("c")>-1){K=K.currency}else{if(M.indexOf("p")>-1){K=K.percent}}return K},_input:function(){var N=this,M="k-formatted-value",K=N.element.addClass(d).show()[0],L=K.accessKey,Q=N.wrapper,P;P=Q.find(B+M);if(!P[0]){P=w('<input type="text"/>').insertBefore(K).addClass(M)}try{K.setAttribute("type","text")}catch(O){K.type="text"}P[0].tabIndex=K.tabIndex;P[0].style.cssText=K.style.cssText;P.prop("placeholder",N.options.placeholder);if(L){P.attr("accesskey",L);K.accessKey=""}N._text=P.addClass(K.className)},_keydown:function(M){var L=this,K=M.keyCode;L._key=K;if(K==r.DOWN){L._step(-1)}else{if(K==r.UP){L._step(1)}else{if(K==r.ENTER){L._change(L.element.val())}}}},_keypress:function(O){if(O.which===0||O.ctrlKey||O.keyCode===r.BACKSPACE||O.keyCode===r.ENTER){return}var N=this;var K=N.options.min;var L=N.element;var S=o(L);var R=S[0];var T=S[1];var M=String.fromCharCode(O.which);var P=N._format(N.options.format);var V=N._key===r.NUMPAD_DOT;var Q=L.val();var U;if(V){M=P[B]}Q=Q.substring(0,R)+M+Q.substring(T);U=N._numericRegex(P).test(Q);if(U&&V){L.val(Q);o(L,R+M.length);O.preventDefault()}else{if((K!==null&&K>=0&&Q.charAt(0)==="-")||!U){O.preventDefault()}}N._key=0},_numericRegex:function(K){var M=this;var N=K[B];var L=M.options.decimals;if(N===B){N="\\"+N}if(L===t){L=K.decimals}if(L===0){return b}if(M._separator!==N){M._separator=N;M._floatRegExp=new RegExp("^(-)?(((\\d+("+N+"\\d*)?)|("+N+"\\d*)))?$")}return M._floatRegExp},_paste:function(N){var L=this,K=N.target,M=K.value;setTimeout(function(){if(L._parse(K.value)===t){L._update(M)}})},_option:function(L,N){var M=this,K=M.options;if(N===k){return K[L]}N=M._parse(N);if(!N&&L==="step"){return}K[L]=N;M.element.attr("aria-value"+L,N).attr(L,N)},_spin:function(L,M){var K=this;M=M||500;clearTimeout(K._spinning);K._spinning=setTimeout(function(){K._spin(L,50)},M);K._step(L)},_step:function(M){var L=this,K=L.element,N=L._parse(K.val())||0;if(f()!=K[0]){L._focusin()}N+=L.options.step*M;L._update(L._adjust(N));L.trigger(e)},_toggleHover:function(K){w(K.currentTarget).toggleClass(q,K.type==="mouseenter")},_toggleText:function(K){var L=this;L._text.toggle(K);L.element.toggle(!K)},_parse:function(L,K){return p(L,this._culture(K),this.options.format)},_update:function(P){var O=this,N=O.options,Q=N.format,L=N.decimals,M=O._culture(),K=O._format(Q,M),R;if(L===t){L=K.decimals}P=O._parse(P,M);R=P!==t;if(R){P=parseFloat(F(P,L))}O._value=P=O._adjust(P);O._placeholder(x.toString(P,Q,M));if(R){P=P.toString();if(P.indexOf("e")!==-1){P=F(+P,L)}P=P.replace(B,K[B])}else{P=""}O.element.val(P).attr("aria-valuenow",P)},_placeholder:function(K){this._text.val(K);if(!J&&!K){this._text.val(this.options.placeholder)}},_wrapper:function(){var M=this,K=M.element,L=K[0],N;N=K.parents(".k-numerictextbox");if(!N.is("span.k-numerictextbox")){N=K.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent();N=N.wrap("<span/>").parent()}N[0].style.cssText=L.style.cssText;L.style.width="";M.wrapper=N.addClass("k-widget k-numerictextbox").addClass(L.className).css("display","");M._inputWrapper=w(N[0].firstChild)},_reset:function(){var M=this,K=M.element,N=K.attr("form"),L=N?w("#"+N):K.closest("form");if(L[0]){M._resetHandler=function(){setTimeout(function(){M.value(K[0].value)})};M._form=L.on("reset",M._resetHandler)}}});function h(K,L){return'<span unselectable="on" class="k-link"><span unselectable="on" class="k-icon k-i-arrow-'+K+'" title="'+L+'">'+L+"</span></span>"}A.plugin(G)})(window.kendo.jQuery);(function(g,i){var n=window.kendo,m=n.ui,q=g.proxy,o="kendoPopup",b="init",s=".kendoFilterMenu",r="Is equal to",u="Is not equal to",k={number:"numerictextbox",date:"datepicker"},c={string:"text",number:"number",date:"date"},a=n.isFunction,d=m.Widget;var p='<div><div class="k-filter-help-text">#=messages.info#</div><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label><div><button type="submit" class="k-button k-primary">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>';var f='<div><div class="k-filter-help-text">#=messages.info#</div><select data-#=ns#bind="value: filters[0].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[0].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#"></select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}##if(extra){#<select class="k-filter-and" data-#=ns#bind="value: logic" data-#=ns#role="dropdownlist"><option value="and">#=messages.and#</option><option value="or">#=messages.or#</option></select><select data-#=ns#bind="value: filters[1].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[1].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#"></select>#}else{#<input data-#=ns#bind="value: filters[1].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""#/>#}##}#<div><button type="submit" class="k-button k-primary">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>';var l='<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><button class="k-button k-cancel">#=messages.cancel#</button>#=field#<button type="submit" class="k-button k-submit">#=messages.filter#</button></div><form class="k-filter-menu k-mobile-list"><ul class="k-filter-help-text"><li><span class="k-link">#=messages.info#</span><ul><li class="k-item"><label class="k-label">#=messages.operator#<select data-#=ns#bind="value: filters[0].operator">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select></label></li><li class="k-item"><label class="k-label">#=messages.value##if(values){#<select data-#=ns#bind="value:filters[0].value"><option value="">#=messages.selectValue#</option>#for(var val in values){#<option value="#=values[val].value#">#=values[val].text#</option>#}#</select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="#=inputType#" #=useRole ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}#</label></li>#if(extra){#</ul><ul class="k-filter-help-text"><li><span class="k-link"></span><li class="k-item"><label class="k-label"><input type="radio" name="logic" class="k-check" data-#=ns#bind="checked: logic" value="and" />#=messages.and#</label></li><li class="k-item"><label class="k-label"><input type="radio" name="logic" class="k-check" data-#=ns#bind="checked: logic" value="or" />#=messages.or#</label></li></ul><ul class="k-filter-help-text"><li><span class="k-link"></span><li class="k-item"><label class="k-label">#=messages.operator#<select data-#=ns#bind="value: filters[1].operator">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select></label></li><li class="k-item"><label class="k-label">#=messages.value##if(values){#<select data-#=ns#bind="value:filters[1].value"><option value="">#=messages.selectValue#</option>#for(var val in values){#<option value="#=values[val].value#">#=values[val].text#</option>#}#</select>#}else{#<input data-#=ns#bind="value:filters[1].value" class="k-textbox" type="#=inputType#" #=useRole ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}#</label></li>#}#</ul></li><li class="k-button-container"><button type="reset" class="k-button">#=messages.clear#</button></li></ul></div></form></div>';var e='<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><button class="k-button k-cancel">#=messages.cancel#</button>#=field#<button type="submit" class="k-button k-submit">#=messages.filter#</button></div><form class="k-filter-menu k-mobile-list"><ul class="k-filter-help-text"><li><span class="k-link">#=messages.info#</span><ul><li class="k-item"><label class="k-label"><input class="k-check" type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label></li><li class="k-item"><label class="k-label"><input class="k-check" type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label></li></ul></li><li class="k-button-container"><button type="reset" class="k-button">#=messages.clear#</button></li></ul></form></div>';function v(x,w){if(x.filters){x.filters=g.grep(x.filters,function(y){v(y,w);if(y.filters){return y.filters.length}else{return y.field!=w}})}}function h(y){var x,A,z,B,C,w;if(y&&y.length){w=[];for(x=0,A=y.length;x<A;x++){z=y[x];C=z.text||z.value||z;B=z.value==null?(z.text||z):z.value;w[x]={text:C,value:B}}}return w}function t(w,x){return g.grep(w,function(y){if(y.filters){y.filters=g.grep(y.filters,function(z){return z.field!=x});return y.filters.length}return y.field!=x})}var j=d.extend({init:function(z,y){var C=this,A="string",w,x,B,D;d.fn.init.call(C,z,y);w=C.operators=y.operators||{};z=C.element;y=C.options;if(!y.appendToElement){B=z.addClass("k-with-icon k-filterable").find(".k-grid-filter");if(!B[0]){B=z.prepend('<a class="k-grid-filter" href="#"><span class="k-icon k-filter"/></a>').find(".k-grid-filter")}B.attr("tabindex",-1).on("click"+s,q(C._click,C))}C.link=B||g();C.dataSource=y.dataSource;C.field=y.field||z.attr(n.attr("field"));C.model=C.dataSource.reader.model;C._parse=function(E){return E+""};if(C.model&&C.model.fields){D=C.model.fields[C.field];if(D){A=D.type||"string";if(D.parse){C._parse=q(D.parse,D)}}}if(y.values){A="enums"}C.type=A;w=w[A]||y.operators[A];for(x in w){break}C._defaultFilter=function(){return{field:C.field,operator:x||"eq",value:""}};C._refreshHandler=q(C.refresh,C);C.dataSource.bind("change",C._refreshHandler);if(y.appendToElement){C._init()}else{C.refresh()}},_init:function(){var w=this,x=w.options.ui,y=a(x),z;w.pane=w.options.pane;if(w.pane){w._isMobile=true}if(!y){z=x||k[w.type]}if(w._isMobile){w._createMobileForm(z)}else{w._createForm(z)}w.form.on("submit"+s,q(w._submit,w)).on("reset"+s,q(w._reset,w));if(y){w.form.find(".k-textbox").removeClass("k-textbox").each(function(){x(g(this))})}w.form.find("["+n.attr("role")+"=numerictextbox]").removeClass("k-textbox").end().find("["+n.attr("role")+"=datetimepicker]").removeClass("k-textbox").end().find("["+n.attr("role")+"=timepicker]").removeClass("k-textbox").end().find("["+n.attr("role")+"=datepicker]").removeClass("k-textbox");w.refresh();w.trigger(b,{field:w.field,container:w.form})},_createForm:function(A){var z=this,x=z.options,w=z.operators||{},y=z.type;w=w[y]||x.operators[y];z.form=g('<form class="k-filter-menu"/>').html(n.template(y==="boolean"?p:f)({field:z.field,format:x.format,ns:n.ns,messages:x.messages,extra:x.extra,operators:w,type:y,role:A,values:h(x.values)}));if(!x.appendToElement){z.popup=z.form[o]({anchor:z.link,open:q(z._open,z),activate:q(z._activate,z),close:function(){if(z.options.closeCallback){z.options.closeCallback(z.element)}}}).data(o)}else{z.element.append(z.form);z.popup=z.element.closest(".k-popup").data(o)}z.form.on("keydown"+s,q(z._keydown,z))},_createMobileForm:function(A){var z=this,x=z.options,w=z.operators||{},y=z.type;w=w[y]||x.operators[y];z.form=g("<div />").html(n.template(y==="boolean"?e:l)({field:z.field,format:x.format,ns:n.ns,messages:x.messages,extra:x.extra,operators:w,type:y,role:A,useRole:(!n.support.input.date&&y==="date")||y==="number",inputType:c[y],values:h(x.values)}));z.view=z.pane.append(z.form.html());z.form=z.view.element.find("form");z.view.element.on("click",".k-submit",function(B){z.form.submit();B.preventDefault()}).on("click",".k-cancel",function(B){z._closeForm();B.preventDefault()})},refresh:function(){var w=this,x=w.dataSource.filter()||{filters:[],logic:"and"};w.filterModel=n.observable({logic:"and",filters:[w._defaultFilter(),w._defaultFilter()]});if(w.form){n.bind(w.form.children().first(),w.filterModel)}if(w._bind(x)){w.link.addClass("k-state-active")}else{w.link.removeClass("k-state-active")}},destroy:function(){var w=this;d.fn.destroy.call(w);if(w.form){n.unbind(w.form);n.destroy(w.form);w.form.unbind(s);if(w.popup){w.popup.destroy();w.popup=null}w.form=null}if(w.view){w.view.purge();w.view=null}w.link.unbind(s);if(w._refreshHandler){w.dataSource.unbind("change",w._refreshHandler);w.dataSource=null}w.element=w.link=w._refreshHandler=w.filterModel=null},_bind:function(D){var B=this,x=D.filters,E,y,F=false,C=0,z=B.filterModel,A,w;for(E=0,y=x.length;E<y;E++){w=x[E];if(w.field==B.field){z.set("logic",D.logic);A=z.filters[C];if(!A){z.filters.push({field:B.field});A=z.filters[C]}A.set("value",B._parse(w.value));A.set("operator",w.operator);C++;F=true}else{if(w.filters){F=F||B._bind(w)}}}return F},_merge:function(D){var C=this,y=D.logic||"and",B=D.filters,z,x=C.dataSource.filter()||{filters:[],logic:"and"},w,A;v(x,C.field);B=g.grep(B,function(E){return E.value!==""&&E.value!=null});for(w=0,A=B.length;w<A;w++){z=B[w];z.value=C._parse(z.value)}if(B.length){if(x.filters.length){D.filters=B;if(x.logic!=="and"){x.filters=[{logic:x.logic,filters:x.filters}];x.logic="and"}if(B.length>1){x.filters.push(D)}else{x.filters.push(B[0])}}else{x.filters=B;x.logic=y}}return x},filter:function(w){w=this._merge(w);if(w.filters.length){this.dataSource.filter(w)}},clear:function(){var w=this,x=w.dataSource.filter()||{filters:[]};x.filters=g.grep(x.filters,function(y){if(y.filters){y.filters=t(y.filters,w.field);return y.filters.length}return y.field!=w.field});if(!x.filters.length){x=null}w.dataSource.filter(x)},_submit:function(w){w.preventDefault();w.stopPropagation();this.filter(this.filterModel.toJSON());this._closeForm()},_reset:function(){this.clear();this._closeForm()},_closeForm:function(){if(this._isMobile){this.pane.navigate("",this.options.animations.right)}else{this.popup.close()}},_click:function(w){w.preventDefault();w.stopPropagation();if(!this.popup&&!this.pane){this._init()}if(this._isMobile){this.pane.navigate(this.view,this.options.animations.left)}else{this.popup.toggle()}},_open:function(){var w;g(".k-filter-menu").not(this.form).each(function(){w=g(this).data(o);if(w){w.close()}})},_activate:function(){this.form.find(":kendoFocusable:first").focus()},_keydown:function(w){if(w.keyCode==n.keys.ESC){this.popup.close()}},events:[b],options:{name:"FilterMenu",extra:true,appendToElement:false,type:"string",operators:{string:{eq:r,neq:u,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with"},number:{eq:r,neq:u,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than"},date:{eq:r,neq:u,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before"},enums:{eq:r,neq:u}},messages:{info:"Show items with value that:",isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",and:"And",or:"Or",selectValue:"-Select value-",operator:"Operator",value:"Value",cancel:"Cancel"},animations:{left:"slide",right:"slide:right"}}});m.plugin(j)})(window.kendo.jQuery);(function(K,r){var N=window.kendo,V=N.ui,i=N._activeElement,ag=(N.support.touch&&N.support.mobileOS),U="mousedown",Y="click",o=K.extend,ae=K.proxy,ad=K.each,f=N.template,G=N.keys,e=V.Widget,A=/^(ul|a|div)$/i,P=".kendoMenu",Q="img",ac="open",q="k-menu",F="k-link",T="k-last",ai="close",R="timer",v="k-first",m="k-image",B="select",k="zIndex",p="activate",ab="deactivate",E="touchstart"+P+" MSPointerDown"+P+" pointerdown"+P,O=N.support.pointers,Z=N.support.msPointers,al=Z||O,g=O?"pointerover":(Z?"MSPointerOver":"mouseenter"),u=O?"pointerout":(Z?"MSPointerOut":"mouseleave"),M=ag||al,ak=K(document.documentElement),S="kendoPopup",s="k-state-default",aj="k-state-hover",l="k-state-focused",j="k-state-disabled",h=".k-menu",X=".k-menu-group",af=X+",.k-animation-container",b=":not(.k-list) > .k-item",y=".k-item.k-state-disabled",n=".k-item:not(.k-state-disabled)",d=".k-item:not(.k-state-disabled) > .k-link",L=":not(.k-item.k-separator)",w=L+":eq(0)",D=L+":last",H="> div:not(.k-animation-container,.k-list-container)",W={"2":1,touch:1},a={content:f("<div class='k-content #= groupCssClass() #' tabindex='-1'>#= content(item) #</div>"),group:f("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>#= renderItems(data) #</ul>"),itemWrapper:f("<#= tag(item) # class='#= textClass(item) #'#= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:f("<li class='#= wrapperCssClass(group, item) #' role='menuitem' #=item.items ? \"aria-haspopup='true'\": \"\"##=item.enabled === false ? \"aria-disabled='true'\" : ''#>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),image:f("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:f("<span class='#= arrowClass(item, group) #'></span>"),sprite:f("<span class='k-sprite #= spriteCssClass #'></span>"),empty:f("")},x={wrapperCssClass:function(ap,ao){var am="k-item",an=ao.index;if(ao.enabled===false){am+=" k-state-disabled"}else{am+=" k-state-default"}if(ap.firstLevel&&an===0){am+=" k-first"}if(an==ap.length-1){am+=" k-last"}if(ao.cssClass){am+=" "+ao.cssClass}return am},textClass:function(){return F},textAttributes:function(am){return am.url?" href='"+am.url+"'":""},arrowClass:function(an,ao){var am="k-icon";if(ao.horizontal){am+=" k-i-arrow-s"}else{am+=" k-i-arrow-e"}return am},text:function(am){return am.encoded===false?am.text:N.htmlEncode(am.text)},tag:function(am){return am.url?"a":"span"},groupAttributes:function(am){return am.expanded!==true?" style='display:none'":""},groupCssClass:function(){return"k-group k-menu-group"},content:function(am){return am.content?am.content:"&nbsp;"}};function J(an,am){an=an.split(" ")[!am+0]||an;return an.replace("top","up").replace("bottom","down")}function ah(aq,an,ap){aq=aq.split(" ")[!an+0]||aq;var ao={origin:["bottom",(ap?"right":"left")],position:["top",(ap?"right":"left")]},am=/left|right/.test(aq);if(am){ao.origin=["top",aq];ao.position[1]=N.directions[aq].reverse}else{ao.origin[0]=aq;ao.position[0]=N.directions[aq].reverse}ao.origin=ao.origin.join(" ");ao.position=ao.position.join(" ");return ao}function I(am,ao){try{return K.contains(am,ao)}catch(an){return false}}function c(am){am=K(am);am.addClass("k-item").children(Q).addClass(m);am.children("a").addClass(F).children(Q).addClass(m);am.filter(":not([disabled])").addClass(s);am.filter(".k-separator:empty").append("&nbsp;");am.filter("li[disabled]").addClass(j).removeAttr("disabled").attr("aria-disabled",true);if(!am.filter("[role]").length){am.attr("role","menuitem")}if(!am.children("."+F).length){am.contents().filter(function(){return(!this.nodeName.match(A)&&!(this.nodeType==3&&!K.trim(this.nodeValue)))}).wrapAll("<span class='"+F+"'/>")}t(am);z(am)}function t(am){am=K(am);am.find("> .k-link > [class*=k-i-arrow]:not(.k-sprite)").remove();am.filter(":has(.k-menu-group)").children(".k-link:not(:has([class*=k-i-arrow]:not(.k-sprite)))").each(function(){var ao=K(this),an=ao.parent().parent();ao.append("<span class='k-icon "+(an.hasClass(q+"-horizontal")?"k-i-arrow-s":"k-i-arrow-e")+"'/>")})}function z(am){am=K(am);am.filter(".k-first:not(:first-child)").removeClass(v);am.filter(".k-last:not(:last-child)").removeClass(T);am.filter(":first-child").addClass(v);am.filter(":last-child").addClass(T)}var aa=e.extend({init:function(an,am){var ao=this;e.fn.init.call(ao,an,am);an=ao.wrapper=ao.element;am=ao.options;ao._initData(am);ao._updateClasses();ao._animations(am);ao.nextItemZIndex=100;ao._tabindex();ao._focusProxy=ae(ao._focusHandler,ao);an.on(E,n,ao._focusProxy).on(Y+P,y,false).on(Y+P,n,ae(ao._click,ao)).on("keydown"+P,ae(ao._keydown,ao)).on("focus"+P,ae(ao._focus,ao)).on("focus"+P,".k-content",ae(ao._focus,ao)).on(E+" "+U+P,".k-content",ae(ao._preventClose,ao)).on("blur"+P,ae(ao._removeHoverItem,ao)).on("blur"+P,"[tabindex]",ae(ao._checkActiveElement,ao)).on(g+P,n,ae(ao._mouseenter,ao)).on(u+P,n,ae(ao._mouseleave,ao)).on(g+P+" "+u+P+" "+U+P+" "+Y+P,d,ae(ao._toggleHover,ao));if(am.openOnClick){ao.clicked=false;ao._documentClickHandler=ae(ao._documentClick,ao);K(document).click(ao._documentClickHandler)}an.attr("role","menubar");if(an[0].id){ao._ariaId=N.format("{0}_mn_active",an[0].id)}N.notify(ao)},events:[ac,ai,p,ab,B],options:{name:"Menu",animation:{open:{duration:200},close:{duration:100}},orientation:"horizontal",direction:"default",openOnClick:false,closeOnClick:true,hoverDelay:100,popupCollision:r},_initData:function(am){var an=this;if(am.dataSource){an.angular("cleanup",function(){return{elements:an.element.children()}});an.element.empty();an.append(am.dataSource,an.element);an.angular("compile",function(){return{elements:an.element.children()}})}},setOptions:function(am){var an=this.options.animation;this._animations(am);am.animation=o(true,an,am.animation);if("dataSource" in am){this._initData(am)}this._updateClasses();e.fn.setOptions.call(this,am)},destroy:function(){var am=this;e.fn.destroy.call(am);am.element.off(P);if(am._documentClickHandler){K(document).unbind("click",am._documentClickHandler)}N.destroy(am.element)},enable:function(an,am){this._toggleDisabled(an,am!==false);return this},disable:function(am){this._toggleDisabled(am,false);return this},append:function(ao,am){am=this.element.find(am);var an=this._insert(ao,am,am.length?am.find("> .k-menu-group, > .k-animation-container > .k-menu-group"):null);ad(an.items,function(){an.group.append(this);t(this)});t(am);z(an.group.find(".k-first, .k-last").add(an.items));return this},insertBefore:function(ao,am){am=this.element.find(am);var an=this._insert(ao,am,am.parent());ad(an.items,function(){am.before(this);t(this);z(this)});z(am);return this},insertAfter:function(ao,am){am=this.element.find(am);var an=this._insert(ao,am,am.parent());ad(an.items,function(){am.after(this);t(this);z(this)});z(am);return this},_insert:function(au,an,ar){var at=this,ao,am;if(!an||!an.length){ar=at.element}var aq=K.isPlainObject(au),ap={firstLevel:ar.hasClass(q),horizontal:ar.hasClass(q+"-horizontal"),expanded:true,length:ar.children().length};if(an&&!ar.length){ar=K(aa.renderGroup({group:ap})).appendTo(an)}if(aq||K.isArray(au)){ao=K(K.map(aq?[au]:au,function(aw,av){if(typeof aw==="string"){return K(aw).get()}else{return K(aa.renderItem({group:ap,item:o(aw,{index:av})})).get()}}))}else{if(typeof au=="string"&&au.charAt(0)!="<"){ao=at.element.find(au)}else{ao=K(au)}am=ao.find("> ul").addClass("k-menu-group").attr("role","menu");ao=ao.filter("li");ao.add(am.find("> li")).each(function(){c(this)})}return{items:ao,group:ar}},remove:function(an){an=this.element.find(an);var ap=this,ao=an.parentsUntil(ap.element,b),aq=an.parent("ul:not(.k-menu)");an.remove();if(aq&&!aq.children(b).length){var am=aq.parent(".k-animation-container");if(am.length){am.remove()}else{aq.remove()}}if(ao.length){ao=ao.eq(0);t(ao);z(ao)}return ap},open:function(ap){var aq=this,ao=aq.options,am=ao.orientation=="horizontal",ar=ao.direction,an=N.support.isRtl(aq.wrapper);ap=aq.element.find(ap);if(/^(top|bottom|default)$/.test(ar)){if(an){ar=am?(ar+" left").replace("default","bottom"):"left"}else{ar=am?(ar+" right").replace("default","bottom"):"right"}}ap.siblings().find(">.k-popup:visible,>.k-animation-container>.k-popup:visible").each(function(){var at=K(this).data("kendoPopup");if(at){at.close()}});ap.each(function(){var at=K(this);clearTimeout(at.data(R));at.data(R,setTimeout(function(){var az=at.find(".k-menu-group:first:hidden"),av;if(az[0]&&aq._triggerEvent({item:at[0],type:ac})===false){if(!az.find(".k-menu-group")[0]&&az.children(".k-item").length>1){var au=K(window).height(),ay=function(){az.css({maxHeight:au-(az.outerHeight()-az.height())-N.getShadows(az).bottom,overflow:"auto"})};if(N.support.browser.msie&&N.support.browser.version<=7){setTimeout(ay,0)}else{ay()}}else{az.css({maxHeight:"",overflow:""})}at.data(k,at.css(k));at.css(k,aq.nextItemZIndex++);av=az.data(S);var aC=at.parent().hasClass(q),aw=aC&&am,aB=ah(ar,aC,an),ax=ao.animation.open.effects,aA=ax!==r?ax:"slideIn:"+J(ar,aC);if(!av){av=az.kendoPopup({activate:function(){aq._triggerEvent({item:this.wrapper.parent(),type:p})},deactivate:function(aD){aD.sender.element.removeData("targetTransform").css({opacity:""});aq._triggerEvent({item:this.wrapper.parent(),type:ab})},origin:aB.origin,position:aB.position,collision:ao.popupCollision!==r?ao.popupCollision:(aw?"fit":"fit flip"),anchor:at,appendTo:at,animation:{open:o(true,{effects:aA},ao.animation.open),close:ao.animation.close},close:function(aE){var aD=aE.sender.wrapper.parent();if(!aq._triggerEvent({item:aD[0],type:ai})){aD.css(k,aD.data(k));aD.removeData(k);if(ag){aD.removeClass(aj);aq._removeHoverItem()}}else{aE.preventDefault()}}}).data(S)}else{av=az.data(S);av.options.origin=aB.origin;av.options.position=aB.position;av.options.animation.open.effects=aA}az.removeAttr("aria-hidden");av.open()}},aq.options.hoverDelay))});return aq},close:function(am,ap){var ao=this,an=ao.element;am=an.find(am);if(!am.length){am=an.find(">.k-item")}am.each(function(){var aq=K(this);if(!ap&&ao._isRootItem(aq)){ao.clicked=false}clearTimeout(aq.data(R));aq.data(R,setTimeout(function(){var ar=aq.find(".k-menu-group:not(.k-list-container):not(.k-calendar-container):first:visible").data(S);if(ar){ar.close();ar.element.attr("aria-hidden",true)}},ao.options.hoverDelay))});return ao},_toggleDisabled:function(am,an){this.element.find(am).each(function(){K(this).toggleClass(s,an).toggleClass(j,!an).attr("aria-disabled",!an)})},_toggleHover:function(ao){var an=K(N.eventTarget(ao)||ao.target).closest(b),am=ao.type==g||U.indexOf(ao.type)!==-1;if(!an.parents("li."+j).length){an.toggleClass(aj,am||ao.type=="mousedown"||ao.type=="click")}this._removeHoverItem()},_preventClose:function(){if(!this.options.closeOnClick){this._closurePrevented=true}},_checkActiveElement:function(ap){var an=this,am=K(ap?ap.currentTarget:this._hoverItem()),ao=an._findRootParent(am)[0];if(!this._closurePrevented){setTimeout(function(){if(!document.hasFocus()||(!I(ao,N._activeElement())&&ap&&!I(ao,ap.currentTarget))){an.close(ao)}},0)}this._closurePrevented=false},_removeHoverItem:function(){var am=this._hoverItem();if(am&&am.hasClass(l)){am.removeClass(l);this._oldHoverItem=null}},_updateClasses:function(){var ao=this.element,am=".k-menu-init div ul",an;ao.removeClass("k-menu-horizontal k-menu-vertical");ao.addClass("k-widget k-reset k-header k-menu-init "+q).addClass(q+"-"+this.options.orientation);ao.find("li > ul").filter(function(){return !N.support.matchesSelector.call(this,am)}).addClass("k-group k-menu-group").attr("role","menu").attr("aria-hidden",ao.is(":visible")).end().find("li > div").addClass("k-content").attr("tabindex","-1");an=ao.find("> li,.k-menu-group > li");ao.removeClass("k-menu-init");an.each(function(){c(this)})},_mouseenter:function(ap){var ao=this,an=K(ap.currentTarget),am=(an.children(".k-animation-container").length||an.children(X).length);if(ap.delegateTarget!=an.parents(h)[0]){return}if((!ao.options.openOnClick||ao.clicked)&&!ag&&!((O||Z)&&ap.originalEvent.pointerType in W&&ao._isRootItem(an.closest(b)))){if(!I(ap.currentTarget,ap.relatedTarget)&&am){ao.open(an)}}if(ao.options.openOnClick&&ao.clicked||M){an.siblings().each(ae(function(aq,ar){ao.close(ar,true)},ao))}},_mouseleave:function(ap){var ao=this,an=K(ap.currentTarget),am=(an.children(".k-animation-container").length||an.children(X).length);if(an.parentsUntil(".k-animation-container",".k-list-container,.k-calendar-container")[0]){ap.stopImmediatePropagation();return}if(!ao.options.openOnClick&&!ag&&!((O||Z)&&ap.originalEvent.pointerType in W)&&!I(ap.currentTarget,ap.relatedTarget||ap.target)&&am&&!I(ap.currentTarget,N._activeElement())){ao.close(an)}},_click:function(aA){var au=this,aw,ap=au.options,aE=K(N.eventTarget(aA)),an=aE[0]?aE[0].nodeName.toUpperCase():"",ax=(an=="INPUT"||an=="SELECT"||an=="BUTTON"||an=="LABEL"),at=aE.closest("."+F),ao=aE.closest(b),ay=at.attr("href"),az,aB,aq=aE.attr("href"),aD=K("<a href='#' />").attr("href"),av=(!!ay&&ay!==aD),aC=av&&!!ay.match(/^#/),ar=(!!aq&&aq!==aD),am=(ap.openOnClick&&aB&&au._isRootItem(ao));if(aE.closest(H,ao[0]).length){return}if(ao.hasClass(j)){aA.preventDefault();return}if(!aA.handled&&au._triggerEvent({item:ao[0],type:B})&&!ax){aA.preventDefault()}aA.handled=true;az=ao.children(af);aB=az.is(":visible");if(ap.closeOnClick&&(!av||aC)&&(!az.length||am)){ao.removeClass(aj).css("height");au._oldHoverItem=au._findRootParent(ao);au.close(at.parentsUntil(au.element,b));au.clicked=false;if("MSPointerUp".indexOf(aA.type)!=-1){aA.preventDefault()}return}if(av&&aA.enterKey){at[0].click()}if((!au._isRootItem(ao)||!ap.openOnClick)&&!N.support.touch&&!((O||Z)&&au._isRootItem(ao.closest(b)))){return}if(!av&&!ax&&!ar){aA.preventDefault()}au.clicked=true;aw=az.is(":visible")?ai:ac;if(!ap.closeOnClick&&aw==ai){return}au[aw](ao)},_documentClick:function(am){if(I(this.element[0],am.target)){return}this.clicked=false},_focus:function(aq){var an=this,ap=aq.target,am=an._hoverItem(),ao=i();if(ap!=an.wrapper[0]&&!K(ap).is(":kendoFocusable")){aq.stopPropagation();K(ap).closest(".k-content").closest(".k-menu-group").closest(".k-item").addClass(l);an.wrapper.focus();return}if(ao===aq.currentTarget){if(am.length){an._moveHover([],am)}else{if(!an._oldHoverItem){an._moveHover([],an.wrapper.children().first())}}}},_keydown:function(au){var ar=this,ap=au.keyCode,aq=ar._oldHoverItem,at,an,am,ao=N.support.isRtl(ar.wrapper);if(au.target!=au.currentTarget&&ap!=G.ESC){return}if(!aq){aq=ar._oldHoverItem=ar._hoverItem()}an=ar._itemBelongsToVertival(aq);am=ar._itemHasChildren(aq);if(ap==G.RIGHT){at=ar[ao?"_itemLeft":"_itemRight"](aq,an,am)}else{if(ap==G.LEFT){at=ar[ao?"_itemRight":"_itemLeft"](aq,an,am)}else{if(ap==G.DOWN){at=ar._itemDown(aq,an,am)}else{if(ap==G.UP){at=ar._itemUp(aq,an,am)}else{if(ap==G.ESC){at=ar._itemEsc(aq,an)}else{if(ap==G.ENTER||ap==G.SPACEBAR){at=aq.children(".k-link");if(at.length>0){ar._click({target:at[0],preventDefault:function(){},enterKey:true});ar._moveHover(aq,ar._findRootParent(aq))}}else{if(ap==G.TAB){at=ar._findRootParent(aq);ar._moveHover(aq,at);ar._checkActiveElement();return}}}}}}}if(at&&at[0]){au.preventDefault();au.stopPropagation()}},_hoverItem:function(){return this.wrapper.find(".k-item.k-state-hover,.k-item.k-state-focused").filter(":visible")},_itemBelongsToVertival:function(an){var am=this.wrapper.hasClass("k-menu-vertical");if(!an.length){return am}return an.parent().hasClass("k-menu-group")||am},_itemHasChildren:function(am){if(!am.length){return false}return am.children("ul.k-menu-group, div.k-animation-container").length>0},_moveHover:function(ao,am){var an=this,ap=an._ariaId;if(ao.length&&am.length){ao.removeClass(l)}if(am.length){if(am[0].id){ap=am[0].id}am.addClass(l);an._oldHoverItem=am;if(ap){an.element.removeAttr("aria-activedescendant");K("#"+ap).removeAttr("id");am.attr("id",ap);an.element.attr("aria-activedescendant",ap)}}},_findRootParent:function(am){if(this._isRootItem(am)){return am}else{return am.parentsUntil(h,"li.k-item").last()}},_isRootItem:function(am){return am.parent().hasClass(q)},_itemRight:function(ar,ap,ao){var aq=this,an,am;if(ar.hasClass(j)){return}if(!ap){an=ar.nextAll(w);if(!an.length){an=ar.prevAll(D)}}else{if(ao){aq.open(ar);an=ar.find(".k-menu-group").children().first()}else{if(aq.options.orientation=="horizontal"){am=aq._findRootParent(ar);aq.close(am);an=am.nextAll(w)}}}if(an&&!an.length){an=aq.wrapper.children(".k-item").first()}else{if(!an){an=[]}}aq._moveHover(ar,an);return an},_itemLeft:function(ap,an){var ao=this,am;if(!an){am=ap.prevAll(w);if(!am.length){am=ap.nextAll(D)}}else{am=ap.parent().closest(".k-item");ao.close(am);if(ao._isRootItem(am)&&ao.options.orientation=="horizontal"){am=am.prevAll(w)}}if(!am.length){am=ao.wrapper.children(".k-item").last()}ao._moveHover(ap,am);return am},_itemDown:function(aq,ao,an){var ap=this,am;if(!ao){if(!an||aq.hasClass(j)){return}else{ap.open(aq);am=aq.find(".k-menu-group").children().first()}}else{am=aq.nextAll(w)}if(!am.length&&aq.length){am=aq.parent().children().first()}else{if(!aq.length){am=ap.wrapper.children(".k-item").first()}}ap._moveHover(aq,am);return am},_itemUp:function(ap,an){var ao=this,am;if(!an){return}else{am=ap.prevAll(w)}if(!am.length&&ap.length){am=ap.parent().children().last()}else{if(!ap.length){am=ao.wrapper.children(".k-item").last()}}ao._moveHover(ap,am);return am},_itemEsc:function(ap,an){var ao=this,am;if(!an){return ap}else{am=ap.parent().closest(".k-item");ao.close(am);ao._moveHover(ap,am)}return am},_triggerEvent:function(an){var am=this;return am.trigger(an.type,{type:an.type,item:an.item})},_focusHandler:function(ao){var an=this,am=K(N.eventTarget(ao)).closest(b);setTimeout(function(){an._moveHover([],am);if(am.children(".k-content")[0]){am.parent().closest(".k-item").removeClass(l)}},200)},_animations:function(am){if(am&&("animation" in am)&&!am.animation){am.animation={open:{effects:{}},close:{hide:true,effects:{}}}}}});o(aa,{renderItem:function(am){am=o({menu:{},group:{}},am);var ao=a.empty,an=am.item;return a.item(o(am,{image:an.imageUrl?a.image:ao,sprite:an.spriteCssClass?a.sprite:ao,itemWrapper:a.itemWrapper,renderContent:aa.renderContent,arrow:an.items||an.content?a.arrow:ao,subGroup:aa.renderGroup},x))},renderGroup:function(am){return a.group(o({renderItems:function(ap){var ar="",aq=0,ao=ap.items,an=ao?ao.length:0,at=o({length:an},ap.group);for(;aq<an;aq++){ar+=aa.renderItem(o(ap,{group:at,item:o({index:aq},ao[aq])}))}return ar}},am,x))},renderContent:function(am){return a.content(o(am,x))}});var C=aa.extend({init:function(an,am){var ao=this;aa.fn.init.call(ao,an,am);ao.target=K(ao.options.target);ao._popup();ao._wire()},options:{name:"ContextMenu",filter:null,showOn:"contextmenu",orientation:"vertical",alignToAnchor:false,target:"body"},events:[ac,ai,p,ab,B],setOptions:function(am){var an=this;aa.fn.setOptions.call(an,am);an.target.off(an.showOn+P,an._showProxy);if(an.userEvents){an.userEvents.destroy()}an.target=K(an.options.target);if(am.orientation&&an.popup.wrapper[0]){an.popup.element.unwrap()}an._wire();aa.fn.setOptions.call(this,am)},destroy:function(){var am=this;am.target.off(am.options.showOn+P);ak.off(N.support.mousedown+P,am._closeProxy);if(am.userEvents){am.userEvents.destroy()}aa.fn.destroy.call(am)},open:function(am,ao){var an=this;am=K(am)[0];if(I(an.element[0],K(am)[0])){aa.fn.open.call(an,am)}else{if(an._triggerEvent({item:an.element,type:ac})===false){if(an.popup.visible()&&an.options.filter){an.popup.close(true)}if(ao!==r){an.popup.wrapper.hide();an.popup.open(am,ao)}else{an.popup.options.anchor=(am?am:an.popup.anchor)||an.target;an.popup.open()}ak.off(an.popup.downEvent,an.popup._mousedownProxy);ak.on(N.support.mousedown+P,an._closeProxy)}}return an},close:function(){var am=this;if(I(am.element[0],K(arguments[0])[0])){aa.fn.close.call(am,arguments[0])}else{if(am.popup.visible()){if(am._triggerEvent({item:am.element,type:ai})===false){am.popup.close();ak.off(N.support.mousedown+P,am._closeProxy);am.unbind(B,am._closeTimeoutProxy)}}}},_showHandler:function(ap){var ao=ap,aq,an=this,am=an.options;if(ap.event){ao=ap.event;ao.pageX=ap.x.location;ao.pageY=ap.y.location}if(I(an.element[0],ap.relatedTarget||ap.target)){return}an._eventOrigin=ao;ao.preventDefault();ao.stopImmediatePropagation();an.element.find("."+l).removeClass(l);if((am.filter&&N.support.matchesSelector.call(ao.currentTarget,am.filter))||!am.filter){if(am.alignToAnchor){an.open(ao.currentTarget)}else{an.popup.options.anchor=ao.currentTarget;if(an._targetChild){aq=an.target.offset();an.open(ao.pageX-aq.left,ao.pageY-aq.top)}else{an.open(ao.pageX,ao.pageY)}}}},_closeHandler:function(ar){var ap=this,am=ap.options,aq=K(ar.relatedTarget||ar.target),ao=aq.closest(ap.target.selector)[0]==ap.target[0],an=aq.closest(n).children(af),at=I(ap.element[0],aq[0]);ap._eventOrigin=ar;if(ap.popup.visible()&&((ar.which!==3&&ao)||!ao)&&((ap.options.closeOnClick&&!ag&&!((O||Z)&&ar.originalEvent.pointerType in W)&&!an[0]&&at)||!at)){if(at){this.unbind(B,this._closeTimeoutProxy);ap.bind(B,ap._closeTimeoutProxy)}else{ap.close()}}},_wire:function(){var an=this,am=an.options,ao=an.target;an._showProxy=ae(an._showHandler,an);an._closeProxy=ae(an._closeHandler,an);an._closeTimeoutProxy=ae(an.close,an);if(ao[0]){if(N.support.mobileOS&&am.showOn=="contextmenu"){an.userEvents=new N.UserEvents(ao,{filter:am.filter,allowSelection:false});ao.on(am.showOn+P,false);an.userEvents.bind("hold",an._showProxy)}else{if(am.filter){ao.on(am.showOn+P,am.filter,an._showProxy)}else{ao.on(am.showOn+P,an._showProxy)}}}},_triggerEvent:function(ap){var ao=this,an=K(ao.popup.options.anchor)[0],am=ao._eventOrigin;ao._eventOrigin=r;return ao.trigger(ap.type,o({type:ap.type,item:ap.item||this.element[0],target:an},am?{event:am}:{}))},_popup:function(){var am=this;am._triggerProxy=ae(am._triggerEvent,am);am.popup=am.element.addClass("k-context-menu").kendoPopup({anchor:am.target||"body",copyAnchorStyles:am.options.copyAnchorStyles,collision:am.options.popupCollision||"fit",animation:am.options.animation,activate:am._triggerProxy,deactivate:am._triggerProxy}).data("kendoPopup");am._targetChild=I(am.target[0],am.popup.element[0])}});V.plugin(aa);V.plugin(C)})(window.kendo.jQuery);(function(h,i){var q=window.kendo,p=q.ui,u=h.proxy,y=h.extend,m=h.grep,z=h.map,x=h.inArray,k="k-state-selected",w="asc",f="desc",o="change",c="init",e="select",r="kendoPopup",a="kendoFilterMenu",l="kendoMenu",v=".kendoColumnMenu",d=p.Widget;function t(B){return h.trim(B).replace(/&nbsp;/gi,"")}function b(E,F){var D={};var C,B,G;for(C=0,B=E.length;C<B;C++){G=E[C];D[G[F]]=G}return D}function j(D){var C=[];for(var B=0;B<D.length;B++){if(!D[B].columns){C.push(D[B]);continue}C=C.concat(j(D[B].columns))}return C}var g=d.extend({init:function(C,B){var E=this,D;d.fn.init.call(E,C,B);C=E.element;B=E.options;E.owner=B.owner;E.dataSource=B.dataSource;E.field=C.attr(q.attr("field"));E.title=C.attr(q.attr("title"));D=C.find(".k-header-column-menu");if(!D[0]){D=C.addClass("k-with-icon").prepend('<a class="k-header-column-menu" href="#"><span class="k-icon k-i-arrowhead-s"/></a>').find(".k-header-column-menu")}E.link=D.attr("tabindex",-1).on("click"+v,u(E._click,E));E.wrapper=h('<div class="k-column-menu"/>')},_init:function(){var B=this;B.pane=B.options.pane;if(B.pane){B._isMobile=true}if(B._isMobile){B._createMobileMenu()}else{B._createMenu()}B._angularItems("compile");B._sort();B._columns();B._filter();B._lockColumns();B.trigger(c,{field:B.field,container:B.wrapper})},events:[c],options:{name:"ColumnMenu",messages:{sortAscending:"Sort Ascending",sortDescending:"Sort Descending",filter:"Filter",columns:"Columns",done:"Done",settings:"Column Settings",lock:"Lock",unlock:"Unlock"},filter:"",columns:true,sortable:true,filterable:true,animations:{left:"slide"}},_createMenu:function(){var C=this,B=C.options;C.wrapper.html(q.template(A)({ns:q.ns,messages:B.messages,sortable:B.sortable,filterable:B.filterable,columns:C._ownerColumns(),showColumns:B.columns,lockedColumns:B.lockedColumns}));C.popup=C.wrapper[r]({anchor:C.link,open:u(C._open,C),activate:u(C._activate,C),close:function(){if(C.options.closeCallback){C.options.closeCallback(C.element)}}}).data(r);C.menu=C.wrapper.children()[l]({orientation:"vertical",closeOnClick:false}).data(l)},_createMobileMenu:function(){var D=this,B=D.options;var C=q.template(s)({ns:q.ns,field:D.field,title:D.title||D.field,messages:B.messages,sortable:B.sortable,filterable:B.filterable,columns:D._ownerColumns(),showColumns:B.columns,lockedColumns:B.lockedColumns});D.view=D.pane.append(C);D.wrapper=D.view.element.find(".k-column-menu");D.menu=new n(D.wrapper.children(),{pane:D.pane});D.view.element.on("click",".k-done",function(E){D.close();E.preventDefault()});if(D.options.lockedColumns){D.view.bind("show",function(){D._updateLockedColumns()})}},_angularItems:function(C){var B=this;B.angular(C,function(){var D=B.wrapper.find(".k-columns-item input["+q.attr("field")+"]").map(function(){return h(this).closest("li")});var E=z(B._ownerColumns(),function(F){return{column:F._originalObject}});return{elements:D,data:E}})},destroy:function(){var B=this;B._angularItems("cleanup");d.fn.destroy.call(B);if(B.filterMenu){B.filterMenu.destroy()}if(B._refreshHandler){B.dataSource.unbind(o,B._refreshHandler)}if(B.options.columns&&B.owner&&B._updateColumnsMenuHandler){B.owner.unbind("columnShow",B._updateColumnsMenuHandler);B.owner.unbind("columnHide",B._updateColumnsMenuHandler)}if(B.menu){B.menu.element.off(v);B.menu.destroy()}B.wrapper.off(v);if(B.popup){B.popup.destroy()}if(B.view){B.view.purge()}B.link.off(v);B.owner=null;B.wrapper=null;B.element=null},close:function(){this.menu.close();if(this.popup){this.popup.close();this.popup.element.off("keydown"+v)}},_click:function(C){C.preventDefault();C.stopPropagation();var B=this.options;if(B.filter&&this.element.is(!B.filter)){return}if(!this.popup&&!this.pane){this._init()}if(this._isMobile){this.pane.navigate(this.view,this.options.animations.left)}else{this.popup.toggle()}},_open:function(){var B=this;h(".k-column-menu").not(B.wrapper).each(function(){h(this).data(r).close()});B.popup.element.on("keydown"+v,function(C){if(C.keyCode==q.keys.ESC){B.close()}});if(B.options.lockedColumns){B._updateLockedColumns()}},_activate:function(){this.menu.element.focus()},_ownerColumns:function(){var B=j(this.owner.columns),C=m(B,function(E){var D=true,F=t(E.title||"");if(E.menu===false||(!E.field&&!F.length)){D=false}return D});return z(C,function(D){return{originalField:D.field,field:D.field||D.title,title:D.title||D.field,hidden:D.hidden,index:x(D,B),locked:!!D.locked,_originalObject:D}})},_sort:function(){var B=this;if(B.options.sortable){B.refresh();B._refreshHandler=u(B.refresh,B);B.dataSource.bind(o,B._refreshHandler);B.menu.bind(e,function(E){var D=h(E.item),C;if(D.hasClass("k-sort-asc")){C=w}else{if(D.hasClass("k-sort-desc")){C=f}}if(!C){return}D.parent().find(".k-sort-"+(C==w?f:w)).removeClass(k);B._sortDataSource(D,C);B.close()})}},_sortDataSource:function(J,E){var H=this,G=H.options.sortable,C=G.compare===null?i:G.compare,B=H.dataSource,I,D,F=B.sort()||[];if(J.hasClass(k)&&G&&G.allowUnsort!==false){J.removeClass(k);E=i}else{J.addClass(k)}if(G===true||G.mode==="single"){F=[{field:H.field,dir:E,compare:C}]}else{for(I=0,D=F.length;I<D;I++){if(F[I].field===H.field){F.splice(I,1);break}}F.push({field:H.field,dir:E,compare:C})}B.sort(F)},_columns:function(){var B=this;if(B.options.columns){B._updateColumnsMenu();B._updateColumnsMenuHandler=u(B._updateColumnsMenu,B);B.owner.bind(["columnHide","columnShow"],B._updateColumnsMenuHandler);B.menu.bind(e,function(I){var G=h(I.item),C,D,F,E=j(B.owner.columns),H;if(B._isMobile){I.preventDefault()}if(!G.parent().closest("li.k-columns-item")[0]){return}C=G.find(":checkbox");if(C.attr("disabled")){return}H=C.attr(q.attr("field"));F=m(E,function(J){return J.field==H||J.title==H})[0];if(F.hidden===true){B.owner.showColumn(F)}else{B.owner.hideColumn(F)}})}},_updateColumnsMenu:function(){var J,C,H,I,F;var E=q.attr("field"),L=q.attr("locked"),D=m(this._ownerColumns(),function(N){return !N.hidden}),B=m(D,function(N){return N.originalField}),K=m(B,function(N){return N.locked===true}).length,M=m(B,function(N){return N.locked!==true}).length;D=z(D,function(N){return N.field});var G=this.wrapper.find(".k-columns-item input["+E+"]").prop("disabled",false).prop("checked",false);for(J=0,C=G.length;J<C;J++){H=G.eq(J);F=H.attr(L)==="true";I=false;if(x(H.attr(E),D)>-1){I=true;H.prop("checked",I)}if(I){if(K==1&&F){H.prop("disabled",true)}if(M==1&&!F){H.prop("disabled",true)}}}},_updateColumnsLockedState:function(){var I,B,H,F,C;var E=q.attr("field");var J=q.attr("locked");var D=b(this._ownerColumns(),"field");var G=this.wrapper.find(".k-columns-item input[type=checkbox]");for(I=0,B=G.length;I<B;I++){H=G.eq(I);C=D[H.attr(E)];if(C){H.attr(J,C.locked)}}this._updateColumnsMenu()},_filter:function(){var C=this,B=C.options;if(B.filterable!==false){C.filterMenu=C.wrapper.find(".k-filterable")[a](y(true,{},{appendToElement:true,dataSource:B.dataSource,values:B.values,field:C.field},B.filterable)).data(a);if(C._isMobile){C.menu.bind(e,function(E){var D=h(E.item);if(D.hasClass("k-filter-item")){C.pane.navigate(C.filterMenu.view,C.options.animations.left)}})}}},_lockColumns:function(){var B=this;B.menu.bind(e,function(D){var C=h(D.item);if(C.hasClass("k-lock")){B.owner.lockColumn(B.field);B.close()}else{if(C.hasClass("k-unlock")){B.owner.unlockColumn(B.field);B.close()}}})},_updateLockedColumns:function(){var H=this.field;var C=this.owner.columns;var E=m(C,function(I){return I.field==H||I.title==H})[0];if(!E){return}var B=E.locked===true;var G=m(C,function(I){return !I.hidden&&((I.locked&&B)||(!I.locked&&!B))}).length;var F=this.wrapper.find(".k-lock").removeClass("k-state-disabled");var D=this.wrapper.find(".k-unlock").removeClass("k-state-disabled");if(B||G==1){F.addClass("k-state-disabled")}if(!B||G==1){D.addClass("k-state-disabled")}this._updateColumnsLockedState()},refresh:function(){var E=this,C=E.options.dataSource.sort()||[],G,F=E.field,B,D;E.wrapper.find(".k-sort-asc, .k-sort-desc").removeClass(k);for(B=0,D=C.length;B<D;B++){G=C[B];if(F==G.field){E.wrapper.find(".k-sort-"+G.dir).addClass(k)}}}});var A='<ul>#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-sprite k-i-sort-asc"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-sprite k-i-sort-desc"></span>${messages.sortDescending}</span></li>#if(showColumns || filterable){#<li class="k-separator"></li>#}##}##if(showColumns){#<li class="k-item k-columns-item"><span class="k-link"><span class="k-sprite k-i-columns"></span>${messages.columns}</span><ul>#for (var idx = 0; idx < columns.length; idx++) {#<li><input type="checkbox" data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[idx].index#" data-#=ns#locked="#=columns[idx].locked#"/>#=columns[idx].title#</li>#}#</ul></li>#if(filterable || lockedColumns){#<li class="k-separator"></li>#}##}##if(filterable){#<li class="k-item k-filter-item"><span class="k-link"><span class="k-sprite k-filter"></span>${messages.filter}</span><ul><li><div class="k-filterable"></div></li></ul></li>#if(lockedColumns){#<li class="k-separator"></li>#}##}##if(lockedColumns){#<li class="k-item k-lock"><span class="k-link"><span class="k-sprite k-i-lock"></span>${messages.lock}</span></li><li class="k-item k-unlock"><span class="k-link"><span class="k-sprite k-i-unlock"></span>${messages.unlock}</span></li>#}#</ul>';var s='<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-column-menu"><div data-#=ns#role="header" class="k-header">${messages.settings}<button class="k-button k-done">#=messages.done#</button></div><div class="k-column-menu k-mobile-list"><ul><li><span class="k-link">${title}</span><ul>#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-sprite k-i-sort-asc"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-sprite k-i-sort-desc"></span>${messages.sortDescending}</span></li>#}##if(lockedColumns){#<li class="k-item k-lock"><span class="k-link"><span class="k-sprite k-i-lock"></span>${messages.lock}</span></li><li class="k-item k-unlock"><span class="k-link"><span class="k-sprite k-i-unlock"></span>${messages.unlock}</span></li>#}##if(filterable){#<li class="k-item k-filter-item"><span class="k-link k-filterable"><span class="k-sprite k-filter"></span>${messages.filter}</span></li>#}#</ul></li>#if(showColumns){#<li class="k-columns-item"><span class="k-link">${messages.columns}</span><ul>#for (var idx = 0; idx < columns.length; idx++) {#<li class="k-item"><label class="k-label"><input type="checkbox" class="k-check" data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[idx].index#" data-#=ns#locked="#=columns[idx].locked#"/>#=columns[idx].title#</label></li>#}#</ul></li>#}#</ul></div></div>';var n=d.extend({init:function(C,B){d.fn.init.call(this,C,B);this.element.on("click"+v,"li.k-item:not(.k-separator):not(.k-state-disabled)","_click")},events:[e],_click:function(B){if(!h(B.target).is("[type=checkbox]")){B.preventDefault()}this.trigger(e,{item:B.currentTarget})},close:function(){this.options.pane.navigate("")},destroy:function(){d.fn.destroy.call(this);this.element.off(v)}});p.plugin(g)})(window.kendo.jQuery);(function(f,b){var j=window.kendo;var k=j.ui;var l=k.Widget;var o="dir";var d="asc";var n="single";var h="field";var g="desc";var a=".kendoColumnSorter";var c=".k-link";var m="aria-sort";var i=f.proxy;var e=l.extend({init:function(q,p){var s=this,r;l.fn.init.call(s,q,p);s._refreshHandler=i(s.refresh,s);s.dataSource=s.options.dataSource.bind("change",s._refreshHandler);r=s.element.find(c);if(!r[0]){r=s.element.wrapInner('<a class="k-link" href="#"/>').find(c)}s.link=r;s.element.on("click"+a,i(s._click,s))},options:{name:"ColumnSorter",mode:n,allowUnsort:true,compare:null,filter:""},destroy:function(){var p=this;l.fn.destroy.call(p);p.element.off(a);p.dataSource.unbind("change",p._refreshHandler);p._refreshHandler=p.element=p.link=p.dataSource=null},refresh:function(){var u=this,s=u.dataSource.sort()||[],p,t,w,q,r=u.element,v=r.attr(j.attr(h));r.removeAttr(j.attr(o));r.removeAttr(m);for(p=0,t=s.length;p<t;p++){w=s[p];if(v==w.field){r.attr(j.attr(o),w.dir)}}q=r.attr(j.attr(o));r.find(".k-i-arrow-n,.k-i-arrow-s").remove();if(q===d){f('<span class="k-icon k-i-arrow-n" />').appendTo(u.link);r.attr(m,"ascending")}else{if(q===g){f('<span class="k-icon k-i-arrow-s" />').appendTo(u.link);r.attr(m,"descending")}}},_click:function(v){var u=this,s=u.element,w=s.attr(j.attr(h)),r=s.attr(j.attr(o)),y=u.options,p=u.options.compare===null?b:u.options.compare,t=u.dataSource.sort()||[],x,q;v.preventDefault();if(y.filter&&!s.is(y.filter)){return}if(r===d){r=g}else{if(r===g&&y.allowUnsort){r=b}else{r=d}}if(y.mode===n){t=[{field:w,dir:r,compare:p}]}else{if(y.mode==="multiple"){for(x=0,q=t.length;x<q;x++){if(t[x].field===w){t.splice(x,1);break}}t.push({field:w,dir:r,compare:p})}}this.dataSource.sort(t)}});k.plugin(e)})(window.kendo.jQuery);(function(c,f){var o=window.kendo,n=o.ui,b=n.Widget,u=c.extend,e=o.support.browser.msie&&o.support.browser.version<9,a=o.isFunction,l=c.isPlainObject,t=c.inArray,m=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g,s='<div class="k-widget k-tooltip k-tooltip-validation" style="margin:0.5em"><span class="k-icon k-warning"> </span>#=message#<div class="k-callout k-callout-n"></div></div>',k="change";var r=["url","email","number","date","boolean"];function h(v){v=v!=null?v:"";return v.type||c.type(v)||"string"}function p(v){v.find(":input:not(:button, ["+o.attr("role")+"=upload], ["+o.attr("skip")+"], [type=file]), select").each(function(){var w=o.attr("bind"),y=this.getAttribute(w)||"",x=this.type==="checkbox"||this.type==="radio"?"checked:":"value:",z=this.name;if(y.indexOf(x)===-1&&z){y+=(y.length?",":"")+x+z;c(this).attr(w,y)}})}function i(D){var A=(D.model.fields||D.model)[D.field],y=h(A),v=A?A.validation:{},B,C=o.attr("type"),w=o.attr("bind"),z,x={name:D.field};for(B in v){z=v[B];if(t(B,r)>=0){x[C]=B}else{if(!a(z)){x[B]=l(z)?z.value||B:z}}x[o.attr(B+"-msg")]=z.message}if(t(y,r)>=0){x[C]=y}x[w]=(y==="boolean"?"checked:":"value:")+D.field;return x}function d(x){var w,z,y,A,B,v;if(x&&x.length){v=[];for(w=0,z=x.length;w<z;w++){y=x[w];B=y.text||y.value||y;A=y.value==null?(y.text||y):y.value;v[w]={text:B,value:A}}}return v}var j={number:function(w,x){var v=i(x);c('<input type="text"/>').attr(v).appendTo(w).kendoNumericTextBox({format:x.format});c("<span "+o.attr("for")+'="'+x.field+'" class="k-invalid-msg"/>').hide().appendTo(w)},date:function(w,x){var v=i(x),y=x.format;if(y){y=o._extractFormat(y)}v[o.attr("format")]=y;c('<input type="text"/>').attr(v).appendTo(w).kendoDatePicker({format:x.format});c("<span "+o.attr("for")+'="'+x.field+'" class="k-invalid-msg"/>').hide().appendTo(w)},string:function(w,x){var v=i(x);c('<input type="text" class="k-input k-textbox"/>').attr(v).appendTo(w)},"boolean":function(w,x){var v=i(x);c('<input type="checkbox" />').attr(v).appendTo(w)},values:function(w,x){var v=i(x);c("<select "+o.attr("text-field")+'="text"'+o.attr("value-field")+'="value"'+o.attr("source")+"='"+o.stringify(d(x.values)).replace(/\'/g,"&apos;")+"'"+o.attr("role")+'="dropdownlist"/>').attr(v).appendTo(w);c("<span "+o.attr("for")+'="'+x.field+'" class="k-invalid-msg"/>').hide().appendTo(w)}};function g(w,z){var v=w?(w.validation||{}):{},y,x;for(y in v){x=v[y];if(l(x)&&x.value){x=x.value}if(a(x)){z[y]=x}}}var q=b.extend({init:function(w,v){var x=this;if(v.target){v.$angular=v.target.options.$angular}b.fn.init.call(x,w,v);x._validateProxy=c.proxy(x._validate,x);x.refresh()},events:[k],options:{name:"Editable",editors:j,clearContainer:true,errorTemplate:s},editor:function(E,w){var A=this,C=A.options.editors,G=l(E),F=G?E.field:E,y=A.options.model||{},x=G&&E.values,D=x?"values":h(w),B=G&&E.editor,z=B?E.editor:C[D],v=A.element.find("["+o.attr("container-for")+"="+F.replace(m,"\\$1")+"]");z=z?z:C.string;if(B&&typeof E.editor==="string"){z=function(H){H.append(E.editor)}}v=v.length?v:A.element;z(v,u(true,{},G?E:{field:F},{model:y}))},_validate:function(x){var w=this,z,A=x.value,E=w._validationEventInProgress,B={},y=o.attr("bind"),C=x.field.replace(m,"\\$1"),D="checked:"+C,v="value:"+C;B[x.field]=x.value;z=c(":input["+y+'*="'+v+'"],:input['+y+'*="'+D+'"]',w.element).filter("["+o.attr("validate")+"!='false']");if(z.length>1){z=z.filter(function(){var G=c(this);var H=G.attr(y).split(",");var F=t(v,H)>=0||t(D,H)>=0;return F&&(!G.is(":radio")||G.val()==A)})}try{w._validationEventInProgress=true;if(!w.validatable.validateInput(z)||(!E&&w.trigger(k,{values:B}))){x.preventDefault()}}finally{w._validationEventInProgress=false}},end:function(){return this.validatable.validate()},destroy:function(){var v=this;v.angular("cleanup",function(){return{elements:v.element}});b.fn.destroy.call(v);v.options.model.unbind("set",v._validateProxy);o.unbind(v.element);if(v.validatable){v.validatable.destroy()}o.destroy(v.element);v.element.removeData("kendoValidator")},refresh:function(){var B=this,E,w,z=B.options.fields||[],v=B.options.clearContainer?B.element.empty():B.element,y=B.options.model||{},G={},D,H,F,x,A;if(!c.isArray(z)){z=[z]}for(E=0,w=z.length;E<w;E++){D=z[E];H=l(D);F=H?D.field:D;x=(y.fields||y)[F];g(x,G);B.editor(D,x)}if(B.options.target){B.angular("compile",function(){return{elements:v,data:[{dataItem:y}]}})}if(!w){A=y.fields||y;for(F in A){g(A[F],G)}}p(v);if(B.validatable){B.validatable.destroy()}o.bind(v,B.options.model);B.options.model.unbind("set",B._validateProxy);B.options.model.bind("set",B._validateProxy);B.validatable=new o.ui.Validator(v,{validateOnBlur:false,errorTemplate:B.options.errorTemplate||f,rules:G});var C=v.find(":kendoFocusable").eq(0).focus();if(e){C.focus()}}});n.plugin(q)})(window.kendo.jQuery);(function(x,l){var A=window.kendo,b=A.ui.Widget,i=A.ui.Draggable,aa=x.isPlainObject,d=A._activeElement,R=x.proxy,g=x.extend,P=x.each,c=A.template,N="body",a,B=".kendoWindow",w=".k-window",X=".k-window-title",y=X+"bar",q=".k-window-content",o=".k-resize-handle",k=".k-overlay",f="k-content-frame",s="k-loading",C="k-state-hover",I="k-state-focused",u="k-window-maximized",Z=":visible",Q="hidden",E="cursor",O="open",h="activate",H="deactivate",W="close",t="refresh",ab="resize",G="resizeEnd",K="dragstart",D="dragend",z="error",J="overflow",e="zIndex",V=".k-window-actions .k-i-minimize,.k-window-actions .k-i-maximize",U=".k-i-pin",v=".k-i-unpin",S=U+","+v,M=".k-window-titlebar .k-window-action",n=".k-window-titlebar .k-i-refresh",F=A.isLocalUrl;function L(ac){return(typeof ac!="undefined")}function T(ae,ac,ad){return Math.max(Math.min(parseInt(ae,10),ad===Infinity?ad:parseInt(ad,10)),parseInt(ac,10))}function m(ad,ac){return function(){var ag=this,ah=ag.wrapper,af=ah[0].style,ae=ag.options;if(ae.isMaximized||ae.isMinimized){return}ag.restoreOptions={width:af.width,height:af.height};ah.children(o).hide().end().children(y).find(V).parent().hide().eq(0).before(a.action({name:"Restore"}));ac.call(ag);if(ad=="maximize"){ag.wrapper.children(y).find(S).parent().hide()}else{ag.wrapper.children(y).find(S).parent().show()}return ag}}function r(){return !this.type||this.type.toLowerCase().indexOf("script")>=0}var j=b.extend({init:function(ag,ao){var aj=this,ac,af={},ad,al,ai,ah=false,ak,an,am=ao&&ao.actions&&!ao.actions.length,ae;b.fn.init.call(aj,ag,ao);ao=aj.options;ai=ao.position;ag=aj.element;ak=ao.content;if(am){ao.actions=[]}aj.appendTo=x(ao.appendTo);aj._animations();if(ak&&!aa(ak)){ak=ao.content={url:ak}}ag.find("script").filter(r).remove();if(!ag.parent().is(aj.appendTo)&&(ai.top===l||ai.left===l)){if(ag.is(Z)){af=ag.offset();ah=true}else{ad=ag.css("visibility");al=ag.css("display");ag.css({visibility:Q,display:""});af=ag.offset();ag.css({visibility:ad,display:al})}if(ai.top===l){ai.top=af.top}if(ai.left===l){ai.left=af.left}}if(!L(ao.visible)||ao.visible===null){ao.visible=ag.is(Z)}ac=aj.wrapper=ag.closest(w);if(!ag.is(".k-content")||!ac[0]){ag.addClass("k-window-content k-content");aj._createWindow(ag,ao);ac=aj.wrapper=ag.closest(w);aj._dimensions()}aj._position();if(ao.pinned){aj.pin(true)}if(ak){aj.refresh(ak)}if(ao.visible){aj.toFront()}an=ac.children(q);aj._tabindex(an);if(ao.visible&&ao.modal){aj._overlay(ac.is(Z)).css({opacity:0.5})}ac.on("mouseenter"+B,M,R(aj._buttonEnter,aj)).on("mouseleave"+B,M,R(aj._buttonLeave,aj)).on("click"+B,"> "+M,R(aj._windowActionHandler,aj));an.on("keydown"+B,R(aj._keydown,aj)).on("focus"+B,R(aj._focus,aj)).on("blur"+B,R(aj._blur,aj));this._resizable();this._draggable();ae=ag.attr("id");if(ae){ae=ae+"_wnd_title";ac.children(y).children(X).attr("id",ae);an.attr({role:"dialog","aria-labelledby":ae})}ac.add(ac.children(".k-resize-handle,"+y)).on("mousedown"+B,R(aj.toFront,aj));aj.touchScroller=A.touchScroller(ag);aj._resizeHandler=R(aj._onDocumentResize,aj);aj._marker=A.guid().substring(0,8);x(window).on("resize"+B+aj._marker,aj._resizeHandler);if(ao.visible){aj.trigger(O);aj.trigger(h)}A.notify(aj)},_buttonEnter:function(ac){x(ac.currentTarget).addClass(C)},_buttonLeave:function(ac){x(ac.currentTarget).removeClass(C)},_focus:function(){this.wrapper.addClass(I)},_blur:function(){this.wrapper.removeClass(I)},_dimensions:function(){var aj=this.wrapper;var ad=this.options;var af=ad.width;var ac=ad.height;var ah=ad.maxHeight;var ag=["minWidth","minHeight","maxWidth","maxHeight"];this.title(ad.title);for(var ae=0;ae<ag.length;ae++){var ai=ad[ag[ae]];if(ai&&ai!=Infinity){aj.css(ag[ae],ai)}}if(ah&&ah!=Infinity){this.element.css("maxHeight",ah)}if(af){if(af.toString().indexOf("%")>0){aj.width(af)}else{aj.width(T(af,ad.minWidth,ad.maxWidth))}}if(ac){if(ac.toString().indexOf("%")>0){aj.height(ac)}else{aj.height(T(ac,ad.minHeight,ad.maxHeight))}}if(!ad.visible){aj.hide()}},_position:function(){var ad=this.wrapper,ac=this.options.position;if(ac.top===0){ac.top=ac.top.toString()}if(ac.left===0){ac.left=ac.left.toString()}ad.css({top:ac.top||"",left:ac.left||""})},_animations:function(){var ac=this.options;if(ac.animation===false){ac.animation={open:{effects:{}},close:{hide:true,effects:{}}}}},_resize:function(){A.resize(this.element.children())},_resizable:function(){var ac=this.options.resizable;var ad=this.wrapper;if(this.resizing){ad.off("dblclick"+B).children(o).remove();this.resizing.destroy();this.resizing=null}if(ac){ad.on("dblclick"+B,y,R(function(ae){if(!x(ae.target).closest(".k-window-action").length){this.toggleMaximization()}},this));P("n e s w se sw ne nw".split(" "),function(ae,af){ad.append(a.resizeHandle(af))});this.resizing=new Y(this)}ad=null},_draggable:function(){var ac=this.options.draggable;if(this.dragging){this.dragging.destroy();this.dragging=null}if(ac){this.dragging=new p(this,ac.dragHandle||y)}},_actions:function(){var ae=this.options.actions;var ad=this.wrapper.children(y);var ac=ad.find(".k-window-actions");ae=x.map(ae,function(af){return{name:af}});ac.html(A.render(a.action,ae))},setOptions:function(ac){b.fn.setOptions.call(this,ac);this._animations();this._dimensions();this._position();this._resizable();this._draggable();this._actions()},events:[O,h,H,W,t,ab,G,K,D,z],options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:0.7}},fade:{direction:"out"}},duration:350,hide:true}},title:"",actions:["Close"],autoFocus:true,modal:false,resizable:true,draggable:true,minWidth:90,minHeight:50,maxWidth:Infinity,maxHeight:Infinity,pinned:false,position:{},content:null,visible:null,height:null,width:null,appendTo:"body"},_closable:function(){return x.inArray("close",x.map(this.options.actions,function(ac){return ac.toLowerCase()}))>-1},_keydown:function(al){var ak=this,ap=ak.options,ao=A.keys,an=al.keyCode,ae=ak.wrapper,ag,aj,ad=10,af=ak.options.isMaximized,ah,ac,am,ai;if(al.target!=al.currentTarget||ak._closing){return}if(an==ao.ESC&&ak._closable()){ak._close(false)}if(ap.draggable&&!al.ctrlKey&&!af){ag=A.getOffset(ae);if(an==ao.UP){aj=ae.css("top",ag.top-ad)}else{if(an==ao.DOWN){aj=ae.css("top",ag.top+ad)}else{if(an==ao.LEFT){aj=ae.css("left",ag.left-ad)}else{if(an==ao.RIGHT){aj=ae.css("left",ag.left+ad)}}}}}if(ap.resizable&&al.ctrlKey&&!af){if(an==ao.UP){aj=true;ac=ae.height()-ad}else{if(an==ao.DOWN){aj=true;ac=ae.height()+ad}}if(an==ao.LEFT){aj=true;ah=ae.width()-ad}else{if(an==ao.RIGHT){aj=true;ah=ae.width()+ad}}if(aj){am=T(ah,ap.minWidth,ap.maxWidth);ai=T(ac,ap.minHeight,ap.maxHeight);if(!isNaN(am)){ae.width(am);ak.options.width=am+"px"}if(!isNaN(ai)){ae.height(ai);ak.options.height=ai+"px"}ak.resize()}}if(aj){al.preventDefault()}},_overlay:function(ad){var ac=this.appendTo.children(k),ae=this.wrapper;if(!ac.length){ac=x("<div class='k-overlay' />")}ac.insertBefore(ae[0]).toggle(ad).css(e,parseInt(ae.css(e),10)-1);return ac},_actionForIcon:function(ad){var ac=/\bk-i-\w+\b/.exec(ad[0].className)[0];return{"k-i-close":"_close","k-i-maximize":"maximize","k-i-minimize":"minimize","k-i-restore":"restore","k-i-refresh":"refresh","k-i-pin":"pin","k-i-unpin":"unpin"}[ac]},_windowActionHandler:function(ae){if(this._closing){return}var ac=x(ae.target).closest(".k-window-action").find(".k-icon");var ad=this._actionForIcon(ac);if(ad){ae.preventDefault();this[ad]();return false}},_modals:function(){var ac=this;var ad=x(w).filter(function(){var ag=x(this);var af=ac._object(ag);var ae=af&&af.options;return ae&&ae.modal&&ae.visible&&ag.is(Z)}).sort(function(af,ae){return +x(af).css("zIndex")-+x(ae).css("zIndex")});ac=null;return ad},_object:function(ac){var ad=ac.children(q);return ad.data("kendoWindow")||ad.data("kendo"+this.options.name)},center:function(){var ag=this,ac=ag.options.position,aj=ag.wrapper,ae=x(window),ah=0,ai=0,ad,af;if(ag.options.isMaximized){return ag}if(!ag.options.pinned){ah=ae.scrollTop();ai=ae.scrollLeft()}af=ai+Math.max(0,(ae.width()-aj.width())/2);ad=ah+Math.max(0,(ae.height()-aj.height()-parseInt(aj.css("paddingTop"),10))/2);aj.css({left:af,top:ad});ac.top=ad;ac.left=af;return ag},title:function(ah){var af=this,ai=af.wrapper,ad=af.options,ac=ai.children(y),ag=ac.children(X),ae;if(!arguments.length){return ag.text()}if(ah===false){ai.addClass("k-window-titleless");ac.remove()}else{if(!ac.length){ai.prepend(a.titlebar(ad));af._actions();ac=ai.children(y)}else{ag.html(ah)}ae=ac.outerHeight();ai.css("padding-top",ae);ac.css("margin-top",-ae)}af.options.title=ah;return af},content:function(ad,af){var ae=this.wrapper.children(q),ac=ae.children(".km-scroll-container");ae=ac[0]?ac:ae;if(!L(ad)){return ae.html()}this.angular("cleanup",function(){return{elements:ae.children()}});A.destroy(this.element.children());ae.empty().html(ad);this.angular("compile",function(){var ag=[];for(var ah=ae.length;--ah>=0;){ag.push({dataItem:af})}return{elements:ae.children(),data:ag}});return this},open:function(){var ag=this,ai=ag.wrapper,ae=ag.options,af=ae.animation.open,ah=ai.children(q),ad;if(!ag.trigger(O)){if(ag._closing){ai.kendoStop(true,true)}ag._closing=false;ag.toFront();if(ae.autoFocus){ag.element.focus()}ae.visible=true;if(ae.modal){ad=ag._overlay(false);ad.kendoStop(true,true);if(af.duration&&A.effects.Fade){var ac=A.fx(ad).fadeIn();ac.duration(af.duration||0);ac.endValue(0.5);ac.play()}else{ad.css("opacity",0.5)}ad.show()}if(!ai.is(Z)){ah.css(J,Q);ai.show().kendoStop().kendoAnimate({effects:af.effects,duration:af.duration,complete:R(this._activate,this)})}}if(ae.isMaximized){ag._documentScrollTop=x(document).scrollTop();x("html, body").css(J,Q)}return ag},_activate:function(){if(this.options.autoFocus){this.element.focus()}this.trigger(h);this.wrapper.children(q).css(J,"")},_removeOverlay:function(af){var ag=this._modals();var ae=this.options;var ai=ae.modal&&!ag.length;var ad=ae.modal?this._overlay(true):x(l);var ah=ae.animation.close;if(ai){if(!af&&ah.duration&&A.effects.Fade){var ac=A.fx(ad).fadeOut();ac.duration(ah.duration||0);ac.startValue(0.5);ac.play()}else{this._overlay(false).remove()}}else{if(ag.length){this._object(ag.last())._overlay(true)}}},_close:function(ag){var ae=this,ah=ae.wrapper,ac=ae.options,ad=ac.animation.open,af=ac.animation.close;if(ah.is(Z)&&!ae.trigger(W,{userTriggered:!ag})){if(ae._closing){return}ae._closing=true;ac.visible=false;x(w).each(function(aj,ai){var ak=x(ai).children(q);if(ai!=ah&&ak.find("> ."+f).length>0){ak.children(k).remove()}});this._removeOverlay();ah.kendoStop().kendoAnimate({effects:af.effects||ad.effects,reverse:af.reverse===true,duration:af.duration,complete:R(this._deactivate,this)})}if(ae.options.isMaximized){x("html, body").css(J,"");if(ae._documentScrollTop&&ae._documentScrollTop>0){x(document).scrollTop(ae._documentScrollTop)}}},_deactivate:function(){this.wrapper.hide().css("opacity","");this.trigger(H);var ac=this._object(this._modals().last());if(ac){ac.toFront()}},close:function(){this._close(true);return this},_actionable:function(ac){return x(ac).is(M+","+M+" .k-icon,:input,a")},_shouldFocus:function(ae){var ad=d(),ac=this.element;return this.options.autoFocus&&!x(ad).is(ac)&&!this._actionable(ae)&&(!ac.find(ad).length||!ac.find(ae).length)},toFront:function(ah){var ag=this,ac=ag.wrapper,ae=ac[0],aj=+ac.css(e),af=aj,ai=(ah&&ah.target)||null;x(w).each(function(an,am){var al=x(am),ap=al.css(e),ao=al.children(q);if(!isNaN(ap)){aj=Math.max(+ap,aj)}if(am!=ae&&ao.find("> ."+f).length>0){ao.append(a.overlay)}});if(!ac[0].style.zIndex||af<aj){ac.css(e,aj+2)}ag.element.find("> .k-overlay").remove();if(ag._shouldFocus(ai)){ag.element.focus();var ad=x(window).scrollTop(),ak=parseInt(ac.position().top,10);if(ak>0&&ak<ad){if(ad>0){x(window).scrollTop(ak)}else{ac.css("top",ad)}}}ac=null;return ag},toggleMaximization:function(){if(this._closing){return this}return this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var ad=this;var ac=ad.options;var ae=ac.minHeight;var af=ad.restoreOptions;if(!ac.isMaximized&&!ac.isMinimized){return ad}if(ae&&ae!=Infinity){ad.wrapper.css("min-height",ae)}ad.wrapper.css({position:ac.pinned?"fixed":"absolute",left:af.left,top:af.top,width:af.width,height:af.height}).removeClass(u).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-restore").parent().remove().end().end().find(V).parent().show().end().end().find(S).parent().show();ad.options.width=af.width;ad.options.height=af.height;x("html, body").css(J,"");if(this._documentScrollTop&&this._documentScrollTop>0){x(document).scrollTop(this._documentScrollTop)}ac.isMaximized=ac.isMinimized=false;ad.resize();return ad},maximize:m("maximize",function(){var ad=this,ae=ad.wrapper,ac=ae.position();g(ad.restoreOptions,{left:ac.left,top:ac.top});ae.css({left:0,top:0,position:"fixed"}).addClass(u);this._documentScrollTop=x(document).scrollTop();x("html, body").css(J,Q);ad.options.isMaximized=true;ad._onDocumentResize()}),minimize:m("minimize",function(){var ac=this;ac.wrapper.css({height:"",minHeight:""});ac.element.hide();ac.options.isMinimized=true}),pin:function(ad){var ac=this,ag=x(window),ah=ac.wrapper,af=parseInt(ah.css("top"),10),ae=parseInt(ah.css("left"),10);if(ad||!ac.options.pinned&&!ac.options.isMaximized){ah.css({position:"fixed",top:af-ag.scrollTop(),left:ae-ag.scrollLeft()});ah.children(y).find(U).addClass("k-i-unpin").removeClass("k-i-pin");ac.options.pinned=true}},unpin:function(){var ac=this,af=x(window),ag=ac.wrapper,ae=parseInt(ag.css("top"),10),ad=parseInt(ag.css("left"),10);if(ac.options.pinned&&!ac.options.isMaximized){ag.css({position:"",top:ae+af.scrollTop(),left:ad+af.scrollLeft()});ag.children(y).find(v).addClass("k-i-pin").removeClass("k-i-unpin");ac.options.pinned=false}},_onDocumentResize:function(){var af=this,ah=af.wrapper,ae=x(window),ag=A.support.zoomLevel(),ac,ad;if(!af.options.isMaximized){return}ac=ae.width()/ag;ad=ae.height()/ag-parseInt(ah.css("padding-top"),10);ah.css({width:ac,height:ad});af.options.width=ac;af.options.height=ad;af.resize()},refresh:function(ae){var ai=this,ah=ai.options,af=x(ai.element),ag,ac,ad;if(!aa(ae)){ae={url:ae}}ae=g({},ah.content,ae);ac=L(ah.iframe)?ah.iframe:ae.iframe;ad=ae.url;if(ad){if(!L(ac)){ac=!F(ad)}if(!ac){ai._ajaxRequest(ae)}else{ag=af.find("."+f)[0];if(ag){ag.src=ad||ag.src}else{af.html(a.contentFrame(g({},ah,{content:ae})))}af.find("."+f).unbind("load"+B).on("load"+B,R(this._triggerRefresh,this))}}else{if(ae.template){ai.content(c(ae.template)({}))}ai.trigger(t)}af.toggleClass("k-window-iframecontent",!!ac);return ai},_triggerRefresh:function(){this.trigger(t)},_ajaxComplete:function(){clearTimeout(this._loadingIconTimeout);this.wrapper.find(n).removeClass(s)},_ajaxError:function(ad,ac){this.trigger(z,{status:ac,xhr:ad})},_ajaxSuccess:function(ac){return function(ae){var ad=ae;if(ac){ad=c(ac)(ae||{})}this.content(ad,ae);this.element.prop("scrollTop",0);this.trigger(t)}},_showLoading:function(){this.wrapper.find(n).addClass(s)},_ajaxRequest:function(ac){this._loadingIconTimeout=setTimeout(R(this._showLoading,this),100);x.ajax(g({type:"GET",dataType:"html",cache:false,error:R(this._ajaxError,this),complete:R(this._ajaxComplete,this),success:R(this._ajaxSuccess(ac.template),this)},ac))},destroy:function(){var ac=this;if(ac.resizing){ac.resizing.destroy()}if(ac.dragging){ac.dragging.destroy()}ac.wrapper.off(B).children(q).off(B).end().find(".k-resize-handle,.k-window-titlebar").off(B);x(window).off("resize"+B+ac._marker);clearTimeout(ac._loadingIconTimeout);b.fn.destroy.call(ac);ac.unbind(l);A.destroy(ac.wrapper);ac._removeOverlay(true);ac.wrapper.empty().remove();ac.wrapper=ac.appendTo=ac.element=x()},_createWindow:function(){var af=this.element,ae=this.options,ac,ag,ad=A.support.isRtl(af);if(ae.scrollable===false){af.attr("style","overflow:hidden;")}ag=x(a.wrapper(ae));ac=af.find("iframe:not(.k-content)").map(function(){var ah=this.getAttribute("src");this.src="";return ah});ag.toggleClass("k-rtl",ad).appendTo(this.appendTo).append(af).find("iframe:not(.k-content)").each(function(ah){this.src=ac[ah]});ag.find(".k-window-title").css(ad?"left":"right",ag.find(".k-window-actions").outerWidth()+10);af.css("visibility","").show();af.find("[data-role=editor]").each(function(){var ah=x(this).data("kendoEditor");if(ah){ah.refresh()}});ag=af=null}});a={wrapper:c("<div class='k-widget k-window' />"),action:c("<a role='button' href='\\#' class='k-window-action k-link'><span role='presentation' class='k-icon k-i-#= name.toLowerCase() #'>#= name #</span></a>"),titlebar:c("<div class='k-window-titlebar k-header'>&nbsp;<span class='k-window-title'>#= title #</span><div class='k-window-actions' /></div>"),overlay:"<div class='k-overlay' />",contentFrame:c("<iframe frameborder='0' title='#= title #' class='"+f+"' src='#= content.url #'>This page requires frames in order to show content</iframe>"),resizeHandle:c("<div class='k-resize-handle k-resize-#= data #'></div>")};function Y(ad){var ac=this;ac.owner=ad;ac._draggable=new i(ad.wrapper,{filter:">"+o,group:ad.wrapper.id+"-resizing",dragstart:R(ac.dragstart,ac),drag:R(ac.drag,ac),dragend:R(ac.dragend,ac)});ac._draggable.userEvents.bind("press",R(ac.addOverlay,ac));ac._draggable.userEvents.bind("release",R(ac.removeOverlay,ac))}Y.prototype={addOverlay:function(){this.owner.wrapper.append(a.overlay)},removeOverlay:function(){this.owner.wrapper.find(k).remove()},dragstart:function(ae){var ad=this;var ac=ad.owner;var af=ac.wrapper;ad.elementPadding=parseInt(af.css("padding-top"),10);ad.initialPosition=A.getOffset(af,"position");ad.resizeDirection=ae.currentTarget.prop("className").replace("k-resize-handle k-resize-","");ad.initialSize={width:af.width(),height:af.height()};ad.containerOffset=A.getOffset(ac.appendTo,"position");af.children(o).not(ae.currentTarget).hide();x(N).css(E,ae.currentTarget.css(E))},drag:function(ak){var aj=this,af=aj.owner,ad=af.wrapper,aq=af.options,an=aj.resizeDirection,ai=aj.containerOffset,ag=aj.initialPosition,ap=aj.initialSize,ah,ac,ae,ao,am=Math.max(ak.x.location,ai.left),al=Math.max(ak.y.location,ai.top);if(an.indexOf("e")>=0){ah=am-ag.left;ad.width(T(ah,aq.minWidth,aq.maxWidth))}else{if(an.indexOf("w")>=0){ao=ag.left+ap.width;ah=T(ao-am,aq.minWidth,aq.maxWidth);ad.css({left:ao-ah-ai.left,width:ah})}}if(an.indexOf("s")>=0){ac=al-ag.top-aj.elementPadding;ad.height(T(ac,aq.minHeight,aq.maxHeight))}else{if(an.indexOf("n")>=0){ae=ag.top+ap.height;ac=T(ae-al,aq.minHeight,aq.maxHeight);ad.css({top:ae-ac-ai.top,height:ac})}}if(ah){af.options.width=ah+"px"}if(ac){af.options.height=ac+"px"}af.resize()},dragend:function(ae){var ad=this,ac=ad.owner,af=ac.wrapper;af.children(o).not(ae.currentTarget).show();x(N).css(E,"");if(ac.touchScroller){ac.touchScroller.reset()}if(ae.keyCode==27){af.css(ad.initialPosition).css(ad.initialSize)}ac.trigger(G);return false},destroy:function(){if(this._draggable){this._draggable.destroy()}this._draggable=this.owner=null}};function p(ae,ac){var ad=this;ad.owner=ae;ad._draggable=new i(ae.wrapper,{filter:ac,group:ae.wrapper.id+"-moving",dragstart:R(ad.dragstart,ad),drag:R(ad.drag,ad),dragend:R(ad.dragend,ad),dragcancel:R(ad.dragcancel,ad)});ad._draggable.userEvents.stopPropagation=false}p.prototype={dragstart:function(af){var ae=this.owner,ac=ae.element,ag=ac.find(".k-window-actions"),ad=A.getOffset(ae.appendTo);ae.trigger(K);ae.initialWindowPosition=A.getOffset(ae.wrapper,"position");ae.startPosition={left:af.x.client-ae.initialWindowPosition.left,top:af.y.client-ae.initialWindowPosition.top};if(ag.length>0){ae.minLeftPosition=ag.outerWidth()+parseInt(ag.css("right"),10)-ac.outerWidth()}else{ae.minLeftPosition=20-ac.outerWidth()}ae.minLeftPosition-=ad.left;ae.minTopPosition=-ad.top;ae.wrapper.append(a.overlay).children(o).hide();x(N).css(E,af.currentTarget.css(E))},drag:function(ag){var af=this.owner,ac=af.options.position,ad=Math.max(ag.y.client-af.startPosition.top,af.minTopPosition),ae=Math.max(ag.x.client-af.startPosition.left,af.minLeftPosition),ah={left:ae,top:ad};x(af.wrapper).css(ah);ac.top=ad;ac.left=ae},_finishDrag:function(){var ac=this.owner;ac.wrapper.children(o).toggle(!ac.options.isMinimized).end().find(k).remove();x(N).css(E,"")},dragcancel:function(ac){this._finishDrag();ac.currentTarget.closest(w).css(this.owner.initialWindowPosition)},dragend:function(){this._finishDrag();this.owner.trigger(D);return false},destroy:function(){if(this._draggable){this._draggable.destroy()}this._draggable=this.owner=null}};A.ui.plugin(j)})(window.kendo.jQuery);(function(A,q){var B=window.kendo,y=window.angular,C=B.mobile,D=C.ui,s=B.attr,b=B.Class,k=D.Widget,E=B.ViewClone,p="init",z='<div style="height: 100%; width: 100%; position: absolute; top: 0; left: 0; z-index: 20000; display: none" />',a="beforeShow",d="show",v="afterShow",l="beforeHide",o="transitionEnd",j="transitionStart",n="hide",t="destroy",N="z-index",e=B.attrValue,M=B.roleSelector,c=B.directiveSelector,f=B.compileMobileDirective;function H(P){var S=P.find(M("popover")),O,R,Q=D.roles;for(O=0,R=S.length;O<R;O++){B.initWidget(S[O],{},Q)}}function J(O){if(!B.triggeredByInput(O)){O.preventDefault()}}var K=k.extend({init:function(P,O){k.fn.init.call(this,P,O);this.params={};A.extend(this,O);this.transition=this.transition||this.defaultTransition;this._id();if(!this.options.$angular){this._layout();this._overlay();this._scroller();this._model()}else{this._overlay()}},events:[p,a,d,v,l,n,t,j,o],options:{name:"View",title:"",layout:null,getLayout:A.noop,reload:false,transition:"",defaultTransition:"",useNativeScrolling:false,stretch:false,zoom:false,model:null,modelScope:window,scroller:{},initWidgets:true},enable:function(O){if(typeof O=="undefined"){O=true}if(O){this.overlay.hide()}else{this.overlay.show()}},destroy:function(){if(this.layout){this.layout.detach(this)}this.trigger(t);k.fn.destroy.call(this);if(this.scroller){this.scroller.destroy()}if(this.options.$angular){this.element.scope().$destroy()}B.destroy(this.element)},purge:function(){this.destroy();this.element.remove()},triggerBeforeShow:function(){if(this.trigger(a,{view:this})){return false}return true},showStart:function(){var O=this.element;O.css("display","");if(!this.inited){this.inited=true;this.trigger(p,{view:this})}else{this._invokeNgController()}if(this.layout){this.layout.attach(this)}this._padIfNativeScrolling();this.trigger(d,{view:this});B.resize(O)},showEnd:function(){this.trigger(v,{view:this});this._padIfNativeScrolling()},hideStart:function(){this.trigger(l,{view:this})},hideEnd:function(){var O=this;O.element.hide();O.trigger(n,{view:O});if(O.layout){O.layout.trigger(n,{view:O,layout:O.layout})}},beforeTransition:function(O){this.trigger(j,{type:O})},afterTransition:function(O){this.trigger(o,{type:O})},_padIfNativeScrolling:function(){if(C.appLevelNativeScrolling()){var R=B.support.mobileOS&&B.support.mobileOS.android,O=C.application.os.android||(C.application.skin()&&C.application.skin().indexOf("android")>-1),Q=R||O?"footer":"header",P=R||O?"header":"footer";this.content.css({paddingTop:this[Q].height(),paddingBottom:this[P].height()})}},contentElement:function(){var O=this;return O.options.stretch?O.content:O.scrollerContent},clone:function(O){return new E(this)},_scroller:function(){var O=this;if(C.appLevelNativeScrolling()){return}if(O.options.stretch){O.content.addClass("km-stretched-view")}else{O.content.kendoMobileScroller(A.extend(O.options.scroller,{zoom:O.options.zoom,useNative:O.options.useNativeScrolling}));O.scroller=O.content.data("kendoMobileScroller");O.scrollerContent=O.scroller.scrollElement}if(B.support.kineticScrollNeeded){A(O.element).on("touchmove",".km-header",J);if(!O.options.useNativeScrolling){A(O.element).on("touchmove",".km-content",J)}}},_model:function(){var Q=this,P=Q.element,O=Q.options.model;if(typeof O==="string"){O=B.getter(O)(Q.options.modelScope)}Q.model=O;H(P);Q.element.css("display","");if(Q.options.initWidgets){if(O){B.bind(P,O,D,B.ui,B.dataviz.ui)}else{C.init(P.children())}}Q.element.css("display","none")},_id:function(){var O=this.element,P=O.attr("id")||"";this.id=e(O,"url")||"#"+P;if(this.id=="#"){this.id=B.guid();O.attr("id",this.id)}},_layout:function(){var O=M("content"),P=this.element;P.addClass("km-view");this.header=P.children(M("header")).addClass("km-header");this.footer=P.children(M("footer")).addClass("km-footer");if(!P.children(O)[0]){P.wrapInner("<div "+s("role")+'="content"></div>')}this.content=P.children(M("content")).addClass("km-content");this.element.prepend(this.header).append(this.footer);this.layout=this.options.getLayout(this.layout);if(this.layout){this.layout.setup(this)}},_overlay:function(){this.overlay=A(z).appendTo(this.element)},_invokeNgController:function(){var P=this.element,O,Q;if(this.options.$angular){O=P.controller();Q=P.scope();if(O){Q.$apply(function(){P.injector().invoke(O.constructor,null,{$scope:Q})})}}}});function g(O){O.each(function(){B.initWidget(A(this),{},D.roles)})}var h=k.extend({init:function(P,O){k.fn.init.call(this,P,O);P=this.element;this.header=P.children(this._locate("header")).addClass("km-header");this.footer=P.children(this._locate("footer")).addClass("km-footer");this.elements=this.header.add(this.footer);H(P);if(!this.options.$angular){B.mobile.init(this.element.children())}this.element.detach();this.trigger(p,{layout:this})},_locate:function(O){return this.options.$angular?c(O):M(O)},options:{name:"Layout",id:null,platform:null},events:[p,d,n],setup:function(O){if(!O.header[0]){O.header=this.header}if(!O.footer[0]){O.footer=this.footer}},detach:function(O){var P=this;if(O.header===P.header&&P.header[0]){O.element.prepend(P.header.detach()[0].cloneNode(true))}if(O.footer===P.footer&&P.footer.length){O.element.append(P.footer.detach()[0].cloneNode(true))}},attach:function(O){var P=this,Q=P.currentView;if(Q){P.detach(Q)}if(O.header===P.header){P.header.detach();O.element.children(M("header")).remove();O.element.prepend(P.header)}if(O.footer===P.footer){P.footer.detach();O.element.children(M("footer")).remove();O.element.append(P.footer)}P.trigger(d,{layout:P,view:O});P.currentView=O}});var i=B.Observable,u=/<body[^>]*>(([\u000a\u000d\u2028\u2029]|.)*)<\/body>/i,r="loadStart",m="loadComplete",L="showStart",I="sameViewRequested",x="viewShow",G="viewTypeDetermined",F="after";var w=i.extend({init:function(R){var S=this,P,Q,O,T;i.fn.init.call(S);A.extend(S,R);S.sandbox=A("<div />");O=S.container;P=S._hideViews(O);S.rootView=P.first();if(!S.rootView[0]&&R.rootNeeded){if(O[0]==B.mobile.application.element[0]){Q='Your kendo mobile application element does not contain any direct child elements with data-role="view" attribute set. Make sure that you instantiate the mobile application using the correct container.'}else{Q='Your pane element does not contain any direct child elements with data-role="view" attribute set.'}throw new Error(Q)}S.layouts={};S.viewContainer=new B.ViewContainer(S.container);S.viewContainer.bind("accepted",function(U){U.view.params=S.params});S.viewContainer.bind("complete",function(U){S.trigger(x,{view:U.view})});S.viewContainer.bind(F,function(U){S.trigger(F)});this.getLayoutProxy=A.proxy(this,"_getLayout");S._setupLayouts(O);T=O.children(S._locate("modalview drawer"));if(S.$angular){T.each(function(U,V){f(A(V),function(W){})})}else{g(T)}this.bind(this.events,R)},events:[L,F,x,r,m,I,G],destroy:function(){B.destroy(this.container);for(var O in this.layouts){this.layouts[O].destroy()}},view:function(){return this.viewContainer.view},showView:function(Q,U,T){Q=Q.replace(new RegExp("^"+this.remoteViewURLPrefix),"");if(Q===""&&this.remoteViewURLPrefix){Q="/"}if(Q.replace(/^#/,"")===this.url){this.trigger(I);return false}this.trigger(L);var S=this,P=function(V){return S.viewContainer.show(V,U,Q)},R=S._findViewElement(Q),O=B.widgetInstance(R);S.url=Q.replace(/^#/,"");S.params=T;if(O&&O.reload){O.purge();R=[]}this.trigger(G,{remote:R.length===0,url:Q});if(R[0]){if(!O){O=S._createView(R)}return P(O)}else{if(this.serverNavigation){location.href=Q}else{S._loadView(Q,P)}return true}},append:function(U,T){var R=this.sandbox,S=(T||"").split("?")[0],Q=this.container,P,V,O;if(u.test(U)){U=RegExp.$1}R[0].innerHTML=U;Q.append(R.children("script, style"));P=this._hideViews(R);O=P.first();if(!O.length){P=O=R.wrapInner("<div data-role=view />").children()}if(S){O.hide().attr(s("url"),S)}this._setupLayouts(R);V=R.children(this._locate("modalview drawer"));Q.append(R.children(this._locate("layout modalview drawer")).add(P));g(V);return this._createView(O)},_locate:function(O){return this.$angular?c(O):M(O)},_findViewElement:function(P){var Q,O=P.split("?")[0];if(!O){return this.rootView}Q=this.container.children("["+s("url")+"='"+O+"']");if(!Q[0]&&O.indexOf("/")===-1){Q=this.container.children(O.charAt(0)==="#"?O:"#"+O)}return Q},_createView:function(O){if(this.$angular){var P=this;return f(O,function(Q){Q.viewOptions={defaultTransition:P.transition,loader:P.loader,container:P.container,getLayout:P.getLayoutProxy}})}else{return B.initWidget(O,{defaultTransition:this.transition,loader:this.loader,container:this.container,getLayout:this.getLayoutProxy,modelScope:this.modelScope,reload:e(O,"reload")},D.roles)}},_getLayout:function(O){if(O===""){return null}return O?this.layouts[O]:this.layouts[this.layout]},_loadView:function(O,P){if(this._xhr){this._xhr.abort()}this.trigger(r);this._xhr=A.get(B.absoluteURL(O,this.remoteViewURLPrefix),"html").always(A.proxy(this,"_xhrComplete",P,O))},_xhrComplete:function(T,Q,P,O,R){var S=true;if(typeof P==="object"){if(P.status===0){if(P.responseText&&P.responseText.length>0){S=true;P=P.responseText}else{return}}}this.trigger(m);if(S){T(this.append(P,Q))}},_hideViews:function(O){return O.children(this._locate("view splitview")).hide()},_setupLayouts:function(O){var Q=this,P;O.children(Q._locate("layout")).each(function(){if(Q.$angular){P=f(A(this))}else{P=B.initWidget(A(this),{},D.roles)}var R=P.options.platform;if(!R||R===C.application.os.name){Q.layouts[P.options.id]=P}else{P.destroy()}})}});B.mobile.ViewEngine=w;D.plugin(K);D.plugin(h)})(window.kendo.jQuery);(function(c,f){var e=window.kendo,b=e.mobile.ui,a=b.Widget,d=c.map(e.eventMap,function(h){return h}).join(" ").split(" ");var g=a.extend({init:function(h,i){var k=this,j=c('<div class="km-loader"><span class="km-loading km-spin"></span><span class="km-loading-left"></span><span class="km-loading-right"></span></div>');a.fn.init.call(k,j,i);k.container=h;k.captureEvents=false;k._attachCapture();j.append(k.options.loading).hide().appendTo(h)},options:{name:"Loader",loading:"<h1>Loading...</h1>",timeout:100},show:function(){var h=this;clearTimeout(h._loading);if(h.options.loading===false){return}h.captureEvents=true;h._loading=setTimeout(function(){h.element.show()},h.options.timeout)},hide:function(){this.captureEvents=false;clearTimeout(this._loading);this.element.hide()},changeMessage:function(h){this.options.loading=h;this.element.find(">h1").html(h)},transition:function(){this.captureEvents=true;this.container.css("pointer-events","none")},transitionDone:function(){this.captureEvents=false;this.container.css("pointer-events","")},_attachCapture:function(){var k=this;k.captureEvents=false;function h(i){if(k.captureEvents){i.preventDefault()}}for(var j=0;j<d.length;j++){k.container[0].addEventListener(d[j],h,true)}}});b.plugin(g)})(window.kendo.jQuery);(function(e,g){var o=window.kendo,d=o.mobile,i=o.roleSelector,n=d.ui,c=n.Widget,h=d.ViewEngine,s=n.View,j=d.ui.Loader,w="external",a="href",r="#!",v="navigate",t="viewShow",l="sameViewRequested",b=o.support.mobileOS,k=b.ios&&!b.appMode&&b.flatVersion>=700,f=/popover|actionsheet|modalview|drawer/,x="#:back",m=o.attrValue,p="button backbutton detailbutton listview-link",q="tab";var u=c.extend({init:function(z,y){var A=this;c.fn.init.call(A,z,y);y=A.options;z=A.element;z.addClass("km-pane");if(A.options.collapsible){z.addClass("km-collapsible-pane")}this.history=[];this.historyCallback=function(C,E,B){var D=A.transition;A.transition=null;if(k&&B){D="none"}return A.viewEngine.showView(C,D,E)};this._historyNavigate=function(B){if(B===x){if(A.history.length===1){return}A.history.pop();B=A.history[A.history.length-1]}else{A.history.push(B)}A.historyCallback(B,o.parseQueryStringParams(B))};this._historyReplace=function(B){var C=o.parseQueryStringParams(B);A.history[A.history.length-1]=B;A.historyCallback(B,C)};A.loader=new j(z,{loading:A.options.loading});A.viewEngine=new h({container:z,transition:y.transition,modelScope:y.modelScope,rootNeeded:!y.initial,serverNavigation:y.serverNavigation,remoteViewURLPrefix:y.root||"",layout:y.layout,$angular:y.$angular,loader:A.loader,showStart:function(){A.loader.transition();A.closeActiveDialogs()},after:function(B){A.loader.transitionDone()},viewShow:function(B){A.trigger(t,B)},loadStart:function(){A.loader.show()},loadComplete:function(){A.loader.hide()},sameViewRequested:function(){A.trigger(l)},viewTypeDetermined:function(B){if(!B.remote||!A.options.serverNavigation){A.trigger(v,{url:B.url})}}});this._setPortraitWidth();o.onResize(function(){A._setPortraitWidth()});A._setupAppLinks()},closeActiveDialogs:function(){var y=this.element.find(i("actionsheet popover modalview")).filter(":visible");y.each(function(){o.widgetInstance(e(this),n).close()})},navigateToInitial:function(){var y=this.options.initial;if(y){this.navigate(y)}},options:{name:"Pane",portraitWidth:"",transition:"",layout:"",collapsible:false,initial:null,modelScope:window,loading:"<h1>Loading...</h1>"},events:[v,t,l],append:function(y){return this.viewEngine.append(y)},destroy:function(){c.fn.destroy.call(this);this.viewEngine.destroy();this.userEvents.destroy()},navigate:function(y,z){if(y instanceof s){y=y.id}this.transition=z;this._historyNavigate(y)},replace:function(y,z){if(y instanceof s){y=y.id}this.transition=z;this._historyReplace(y)},bindToRouter:function(y){var A=this,B=this.history,z=this.viewEngine;y.bind("init",function(F){var C=F.url,E=y.pushState?C:"/";z.rootView.attr(o.attr("url"),E);var D=B.length;if(C==="/"&&D){y.navigate(B[D-1],true);F.preventDefault()}});y.bind("routeMissing",function(C){if(!A.historyCallback(C.url,C.params,C.backButtonPressed)){C.preventDefault()}});y.bind("same",function(){A.trigger(l)});A._historyNavigate=function(C){y.navigate(C)};A._historyReplace=function(C){y.replace(C)}},hideLoading:function(){this.loader.hide()},showLoading:function(){this.loader.show()},changeLoadingMessage:function(y){this.loader.changeMessage(y)},view:function(){return this.viewEngine.view()},_setPortraitWidth:function(){var z,y=this.options.portraitWidth;if(y){z=o.mobile.application.element.is(".km-vertical")?y:"auto";this.element.css("width",z)}},_setupAppLinks:function(){var y=this;this.element.handler(this).on("down",i(q),"_mouseup").on("click",i(q+" "+p),"_appLinkClick");this.userEvents=new o.UserEvents(this.element,{filter:i(p),tap:function(z){z.event.currentTarget=z.touch.currentTarget;y._mouseup(z.event)}})},_appLinkClick:function(A){var y=e(A.currentTarget).attr("href");var z=y&&y[0]!=="#"&&this.options.serverNavigation;if(!z&&m(e(A.currentTarget),"rel")!=w){A.preventDefault()}},_mouseup:function(B){if(B.which>1||B.isDefaultPrevented()){return}var A=this,E=e(B.currentTarget),D=m(E,"transition"),F=m(E,"rel")||"",C=m(E,"target"),y=E.attr(a),G=k&&E[0].offsetHeight===0,z=y&&y[0]!=="#"&&this.options.serverNavigation;if(G||z||F===w||(typeof y==="undefined")||y===r){return}E.attr(a,r);setTimeout(function(){E.attr(a,y)});if(F.match(f)){o.widgetInstance(e(y),n).openFor(E);if(F==="actionsheet"||F==="drawer"){B.stopPropagation()}}else{if(C==="_top"){A=d.application.pane}else{if(C){A=e("#"+C).data("kendoMobilePane")}}A.navigate(y,D)}B.preventDefault()}});u.wrap=function(y){if(!y.is(i("view"))){y=y.wrap("<div data-"+o.ns+'role="view" data-stretch="true"></div>').parent()}var z=y.wrap('<div class="km-pane-wrapper"><div></div></div>').parent(),A=new u(z);A.navigate("");return A};n.plugin(u)})(window.kendo.jQuery);(function(f,g){var n=window.kendo,d=n.mobile,m=d.ui,e="show",r="hide",s="open",c="close",i='<div class="km-popup-wrapper" />',q='<div class="km-popup-arrow" />',j='<div class="km-popup-overlay" />',p="km-up km-down km-left km-right",b=m.Widget,o={down:{origin:"bottom center",position:"top center"},up:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"}},l={animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:400}}},k={horizontal:{offset:"top",size:"height"},vertical:{offset:"left",size:"width"}},t={up:"down",down:"up",left:"right",right:"left"};var h=b.extend({init:function(y,x){var A=this,w=y.closest(".km-modalview-wrapper"),u=y.closest(".km-root").children(".km-pane").first(),v=w[0]?w:u,B,z;if(x.viewport){u=x.viewport}else{if(!u[0]){u=window}}if(x.container){v=x.container}else{if(!v[0]){v=document.body}}B={viewport:u,copyAnchorStyles:false,autosize:true,open:function(){A.overlay.show()},activate:f.proxy(A._activate,A),deactivate:function(){A.overlay.hide();if(!A._apiCall){A.trigger(r)}A._apiCall=false}};b.fn.init.call(A,y,x);y=A.element;x=A.options;y.wrap(i).addClass("km-popup").show();z=A.options.direction.match(/left|right/)?"horizontal":"vertical";A.dimensions=k[z];A.wrapper=y.parent().css({width:x.width,height:x.height}).addClass("km-popup-wrapper km-"+x.direction).hide();A.arrow=f(q).prependTo(A.wrapper).hide();A.overlay=f(j).appendTo(v).hide();B.appendTo=A.overlay;if(x.className){A.overlay.addClass(x.className)}A.popup=new n.ui.Popup(A.wrapper,f.extend(true,B,l,o[x.direction]))},options:{name:"Popup",width:240,height:"",direction:"down",container:null,viewport:null},events:[r],show:function(u){this.popup.options.anchor=f(u);this.popup.open()},hide:function(){this._apiCall=true;this.popup.close()},destroy:function(){b.fn.destroy.call(this);this.popup.destroy();this.overlay.remove()},target:function(){return this.popup.options.anchor},_activate:function(){var B=this,E=B.options.direction,u=B.dimensions,z=u.offset,w=B.popup,A=w.options.anchor,x=f(A).offset(),v=f(w.element).offset(),G=w.flipped?t[E]:E,y=B.arrow[u.size]()*2,D=B.element[u.size]()-B.arrow[u.size](),F=f(A)[u.size](),C=x[z]-v[z]+(F/2);if(C<y){C=y}if(C>D){C=D}B.wrapper.removeClass(p).addClass("km-"+G);B.arrow.css(z,C).show()}});var a=b.extend({init:function(v,u){var w=this,y,x;w.initialOpen=false;b.fn.init.call(w,v,u);y=f.extend({className:"km-popover-root",hide:function(){w.trigger(c)}},this.options.popup);w.popup=new h(w.element,y);w.popup.overlay.on("move",function(z){if(z.target==w.popup.overlay[0]){z.preventDefault()}});w.pane=new m.Pane(w.element,f.extend(this.options.pane,{$angular:this.options.$angular}));w.pane.navigateToInitial();n.notify(w,m)},options:{name:"PopOver",popup:{},pane:{}},events:[s,c],open:function(u){this.popup.show(u);if(!this.initialOpen){this.pane.navigate("");this.popup.popup._position();this.initialOpen=true}else{this.pane.view()._invokeNgController()}},openFor:function(u){this.open(u);this.trigger(s,{target:this.popup.target()})},close:function(){this.popup.hide()},destroy:function(){b.fn.destroy.call(this);this.pane.destroy();this.popup.destroy();n.destroy(this.element)}});m.plugin(h);m.plugin(a)})(window.kendo.jQuery);(function(d,a){var e=window.kendo,h=e.mobile.ui,j=e.ui.Popup,b='<div class="km-shim"/>',i="show",c="hide",g=h.Widget;var f=g.extend({init:function(o,v){var q=this,l=e.mobile.application,n=e.support.mobileOS,k=l?l.os.name:(n?n.name:"ios"),t=k==="ios"||k==="wp"||(l?l.os.skin:false),s=k==="blackberry",r=v.align||(t?"bottom center":s?"center right":"center center"),p=v.position||(t?"bottom center":s?"center right":"center center"),u=v.effect||(t?"slideIn:up":s?"slideIn:left":"fade:in"),m=d(b).handler(q).hide();g.fn.init.call(q,o,v);q.shim=m;o=q.element;v=q.options;if(v.className){q.shim.addClass(v.className)}if(!v.modal){q.shim.on("up","_hide")}(l?l.element:d(document.body)).append(m);q.popup=new j(q.element,{anchor:m,modal:true,appendTo:m,origin:r,position:p,animation:{open:{effects:u,duration:v.duration},close:{duration:v.duration}},close:function(x){var w=false;if(!q._apiCall){w=q.trigger(c)}if(w){x.preventDefault()}q._apiCall=false},deactivate:function(){m.hide()},open:function(){m.show()}});e.notify(q)},events:[c],options:{name:"Shim",modal:false,align:a,position:a,effect:a,duration:200},show:function(){this.popup.open()},hide:function(){this._apiCall=true;this.popup.close()},destroy:function(){g.fn.destroy.call(this);this.shim.kendoDestroy();this.popup.destroy();this.shim.remove()},_hide:function(k){if(!k||!d.contains(this.shim.children().children(".k-popup")[0],k.target)){this.popup.close()}}});h.plugin(f)})(window.kendo.jQuery);(function(g,d){var j=window.kendo,p=j.support,m=j.mobile.ui,k=m.Shim,o=m.Popup,n=m.Widget,f="open",i="close",l="command",b="li>a",c="actionsheetContext",a='<div class="km-actionsheet-wrapper" />',h=j.template('<li class="km-actionsheet-cancel"><a href="\\#">#:cancel#</a></li>');var e=n.extend({init:function(s,r){var u=this,w,q,t,v=p.mobileOS;n.fn.init.call(u,s,r);r=u.options;t=r.type;s=u.element;if(t==="auto"){q=v&&v.tablet}else{q=t==="tablet"}w=q?o:k;if(r.cancelTemplate){h=j.template(r.cancelTemplate)}s.addClass("km-actionsheet").append(h({cancel:u.options.cancel})).wrap(a).on("up",b,"_click").on("click",b,j.preventDefault);u.view().bind("destroy",function(){u.destroy()});u.wrapper=s.parent().addClass(t?" km-actionsheet-"+t:"");u.shim=new w(u.wrapper,g.extend({modal:v.ios&&v.majorVersion<7,className:"km-actionsheet-root"},u.options.popup));u._closeProxy=g.proxy(u,"_close");u.shim.bind("hide",u._closeProxy);if(q){j.onResize(u._closeProxy)}j.notify(u,m)},events:[f,i,l],options:{name:"ActionSheet",cancel:"Cancel",type:"auto",popup:{height:"auto"}},open:function(s,q){var r=this;r.target=g(s);r.context=q;r.shim.show(s)},close:function(){this.context=this.target=null;this.shim.hide()},openFor:function(s){var r=this,q=s.data(c);r.open(s,q);r.trigger(f,{target:s,context:q})},destroy:function(){n.fn.destroy.call(this);j.unbindResize(this._closeProxy);this.shim.destroy()},_click:function(u){if(u.isDefaultPrevented()){return}var t=g(u.currentTarget);var s=t.data("action");if(s){var r={target:this.target,context:this.context},q=this.options.$angular;if(q){this.element.injector().get("$parse")(s)(q[0])(r)}else{j.getter(s)(window)(r)}}this.trigger(l,{target:this.target,context:this.context,currentTarget:t});u.preventDefault();this._close()},_close:function(q){if(!this.trigger(i)){this.close()}else{q.preventDefault()}}});m.plugin(e)})(window.kendo.jQuery);(function(ba,G){var B=window.kendo,au=B.ui,x=B.data.DataSource,y=au.Groupable,K=B.support.tbodyInnerHtml,W=B._activeElement,p=au.Widget,ai=B.keys,V=ba.isPlainObject,aN=ba.extend,H=ba.map,m=ba.grep,c=ba.isArray,F=ba.inArray,g=Array.prototype.push,M=ba.proxy,be=B.isFunction,aU=ba.isEmptyObject,ao=Math,a3="progress",Y="error",R=":not(.k-group-cell):not(.k-hierarchy-cell):visible",k="tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)",S="tr:not(.k-footer-template):visible",bg=":not(.k-group-cell):not(.k-hierarchy-cell):visible",aT=S+":first>"+bg+":first",aO="th.k-header:not(.k-group-cell):not(.k-hierarchy-cell)",bo=".kendoGrid",ag="edit",a9="save",bv="remove",z="detailInit",e="filterMenuInit",a1="columnMenuInit",Z="change",J="columnHide",aV="columnShow",bq="saveChanges",N="dataBound",o="detailExpand",aJ="detailCollapse",C="k-state-focused",bl="k-state-selected",bt="columnResize",aW="columnReorder",U="columnLock",h="columnUnlock",a8="click",bi="height",av="tabIndex",aS="function",bp="string",s="Are you sure you want to delete this record?",aP="Delete",al="Cancel",ar=/(\}|\#)/ig,aC=/#/ig,ae="[\\x20\\t\\r\\n\\f]",aD=new RegExp("(^|"+ae+")(k-group-cell|k-hierarchy-cell)("+ae+"|$)"),ab=new RegExp("(^|"+ae+")(k-filter-row)("+ae+"|$)"),ax='<a class="k-button k-button-icontext #=className#" #=attr# href="\\#"><span class="#=iconClass# #=imageClass#"></span>#=text#</a>',I=false,bc=B.support.browser,aq=bc.msie&&bc.version==7,an=bc.msie&&bc.version==8;var aL=p.extend({init:function(by,bx){var bz=this;p.fn.init.call(bz,by,bx);bz._refreshHandler=M(bz.refresh,bz);bz.setDataSource(bx.dataSource);bz.wrap()},setDataSource:function(by){var bx=this;if(bx.dataSource){bx.dataSource.unbind(Z,bx._refreshHandler)}bx.dataSource=by;bx.dataSource.bind(Z,bx._refreshHandler)},options:{name:"VirtualScrollable",itemHeight:ba.noop,prefetch:true},destroy:function(){var bx=this;p.fn.destroy.call(bx);bx.dataSource.unbind(Z,bx._refreshHandler);bx.wrapper.add(bx.verticalScrollbar).off(bo);if(bx.drag){bx.drag.destroy();bx.drag=null}bx.wrapper=bx.element=bx.verticalScrollbar=null;bx._refreshHandler=null},wrap:function(){var by=this,bA=B.support.scrollbar()+1,bx=by.element,bz;bx.css({width:"auto",overflow:"hidden"}).css((I?"padding-left":"padding-right"),bA);by.content=bx.children().first();bz=by.wrapper=by.content.wrap('<div class="k-virtual-scrollable-wrap"/>').parent().bind("DOMMouseScroll"+bo+" mousewheel"+bo,M(by._wheelScroll,by));if(B.support.kineticScrollNeeded){by.drag=new B.UserEvents(by.wrapper,{global:true,start:function(bB){bB.sender.capture()},move:function(bB){by.verticalScrollbar.scrollTop(by.verticalScrollbar.scrollTop()-bB.y.delta);bz.scrollLeft(bz.scrollLeft()-bB.x.delta);bB.preventDefault()}})}by.verticalScrollbar=ba('<div class="k-scrollbar k-scrollbar-vertical" />').css({width:bA}).appendTo(bx).bind("scroll"+bo,M(by._scroll,by))},_wheelScroll:function(by){if(by.ctrlKey){return}var bx=this.verticalScrollbar.scrollTop(),bz=B.wheelDeltaY(by);if(bz){by.preventDefault();ba(by.currentTarget).one("wheel"+bo,false);this.verticalScrollbar.scrollTop(bx+(-bz))}},_scroll:function(bD){var bC=this,bF=!bC.options.prefetch,bA=bD.currentTarget.scrollTop,bx=bC.dataSource,by=bC.itemHeight,bH=bx.skip()||0,bz=bC._rangeStart||bH,bI=bC.element.innerHeight(),bB=!!(bC._scrollbarTop&&bC._scrollbarTop>bA),bG=ao.max(ao.floor(bA/by),0),bE=ao.max(bG+ao.floor(bI/by),0);bC._scrollTop=bA-(bz*by);bC._scrollbarTop=bA;bC._scrolling=bF;if(!bC._fetch(bG,bE,bB)){bC.wrapper[0].scrollTop=bC._scrollTop}if(bF){if(bC._scrollingTimeout){clearTimeout(bC._scrollingTimeout)}bC._scrollingTimeout=setTimeout(function(){bC._scrolling=false;bC._page(bC._rangeStart,bC.dataSource.take())},100)}},_fetch:function(bG,bD,bE){var bB=this,bx=bB.dataSource,bz=bB.itemHeight,by=bx.take(),bH=bB._rangeStart||bx.skip()||0,bF=ao.floor(bG/by)*by,bA=false,bC=0.33;if(bG<bH){bA=true;bH=ao.max(0,bD-by);bB._scrollTop=(bG-bH)*bz;bB._page(bH,by)}else{if(bD>=bH+by&&!bE){bA=true;bH=bG;bB._scrollTop=bz;bB._page(bH,by)}else{if(!bB._fetching&&bB.options.prefetch){if(bG<(bF+by)-by*bC&&bG>by){bx.prefetch(bF-by,by)}if(bD>bF+by*bC){bx.prefetch(bF+by,by)}}}}return bA},_page:function(bA,bx){var bz=this,by=!bz.options.prefetch,bB=bz.dataSource;clearTimeout(bz._timeout);bz._fetching=true;bz._rangeStart=bA;if(bB.inRange(bA,bx)){bB.range(bA,bx)}else{if(!by){B.ui.progress(bz.wrapper.parent(),true)}bz._timeout=setTimeout(function(){if(!bz._scrolling){if(by){B.ui.progress(bz.wrapper.parent(),true)}bB.range(bA,bx)}},100)}},repaintScrollbar:function(){var bB=this,bA="",bE=250000,bx=bB.dataSource,bF=!B.support.kineticScrollNeeded?B.support.scrollbar():0,bG=bB.wrapper[0],bC,bD,by;by=bB.itemHeight=bB.options.itemHeight()||0;var bz=(bG.scrollWidth>bG.offsetWidth)?bF:0;bC=bx.total()*by+bz;for(bD=0;bD<ao.floor(bC/bE);bD++){bA+='<div style="width:1px;height:'+bE+'px"></div>'}if(bC%bE){bA+='<div style="width:1px;height:'+(bC%bE)+'px"></div>'}bB.verticalScrollbar.html(bA);bG.scrollTop=bB._scrollTop},refresh:function(){var bx=this,bz=bx.dataSource,by=bx._rangeStart;B.ui.progress(bx.wrapper.parent(),false);clearTimeout(bx._timeout);bx.repaintScrollbar();if(bx.drag){bx.drag.cancel()}if(by&&!bx._fetching){bx._rangeStart=bz.skip();if(bz.page()===1){bx.verticalScrollbar[0].scrollTop=0}}bx._fetching=false}});function a7(bx){return new Array(bx+1).join('<td class="k-group-cell">&nbsp;</td>')}function r(bz){var by,bx=" ";if(bz){if(typeof bz===bp){return bz}for(by in bz){bx+=by+'="'+bz[by]+'"'}}return bx}var at={create:{text:"Add new record",imageClass:"k-add",className:"k-grid-add",iconClass:"k-icon"},cancel:{text:"Cancel changes",imageClass:"k-cancel",className:"k-grid-cancel-changes",iconClass:"k-icon"},save:{text:"Save changes",imageClass:"k-update",className:"k-grid-save-changes",iconClass:"k-icon"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-grid-delete",iconClass:"k-icon"},edit:{text:"Edit",imageClass:"k-edit",className:"k-grid-edit",iconClass:"k-icon"},update:{text:"Update",imageClass:"k-update",className:"k-primary k-grid-update",iconClass:"k-icon"},canceledit:{text:"Cancel",imageClass:"k-cancel",className:"k-grid-cancel",iconClass:"k-icon"},excel:{text:"Export to Excel",imageClass:"k-i-excel",className:"k-grid-excel",iconClass:"k-icon"},pdf:{text:"Export to PDF",imageClass:"k-i-pdf",className:"k-grid-pdf",iconClass:"k-icon"}};function L(bx){var by=0;ba("> .k-grouping-header, > .k-grid-toolbar",bx).each(function(){by+=this.offsetHeight});return by}function n(bx,by){ba("th, th .k-grid-filter, th .k-link",bx).add(document.body).css("cursor",by)}function bd(bB){var bx,bz,by={},bA={};if(!aU(bB)){if(!c(bB)){bB=[bB]}for(bx=0,bz=bB.length;bx<bz;bx++){by[bB[bx].aggregate]=0;bA[bB[bx].field]=by}}return bA}function ad(bz,bD,bA,bC,bB){var by=bD;bD=ba();bB=bB||1;for(var bx=0;bx<bB;bx++){bD=bD.add(bz.eq(by+bx))}if(typeof bA=="number"){bD[bC?"insertBefore":"insertAfter"](bz.eq(bA))}else{bD.appendTo(bA)}}function bk(bx,bz,by){return ba(bx).add(bz).find(by)}function ap(bB,bz,by){var bx,bC,bD,bA;by=!c(by)?[by]:by;for(bx=0,bC=by.length;bx<bC;bx++){bD=by[bx];if(V(bD)&&bD.click){bA=bD.name||bD.text;bz.on(a8+bo,"a.k-grid-"+(bA||"").replace(/\s/g,""),{commandName:bA},M(bD.click,bB))}}}function t(by,bz,bx){return H(by,function(bA){bA=typeof bA===bp?{field:bA}:bA;var bB;if(!bn(bA)||bx){bA.attributes=X(bA.attributes);bA.footerAttributes=X(bA.footerAttributes);bA.headerAttributes=X(bA.headerAttributes);bB=true}if(bA.columns){bA.columns=t(bA.columns,bz,bB)}return aN({encoded:bz,hidden:bB},bA)})}function Q(bz,by){var bx=[];az(bz,by,bx);return bx[bx.length-1]}function az(bB,bz,by){by=by||[];for(var bx=0;bx<bz.length;bx++){if(bB===bz[bx]){return true}else{if(bz[bx].columns){var bA=by.length;by.push(bz[bx]);if(!az(bB,bz[bx].columns,by)){by.splice(bA,by.length-bA)}else{return true}}}}return false}function v(bx,by){var bz=by?aB:X;bx.hidden=!by;bx.attributes=bz(bx.attributes);bx.footerAttributes=bz(bx.footerAttributes);bx.headerAttributes=bz(bx.headerAttributes)}function aZ(){return this.style.display!=="none"}function bn(bx){return D([bx]).length>0}function D(bx){return m(bx,function(bz){var by=!bz.hidden;if(by&&bz.columns){by=D(bz.columns).length>0}return by})}function aa(bx){return ba(bx).map(function(){return this.toArray()})}function aM(by,bz,bx){var bB=bm(j(bz));var bC=bm(bb(bz));var bA=by.rowSpan;if(bx){if(bB>bC){by.rowSpan=(bA-(bB-bC))||1}else{by.rowSpan=bA+(bC-bB)}}else{if(bB>bC){by.rowSpan=bA+(bB-bC)}else{by.rowSpan=(bA-(bC-bB))||1}}}function br(by,bD,bG,bC,bz,bE,bA){var bF=bm(by);var bx=bm([bD]);if(bF>bx){var bB=new Array(bA+1).join('<th class="k-group-cell k-header">&nbsp;</th>');var bH=bE.children(":not(.k-filter-row)");ba(new Array((bF-bx)+1).join("<tr>"+bB+"</tr>")).insertAfter(bH.last())}d(bE,bF-bx);i(bG,bC,bz,bE)}function a0(bD,bB,bE){bE=bE||0;var bA;var bz;var by=bB;bB=ac(bB);for(var bx=0,bC=bB.length;bx<bC;bx++){bA=aw(bB[bx],by);bz=bD.find(">tr:not(.k-filter-row)").eq(bA.row).find(".k-header:not(.k-group-cell,.k-hierarchy-cell)").eq(bA.cell);bz.attr(B.attr("index"),bE+bx)}return bB.length}function bm(bB){var bz=1;var by=0;for(var bx=0;bx<bB.length;bx++){if(bB[bx].columns){var bA=bm(bB[bx].columns);if(bA>by){by=bA}}}return bz+by}function i(bF,bA,by,bD){var bB=ak(bF[0],bA);var bx=by.find(">tr:not(.k-filter-row):eq("+bB.row+")>th.k-header");var bG=ba();var bC=bB.cell;var bE;for(bE=0;bE<bF.length;bE++){bG=bG.add(bx.eq(bC+bE))}bD.find(">tr:not(.k-filter-row)").eq(bB.row).append(bG);var bz=[];for(bE=0;bE<bF.length;bE++){if(bF[bE].columns){bz=bz.concat(bF[bE].columns)}}if(bz.length){i(bz,bA,by,bD)}}function aw(bB,bA,bC,bz){var by;var bx;bC=bC||0;bz=bz||{};bz[bC]=bz[bC]||0;for(bx=0;bx<bA.length;bx++){if(bA[bx]==bB){by={cell:bz[bC],row:bC};break}else{if(bA[bx].columns){by=aw(bB,bA[bx].columns,bC+1,bz);if(by){break}}}bz[bC]++}return by}function ay(bz,bD,bC,bB){if(bD.columns){bD=bD.columns;return bD[bB?0:bD.length-1]}else{var bA=Q(bD,bz);var bx;if(bA){bx=bA.columns}else{bx=bz}var by=F(bD,bx);if(by===0&&bB){by++}else{if(by==bx.length-1&&!bB){by--}else{if(by>0||(by===0&&!bB)){by+=bB?-1:1}}}bD=bx[Math.max(by,0)];if(bD&&bD!=bC&&bD.columns){return ay(bz,bD,bC,bB)}}return null}function ak(bB,bA,bC,bz){var by;var bx;bC=bC||0;bz=bz||{};bz[bC]=bz[bC]||0;for(bx=0;bx<bA.length;bx++){if(bA[bx]==bB){by={cell:bz[bC],row:bC};break}else{if(bA[bx].columns){by=ak(bB,bA[bx].columns,bC+1,bz);if(by){break}}}if(!bA[bx].hidden){bz[bC]++}}return by}function a(by){var bx=w(j(by));return bx.concat(w(bb(by)))}function w(bA){var by=[];var bz=[];for(var bx=0;bx<bA.length;bx++){by.push(bA[bx]);if(bA[bx].columns){bz=bz.concat(bA[bx].columns)}}if(bz.length){by=by.concat(w(bz))}return by}function aI(bz){var by=0;var bA;for(var bx=0;bx<bz.length;bx++){bA=bz[bx];if(bA.columns){by+=aI(bA.columns)}else{if(bA.hidden){by++}}}return by}function am(bB){var bz,by=0;for(var bx=0,bA=bB.length;bx<bA;bx++){bz=bB[bx].style.width;if(bz&&bz.indexOf("%")==-1){by+=parseInt(bz,10)}}return by}function bu(by,bB){var bz=by.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)");var bA;for(var bx=0;bx<bz.length;bx++){bA=bz[bx].rowSpan;if(bA>1){bz[bx].rowSpan=(bA-bB)||1}}}function d(by,bA){var bz=by.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)");for(var bx=0;bx<bz.length;bx++){bz[bx].rowSpan+=bA}}function A(by){var bA=by.find("tr:not(.k-filter-row)");var bB=bA.filter(function(){return !ba(this).children().length}).remove().length;var bz=bA.find("th:not(.k-group-cell,.k-hierarchy-cell)");for(var bx=0;bx<bz.length;bx++){if(bz[bx].rowSpan>1){bz[bx].rowSpan-=bB}}return bA.length-bB}function af(bz,bD,bF,bB,bA){var bC,bE,by,bx=[];for(bC=0,by=bz.length;bC<by;bC++){bE=bF[bB]||[];bE.push(bD.eq(bA+bC));bF[bB]=bE;if(bz[bC].columns){bx=bx.concat(bz[bC].columns)}}if(bx.length){af(bx,bD,bF,bB+1,bA+bz.length)}}function j(bx){return m(bx,function(by){return by.locked})}function bb(bx){return m(bx,function(by){return !by.locked})}function bj(bx){return m(bx,function(by){return !by.locked&&bn(by)})}function a4(bx){return m(bx,function(by){return by.locked&&bn(by)})}function P(bz){var by=[];for(var bx=0;bx<bz.length;bx++){if(bz[bx].hidden){continue}if(bz[bx].columns){by=by.concat(P(bz[bx].columns))}else{by.push(bz[bx])}}return by}function ac(bz){var by=[];for(var bx=0;bx<bz.length;bx++){if(!bz[bx].columns){by.push(bz[bx]);continue}by=by.concat(ac(bz[bx].columns))}return by}function q(bx){var bA=bx.find(">tr:not(.k-filter-row)");var by=ba();if(bA.length>1){by=bA.find("th:not(.k-group-cell,.k-hierarchy-cell)").filter(function(){return this.rowSpan>1})}by=by.add(bA.last().find("th:not(.k-group-cell,.k-hierarchy-cell)"));var bz=B.attr("index");by.sort(function(bC,bB){bC=parseInt(ba(bC).attr(bz),10);bB=parseInt(ba(bB).attr(bz),10);return bC>bB?1:(bC<bB?-1:0)});return by}function aG(bH){var bz=bH.closest("table");var bJ=ba().add(bH);var bI=bH.closest("tr");var bC=bz.find("tr:not(.k-filter-row)");var by=bC.index(bI);if(by>0){var bG=bC.eq(by-1);var bE=bG.find("th:not(.k-group-cell,.k-hierarchy-cell)").filter(function(){return !ba(this).attr("rowspan")});var bA=0;var bB=bI.find("th:not(.k-group-cell,.k-hierarchy-cell)").index(bH);var bD=bH.prevAll(":not(.k-group-cell,.k-hierarchy-cell)").filter(function(){return this.colSpan>1});for(bF=0;bF<bD.length;bF++){bA+=bD[bF].colSpan||1}bB+=Math.max(bA-1,0);bA=0;for(var bF=0;bF<bE.length;bF++){var bx=bE.eq(bF);if(bx.attr("colSpan")){bA+=bx[0].colSpan}else{bA+=1}if(bB>=bF&&bB<bA){bJ=aG(bx).add(bJ);break}}}return bJ}function aH(bI){var by=bI.closest("table");var bL=ba().add(bI);var bK=bI.closest("tr");var bE=by.find("tr:not(.k-filter-row)");var bx=bE.index(bK)+bI[0].rowSpan;var bB=B.attr("colspan");if(bx<=bE.length-1){var bz=bK.next();var bD=bK.find("th:not(.k-group-cell,.k-hierarchy-cell)").index(bI);var bF=bI.prevAll(":not(.k-group-cell,.k-hierarchy-cell)");var bH;bF=bF.filter(function(){return !this.rowSpan||this.rowSpan===1});var bA=0;for(bH=0;bH<bF.length;bH++){bA+=parseInt(bF.eq(bH).attr(bB),10)||1}var bJ=bz.find("th:not(.k-group-cell,.k-hierarchy-cell)");var bC=parseInt(bI.attr(bB),10)||1;bH=0;while(bH<bC){bz=bJ.eq(bH+bA);bL=bL.add(aH(bz));var bG=parseInt(bz.attr(bB),10);if(bG>1){bC-=bG-1}bH++}}return bL}function a2(bx,bA,bz){var bB,by=bx;if(K){bx[0].innerHTML=bz}else{bB=document.createElement("div");bB.innerHTML="<table><tbody>"+bz+"</tbody></table>";bx=bB.firstChild.firstChild;bA[0].replaceChild(bx,by[0]);bx=ba(bx)}return bx}function X(bx){bx=bx||{};var by=bx.style;if(!by){by="display:none"}else{by=by.replace(/((.*)?display)(.*)?:([^;]*)/i,"$1:none");if(by===bx.style){by=by.replace(/(.*)?/i,"display:none;$1")}}return aN({},bx,{style:by})}function aB(bx){bx=bx||{};var by=bx.style;if(by){bx.style=by.replace(/(display\s*:\s*none\s*;?)*/ig,"")}return bx}function bs(bB,bz,bD,bx){var by=bB.find(">colgroup"),bA,bC=H(bz,function(bE){bA=bE.width;if(bA&&parseInt(bA,10)!==0){return B.format('<col style="width:{0}"/>',typeof bA===bp?bA:bA+"px")}return"<col />"});if(bD||by.find(".k-hierarchy-col").length){bC.splice(0,0,'<col class="k-hierarchy-col" />')}if(by.length){by.remove()}by=ba(new Array(bx+1).join('<col class="k-group-col">')+bC.join(""));if(!by.is("colgroup")){by=ba("<colgroup/>").append(by)}bB.prepend(by);if(bc.msie&&bc.version==8){bB.css("display","inline-table");window.setTimeout(function(){bB.css("display","")},1)}}function bw(bA,bz){var bB=0;var by,bx;for(by=0,bx=bz.length;by<bx;by++){if(bz[by].locked){bA.eq(by).insertBefore(bA.eq(bB));bB++}}}function aj(bB){var by={},bA,bx,bz;for(bx=0,bz=bB.length;bx<bz;bx++){bA=bB[bx];by[bA.value]=bA.text}return by}function ah(bz,bA,bB){var by=bB&&bB.length&&V(bB[0])&&"value" in bB[0],bx=by?aj(bB)[bz]:bz;bx=bx!=null?bx:"";return bA?B.format(bA,bx):bx}function b(bz,by,bC){var bB=0,bA,bx=bz[bB];while(bx){bA=bC?true:bx.style.display!=="none";if(bA&&!aD.test(bx.className)&&--by<0){bx.style.display=bC?"":"none";break}bx=bz[++bB]}}function aK(bB,bz){var by=0,bA=bB.length,bx,bC;for(;by<bA;by+=1){bC=bB.eq(by);if(bC.is(".k-grouping-row,.k-detail-row")){bx=bC.children(":not(.k-group-cell):first,.k-detail-cell").last();bx.attr("colspan",parseInt(bx.attr("colspan"),10)-1)}else{if(bC.hasClass("k-grid-edit-row")&&(bx=bC.children(".k-edit-container")[0])){bx=ba(bx);bx.attr("colspan",parseInt(bx.attr("colspan"),10)-1);bx.find("col").eq(bz).remove();bC=bx.find("tr:first")}b(bC[0].cells,bz,false)}}}function aA(bA){var by=[];var bz;for(var bx=0;bx<bA.length;bx++){bz=bA[bx];if(!("field" in bz&&"value" in bz&&"items" in bz)){break}by.push(bz);if(bz.hasSubgroups){by=by.concat(aA(bz.items))}}return by}function T(bC,bA){var by=0,bB=bC.length,bx,bD,bz;for(;by<bB;by+=1){bD=bC.eq(by);if(bD.is(".k-grouping-row,.k-detail-row")){bx=bD.children(":not(.k-group-cell):first,.k-detail-cell").last();bx.attr("colspan",parseInt(bx.attr("colspan"),10)+1)}else{if(bD.hasClass("k-grid-edit-row")&&(bx=bD.children(".k-edit-container")[0])){bx=ba(bx);bx.attr("colspan",parseInt(bx.attr("colspan"),10)+1);bs(bx.find(">form>table"),D(bz),false,0);bD=bx.find("tr:first")}b(bD[0].cells,bA,true)}}}function aR(bz,bA,by){by=by||1;var bC,bx,bB;for(bx=0,bB=bz.length;bx<bB;bx++){bC=bz.eq(bx).children().last();bC.attr("colspan",parseInt(bC.attr("colspan"),10)+by);bC=bA.eq(bx).children().last();bC.attr("colspan",parseInt(bC.attr("colspan"),10)-by)}}function bh(bA){var bx,bz,by=0;var bB=bA.find(">colgroup>col");for(bx=0,bz=bB.length;bx<bz;bx+=1){by+=parseInt(bB[bx].style.width,10)}return by}var aX=B.ui.DataBoundWidget.extend({init:function(bz,bx,by){var bA=this;bx=c(bx)?{dataSource:bx}:bx;p.fn.init.call(bA,bz,bx);if(by){bA._events=by}I=B.support.isRtl(bz);bA._element();bA._aria();bA._columns(bA.options.columns);bA._dataSource();bA._tbody();bA._pageable();bA._thead();bA._groupable();bA._toolbar();bA._setContentHeight();bA._templates();bA._navigatable();bA._selectable();bA._details();bA._editable();bA._attachCustomCommandsEvent();if(bA.options.autoBind){bA.dataSource.fetch()}else{bA._footer()}if(bA.lockedContent){bA.wrapper.addClass("k-grid-lockedcolumns");bA._resizeHandler=function(){bA.resize()};ba(window).on("resize"+bo,bA._resizeHandler)}B.notify(bA)},events:[Z,"dataBinding","cancel",N,o,aJ,z,e,a1,ag,a9,bv,bq,bt,aW,aV,J,U,h],setDataSource:function(bz){var bx=this;var by=bx.options.scrollable;bx.options.dataSource=bz;bx._dataSource();bx._pageable();bx._thead();if(by){if(by.virtual){bx.content.find(">.k-virtual-scrollable-wrap").scrollLeft(0)}else{bx.content.scrollLeft(0)}}if(bx.options.groupable){bx._groupable()}if(bx.virtualScrollable){bx.virtualScrollable.setDataSource(bx.options.dataSource)}if(bx.options.navigatable){bx._navigatable()}if(bx.options.selectable){bx._selectable()}if(bx.options.autoBind){bz.fetch()}},options:{name:"Grid",columns:[],toolbar:null,autoBind:true,filterable:false,scrollable:true,sortable:false,selectable:false,navigatable:false,pageable:false,editable:false,groupable:false,rowTemplate:"",altRowTemplate:"",dataSource:{},height:null,resizable:false,reorderable:false,columnMenu:false,detailTemplate:null,columnResizeHandleWidth:3,mobile:"",messages:{editable:{cancelDelete:al,confirmation:s,confirmDelete:aP},commands:{create:at.create.text,cancel:at.cancel.text,save:at.save.text,destroy:at.destroy.text,edit:at.edit.text,update:at.update.text,canceledit:at.canceledit.text,excel:at.excel.text,pdf:at.pdf.text}}},destroy:function(){var by=this,bx;by._destroyColumnAttachments();p.fn.destroy.call(by);if(by._resizeHandler){ba(window).off("resize"+bo,by._resizeHandler)}if(by.pager&&by.pager.element){by.pager.destroy()}by.pager=null;if(by.groupable&&by.groupable.element){by.groupable.element.kendoGroupable("destroy")}by.groupable=null;if(by.options.reorderable){by.wrapper.data("kendoReorderable").destroy()}if(by.selectable&&by.selectable.element){by.selectable.destroy()}by.selectable=null;if(by.resizable){by.resizable.destroy();if(by._resizeUserEvents){if(by._resizeHandleDocumentClickHandler){ba(document).off("click",by._resizeHandleDocumentClickHandler)}by._resizeUserEvents.destroy();by._resizeUserEvents=null}by.resizable=null}if(by.virtualScrollable&&by.virtualScrollable.element){by.virtualScrollable.destroy()}by.virtualScrollable=null;by._destroyEditable();if(by.dataSource){by.dataSource.unbind(Z,by._refreshHandler).unbind(a3,by._progressHandler).unbind(Y,by._errorHandler);by._refreshHandler=by._progressHandler=by._errorHandler=null}bx=by.element.add(by.wrapper).add(by.table).add(by.thead).add(by.wrapper.find(">.k-grid-toolbar"));if(by.content){bx=bx.add(by.content).add(by.content.find(">.k-virtual-scrollable-wrap"))}if(by.lockedHeader){by._removeLockedContainers()}if(by.pane){by.pane.destroy()}if(by._draggableInstance&&by._draggableInstance.element){by._draggableInstance.destroy()}by._draggableInstance=null;bx.off(bo);B.destroy(by.wrapper);by.scrollables=by.thead=by.tbody=by.element=by.table=by.content=by.footer=by.wrapper=by._groupableClickHandler=by._setContentWidthHandler=null},getOptions:function(){var bx=aN(true,{},this.options);bx.columns=B.deepExtend([],this.columns);var by=this.dataSource;bx.dataSource=ba.extend(true,{},by.options);bx.dataSource.page=by.page();bx.dataSource.filter=by.filter();bx.dataSource.pageSize=by.pageSize();bx.dataSource.sort=by.sort();bx.dataSource.group=by.group();bx.dataSource.aggregate=by.aggregate();bx.$angular=G;return bx},setOptions:function(by){var bx=this.getOptions();B.deepExtend(bx,by);if(!by.dataSource){bx.dataSource=this.dataSource}var bB=this.wrapper;var bA=this._events;var bz=this.element;this.destroy();this.options=null;if(bB[0]!==bz[0]){bB.before(bz);bB.remove()}bz.empty();this.init(bz,bx,bA);this._setEvents(bx)},items:function(){if(this.lockedContent){return this._items(this.tbody).add(this._items(this.lockedTable.children("tbody")))}else{return this._items(this.tbody)}},_items:function(bx){return bx.children().filter(function(){var by=ba(this);return !by.hasClass("k-grouping-row")&&!by.hasClass("k-detail-row")&&!by.hasClass("k-group-footer")})},dataItems:function(){var bx=B.ui.DataBoundWidget.fn.dataItems.call(this);if(this.lockedContent){var bA=bx.length,bz=new Array(2*bA);for(var by=bA;--by>=0;){bz[by]=bz[by+bA]=bx[by]}bx=bz}return bx},_destroyColumnAttachments:function(){var bx=this;bx.resizeHandle=null;if(!bx.thead){return}this.angular("cleanup",function(){return{elements:bx.thead.get()}});bx.thead.find("th").each(function(){var by=ba(this),bB=by.data("kendoFilterMenu"),bA=by.data("kendoColumnSorter"),bz=by.data("kendoColumnMenu");if(bB){bB.destroy()}if(bA){bA.destroy()}if(bz){bz.destroy()}})},_attachCustomCommandsEvent:function(){var bA=this,by=ac(bA.columns||[]),bB,bx,bz;for(bx=0,bz=by.length;bx<bz;bx++){bB=by[bx].command;if(bB){ap(bA,bA.wrapper,bB)}}},_aria:function(){var bx=this.element.attr("id")||"aria";if(bx){this._cellId=bx+"_active_cell"}},_element:function(){var by=this,bx=by.element;if(!bx.is("table")){if(by.options.scrollable){bx=by.element.find("> .k-grid-content > table")}else{bx=by.element.children("table")}if(!bx.length){bx=ba("<table />").appendTo(by.element)}}if(aq){bx.attr("cellspacing",0)}by.table=bx.attr("role",by._hasDetails()?"treegrid":"grid");by._wrapper()},_createResizeHandle:function(by,bz){var bF=this;var bD=bF.options.columnResizeHandleWidth;var bH=bF.options.scrollable;var bJ=bF.resizeHandle;var bA=this._groups();var bC;if(bJ&&bF.lockedContent&&bJ.data("th")[0]!==bz[0]){bJ.remove();bJ=null}if(!bJ){bJ=bF.resizeHandle=ba('<div class="k-resize-handle"><div class="k-resize-handle-inner"></div></div>');by.append(bJ)}if(!I){bC=bz[0].offsetWidth;var bK=q(bz.closest("thead"));for(var bI=0;bI<bK.length;bI++){if(bK[bI]==bz[0]){break}bC+=bK[bI].offsetWidth}if(bA>0){bC+=by.find(".k-group-cell:first").outerWidth()*bA}if(bF._hasDetails()){bC+=by.find(".k-hierarchy-cell:first").outerWidth()}}else{bC=bz.position().left;if(bH){var bG=bz.closest(".k-grid-header-wrap, .k-grid-header-locked"),bx=bc.msie?bG.scrollLeft():0,bB=bc.webkit?(bG[0].scrollWidth-bG[0].offsetWidth-bG.scrollLeft()):0,bE=bc.mozilla?(bG[0].scrollWidth-bG[0].offsetWidth-(bG[0].scrollWidth-bG[0].offsetWidth-bG.scrollLeft())):0;bC-=bB-bE+bx}}bJ.css({top:bz.position().top,left:bC-bD,height:bz.outerHeight(),width:bD*3}).data("th",bz).show()},_positionColumnResizeHandle:function(bx){var by=this,bz=by.options.columnResizeHandleWidth,bA=by.lockedHeader?by.lockedHeader.find("thead:first"):ba();by.thead.add(bA).on("mousemove"+bo,"th",function(bF){var bD=ba(this);if(bD.hasClass("k-group-cell")||bD.hasClass("k-hierarchy-cell")){return}var bC=bF.clientX,bE=ba(window).scrollLeft(),bB=bD.offset().left+(!I?this.offsetWidth:0);if(bC+bE>bB-bz&&bC+bE<bB+bz){by._createResizeHandle(bD.closest("div"),bD)}else{if(by.resizeHandle){by.resizeHandle.hide()}else{n(by.wrapper,"")}}})},_resizeHandleDocumentClick:function(bx){if(ba(bx.target).closest(".k-column-active").length){return}ba(document).off(bx);this._hideResizeHandle()},_hideResizeHandle:function(){if(this.resizeHandle){this.resizeHandle.data("th").removeClass("k-column-active");if(this.lockedContent&&!this._isMobile){this.resizeHandle.remove();this.resizeHandle=null}else{this.resizeHandle.hide()}}},_positionColumnResizeHandleTouch:function(bx){var by=this,bz=by.lockedHeader?by.lockedHeader.find("thead:first"):ba();by._resizeUserEvents=new B.UserEvents(bz.add(by.thead),{filter:"th:not(.k-group-cell):not(.k-hierarchy-cell)",threshold:10,hold:function(bB){var bA=ba(bB.target);bB.preventDefault();bA.addClass("k-column-active");by._createResizeHandle(bA.closest("div"),bA);if(!by._resizeHandleDocumentClickHandler){by._resizeHandleDocumentClickHandler=M(by._resizeHandleDocumentClick,by)}ba(document).on("click",by._resizeHandleDocumentClickHandler)}})},_resizable:function(){var bD=this,bH=bD.options,by,bB,bA,bE,bF=this._isMobile,bG=!B.support.mobileOS?B.support.scrollbar():0,bx,bC,bz;if(bH.resizable){by=bH.scrollable?bD.wrapper.find(".k-grid-header-wrap:first"):bD.wrapper;if(bF){bD._positionColumnResizeHandleTouch(by)}else{bD._positionColumnResizeHandle(by)}if(bD.resizable){bD.resizable.destroy()}bD.resizable=new au.Resizable(by.add(bD.lockedHeader),{handle:".k-resize-handle",hint:function(bI){return ba('<div class="k-grid-resize-indicator" />').css({height:bI.data("th").outerHeight()+bD.tbody.attr("clientHeight")})},start:function(bK){bz=ba(bK.currentTarget).data("th");if(bF){bD._hideResizeHandle()}var bM=bz.closest("table"),bJ=ba.inArray(bz[0],q(bz.closest("thead")).filter(":visible"));bx=bM.parent().hasClass("k-grid-header-locked");var bI=bx?bD.lockedTable:bD.table,bL=bD.footer||ba();if(bD.footer&&bD.lockedContent){bL=bx?bD.footer.children(".k-grid-footer-locked"):bD.footer.children(".k-grid-footer-wrap")}n(bD.wrapper,"col-resize");if(bH.scrollable){bC=bM.find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+bJ+")").add(bI.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+bJ+")")).add(bL.find("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+bJ+")"))}else{bC=bI.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+bJ+")")}bB=bK.x.location;bA=bz.outerWidth();bE=bx?bI.children("tbody").outerWidth():bD.tbody.outerWidth();if(bc.webkit){bD.wrapper.addClass("k-grid-column-resizing")}},resize:function(bM){var bN=I?-1:1,bJ=bA+(bM.x.location*bN)-(bB*bN);if(bH.scrollable){var bP;if(bx&&bD.lockedFooter){bP=bD.lockedFooter.children("table")}else{if(bD.footer){bP=bD.footer.find(">.k-grid-footer-wrap>table")}}if(!bP||!bP[0]){bP=ba()}var bK=bz.closest("table");var bQ=bx?bD.lockedTable:bD.table;var bO=false;var bL=bD.wrapper.width()-bG;var bI=bJ;if(bx&&bE-bA+bI>bL){bI=bA+(bL-bE-bG*2);if(bI<0){bI=bJ}bO=true}if(bI>10){bC.css("width",bI);if(bE){if(bO){bI=bL-bG*2}else{bI=bE+(bM.x.location*bN)-(bB*bN)}bQ.add(bK).add(bP).css("width",bI);if(!bx){bD._footerWidth=bI}}}}else{if(bJ>10){bC.css("width",bJ)}}},resizeend:function(){var bK=bz.outerWidth(),bJ,bL;n(bD.wrapper,"");if(bc.webkit){bD.wrapper.removeClass("k-grid-column-resizing")}if(bA!=bK){bL=bD.lockedHeader?bD.lockedHeader.find("thead:first tr:first").add(bD.thead.find("tr:first")):bz.parent();var bI=bz.attr(B.attr("index"));if(!bI){bI=bL.find("th:not(.k-group-cell):not(.k-hierarchy-cell)").index(bz)}bJ=ac(bD.columns)[bI];bJ.width=bK;bD.trigger(bt,{column:bJ,oldWidth:bA,newWidth:bK});bD._applyLockedContainersWidth();bD._syncLockedContentHeight();bD._syncLockedHeaderHeight()}bD._hideResizeHandle();bz=null}})}},_draggable:function(){var bx=this;if(bx.options.reorderable){if(bx._draggableInstance){bx._draggableInstance.destroy()}bx._draggableInstance=bx.wrapper.kendoDraggable({group:B.guid(),filter:bx.content?".k-grid-header:first "+aO:"table:first>.k-grid-header "+aO,drag:function(){bx._hideResizeHandle()},hint:function(by){return ba('<div class="k-header k-drag-clue" />').css({width:by.width(),paddingLeft:by.css("paddingLeft"),paddingRight:by.css("paddingRight"),lineHeight:by.height()+"px",paddingTop:by.css("paddingTop"),paddingBottom:by.css("paddingBottom")}).html(by.attr(B.attr("title"))||by.attr(B.attr("field"))||by.text()).prepend('<span class="k-icon k-drag-status k-denied" />')}}).data("kendoDraggable")}},_reorderable:function(){var by=this;if(by.options.reorderable){if(by.wrapper.data("kendoReorderable")){by.wrapper.data("kendoReorderable").destroy()}var bx=function(bB,bz,bA){var bD=bB[bz];var bE=bB[bA];var bC=Q(bD,by.columns);bB=bC?bC.columns:by.columns;return F(bE,bB)};by.wrapper.kendoReorderable({draggable:by._draggableInstance,dragOverContainers:function(bz,bA){var bB=a(by.columns);return bB[bz].lockable!==false&&bx(bB,bz,bA)>-1},inSameContainer:function(bz){return ba(bz.source).parent()[0]===ba(bz.target).parent()[0]&&bx(a(by.columns),bz.sourceIndex,bz.targetIndex)>-1},change:function(bC){var bA=a(by.columns);var bB=bA[bC.oldIndex];var bz=bx(bA,bC.oldIndex,bC.newIndex);by.trigger(aW,{newIndex:bz,oldIndex:F(bB,bA),column:bB});by.reorderColumn(bz,bB,bC.position==="before")}})}},_reorderHeader:function(by,bC,bE){var bB=this;var bA=aw(by[0],bB.columns);var bD=aw(bC,bB.columns);var bG=[];for(var bF=0;bF<by.length;bF++){if(by[bF].columns){bG=bG.concat(by[bF].columns)}}var bx=bk(bB.lockedHeader,bB.thead,"tr:eq("+bA.row+")>th.k-header:not(.k-group-cell,.k-hierarchy-cell)");var bH=j(by).length;var bz=j([bC]).length;if(bG.length){if(bH>0&&bz===0){br(by,bC,bG,bB.columns,bB.lockedHeader.find("thead"),bB.thead,this._groups())}else{if(bH===0&&bz>0){br(by,bC,bG,bB.columns,bB.thead,bB.lockedHeader.find("thead"),this._groups())}}if(bC.columns||bA.cell-bD.cell>1||bD.cell-bA.cell>1){bC=ay(bB.columns,bC,by[0],bE);if(bC){bB._reorderHeader(bG,bC,bE)}}}else{if(bH!==bz){aM(bx[bA.cell],bB.columns,bH)}}ad(bx,bA.cell,bD.cell,bE,by.length)},_reorderContent:function(by,bL,bH){var bD=this;var bC=ba();var bK=by[0];var bE=D(by);var bA=F(bK,ac(bD.columns));var bP=F(bL,ac(bD.columns));var bB=F(bK,P(bD.columns));var bx=F(bL,P(bD.columns));var bO=j(bD.columns).length;var bF=!!bL.locked;var bJ=bD.footer||bD.wrapper.find(".k-grid-footer");var bM,bN;bM=bN=bx;if(bL.hidden){if(bF){bx=bD.lockedTable.find("colgroup");bM=bD.lockedHeader.find("colgroup");bN=ba(bD.lockedFooter).find(">table>colgroup")}else{bx=bD.tbody.prev();bM=bD.thead.prev();bN=bJ.find(".k-grid-footer-wrap").find(">table>colgroup")}}if(bD._hasFilterRow()){ad(bD.wrapper.find(".k-filter-row th:not(.k-group-cell,.k-hierarchy-cell)"),bA,bP,bH,by.length)}ad(bk(bD.lockedHeader,bD.thead.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),bB,bM,bH,bE.length);if(bD.options.scrollable){ad(bk(bD.lockedTable,bD.tbody.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),bB,bx,bH,bE.length)}if(bJ&&bJ.length){ad(bk(bD.lockedFooter,bJ.find(".k-grid-footer-wrap"),">table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"),bB,bN,bH,bE.length);ad(bJ.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"),bA,bP,bH,by.length)}var bG=bD.tbody.children(":not(.k-grouping-row,.k-detail-row)");if(bD.lockedTable){if(bO>bP){if(bO<=bA){aR(bD.lockedTable.find(">tbody>tr.k-grouping-row"),bD.table.find(">tbody>tr.k-grouping-row"),by.length)}}else{if(bO>bA){aR(bD.table.find(">tbody>tr.k-grouping-row"),bD.lockedTable.find(">tbody>tr.k-grouping-row"),by.length)}}bC=bD.lockedTable.find(">tbody>tr:not(.k-grouping-row,.k-detail-row)")}for(var bI=0,bz=bG.length;bI<bz;bI+=1){ad(bk(bC[bI],bG[bI],">td:not(.k-group-cell,.k-hierarchy-cell)"),bA,bP,bH,by.length)}},reorderColumn:function(bB,bz,bF){var bC=this,bG=Q(bz,bC.columns),bA=bG?bG.columns:bC.columns,bD=F(bz,bA),bE=bA[bB],by,bx=!!bE.locked,bH=j(bC.columns).length;if(bD===bB){return}if(!bz.locked&&bx&&bb(bC.columns).length==1){return}if(bz.locked&&!bx&&bH==1){return}bC._hideResizeHandle();if(bF===G){bF=bB<bD}var bI=[bz];bC._reorderHeader(bI,bE,bF);if(bC.lockedHeader){A(bC.thead);A(bC.lockedHeader)}if(bE.columns){bE=ac(bE.columns);bE=bE[bF?0:bE.length-1]}if(bz.columns){bI=ac(bz.columns)}bC._reorderContent(bI,bE,bF);by=!!bz.locked;by=by!=bx;bz.locked=bx;bA.splice(bF?bB:bB+1,0,bz);bA.splice(bD<bB?bD:bD+1,1);bC._templates();bC._updateColumnCellIndex();bC._updateTablesWidth();bC._applyLockedContainersWidth();bC._syncLockedHeaderHeight();bC._syncLockedContentHeight();bC._updateFirstColumnClass();if(!by){return}if(bx){bC.trigger(U,{column:bz})}else{bC.trigger(h,{column:bz})}},_updateColumnCellIndex:function(){var by;var bx=0;if(this.lockedHeader){by=this.lockedHeader.find("thead");bx=a0(by,j(this.columns))}a0(this.thead,bb(this.columns),bx)},lockColumn:function(bz){var by=this.columns;if(typeof bz=="number"){bz=by[bz]}else{bz=m(by,function(bA){return bA.field===bz})[0]}if(!bz||bz.locked||bz.hidden){return}var bx=j(by).length-1;this.reorderColumn(bx,bz,false)},unlockColumn:function(bz){var by=this.columns;if(typeof bz=="number"){bz=by[bz]}else{bz=m(by,function(bA){return bA.field===bz})[0]}if(!bz||!bz.locked||bz.hidden){return}var bx=j(by).length;this.reorderColumn(bx,bz,true)},cellIndex:function(by){var bx=0;if(this.lockedTable&&!ba.contains(this.lockedTable[0],by[0])){bx=ac(j(this.columns)).length}return ba(by).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(by)+bx},_modelForContainer:function(bx){bx=ba(bx);if(!bx.is("tr")&&this._editMode()!=="popup"){bx=bx.closest("tr")}var by=bx.attr(B.attr("uid"));return this.dataSource.getByUid(by)},_editable:function(){var bA=this,bx=bA.selectable&&bA.selectable.options.multiple,by=bA.options.editable,bz=function(){var bD=W(),bC=bA._editContainer;if(bC&&!ba.contains(bC[0],bD)&&bC[0]!==bD&&!ba(bD).closest(".k-animation-container").length){if(bA.editable.end()){bA.closeCell()}}};if(by){var bB=bA._editMode();if(bB==="incell"){if(by.update!==false){bA.wrapper.on(a8+bo,"tr:not(.k-grouping-row) > td",function(bD){var bE=ba(this),bC=bA.lockedTable&&bE.closest("table")[0]===bA.lockedTable[0];if(bE.hasClass("k-hierarchy-cell")||bE.hasClass("k-detail-cell")||bE.hasClass("k-group-cell")||bE.hasClass("k-edit-cell")||bE.has("a.k-grid-delete").length||bE.has("button.k-grid-delete").length||(bE.closest("tbody")[0]!==bA.tbody[0]&&!bC)||ba(bD.target).is(":input")){return}if(bA.editable){if(bA.editable.end()){if(bx){ba(W()).blur()}bA.closeCell();bA.editCell(bE)}}else{bA.editCell(bE)}}).on("focusin"+bo,function(){clearTimeout(bA.timer);bA.timer=null}).on("focusout"+bo,function(){bA.timer=setTimeout(bz,1)})}}else{if(by.update!==false){bA.wrapper.on(a8+bo,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit",function(bC){bC.preventDefault();bA.editRow(ba(this).closest("tr"))})}}if(by.destroy!==false){bA.wrapper.on(a8+bo,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete",function(bC){bC.preventDefault();bC.stopPropagation();bA.removeRow(ba(this).closest("tr"))})}else{bA.wrapper.on(a8+bo,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete",function(bC){bC.stopPropagation();if(!bA._confirmation()){bC.preventDefault()}})}}},editCell:function(bx){bx=ba(bx);var bA=this,bz=ac(bA.columns)[bA.cellIndex(bx)],by=bA._modelForContainer(bx);bA.closeCell();if(by&&(!by.editable||by.editable(bz.field))&&!bz.command&&bz.field){bA._attachModelChange(by);bA._editContainer=bx;bA.editable=bx.addClass("k-edit-cell").kendoEditable({fields:{field:bz.field,format:bz.format,editor:bz.editor,values:bz.values},model:by,target:bA,change:function(bC){if(bA.trigger(a9,{values:bC.values,container:bx,model:by})){bC.preventDefault()}}}).data("kendoEditable");var bB=bx.parent().addClass("k-grid-edit-row");if(bA.lockedContent){aQ(bB[0],bA._relatedRow(bB).addClass("k-grid-edit-row")[0])}bA.trigger(ag,{container:bx,model:by})}},_adjustLockedHorizontalScrollBar:function(){var by=this.table,bx=by.parent();var bz=by[0].offsetWidth>bx[0].clientWidth?B.support.scrollbar():0;this.lockedContent.height(bx.height()-bz)},_syncLockedContentHeight:function(){if(this.lockedTable){if(!this.touchScroller){this._adjustLockedHorizontalScrollBar()}this._adjustRowsHeight(this.table,this.lockedTable)}},_syncLockedHeaderHeight:function(){if(this.lockedHeader){var bx=this.lockedHeader.children("table");var by=this.thead.parent();this._adjustRowsHeight(bx,by);aF(bx,by)}},_syncLockedFooterHeight:function(){if(this.lockedFooter&&this.footer&&this.footer.length){this._adjustRowsHeight(this.lockedFooter.children("table"),this.footer.find(".k-grid-footer-wrap > table"))}},_destroyEditable:function(){var by=this;var bx=function(){if(by.editable){var bz=by.editView?by.editView.element:by._editContainer;if(bz){bz.off(a8+bo,"a.k-grid-cancel",by._editCancelClickHandler);bz.off(a8+bo,"a.k-grid-update",by._editUpdateClickHandler)}by._detachModelChange();by.editable.destroy();by.editable=null;by._editContainer=null;by._destroyEditView()}};if(by.editable){if(by._editMode()==="popup"&&!by._isMobile){by._editContainer.data("kendoWindow").bind("deactivate",bx).close()}else{bx()}}if(by._actionSheet){by._actionSheet.destroy();by._actionSheet=null}},_destroyEditView:function(){if(this.editView){this.editView.purge();this.editView=null;this.pane.navigate("")}},_attachModelChange:function(bx){var by=this;by._modelChangeHandler=function(bz){by._modelChange({field:bz.field,model:this})};bx.bind("change",by._modelChangeHandler)},_detachModelChange:function(){var bz=this,bx=bz._editContainer,by=bz._modelForContainer(bx);if(by){by.unbind(Z,bz._modelChangeHandler)}},closeCell:function(bz){var bB=this,bx=bB._editContainer,bD,bA,bC,by;if(!bx){return}bD=bx.closest("tr").attr(B.attr("uid"));by=bB.dataSource.getByUid(bD);if(bz&&bB.trigger("cancel",{container:bx,model:by})){return}bx.removeClass("k-edit-cell");bA=ac(bB.columns)[bB.cellIndex(bx)];bC=bx.parent().removeClass("k-grid-edit-row");bB._destroyEditable();bB._displayCell(bx,bA,by);if(bx.hasClass("k-dirty-cell")){ba('<span class="k-dirty"/>').prependTo(bx)}if(bB.lockedContent){aQ(bC.css("height","")[0],bB._relatedRow(bC).css("height","")[0])}},_displayCell:function(bx,bB,bz){var bC=this,bD={storage:{},count:0},bA=aN({},B.Template,bC.options.templateSettings),by=B.template(bC._cellTmpl(bB,bD),bA);if(bD.count>0){by=M(by,bD.storage)}bx.empty().html(by(bz));bC.angular("compile",function(){return{elements:bx,data:[{dataItem:bz}]}})},removeRow:function(bx){if(!this._confirmation(bx)){return}this._removeRow(bx)},_removeRow:function(bA){var by=this,bx,bz=by._editMode();if(bz!=="incell"){by.cancelRow()}bA=ba(bA).hide();bx=by._modelForContainer(bA);if(bx&&!by.trigger(bv,{row:bA,model:bx})){by.dataSource.remove(bx);if(bz==="inline"||bz==="popup"){by.dataSource.sync()}}else{if(bz==="incell"){by._destroyEditable()}}},_editMode:function(){var by="incell",bx=this.options.editable;if(bx!==true){if(typeof bx=="string"){by=bx}else{by=bx.mode||by}}return by},editRow:function(bB){var by;var bz=this;if(bB instanceof B.data.ObservableObject){by=bB}else{bB=ba(bB);by=bz._modelForContainer(bB)}var bA=bz._editMode();var bx;bz.cancelRow();if(by){bz._attachModelChange(by);if(bA==="popup"){bz._createPopupEditor(by)}else{if(bA==="inline"){bz._createInlineEditor(bB,by)}else{if(bA==="incell"){ba(bB).children(R).each(function(){var bC=ba(this);var bD=ac(bz.columns)[bC.index()];by=bz._modelForContainer(bC);if(by&&(!by.editable||by.editable(bD.field))&&bD.field){bz.editCell(bC);return false}})}}}bx=bz.editView?bz.editView.element:bz._editContainer;if(bx){if(!this._editCancelClickHandler){this._editCancelClickHandler=M(this._editCancelClick,this)}bx.on(a8+bo,"a.k-grid-cancel",this._editCancelClickHandler);if(!this._editUpdateClickHandler){this._editUpdateClickHandler=M(this._editUpdateClick,this)}bx.on(a8+bo,"a.k-grid-update",this._editUpdateClickHandler)}}},_editUpdateClick:function(bx){bx.preventDefault();bx.stopPropagation();this.saveRow()},_editCancelClick:function(bB){var bA=this;var bC=bA.options.navigatable;var bz=bA.editable.options.model;var by=bA.editView?bA.editView.element:bA._editContainer;bB.preventDefault();bB.stopPropagation();if(bA.trigger("cancel",{container:by,model:bz})){return}var bx=bA.items().index(ba(bA.current()).parent());bA.cancelRow();if(bC){bA.current(bA.items().eq(bx).children().filter(bg).first());a6(bA.table,true)}},_createPopupEditor:function(bA){var bE=this,bG="<div "+B.attr("uid")+'="'+bA.uid+'" class="k-popup-edit-form'+(bE._isMobile?" k-mobile-list":"")+'"><div class="k-edit-form-container">',by,bB,bL=[],bJ,bC,bF,bO,bH,bK,bx=ac(bE.columns),bM,bN=bE.options.editable,bQ=bN.template,bz=V(bN)?bN.window:{},bP=aN({},B.Template,bE.options.templateSettings);bz=bz||{};if(bQ){if(typeof bQ===bp){bQ=window.unescape(bQ)}bG+=(B.template(bQ,bP))(bA);for(bJ=0,bC=bx.length;bJ<bC;bJ++){by=bx[bJ];if(by.command){bK=E(by.command,"edit");if(bK){bB=bK}}}}else{for(bJ=0,bC=bx.length;bJ<bC;bJ++){by=bx[bJ];if(!by.command){bG+='<div class="k-edit-label"><label for="'+by.field+'">'+(by.title||by.field||"")+"</label></div>";if((!bA.editable||bA.editable(by.field))&&by.field){bL.push({field:by.field,format:by.format,editor:by.editor,values:by.values});bG+="<div "+B.attr("container-for")+'="'+by.field+'" class="k-edit-field"></div>'}else{var bD={storage:{},count:0};bF=B.template(bE._cellTmpl(by,bD),bP);if(bD.count>0){bF=M(bF,bD.storage)}bG+='<div class="k-edit-field">'+bF(bA)+"</div>"}}else{if(by.command){bK=E(by.command,"edit");if(bK){bB=bK}}}}}if(bB){if(V(bB)){if(bB.text&&V(bB.text)){bO=bB.text.update;bH=bB.text.cancel}if(bB.attr){bM=bB.attr}}}var bI;if(!bE._isMobile){bG+='<div class="k-edit-buttons k-state-default">';bG+=bE._createButton({name:"update",text:bO,attr:bM})+bE._createButton({name:"canceledit",text:bH,attr:bM});bG+="</div></div></div>";bI=bE._editContainer=ba(bG).appendTo(bE.wrapper).eq(0).kendoWindow(aN({modal:true,resizable:false,draggable:true,title:"Edit",visible:false,close:function(bS){if(bS.userTriggered){bS.sender.element.focus();if(bE.trigger("cancel",{container:bI,model:bA})){bS.preventDefault();return}var bR=bE.items().index(ba(bE.current()).parent());bE.cancelRow();if(bE.options.navigatable){bE.current(bE.items().eq(bR).children().filter(bg).first());a6(bE.table,true)}}}},bz))}else{bG+="</div></div>";bE.editView=bE.pane.append("<div data-"+B.ns+'role="view" data-'+B.ns+'init-widgets="false" class="k-grid-edit-form"><div data-'+B.ns+'role="header" class="k-header">'+bE._createButton({name:"update",text:bO,attr:bM})+(bz.title||"Edit")+bE._createButton({name:"canceledit",text:bH,attr:bM})+"</div>"+bG+"</div>");bI=bE._editContainer=bE.editView.element.find(".k-popup-edit-form")}bE.editable=bE._editContainer.kendoEditable({fields:bL,model:bA,clearContainer:false,target:bE}).data("kendoEditable");if(bE._isMobile){bI.find("input[type=checkbox],input[type=radio]").parent(".k-edit-field").addClass("k-check").prev(".k-edit-label").addClass("k-check").click(function(){ba(this).next().children("input").click()})}bE._openPopUpEditor();bE.trigger(ag,{container:bI,model:bA})},_openPopUpEditor:function(){if(!this._isMobile){this._editContainer.data("kendoWindow").center().open()}else{this.pane.navigate(this.editView,this._editAnimation)}},_createInlineEditor:function(bD,bz){var bB=this,bA,by,bC,bx=[];if(bB.lockedContent){bD=bD.add(bB._relatedRow(bD))}bD.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){by=ba(this);bA=ac(bB.columns)[bB.cellIndex(by)];if(!bA.command&&bA.field&&(!bz.editable||bz.editable(bA.field))){bx.push({field:bA.field,format:bA.format,editor:bA.editor,values:bA.values});by.attr(B.attr("container-for"),bA.field);by.empty()}else{if(bA.command){bC=E(bA.command,"edit");if(bC){by.empty();var bG,bF,bE;if(V(bC)){if(bC.text&&V(bC.text)){bG=bC.text.update;bF=bC.text.cancel}if(bC.attr){bE=bC.attr}}ba(bB._createButton({name:"update",text:bG,attr:bE})+bB._createButton({name:"canceledit",text:bF,attr:bE})).appendTo(by)}}}});bB._editContainer=bD;bB.editable=new B.ui.Editable(bD.addClass("k-grid-edit-row"),{target:bB,fields:bx,model:bz,clearContainer:false});if(bD.length>1){aQ(bD[0],bD[1]);bB._applyLockedContainersWidth()}bB.trigger(ag,{container:bD,model:bz})},cancelRow:function(){var bz=this,bx=bz._editContainer,by,bA;if(bx){by=bz._modelForContainer(bx);bz._destroyEditable();bz.dataSource.cancelChanges(by);if(bz._editMode()!=="popup"){bz._displayRow(bx)}else{bz._displayRow(bz.tbody.find("["+B.attr("uid")+"="+by.uid+"]"))}}},saveRow:function(){var bA=this,bx=bA._editContainer,by=bA._modelForContainer(bx),bz=bA.editable;if(bx&&bz&&bz.end()&&!bA.trigger(a9,{container:bx,model:by})){bA.dataSource.sync()}},_displayRow:function(bE){var bC=this,bA=bC._modelForContainer(bE),bD,bz,bB,by=bE.hasClass("k-state-selected"),bx=bE.hasClass("k-alt");if(bA){if(bC.lockedContent){bD=ba((bx?bC.lockedAltRowTemplate:bC.lockedRowTemplate)(bA));bC._relatedRow(bE.last()).replaceWith(bD)}bC.angular("cleanup",function(){return{elements:bE.get()}});bz=ba((bx?bC.altRowTemplate:bC.rowTemplate)(bA));bE.replaceWith(bz);bC.angular("compile",function(){return{elements:bz.get(),data:[{dataItem:bA}]}});if(by&&bC.options.selectable){bC.select(bz.add(bD))}if(bD){aQ(bz[0],bD[0])}bB=bz.next();if(bB.hasClass("k-detail-row")&&bB.is(":visible")){bz.find(".k-hierarchy-cell .k-icon").removeClass("k-plus").addClass("k-minus")}}},_showMessage:function(bB,bC){var bA=this;if(!bA._isMobile){return window.confirm(bB.title)}var bz=B.template('<ul><li class="km-actionsheet-title">#:title#</li><li><a href="\\#" class="k-button k-grid-delete">#:confirmDelete#</a></li></ul>');var bx=ba(bz(bB)).appendTo(bA.view.element);var by=bA._actionSheet=new B.mobile.ui.ActionSheet(bx,{cancel:bB.cancelDelete,cancelTemplate:'<li class="km-actionsheet-cancel"><a class="k-button" href="\\#">#:cancel#</a></li>',close:function(){this.destroy()},command:function(bE){var bD=ba(bE.currentTarget).parent();if(!bD.hasClass("km-actionsheet-cancel")){bA._removeRow(bC)}},popup:bA._actionSheetPopupOptions});by.open(bC);return false},_confirmation:function(bA){var bz=this,bx=bz.options.editable,by=bx===true||typeof bx===bp?bz.options.messages.editable.confirmation:bx.confirmation;if(by!==false&&by!=null){if(typeof by===aS){by=by(bz._modelForContainer(bA))}return bz._showMessage({confirmDelete:bx.confirmDelete||bz.options.messages.editable.confirmDelete,cancelDelete:bx.cancelDelete||bz.options.messages.editable.cancelDelete,title:by===true?bz.options.messages.editable.confirmation:by},bA)}return true},cancelChanges:function(){this.dataSource.cancelChanges()},saveChanges:function(){var bx=this;if(((bx.editable&&bx.editable.end())||!bx.editable)&&!bx.trigger(bq)){bx.dataSource.sync()}},addRow:function(){var bB=this,bD,bx=bB.dataSource,bA=bB._editMode(),bC=bB.options.editable.createAt||"",bE=bx.pageSize(),bF=bx.view()||[];if((bB.editable&&bB.editable.end())||!bB.editable){if(bA!="incell"){bB.cancelRow()}bD=bx.indexOf(bF[0]);if(bC.toLowerCase()=="bottom"){bD+=bF.length;if(bE&&!bx.options.serverPaging&&bE<=bF.length){bD-=1}}if(bD<0){if(bx.page()>bx.totalPages()){bD=(bx.page()-1)*bE}else{bD=0}}var bz=bx.insert(bD,{}),by=bz.uid,bH=bB.lockedContent?bB.lockedTable:bB.table,bI=bH.find("tr["+B.attr("uid")+"="+by+"]"),bG=bI.children("td:not(.k-group-cell,.k-hierarchy-cell)").eq(bB._firstEditableColumnIndex(bI));if(bA==="inline"&&bI.length){bB.editRow(bI)}else{if(bA==="popup"){bB.editRow(bz)}else{if(bG.length){bB.editCell(bG)}}}if(bC.toLowerCase()=="bottom"&&bB.lockedContent){bB.lockedContent[0].scrollTop=bB.content[0].scrollTop=bB.content[0].offsetHeight}}},_firstEditableColumnIndex:function(by){var bD=this,bB,bA=ac(bD.columns),bx,bC,bz=bD._modelForContainer(by);for(bx=0,bC=bA.length;bx<bC;bx++){bB=bA[bx];if(bz&&(!bz.editable||bz.editable(bB.field))&&!bB.command&&bB.field){return bx}}return -1},_toolbar:function(){var bA=this,bB=bA.wrapper,bz=bA.options.toolbar,by=bA.options.editable,bx;if(bz){bx=bA.wrapper.find(".k-grid-toolbar");if(!bx.length){if(!be(bz)){bz=(typeof bz===bp?bz:bA._toolbarTmpl(bz).replace(aC,"\\#"));bz=M(B.template(bz),bA)}bx=ba('<div class="k-header k-grid-toolbar" />').html(bz({})).prependTo(bB);bA.angular("compile",function(){return{elements:bx.get()}})}if(by&&by.create!==false){bx.on(a8+bo,".k-grid-add",function(bC){bC.preventDefault();bA.addRow()}).on(a8+bo,".k-grid-cancel-changes",function(bC){bC.preventDefault();bA.cancelChanges()}).on(a8+bo,".k-grid-save-changes",function(bC){bC.preventDefault();bA.saveChanges()})}bx.on(a8+bo,".k-grid-excel",function(bC){bC.preventDefault();bA.saveAsExcel()});bx.on(a8+bo,".k-grid-pdf",function(bC){bC.preventDefault();bA.saveAsPDF()})}},_toolbarTmpl:function(by){var bB=this,bx,bA,bz="";if(c(by)){for(bx=0,bA=by.length;bx<bA;bx++){bz+=bB._createButton(by[bx])}}return bz},_createButton:function(bD){var bA=bD.template||ax,by=typeof bD===bp?bD:bD.name||bD.text,bz=at[by]?at[by].className:"k-grid-"+(by||"").replace(/\s/g,""),bx={className:bz,text:by,imageClass:"",attr:"",iconClass:""},bC=this.options.messages.commands,bB;if(!by&&!(V(bD)&&bD.template)){throw new Error("Custom commands should have name specified")}if(V(bD)){if(bD.className&&F(bx.className,bD.className.split(" "))<0){bD.className+=" "+bx.className}else{if(bD.className===G){bD.className=bx.className}}if(by==="edit"&&V(bD.text)){bD=aN(true,{},bD);bD.text=bD.text.edit}if(bD.attr){if(V(bD.attr)){bD.attr=r(bD.attr)}if(typeof bD.attr===bp){bB=bD.attr.match(/class="(.+?)"/);if(bB&&F(bB[1],bD.className.split(" "))<0){bD.className+=" "+bB[1]}}}bx=aN(true,bx,at[by],{text:bC[by]},bD)}else{bx=aN(true,bx,at[by],{text:bC[by]})}return B.template(bA)(bx)},_hasFooters:function(){return !!this.footerTemplate||!!this.groupFooterTemplate||(this.footer&&this.footer.length>0)||this.wrapper.find(".k-grid-footer").length>0},_groupable:function(){var bx=this;if(bx._groupableClickHandler){bx.table.add(bx.lockedTable).off(a8+bo,bx._groupableClickHandler)}else{bx._groupableClickHandler=function(bA){var by=ba(this),bz=by.closest("tr");if(by.hasClass("k-i-collapse")){bx.collapseGroup(bz)}else{bx.expandGroup(bz)}bA.preventDefault();bA.stopPropagation()}}if(bx._isLocked()){bx.lockedTable.on(a8+bo,".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",bx._groupableClickHandler)}else{bx.table.on(a8+bo,".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",bx._groupableClickHandler)}bx._attachGroupable()},_attachGroupable:function(){var bA=this,bB=bA.wrapper,by=bA.options.groupable,bx=aO+"["+B.attr("field")+"]",bz=bA.content?".k-grid-header:first "+bx:"table:first>.k-grid-header "+bx;if(by&&by.enabled!==false){if(!bB.has("div.k-grouping-header")[0]){ba("<div>&nbsp;</div>").addClass("k-grouping-header").prependTo(bB)}if(bA.groupable){bA.groupable.destroy()}bA.groupable=new y(bB,aN({},by,{draggable:bA._draggableInstance,groupContainer:">div.k-grouping-header",dataSource:bA.dataSource,draggableElements:bz,filter:bz,allowDrag:bA.options.reorderable}))}},_continuousItems:function(bz,bD){if(!this.lockedContent){return}var bB=this;var bx=bB.table.add(bB.lockedTable);var bE=ba(bz,bx[0]);var by=ba(bz,bx[1]);var bA=bD?j(bB.columns).length:1;var bG=bD?bB.columns.length-bA:1;var bF=[];for(var bC=0;bC<bE.length;bC+=bA){g.apply(bF,bE.slice(bC,bC+bA));g.apply(bF,by.splice(0,bG))}return bF},_selectable:function(){var bB=this,bD,bx,bz=[],bE=bB._isLocked(),by=bB.options.selectable;if(by){if(bB.selectable){bB.selectable.destroy()}by=B.ui.Selectable.parseOptions(by);bD=by.multiple;bx=by.cell;if(bB._hasDetails()){bz[bz.length]=".k-detail-row"}if(bB.options.groupable||bB._hasFooters()){bz[bz.length]=".k-grouping-row,.k-group-footer"}bz=bz.join(",");if(bz!==""){bz=":not("+bz+")"}var bC=bB.table;if(bE){bC=bC.add(bB.lockedTable)}var bA=">"+(bx?k:"tbody>tr"+bz);bB.selectable=new B.ui.Selectable(bC,{filter:bA,aria:true,multiple:bD,change:function(){bB.trigger(Z)},useAllItems:bE&&bD&&bx,relatedTarget:function(bH){if(bx||!bE){return}var bJ;var bG=ba();for(var bF=0,bI=bH.length;bF<bI;bF++){bJ=bB._relatedRow(bH[bF]);if(F(bJ[0],bH)<0){bG=bG.add(bJ)}}return bG},continuousItems:function(){return bB._continuousItems(bA,bx)}});if(bB.options.navigatable){bC.on("keydown"+bo,function(bH){var bG=bB.current();var bF=bH.target;if(bH.keyCode===ai.SPACEBAR&&ba.inArray(bF,bC)>-1&&!bG.is(".k-edit-cell,.k-header")&&bG.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")){bH.preventDefault();bH.stopPropagation();bG=bx?bG:bG.parent();if(bE&&!bx){bG=bG.add(bB._relatedRow(bG))}if(bD){if(!bH.ctrlKey){bB.selectable.clear()}else{if(bG.hasClass(bl)){bG.removeClass(bl);bB.trigger(Z);return}}}else{bB.selectable.clear()}bB.selectable.value(bG)}})}}},_relatedRow:function(bA){var by=this.lockedTable;bA=ba(bA);if(!by){return bA}var bz=bA.closest(this.table.add(this.lockedTable));var bx=bz.find(">tbody>tr").index(bA);bz=bz[0]===this.table[0]?by:this.table;return bz.find(">tbody>tr").eq(bx)},clearSelection:function(){var bx=this;bx.selectable.clear();bx.trigger(Z)},select:function(bx){var bz=this,by=bz.selectable;bx=ba(bx);if(bx.length){if(!by.options.multiple){by.clear();bx=bx.first()}if(bz._isLocked()){bx=bx.add(bx.map(function(){return bz._relatedRow(this)}))}by.value(bx);return}return by.value()},current:function(bx){var bA=this,bB=bA.options.scrollable,bC=bA._current,bz=bA.table.add(bA.thead.parent());if(bx!==G&&bx.length){if(!bC||bC[0]!==bx[0]){if(bC){bC.removeClass(C).removeAttr("id");bz.removeAttr("aria-activedescendant")}bx.attr("id",bA._cellId);bA._current=bx.addClass(C);bz.attr("aria-activedescendant",bA._cellId);if(bx.length&&bB){var by=bx.closest("table").parent();if(by.is(".k-grid-content")){bA._scrollTo(bx.parent()[0],bA.content[0])}else{if(by.is(".k-grid-content-locked")){bA._scrollTo(bA._relatedRow(bx.parent())[0],bA.content[0]);bA.lockedContent[0].scrollTop=bA.content[0].scrollTop}}if(!by.is(".k-grid-content-locked,.k-grid-header-locked")){if(bB.virtual){bA._scrollTo(bx[0],bA.content.find(">.k-virtual-scrollable-wrap")[0])}else{bA._scrollTo(bx[0],bA.content[0])}}}}}return bA._current},_removeCurrent:function(){if(this._current){this._current.removeClass(C);this._current=null}},_scrollTo:function(bA,by){var bF=bA.tagName.toLowerCase(),bD=bF==="td"||bF==="th",bx=bA[bD?"offsetLeft":"offsetTop"],bC=bA[bD?"offsetWidth":"offsetHeight"],bE=by[bD?"scrollLeft":"scrollTop"],bz=by[bD?"clientWidth":"clientHeight"],bB=bx+bC,bG=0;if(bE>bx){bG=bx}else{if(bB>(bE+bz)){if(bC<=bz){bG=(bB-bz)}else{bG=bx}}else{bG=bE}}by[bD?"scrollLeft":"scrollTop"]=bG},_navigatable:function(){var bB=this,bx=M(bB.current,bB),bA=bB.table.add(bB.lockedTable),bz=bB.thead.parent().add(ba(">table",bB.lockedHeader)),bD=bB._isLocked(),bC=bA,by=B.support.isRtl(bB.element);if(!bB.options.navigatable){return}if(bB.options.scrollable){bC=bA.add(bz);bz.attr(av,-1)}bC.off("mousedown"+bo+" focus"+bo+" focusout"+bo+" keydown"+bo);bz.on("keydown"+bo,function(bE){if(bE.altKey&&bE.keyCode==ai.DOWN){bx().find(".k-grid-filter, .k-header-column-menu").click();bE.stopImmediatePropagation()}}).find("a.k-link").attr("tabIndex",-1);bA.attr(av,ao.max(bA.attr(av)||0,0)).on("mousedown"+bo+" keydown"+bo,".k-detail-cell",function(bE){if(bE.target!==bE.currentTarget){bE.stopImmediatePropagation()}});bC.on((B.support.touch?"touchstart"+bo:"mousedown"+bo),S+">"+bg,M(O,bB)).on("focus"+bo,function(){if(B.support.touch){return}var bE=bx();if(bE&&bE.is(":visible")){bE.addClass(C)}else{bx(ba(this).find(aT))}bA.attr(av,-1);bz.attr(av,-1);ba(this).attr(av,0)}).on("focusout"+bo,function(){var bE=bx();if(bE){bE.removeClass(C)}}).on("keydown"+bo,function(bU){var bV=bU.keyCode,bL=false,bS=!bU.isDefaultPrevented()&&!ba(bU.target).is(":button,a,:input,a>.k-icon"),bK=bB.options.pageable,bT=bB.dataSource,bN=bB._editMode()=="incell",bH,bE,bI,bJ,bG,bP=bU.shiftKey,bM=M(bB._relatedRow,bB),bQ=bx();if(bQ&&bQ.is("th")){bS=true}if(bS&&bV==ai.UP){bx(f(bQ,bU.currentTarget,bA,bz,true));bL=true}else{if(bS&&bV==ai.DOWN){bx(f(bQ,bU.currentTarget,bA,bz));bL=true}else{if(bS&&bV==(by?ai.RIGHT:ai.LEFT)){bx(l(bQ,bU.currentTarget,bA,bz,bM));bL=true}else{if(bS&&bV==(by?ai.LEFT:ai.RIGHT)){bx(u(bQ,bU.currentTarget,bA,bz,bM));bL=true}else{if(bS&&bK&&ai.PAGEDOWN==bV){bT.page(bT.page()+1);bL=true}else{if(bS&&bK&&ai.PAGEUP==bV){bT.page(bT.page()-1);bL=true}else{if(bV==ai.ENTER||ai.F2==bV){bQ=bQ?bQ:bA.find(aT);if(!bQ.length){return}if(!ba(bU.target).is("table")&&!ba.contains(bQ[0],bU.target)){bQ=ba(bU.target).closest("[role=gridcell]")}if(bQ.is("th")){bQ.find(".k-link").click();bL=true}else{if(bQ.parent().is(".k-master-row,.k-grouping-row")){bQ.parent().find(".k-icon:first").click();bL=true}else{var bR=bQ.find(":kendoFocusable:first");if(!bQ.hasClass("k-edit-cell")&&bR[0]&&bQ.hasClass("k-state-focused")){bR.focus();bL=true}else{if(bB.options.editable&&!ba(bU.target).is(":button,.k-button,textarea")){var bO=ba(bU.target).closest("[role=gridcell]");if(!bO[0]){bO=bQ}bB._handleEditing(bO,false,bN?bU.currentTarget:bA[0]);bL=true}}}}}else{if(ai.ESC==bV){bH=W();if(bQ&&ba.contains(bQ[0],bH)&&!bQ.hasClass("k-edit-cell")&&!bQ.parent().hasClass("k-grid-edit-row")){a6(bU.currentTarget,true);bL=true}else{if(bB._editContainer&&(!bQ||bB._editContainer.has(bQ[0])||bQ[0]===bB._editContainer[0])){if(bN){bB.closeCell(true)}else{bE=ba(bQ).parent().index();if(bH){bH.blur()}bB.cancelRow();if(bE>=0){bB.current(bA.find(">tbody>tr").eq(bE).children().filter(bg).first())}}if(bc.msie&&bc.version<9){document.body.focus()}a6(bN?bU.currentTarget:bA[0],true);bL=true}}}else{if(ai.TAB==bV){var bF;bQ=ba(bQ);if(bB.options.editable&&bN){bF=ba(W()).closest(".k-edit-cell");if(bF[0]&&bF[0]!==bQ[0]){bQ=bF}}bF=aY(bQ,bU.currentTarget,bA,bM,bP);if(!bQ.is("th")&&bF.length&&bB.options.editable&&bN){bB._handleEditing(bQ,bF,bF.closest(bA));bL=true}}}}}}}}}}if(bL){bU.preventDefault();bU.stopPropagation()}})},_handleEditing:function(bE,bA,bH){var bD=this,bz=ba(W()),bB=bD._editMode(),bx=bc.msie,bC=bx&&bc.version<9,bF=bD._editContainer,bG,by;bH=ba(bH);if(bB=="incell"){by=bE.hasClass("k-edit-cell")}else{by=bE.parent().hasClass("k-grid-edit-row")}if(bD.editable){if(ba.contains(bF[0],bz[0])){if(bc.opera||bC){bz.change().triggerHandler("blur")}else{bz.blur();if(bx){bz.blur()}}}if(!bD.editable){a6(bH);return}if(bD.editable.end()){if(bB=="incell"){bD.closeCell()}else{bD.saveRow();by=true}}else{if(bB=="incell"){bD.current(bF)}else{bD.current(bF.children().filter(R).first())}bG=bF.find(":kendoFocusable:first")[0];if(bG){bG.focus()}return}}if(bA){bD.current(bA)}if(bC){document.body.focus()}a6(bH,true);if((!by&&!bA)||bA){if(bB=="incell"){bD.editCell(bD.current())}else{bD.editRow(bD.current().parent())}}},_wrapper:function(){var bz=this,by=bz.table,bx=bz.options.height,bA=bz.element;if(!bA.is("div")){bA=bA.wrap("<div/>").parent()}bz.wrapper=bA.addClass("k-grid k-widget");if(bx){bz.wrapper.css(bi,bx);by.css(bi,"auto")}bz._initMobile()},_initMobile:function(){var bx=this.options;var bz=this;this._isMobile=(bx.mobile===true&&B.support.mobileOS)||bx.mobile==="phone"||bx.mobile==="tablet";if(this._isMobile){var by=this.wrapper.addClass("k-grid-mobile").wrap("<div data-"+B.ns+'role="view" data-'+B.ns+'init-widgets="false"></div>').parent();this.pane=B.mobile.ui.Pane.wrap(by);this.view=this.pane.view();this._actionSheetPopupOptions=ba(document.documentElement).hasClass("km-root")?{modal:false}:{align:"bottom center",position:"bottom center",effect:"slideIn:up"};if(bx.height){this.pane.element.parent().css(bi,bx.height)}this._editAnimation="slide";this.view.bind("show",function(){if(bz._isLocked()){bz._updateTablesWidth();bz._applyLockedContainersWidth();bz._syncLockedContentHeight();bz._syncLockedHeaderHeight();bz._syncLockedFooterHeight()}})}},_tbody:function(){var bz=this,by=bz.table,bx;bx=by.find(">tbody");if(!bx.length){bx=ba("<tbody/>").appendTo(by)}bz.tbody=bx.attr("role","rowgroup")},_scrollable:function(){var bA=this,bz,bD,bF=bA.options,bB=bF.scrollable,by=bB!==true&&bB.virtual&&!bA.virtualScrollable,bE=!B.support.kineticScrollNeeded||by?B.support.scrollbar():0;if(bB){bz=bA.wrapper.children(".k-grid-header");if(!bz[0]){bz=ba('<div class="k-grid-header" />').insertBefore(bA.table)}bz.css((I?"padding-left":"padding-right"),bB.virtual?bE+1:bE);bD=ba('<table role="grid" />');if(aq){bD.attr("cellspacing",0)}bD.width(bA.table[0].style.width);bD.append(bA.thead);bz.empty().append(ba('<div class="k-grid-header-wrap" />').append(bD));bA.content=bA.table.parent();if(bA.content.is(".k-virtual-scrollable-wrap, .km-scroll-container")){bA.content=bA.content.parent()}if(!bA.content.is(".k-grid-content, .k-virtual-scrollable-wrap")){bA.content=bA.table.wrap('<div class="k-grid-content" />').parent()}if(by){bA.virtualScrollable=new aL(bA.content,{dataSource:bA.dataSource,itemHeight:function(){return bA._averageRowHeight()}})}bA.scrollables=bz.children(".k-grid-header-wrap");var bC=bA.wrapper.find(".k-grid-footer");if(bC.length){bA.scrollables=bA.scrollables.add(bC.children(".k-grid-footer-wrap"))}if(bB.virtual){bA.content.find(">.k-virtual-scrollable-wrap").unbind("scroll"+bo).bind("scroll"+bo,function(){bA.scrollables.scrollLeft(this.scrollLeft);if(bA.lockedContent){bA.lockedContent[0].scrollTop=this.scrollTop}})}else{bA.content.unbind("scroll"+bo).bind("scroll"+bo,function(){bA.scrollables.scrollLeft(this.scrollLeft);if(bA.lockedContent){bA.lockedContent[0].scrollTop=this.scrollTop}});var bx=bA.content.data("kendoTouchScroller");if(bx){bx.destroy()}bx=B.touchScroller(bA.content);if(bx&&bx.movable){bA.touchScroller=bx;bx.movable.bind("change",function(bG){bA.scrollables.scrollLeft(-bG.sender.x);if(bA.lockedContent){bA.lockedContent.scrollTop(-bG.sender.y)}});bA.one(N,function(bG){bG.sender.wrapper.addClass("k-grid-backface")})}}}},_setContentWidth:function(){var bA=this,bz="k-grid-content-expander",by='<div class="'+bz+'"></div>',bx=bA.resizable,bB;if(bA.options.scrollable&&bA.wrapper.is(":visible")){bB=bA.table.parent().children("."+bz);bA._setContentWidthHandler=M(bA._setContentWidth,bA);if(!bA.dataSource||!bA.dataSource.view().length){if(!bB[0]){bB=ba(by).appendTo(bA.table.parent());if(bx){bx.bind("resize",bA._setContentWidthHandler)}}if(bA.thead){bB.width(bA.thead.width())}}else{if(bB[0]){bB.remove();if(bx){bx.unbind("resize",bA._setContentWidthHandler)}}}bA._applyLockedContainersWidth()}},_applyLockedContainersWidth:function(){if(this.options.scrollable&&this.lockedHeader){var bF=this.thead.parent(),bD=bF.parent(),bx=this.wrapper[0].clientWidth,bA=this._groups(),bG=B.support.scrollbar(),bE=this.lockedHeader.find(">table>colgroup>col:not(.k-group-col, .k-hierarchy-col)"),bz=bF.find(">colgroup>col:not(.k-group-col, .k-hierarchy-col)"),by=am(bE),bC=am(bz),bB;if(bA>0){by+=this.lockedHeader.find(".k-group-cell:first").outerWidth()*bA}if(by>=bx){by=bx-3*bG}this.lockedHeader.add(this.lockedContent).width(by);bD[0].style.width=bD.parent().width()-by-2+"px";bF.add(this.table).width(bC);if(this.virtualScrollable){bx-=bG}this.content[0].style.width=bx-by-2+"px";if(this.lockedFooter&&this.lockedFooter.length){this.lockedFooter.width(by);bB=this.footer.find(".k-grid-footer-wrap");bB[0].style.width=bD[0].clientWidth+"px";bB.children().first().width(bC)}}},_setContentHeight:function(){var bA=this,by=bA.options,bx=bA.wrapper.innerHeight(),bC=bA.wrapper.children(".k-grid-header"),bB=B.support.scrollbar();if(by.scrollable&&bA.wrapper.is(":visible")){bx-=bC.outerHeight();if(bA.pager){bx-=bA.pager.element.outerHeight()}if(by.groupable){bx-=bA.wrapper.children(".k-grouping-header").outerHeight()}if(by.toolbar){bx-=bA.wrapper.children(".k-grid-toolbar").outerHeight()}if(bA.footerTemplate){bx-=bA.wrapper.children(".k-grid-footer").outerHeight()}var bz=function(bF){var bE,bD;if(bF[0].style.height){return true}else{bE=bF.height()}bF.height("auto");bD=bF.height();if(bE!=bD){bF.height("");return true}bF.height("");return false};if(bz(bA.wrapper)){if(bx>bB*2){if(bA.lockedContent){bB=bA.table[0].offsetWidth>bA.table.parent()[0].clientWidth?bB:0;bA.lockedContent.height(bx-bB)}bA.content.height(bx)}else{bA.content.height(bB*2+1)}}}},_averageRowHeight:function(){var bA=this,bx=bA._items(bA.tbody).length,bz=bA._rowHeight;if(bx===0){return bz}if(!bA._rowHeight){bA._rowHeight=bz=bA.table.outerHeight()/bx;bA._sum=bz;bA._measures=1}var by=bA.table.outerHeight()/bx;if(bz!==by){bA._measures++;bA._sum+=by;bA._rowHeight=bA._sum/bA._measures}return bz},_dataSource:function(){var bz=this,by=bz.options,bx,bA=by.dataSource;bA=c(bA)?{data:bA}:bA;if(V(bA)){aN(bA,{table:bz.table,fields:bz.columns});bx=by.pageable;if(V(bx)&&bx.pageSize!==G){bA.pageSize=bx.pageSize}}if(bz.dataSource&&bz._refreshHandler){bz.dataSource.unbind(Z,bz._refreshHandler).unbind(a3,bz._progressHandler).unbind(Y,bz._errorHandler)}else{bz._refreshHandler=M(bz.refresh,bz);bz._progressHandler=M(bz._requestStart,bz);bz._errorHandler=M(bz._error,bz)}bz.dataSource=x.create(bA).bind(Z,bz._refreshHandler).bind(a3,bz._progressHandler).bind(Y,bz._errorHandler)},_error:function(){this._progress(false)},_requestStart:function(){this._progress(true)},_modelChange:function(bG){var bF=this,bC=bF.tbody,bE=bG.model,bN=bF.tbody.find("tr["+B.attr("uid")+"="+bE.uid+"]"),bD,bL,bz,bA=bN.hasClass("k-alt"),bB,bK=bF._items(bC).index(bN),bx=bF.lockedContent,bI,bH,bJ,bM,by;if(bx){bD=bF._relatedRow(bN)}if(bN.add(bD).children(".k-edit-cell").length&&!bF.options.rowTemplate){bN.add(bD).children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){bL=ba(this);bz=ac(bF.columns)[bF.cellIndex(bL)];if(bz.field===bG.field){if(!bL.hasClass("k-edit-cell")){bF._displayCell(bL,bz,bE);ba('<span class="k-dirty"/>').prependTo(bL)}else{bL.addClass("k-dirty-cell")}}})}else{if(!bN.hasClass("k-grid-edit-row")){bH=ba().add(bN);if(bx){bB=(bA?bF.lockedAltRowTemplate:bF.lockedRowTemplate)(bE);bH=bH.add(bD);bD.replaceWith(bB)}bB=(bA?bF.altRowTemplate:bF.rowTemplate)(bE);bN.replaceWith(bB);bB=bF._items(bC).eq(bK);if(bx){bN=bN.add(bD);bD=bF._relatedRow(bB)[0];aQ(bB[0],bD);bB=bB.add(bD)}bI=bF.options.selectable;if(bI&&bN.hasClass("k-state-selected")){bF.select(bB)}bM=bH.children(":not(.k-group-cell,.k-hierarchy-cell)");bJ=bB.children(":not(.k-group-cell,.k-hierarchy-cell)");for(bK=0,by=bF.columns.length;bK<by;bK++){bz=bF.columns[bK];bL=bJ.eq(bK);if(bI&&bM.eq(bK).hasClass("k-state-selected")){bL.addClass("k-state-selected")}if(bz.field===bG.field){ba('<span class="k-dirty"/>').prependTo(bL)}}bF.trigger("itemChange",{item:bB,data:bE,ns:au})}}},_pageable:function(){var by=this,bz,bx=by.options.pageable;if(bx){bz=by.wrapper.children("div.k-grid-pager");if(!bz.length){bz=ba('<div class="k-pager-wrap k-grid-pager"/>').appendTo(by.wrapper)}if(by.pager){by.pager.destroy()}if(typeof bx==="object"&&bx instanceof B.ui.Pager){by.pager=bx}else{by.pager=new B.ui.Pager(bz,aN({},bx,{dataSource:by.dataSource}))}}},_footer:function(){var bD=this,bC=bD.dataSource.aggregates(),bB="",bF=bD.footerTemplate,bG=bD.options,bA,bE=bD.footer||bD.wrapper.find(".k-grid-footer");if(bF){bC=!aU(bC)?bC:bd(bD.dataSource.aggregate());bB=ba(bD._wrapFooter(bF(bC)));if(bE.length){var bz=bB;bD.angular("cleanup",function(){return{elements:bE.get()}});bE.replaceWith(bz);bE=bD.footer=bz}else{if(bG.scrollable){bE=bD.footer=bG.pageable?bB.insertBefore(bD.wrapper.children("div.k-grid-pager")):bB.appendTo(bD.wrapper)}else{bE=bD.footer=bB.insertBefore(bD.tbody)}}bD.angular("compile",function(){return{elements:bE.find("td").get(),data:H(bD.columns,function(bH,bI){return{column:bH,aggregate:bC[bH.field]}})}})}else{if(bE&&!bD.footer){bD.footer=bE}}if(bE.length){if(bG.scrollable){bA=bE.attr("tabindex",-1).children(".k-grid-footer-wrap");bD.scrollables=bD.scrollables.filter(function(){return !ba(this).is(".k-grid-footer-wrap")}).add(bA)}if(bD._footerWidth){bE.find("table").css("width",bD._footerWidth)}if(bA){var by=bD.content.scrollLeft();var bx=bG.scrollable!==true&&bG.scrollable.virtual&&!bD.virtualScrollable;if(bx){by=bD.wrapper.find(".k-virtual-scrollable-wrap").scrollLeft()}bA.scrollLeft(by)}}if(bD.lockedContent){bD._appendLockedColumnFooter();bD._applyLockedContainersWidth();bD._syncLockedFooterHeight()}},_wrapFooter:function(by){var bz=this,bx="",bA=!B.support.mobileOS?B.support.scrollbar():0;if(bz.options.scrollable){bx=ba('<div class="k-grid-footer"><div class="k-grid-footer-wrap"><table'+(aq?' cellspacing="0"':"")+"><tbody>"+by+"</tbody></table></div></div>");bz._appendCols(bx.find("table"));bx.css((I?"padding-left":"padding-right"),bA);return bx}return'<tfoot class="k-grid-footer">'+by+"</tfoot>"},_columnMenu:function(){var bL=this,by,bA=ac(bL.columns),bD,bF=bL.options,bI=bF.columnMenu,bK,bB,bC,bG,bM=m(bL.columns,function(bP){return bP.columns!==G}).length>0,bO=this._isMobile,bE=function(bP){bL.trigger(a1,{field:bP.field,container:bP.container})},bJ=function(bP){a6(bP.closest("table"),true)},bx=bF.$angular;if(bI){if(typeof bI=="boolean"){bI={}}bG=q(bL.thead);for(var bN=0,bH=bG.length;bN<bH;bN++){bD=bA[bN];var bz=bG.eq(bN);if(!bD.command&&(bD.field||bz.attr("data-"+B.ns+"field"))){by=bz.data("kendoColumnMenu");if(by){by.destroy()}bB=bD.sortable!==false&&bI.sortable!==false&&bF.sortable!==false?aN({},bF.sortable,{compare:(bD.sortable||{}).compare}):false;bC=bF.filterable&&bD.filterable!==false&&bI.filterable!==false?aN({pane:bL.pane},bD.filterable,bF.filterable):false;bK={dataSource:bL.dataSource,values:bD.values,columns:bI.columns,sortable:bB,filterable:bC,messages:bI.messages,owner:bL,closeCallback:bJ,init:bE,pane:bL.pane,filter:bO?":not(.k-column-active)":"",lockedColumns:!bM&&bD.lockable!==false&&j(bA).length>0};if(bx){bK.$angular=bx}bz.kendoColumnMenu(bK)}}}},_headerCells:function(){return this.thead.find("th").filter(function(){var bx=ba(this);return !bx.hasClass("k-group-cell")&&!bx.hasClass("k-hierarchy-cell")})},_filterable:function(){var bE=this,bB=ac(bE.columns),bC,bH,bG,bA=function(bJ){bE.trigger(e,{field:bJ.field,container:bJ.container})},by=function(bJ){a6(bJ.closest("table"),true)},bx=bE.options.filterable;if(bx&&typeof bx.mode==bp&&bx.mode.indexOf("menu")==-1){bx=false}if(bx&&!bE.options.columnMenu){bH=q(bE.thead);for(var bF=0,bz=bH.length;bF<bz;bF++){bG=bH.eq(bF);if(bB[bF].filterable!==false&&!bB[bF].command&&(bB[bF].field||bG.attr("data-"+B.ns+"field"))){bC=bG.data("kendoFilterMenu");if(bC){bC.destroy()}var bD=bB[bF].filterable;var bI=aN({},bx,bD,{dataSource:bE.dataSource,values:bB[bF].values,closeCallback:by,init:bA,pane:bE.pane});if(bD&&bD.messages){bI.messages=aN(true,{},bx.messages,bD.messages)}bG.kendoFilterMenu(bI)}}}},_filterRow:function(){var bI=this;if(!bI._hasFilterRow()){return}var bB=ac(bI.columns),bx=bI.options.filterable,bC=bI.thead.find(".k-filter-row");this._updateHeader(this.dataSource.group().length);for(var bH=0;bH<bB.length;bH++){var by,bA=bB[bH],bE=bI.options.filterable.operators,bG=false,bz=ba("<th/>"),bJ=bA.field;if(bA.hidden){bz.hide()}bC.append(bz);if(bJ&&bA.filterable!==false){var bF=bA.filterable&&bA.filterable.cell||{};by=bI.options.dataSource;if(by instanceof x){by=bI.options.dataSource.options}var bD=aN(true,{},bx.messages);if(bA.filterable){aN(true,bD,bA.filterable.messages)}if(bF.enabled===false){bz.html("&nbsp;");continue}if(bF.dataSource){by=bF.dataSource;bG=true}if(bA.filterable&&bA.filterable.operators){bE=bA.filterable.operators}ba("<span/>").attr(B.attr("field"),bJ).kendoFilterCell({dataSource:bI.dataSource,suggestDataSource:by,customDataSource:bG,field:bJ,messages:bD,values:bA.values,template:bF.template,delay:bF.delay,inputWidth:bF.inputWidth,suggestionOperator:bF.suggestionOperator,minLength:bF.minLength,dataTextField:bF.dataTextField,operator:bF.operator,operators:bE,showOperators:bF.showOperators}).appendTo(bz)}else{bz.html("&nbsp;")}}},_sortable:function(){var bB=this,bz=ac(bB.columns),by,bF,bD,bA=bB.options.sortable;if(bA){var bE=q(bB.thead);for(var bC=0,bx=bE.length;bC<bx;bC++){by=bz[bC];if(by.sortable!==false&&!by.command&&by.field){bD=bE.eq(bC);bF=bD.data("kendoColumnSorter");if(bF){bF.destroy()}bD.attr("data-"+B.ns+"field",by.field).kendoColumnSorter(aN({},bA,by.sortable,{dataSource:bB.dataSource,aria:true,filter:":not(.k-column-active)"}))}}bE=null}},_columns:function(by){var bB=this,bA=bB.table,bD,bC=bA.find("col"),bx,bE=bB.options.dataSource;by=by.length?by:H(bA.find("th"),function(bI,bF){bI=ba(bI);var bM=bI.attr(B.attr("sortable")),bJ=bI.attr(B.attr("filterable")),bH=bI.attr(B.attr("type")),bG=bI.attr(B.attr("groupable")),bK=bI.attr(B.attr("field")),bL=bI.attr(B.attr("menu"));if(!bK){bK=bI.text().replace(/\s|[^A-z0-9]/g,"")}return{field:bK,type:bH,sortable:bM!=="false",filterable:bJ!=="false",groupable:bG!=="false",menu:bL,template:bI.attr(B.attr("template")),width:bC.eq(bF).css("width")}});bD=!(bB.table.find("tbody tr").length>0&&(!bE||!bE.transport));if(bB.options.scrollable){var bz=by;bx=j(by);by=bb(by);if(bx.length>0&&by.length===0){throw new Error("There should be at least one non locked column")}bw(bB.element.find("tr:has(th):first").find("th:not(.k-group-cell)"),bz);by=bx.concat(by)}bB.columns=t(by,bD)},_groups:function(){var bx=this.dataSource.group();return bx?bx.length:0},_tmpl:function(bJ,bD,bE,by){var bF=this,bC=aN({},B.Template,bF.options.templateSettings),bK,bz=bD.length,bL,bx={storage:{},count:0},bB,bH,bI=bF._hasDetails(),bG=[],bA=bF._groups();if(!bJ){bJ="<tr";if(bE){bG.push("k-alt")}if(bI){bG.push("k-master-row")}if(bG.length){bJ+=' class="'+bG.join(" ")+'"'}if(bz){bJ+=" "+B.attr("uid")+'="#='+B.expr("uid",bC.paramName)+'#"'}bJ+=" role='row'>";if(bA>0&&!by){bJ+=a7(bA)}if(bI){bJ+='<td class="k-hierarchy-cell"><a class="k-icon k-plus" href="\\#" tabindex="-1"></a></td>'}for(bK=0;bK<bz;bK++){bB=bD[bK];bL=bB.template;bH=typeof bL;bJ+="<td"+r(bB.attributes)+" role='gridcell'>";bJ+=bF._cellTmpl(bB,bx);bJ+="</td>"}bJ+="</tr>"}bJ=B.template(bJ,bC);if(bx.count>0){return M(bJ,bx.storage)}return bJ},_headerCellText:function(bA){var bB=this,bz=aN({},B.Template,bB.options.templateSettings),by=bA.headerTemplate,bx=typeof(by),bC=bA.title||bA.field||"";if(bx===aS){bC=B.template(by,bz)({})}else{if(bx===bp){bC=by}}return bC},_cellTmpl:function(bz,bx){var bD=this,bA=aN({},B.Template,bD.options.templateSettings),bJ=bz.template,bB=bA.paramName,bG=bz.field,bC="",bI,by,bH=bz.format,bF=typeof bJ,bE=bz.values;if(bz.command){if(c(bz.command)){for(bI=0,by=bz.command.length;bI<by;bI++){bC+=bD._createButton(bz.command[bI])}return bC.replace(aC,"\\#")}return bD._createButton(bz.command).replace(aC,"\\#")}if(bF===aS){bx.storage["tmpl"+bx.count]=bJ;bC+="#=this.tmpl"+bx.count+"("+bB+")#";bx.count++}else{if(bF===bp){bC+=bJ}else{if(bE&&bE.length&&V(bE[0])&&"value" in bE[0]&&bG){bC+="#var v ="+B.stringify(aj(bE)).replace(aC,"\\#")+"#";bC+="#var f = v[";if(!bA.useWithBlock){bC+=bB+"."}bC+=bG+"]#";bC+="${f != null ? f : ''}"}else{bC+=bz.encoded?"#:":"#=";if(bH){bC+='kendo.format("'+bH.replace(ar,"\\$1")+'",'}if(bG){bG=B.expr(bG,bB);bC+=bG+"==null?'':"+bG}else{bC+="''"}if(bH){bC+=")"}bC+="#"}}}return bC},_templates:function(){var bC=this,bF=bC.options,bx=bC.dataSource,by=bx.group(),bD=bC.footer||bC.wrapper.find(".k-grid-footer"),bB=bx.aggregate(),bE=ac(bC.columns),bA=ac(j(bC.columns)),bz=bF.scrollable?ac(bb(bC.columns)):bE;if(bF.scrollable&&bA.length){if(bF.rowTemplate||bF.altRowTemplate){throw new Error("Having both row template and locked columns is not supported")}bC.rowTemplate=bC._tmpl(bF.rowTemplate,bz,false,true);bC.altRowTemplate=bC._tmpl(bF.altRowTemplate||bF.rowTemplate,bz,true,true);bC.lockedRowTemplate=bC._tmpl(bF.rowTemplate,bA);bC.lockedAltRowTemplate=bC._tmpl(bF.altRowTemplate||bF.rowTemplate,bA,true)}else{bC.rowTemplate=bC._tmpl(bF.rowTemplate,bz);bC.altRowTemplate=bC._tmpl(bF.altRowTemplate||bF.rowTemplate,bz,true)}if(bC._hasDetails()){bC.detailTemplate=bC._detailTmpl(bF.detailTemplate||"")}if((bC._group&&!aU(bB))||(!aU(bB)&&!bD.length)||m(bE,function(bG){return bG.footerTemplate}).length){bC.footerTemplate=bC._footerTmpl(bE,bB,"footerTemplate","k-footer-template")}if(by&&m(bE,function(bG){return bG.groupFooterTemplate}).length){bB=ba.map(by,function(bG){return bG.aggregates});bC.groupFooterTemplate=bC._footerTmpl(bz,bB,"groupFooterTemplate","k-group-footer",bA.length);if(bF.scrollable&&bA.length){bC.lockedGroupFooterTemplate=bC._footerTmpl(bA,bB,"groupFooterTemplate","k-group-footer")}}},_footerTmpl:function(by,bC,bE,bK,bL){var bH=this,bN=aN({},B.Template,bH.options.templateSettings),bF=bN.paramName,bI="",bJ,bB,bP,bA,bM={},bG=0,bx={},bO=bH._groups(),bD=bd(bC),bz;bI+='<tr class="'+bK+'">';if(bO>0&&!bL){bI+=a7(bO)}if(bH._hasDetails()){bI+='<td class="k-hierarchy-cell">&nbsp;</td>'}for(bJ=0,bB=by.length;bJ<bB;bJ++){bz=by[bJ];bP=bz[bE];bA=typeof bP;bI+="<td"+r(bz.footerAttributes)+">";if(bP){if(bA!==aS){bx=bD[bz.field]?aN({},bN,{paramName:bF+"['"+bz.field+"']"}):{};bP=B.template(bP,bx)}bM["tmpl"+bG]=bP;bI+="#=this.tmpl"+bG+"("+bF+")#";bG++}else{bI+="&nbsp;"}bI+="</td>"}bI+="</tr>";bI=B.template(bI,bN);if(bG>0){return M(bI,bM)}return bI},_detailTmpl:function(bF){var bD=this,bC="",bz=aN({},B.Template,bD.options.templateSettings),bA=bz.paramName,bG={},bB=0,by=bD._groups(),bx=D(ac(bD.columns)).length,bE=typeof bF;bC+='<tr class="k-detail-row">';if(by>0){bC+=a7(by)}bC+='<td class="k-hierarchy-cell"></td><td class="k-detail-cell"'+(bx?' colspan="'+bx+'"':"")+">";if(bE===aS){bG["tmpl"+bB]=bF;bC+="#=this.tmpl"+bB+"("+bA+")#";bB++}else{bC+=bF}bC+="</td></tr>";bC=B.template(bC,bz);if(bB>0){return M(bC,bG)}return bC},_hasDetails:function(){var bx=this;return bx.options.detailTemplate!==null||(bx._events[z]||[]).length},_hasFilterRow:function(){var bz=this.options.filterable;var bA=bz&&typeof bz.mode==bp&&bz.mode.indexOf("row")!=-1;var bx=this.columns;var by=ba.grep(bx,function(bC,bB){return bC.filterable===false});if(bx.length&&by.length==bx.length){bA=false}return bA},_details:function(){var bx=this;if(bx.options.scrollable&&bx._hasDetails()&&j(bx.columns).length){throw new Error("Having both detail template and locked columns is not supported")}bx.table.on(a8+bo,".k-hierarchy-cell .k-plus, .k-hierarchy-cell .k-minus",function(bB){var by=ba(this),bF=by.hasClass("k-plus"),bA=by.closest("tr.k-master-row"),bC,bE=bx.detailTemplate,bz,bD=bx._hasDetails();by.toggleClass("k-plus",!bF).toggleClass("k-minus",bF);bC=bA.next();if(bD&&!bC.hasClass("k-detail-row")){bz=bx.dataItem(bA);bC=ba(bE(bz)).addClass(bA.hasClass("k-alt")?"k-alt":"").insertAfter(bA);bx.angular("compile",function(){return{elements:bC.get(),data:[{dataItem:bz}]}});bx.trigger(z,{masterRow:bA,detailRow:bC,data:bz,detailCell:bC.find(".k-detail-cell")})}bx.trigger(bF?o:aJ,{masterRow:bA,detailRow:bC});bC.toggle(bF);if(bx._current){bx._current.attr("aria-expanded",bF)}bB.preventDefault();return false})},dataItem:function(bA){bA=ba(bA)[0];if(!bA){return null}var bz=this.tbody.children(),bC=/k-grouping-row|k-detail-row|k-group-footer/,bx=bA.sectionRowIndex,by,bB;bB=bx;for(by=0;by<bx;by++){if(bC.test(bz[by].className)){bB--}}return this._data[bB]},expandRow:function(bx){ba(bx).find("> td .k-plus, > td .k-i-expand").click()},collapseRow:function(bx){ba(bx).find("> td .k-minus, > td .k-i-collapse").click()},_createHeaderCells:function(bz,bD){var bC=this,bE,bx,bG,bA="",by,bF=ac(bC.columns);for(bE=0,by=bz.length;bE<by;bE++){bx=bz[bE].column||bz[bE];bG=bC._headerCellText(bx);var bB=F(bx,bF);if(!bx.command){bA+="<th role='columnheader' "+B.attr("field")+"='"+(bx.field||"")+"' ";if(bD&&!bz[bE].colSpan){bA+=" rowspan='"+bD+"'"}if(bz[bE].colSpan>1){bA+='colspan="'+(bz[bE].colSpan-aI(bx.columns))+'" ';bA+=B.attr("colspan")+"='"+bz[bE].colSpan+"'"}if(bx.title){bA+=B.attr("title")+'="'+bx.title.replace(/'/g,"'")+'" '}if(bx.groupable!==G){bA+=B.attr("groupable")+"='"+bx.groupable+"' "}if(bx.aggregates&&bx.aggregates.length){bA+=B.attr("aggregates")+"='"+bx.aggregates+"'"}if(bB>-1){bA+=B.attr("index")+"='"+bB+"'"}bA+=r(bx.headerAttributes);bA+=">"+bG+"</th>"}else{bA+="<th"+r(bx.headerAttributes);if(bD&&!bz[bE].colSpan){bA+=" rowspan='"+bD+"'"}if(bB>-1){bA+=B.attr("index")+"='"+bB+"'"}bA+=">"+bG+"</th>"}}return bA},_appendLockedColumnContent:function(){var bA=this.columns,bG,bB=this.table.find("colgroup"),bF=bB.find("col:not(.k-group-col,.k-hierarchy-col)"),bz,bH=ba(),bC=0,by,bD,bE,bx=0;for(bG=0,bz=bA.length;bG<bz;bG++){if(bA[bG].locked){if(bn(bA[bG])){bD=1;if(bA[bG].columns){bD=ac(bA[bG].columns).length-aI(bA[bG].columns)}bD=bD||1;for(bE=0;bE<bD;bE++){bH=bH.add(bF.eq(bG+bx+bE-bC))}bx+=bD-1}else{bC++}}}by=ba('<div class="k-grid-content-locked"><table'+(aq?' cellspacing="0"':"")+"><colgroup/><tbody></tbody></table></div>");bB.detach();by.find("colgroup").append(bH);bB.insertBefore(this.table.find("tbody"));this.lockedContent=by.insertBefore(this.content);this.lockedTable=by.children("table")},_appendLockedColumnFooter:function(){var bB=this;var bD=bB.footer;var bF=bD.find(".k-footer-template>td");var bC=bD.find(".k-grid-footer-wrap>table>colgroup>col");var bA=ba('<div class="k-grid-footer-locked"><table><colgroup /><tbody><tr class="k-footer-template"></tr></tbody></table></div>');var bE,bx;var by=bB._groups();var bz=ba(),bG=ba();bz=bz.add(bF.filter(".k-group-cell"));for(bE=0,bx=ac(j(bB.columns)).length;bE<bx;bE++){bz=bz.add(bF.eq(bE+by))}bG=bG.add(bC.filter(".k-group-col"));for(bE=0,bx=ac(a4(bB.columns)).length;bE<bx;bE++){bG=bG.add(bC.eq(bE+by))}bz.appendTo(bA.find("tr"));bG.appendTo(bA.find("colgroup"));bB.lockedFooter=bA.prependTo(bD)},_appendLockedColumnHeader:function(bQ){var bF=this,bz=this.columns,bR,bO,bC,bI,bx,bP,bW,bU,bA,bK=[],bL=0,bN=ba(),bJ=bF._hasFilterRow(),bM=0,bH=ba(),by,bS=0,bB=ba();bI=bF.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)");bU=bF.thead.find("tr:first .k-header:not(.k-group-cell,.k-hierarchy-cell)");bA=bF.thead.find(".k-filter-row").find("th:not(.k-group-cell,.k-hierarchy-cell)");var bV=0;for(bR=0,bC=bz.length;bR<bC;bR++){if(bz[bR].locked){by=bU.eq(bR);bS=ac(bz[bR].columns||[]).length;if(bn(bz[bR])){var bE;if(bz[bR].columns){bE=bS-aI(bz[bR].columns)}bE=bE||1;for(var bG=0;bG<bE;bG++){bN=bN.add(bI.eq(bR+bV+bG-bL))}bV+=bE-1}af([bz[bR]],aH(by),bK,0,0);bS=bS||1;for(var bT=0;bT<bS;bT++){bH=bH.add(bA.eq(bM+bT))}bM+=bS}if(bz[bR].columns){bL+=aI(bz[bR].columns)}if(!bn(bz[bR])){bL++}}if(bK.length){bO='<div class="k-grid-header-locked" style="width:1px"><table'+(aq?' cellspacing="0"':"")+"><colgroup/><thead>";bO+=new Array(bK.length+1).join("<tr></tr>");bO+=(bJ?'<tr class="k-filter-row" />':"")+"</thead></table></div>";bW=ba(bO);bI=bW.find("colgroup");bI.append(bF.thead.prev().find("col.k-group-col").add(bN));bx=bW.find("thead tr:not(.k-filter-row)");for(bR=0,bC=bK.length;bR<bC;bR++){bB=aa(bK[bR]);bx.eq(bR).append(bF.thead.find("tr:eq("+bR+") .k-group-cell").add(bB))}var bD=A(this.thead);if(bK.length<bD){bu(bW,bD)}bP=bW.find(".k-filter-row");bP.append(bF.thead.find(".k-filter-row .k-group-cell").add(bH));this.lockedHeader=bW.prependTo(bQ);this._syncLockedHeaderHeight()}},_removeLockedContainers:function(){var bx=this.lockedHeader.add(this.lockedContent).add(this.lockedFooter);B.destroy(bx);bx.off(bo).remove();this.lockedHeader=this.lockedContent=this.lockedFooter=null;this.selectable=null},_thead:function(){var bD=this,bB=bD.columns,bG=bD._hasDetails()&&bB.length,bz=bD._hasFilterRow(),bH,bA,bC="",bE=bD.table.find(">thead"),by=bD.element.find("thead:first").length>0,bF,bI,bx;if(!bE.length){bE=ba("<thead/>").insertBefore(bD.tbody)}if(bD.lockedHeader&&bD.thead){bF=bD.thead.find("tr:has(th):not(.k-filter-row)").html("");bD._removeLockedContainers()}else{if(by){bF=bD.element.find("thead:first tr:has(th):not(.k-filter-row)")}else{bF=bD.element.find("tr:has(th):first")}}if(!bF.length){bF=bE.children().first();if(!bF.length){var bK=[{rowSpan:1,cells:[],index:0}];bD._prepareColumns(bK,bB);for(bH=0;bH<bK.length;bH++){bC+="<tr>";if(bG){bC+='<th class="k-hierarchy-cell">&nbsp;</th>'}bC+=bD._createHeaderCells(bK[bH].cells,bK[bH].rowSpan);bC+="</tr>"}bF=ba(bC)}}else{bF.children().attr(B.attr("index"),function(){return ba(this).index()})}if(bz){var bJ=ba("<tr/>");bJ.addClass("k-filter-row");if(bG){bJ.prepend('<th class="k-hierarchy-cell">&nbsp;</th>')}bE.append(bJ)}if(!bF.children().length){bC="";if(bG){bC+='<th class="k-hierarchy-cell">&nbsp;</th>'}bC+=bD._createHeaderCells(bB);bF.html(bC)}else{if(bG&&!bF.find(".k-hierarchy-cell")[0]){bF.prepend('<th class="k-hierarchy-cell">&nbsp;</th>')}}bF.attr("role","row").find("th").addClass("k-header");if(!bD.options.scrollable){bE.addClass("k-grid-header")}bF.find("script").remove().end().prependTo(bE);if(bD.thead){bD._destroyColumnAttachments()}this.angular("cleanup",function(){return{elements:bE.find("th").get()}});this.angular("compile",function(){return{elements:bE.find("th").get(),data:H(bB,function(bL){return{column:bL}})}});bD.thead=bE.attr("role","rowgroup");bD._sortable();bD._filterable();bD._filterRow();bD._scrollable();bD._updateCols();bD._columnMenu();if(this.options.scrollable&&j(this.columns).length){bD._appendLockedColumnHeader(bD.thead.closest(".k-grid-header"));bD._appendLockedColumnContent();bD.lockedContent.bind("DOMMouseScroll"+bo+" mousewheel"+bo,M(bD._wheelScroll,bD));bD._applyLockedContainersWidth()}bD._updateFirstColumnClass();bD._resizable();bD._draggable();bD._reorderable();if(bD.groupable){bD._attachGroupable()}},_updateFirstColumnClass:function(){var by=this,bx=by.columns||[],bB=by._hasDetails()&&bx.length;if(!bB&&!by._groups()){var bA=ba();var bz=by.thead.find(">tr:not(.k-filter-row):not(:first)");bx=bb(bx);if(bz.length&&bx[0]&&!bx[0].columns){bA=bA.add(bz)}if(by._isLocked()){bz=by.lockedHeader.find("thead>tr:not(.k-filter-row):not(:first)");bx=j(by.columns);if(bz.length&&bx[0]&&!bx[0].columns){bA=bA.add(bz)}}bA.each(function(){var bC=ba(this).find("th");bC.removeClass("k-first");bC.eq(0).addClass("k-first")})}},_prepareColumns:function(bE,by,bx,bC){var bD=bC||bE[bE.length-1];var bz=bE[bD.index+1];var bF=0;for(var bA=0;bA<by.length;bA++){var bB={column:by[bA],colSpan:0};bD.cells.push(bB);if(by[bA].columns&&by[bA].columns.length){if(!bz){bz={rowSpan:0,cells:[],index:bE.length};bE.push(bz)}bB.colSpan=by[bA].columns.length;this._prepareColumns(bE,by[bA].columns,bB,bz);bF+=bB.colSpan-1;bD.rowSpan=bE.length-bD.index}}if(bx){bx.colSpan+=bF}},_wheelScroll:function(bz){if(bz.ctrlKey){return}var bx=this.content;if(this.options.scrollable.virtual){bx=this.virtualScrollable.verticalScrollbar}var by=bx.scrollTop(),bA=B.wheelDeltaY(bz);if(bA){bz.preventDefault();ba(bz.currentTarget).one("wheel"+bo,false);bx.scrollTop(by+(-bA))}},_isLocked:function(){return this.lockedHeader!=null},_updateCols:function(bx){bx=bx||this.thead.parent().add(this.table);this._appendCols(bx,this._isLocked())},_updateLockedCols:function(bx){if(this._isLocked()){bx=bx||this.lockedHeader.find("table").add(this.lockedTable);bs(bx,P(a4(this.columns)),this._hasDetails(),this._groups())}},_appendCols:function(by,bx){if(bx){bs(by,P(bj(this.columns)),this._hasDetails(),0)}else{bs(by,P(D(this.columns)),this._hasDetails(),this._groups())}},_autoColumns:function(by){if(by&&by.toJSON){var bx=this,bz;by=by.toJSON();for(bz in by){bx.columns.push({field:bz})}bx._thead();bx._templates()}},_rowsHtml:function(bD,bz){var bC=this,by="",bx,bE=bz.rowTemplate,bA=bz.altRowTemplate,bB;for(bx=0,bB=bD.length;bx<bB;bx++){if(bx%2){by+=bA(bD[bx])}else{by+=bE(bD[bx])}bC._data.push(bD[bx])}return by},_groupRowHtml:function(bH,bz,bx,bJ,bA,bO){var bG=this,bK="",bM,bC,by=bH.field,bB=m(ac(bG.columns),function(bS){return bS.field==by})[0]||{},bP=bB.groupHeaderTemplate,bL=(bB.title||by)+": "+ah(bH.value,bB.format,bB.values),bN=bG._groupAggregatesDefaultObject||{},bE=aN({},bN,bH.aggregates),bR=aN({},{field:bH.field,value:bH.value,aggregates:bE},bH.aggregates[bH.field]),bQ=bA.rowTemplate,bF=bA.altRowTemplate,bD=bA.groupFooterTemplate,bI=bH.items;if(bP){bL=typeof bP===aS?bP(bR):B.template(bP)(bR)}bK+=bJ(bz,bx,bL);if(bH.hasSubgroups){for(bM=0,bC=bI.length;bM<bC;bM++){bK+=bG._groupRowHtml(bI[bM],bO?bz:bz-1,bx+1,bJ,bA,bO)}}else{bK+=bG._rowsHtml(bI,bA)}if(bD){bK+=bD(bE)}return bK},collapseGroup:function(bF){bF=ba(bF);var bx,bC=this.options.groupable,bG=bC.showFooter,bA=bG?0:1,bB,bz=ba(),bE,by,bD;if(this._isLocked()){if(!bF.closest("div").hasClass("k-grid-content-locked")){bz=bF.nextAll("tr");bF=this.lockedTable.find(">tbody>tr:eq("+bF.index()+")")}else{bz=this.tbody.children("tr:eq("+bF.index()+")").nextAll("tr")}}bx=bF.find(".k-group-cell").length;bF.find(".k-icon").addClass("k-i-expand").removeClass("k-i-collapse");bF.find("td:first").attr("aria-expanded",false);bF=bF.nextAll("tr");for(bE=0,by=bF.length;bE<by;bE++){bD=bF.eq(bE);bB=bD.find(".k-group-cell").length;if(bD.hasClass("k-grouping-row")){bA++}else{if(bD.hasClass("k-group-footer")){bA--}}if(bB<=bx||(bD.hasClass("k-group-footer")&&bA<0)){break}bD.hide();bz.eq(bE).hide()}},expandGroup:function(bF){bF=ba(bF);var bC=this,bx,bD,bB,bA=ba(),bE,by,bz=1;if(this._isLocked()){if(!bF.closest("div").hasClass("k-grid-content-locked")){bA=bF.nextAll("tr");bF=this.lockedTable.find(">tbody>tr:eq("+bF.index()+")")}else{bA=this.tbody.children("tr:eq("+bF.index()+")").nextAll("tr")}}bx=bF.find(".k-group-cell").length;bF.find(".k-icon").addClass("k-i-collapse").removeClass("k-i-expand");bF.find("td:first").attr("aria-expanded",true);bF=bF.nextAll("tr");for(bE=0,by=bF.length;bE<by;bE++){bD=bF.eq(bE);bB=bD.find(".k-group-cell").length;if(bB<=bx){break}if(bB==bx+1&&!bD.hasClass("k-detail-row")){bD.show();bA.eq(bE).show();if(bD.hasClass("k-grouping-row")&&bD.find(".k-icon").hasClass("k-i-collapse")){bC.expandGroup(bD)}if(bD.hasClass("k-master-row")&&bD.find(".k-icon").hasClass("k-minus")){bD.next().show();bA.eq(bE+1).show()}}if(bD.hasClass("k-grouping-row")){bz++}if(bD.hasClass("k-group-footer")){if(bz==1){bD.show();bA.eq(bE).show()}else{bz--}}}},_updateHeader:function(bx){var bB=this,by=bB._isLocked()?bB.lockedHeader.find("thead"):bB.thead,bA=by.find("tr.k-filter-row").find("th.k-group-cell").length,bz=by.find("tr:first").find("th.k-group-cell").length,bC=by.children("tr:not(:first)").filter(function(){return !ba(this).children(":visible").length});if(bx>bz){ba(new Array(bx-bz+1).join('<th class="k-group-cell k-header">&nbsp;</th>')).prependTo(by.children("tr:not(.k-filter-row)"));if(bB.element.is(":visible")){bC.find("th.k-group-cell").hide()}}else{if(bx<bz){by.find("tr").each(function(){ba(this).find("th.k-group-cell").filter(":eq("+bx+"),:gt("+bx+")").remove()})}}if(bx>bA){ba(new Array(bx-bA+1).join('<th class="k-group-cell k-header">&nbsp;</th>')).prependTo(by.find(".k-filter-row"))}},_firstDataItem:function(by,bx){if(by&&bx){if(by.hasSubgroups){by=this._firstDataItem(by.items[0],bx)}else{by=by.items[0]}}return by},_updateTablesWidth:function(){var by=this,bx;if(!by._isLocked()){return}bx=ba(">.k-grid-footer>.k-grid-footer-wrap>table",by.wrapper).add(by.thead.parent()).add(by.table);by._footerWidth=bh(bx.eq(0));bx.width(by._footerWidth);bx=ba(">.k-grid-footer>.k-grid-footer-locked>table",by.wrapper).add(by.lockedHeader.find(">table")).add(by.lockedTable);bx.width(bh(bx.eq(0)))},hideColumn:function(bz){var bD=this,bx,bE,bH,bF,bN,bO,bC,bJ=0,bL=[],bB,bA,bI=bD.footer||bD.wrapper.find(".k-grid-footer"),by=bD.columns,bK=bD.lockedHeader?q(bD.lockedHeader.find(">table>thead")).filter(aZ).length:0,bM;if(typeof bz=="number"){bz=by[bz]}else{if(V(bz)){bz=m(w(by),function(bP){return bP===bz})[0]}else{bz=m(w(by),function(bP){return bP.field===bz})[0]}}if(!bz||!bn(bz)){return}if(bz.columns&&bz.columns.length){bO=ak(bz,by);v(bz,false);b(bk(ba(">table>thead",bD.lockedHeader),bD.thead,">tr:eq("+bO.row+")>th"),bO.cell,false);for(bH=0;bH<bz.columns.length;bH++){this.hideColumn(bz.columns[bH])}bD.trigger(J,{column:bz});return}bM=F(bz,D(ac(by)));v(bz,false);bD._setParentsVisibility(bz,false);bD._templates();bD._updateCols();bD._updateLockedCols();var bG=bD.thead;bB=bM;if(bD.lockedHeader&&bK>bM){bG=bD.lockedHeader.find(">table>thead")}else{bB-=bK}bx=q(bG).filter(aZ).eq(bB);bx[0].style.display="none";b(bk(ba(">table>thead",bD.lockedHeader),bD.thead,">tr.k-filter-row>th"),bM,false);if(bI[0]){bD._updateCols(bI.find(">.k-grid-footer-wrap>table"));bD._updateLockedCols(bI.find(">.k-grid-footer-locked>table"));b(bI.find(".k-footer-template>td"),bM,false)}if(bD.lockedTable&&bK>bM){aK(bD.lockedTable.find(">tbody>tr"),bM)}else{aK(bD.tbody.children(),bM-bK)}if(bD.lockedTable){bD._updateTablesWidth();bD._applyLockedContainersWidth();bD._syncLockedContentHeight();bD._syncLockedHeaderHeight();bD._syncLockedFooterHeight()}else{bF=bD.thead.prev().find("col");for(bH=0,bA=bF.length;bH<bA;bH+=1){bN=bF[bH].style.width;if(bN&&bN.indexOf("%")==-1){bJ+=parseInt(bN,10)}else{bJ=0;break}}bE=ba(">.k-grid-header table:first,>.k-grid-footer table:first",bD.wrapper).add(bD.table);bD._footerWidth=null;if(bJ){bE.width(bJ);bD._footerWidth=bJ}if(bc.msie&&bc.version==8){bE.css("display","inline-table");setTimeout(function(){bE.css("display","table")},1)}}bD._updateFirstColumnClass();bD.trigger(J,{column:bz})},_setParentsVisibility:function(by,bx){var bz=this.columns;var bE;var bC=[];var bD;var bA;var bG;var bB;var bF=bx?function(bH){return D(bH.columns).length&&bH.hidden}:function(bH){return !D(bH.columns).length&&!bH.hidden};if(az(by,bz,bC)&&bC.length){for(bE=bC.length-1;bE>=0;bE--){bD=bC[bE];bA=aw(bD,bz);bG=bk(ba(">table>thead",this.lockedHeader),this.thead,">tr:eq("+bA.row+")>th:not(.k-group-cell):not(.k-hierarchy-cell)").eq(bA.cell);if(bF(bD)){v(bD,bx);bG[0].style.display=bx?"":"none"}if(bG.filter("["+B.attr("colspan")+"]").length){bB=parseInt(bG.attr(B.attr("colspan")),10);bG[0].colSpan=(bB-aI(bD.columns))||1}}}},showColumn:function(bB){var bF=this,bK,bz,bL,bM,by,bN,bH,bE,bD,bI,bA=bF.columns,bJ=bF.footer||bF.wrapper.find(".k-grid-footer"),bC=bF.lockedHeader?q(bF.lockedHeader.find(">table>thead")).length:0,bG;if(typeof bB=="number"){bB=bA[bB]}else{if(V(bB)){bB=m(w(bA),function(bO){return bO===bB})[0]}else{bB=m(w(bA),function(bO){return bO.field===bB})[0]}}if(!bB||bn(bB)){return}if(bB.columns&&bB.columns.length){bE=ak(bB,bA);v(bB,true);b(bk(ba(">table>thead",bF.lockedHeader),bF.thead,">tr:eq("+bE.row+")>th"),bE.cell,true);for(bK=0;bK<bB.columns.length;bK++){this.showColumn(bB.columns[bK])}bF.trigger(aV,{column:bB});return}bG=F(bB,ac(bA));v(bB,true);bF._setParentsVisibility(bB,true);bF._templates();bF._updateCols();bF._updateLockedCols();var bx=bF.thead;bH=bG;if(bF.lockedHeader&&bC>bG){bx=bF.lockedHeader.find(">table>thead")}else{bH-=bC}bL=q(bx).eq(bH);bL[0].style.display="";b(bk(ba(">table>thead",bF.lockedHeader),bF.thead,">tr.k-filter-row>th"),bG,true);if(bJ[0]){bF._updateCols(bJ.find(">.k-grid-footer-wrap>table"));bF._updateLockedCols(bJ.find(">.k-grid-footer-locked>table"));b(bJ.find(".k-footer-template>td"),bG,true)}if(bF.lockedTable&&bC>bG){T(bF.lockedTable.find(">tbody>tr"),bG)}else{T(bF.tbody.children(),bG-bC)}if(bF.lockedTable){bF._updateTablesWidth();bF._applyLockedContainersWidth();bF._syncLockedContentHeight();bF._syncLockedHeaderHeight()}else{bM=ba(">.k-grid-header table:first,>.k-grid-footer table:first",bF.wrapper).add(bF.table);if(!bB.width){bM.width("")}else{by=0;bI=bF.thead.prev().find("col");for(bK=0,bz=bI.length;bK<bz;bK+=1){bD=bI[bK].style.width;if(bD.indexOf("%")>-1){by=0;break}by+=parseInt(bD,10)}bF._footerWidth=null;if(by){bM.width(by);bF._footerWidth=by}}}bF._updateFirstColumnClass();bF.trigger(aV,{column:bB})},_progress:function(bx){var by=this.element;if(this.lockedContent){by=this.wrapper}else{if(this.element.is("table")){by=this.element.parent()}else{if(this.content&&this.content.length){by=this.content}}}B.ui.progress(by,bx)},_resize:function(){if(this.content){this._setContentHeight();this._setContentWidth()}if(this.virtualScrollable){this.virtualScrollable.repaintScrollbar()}},_isActiveInTable:function(){var bx=W();return this.table[0]===bx||ba.contains(this.table[0],bx)||(this._isLocked()&&(this.lockedTable[0]===bx||ba.contains(this.lockedTable[0],bx)))},refresh:function(bF){var bD=this,bx,bI,bC="",bA=bD.dataSource.view(),bH=bD.options.navigatable,bG,bE=ba(bD.current()),bB=false,bz=(bD.dataSource.group()||[]).length,by=bz+P(D(bD.columns)).length;if(bF&&bF.action==="itemchange"&&bD.editable){return}bF=bF||{};if(bD.trigger("dataBinding",{action:bF.action||"rebind",index:bF.index,items:bF.items})){return}bD._angularItems("cleanup");if(bH&&(bD._isActiveInTable()||(bD._editContainer&&bD._editContainer.data("kendoWindow")))){bB=bE.is("th");bG=0;if(bB){bG=bD.thead.find("th:not(.k-group-cell)").index(bE)}}bD._destroyEditable();bD._progress(false);bD._hideResizeHandle();bD._data=[];if(!bD.columns.length){bD._autoColumns(bD._firstDataItem(bA[0],bz));by=bz+bD.columns.length}bD._group=bz>0||bD._group;if(bD._group){bD._templates();bD._updateCols();bD._updateLockedCols();bD._updateHeader(bz);bD._group=bz>0}bD._renderContent(bA,by,bz);bD._renderLockedContent(bA,by,bz);bD._footer();bD._setContentHeight();bD._setContentWidth();if(bD.lockedTable){if(bD.options.scrollable.virtual){bD.content.find(">.k-virtual-scrollable-wrap").trigger("scroll")}else{bD.content.trigger("scroll")}}if(bG>=0){bD._removeCurrent();if(!bB){bD.current(bD.table.add(bD.lockedTable).find(aT).first())}else{bD.current(bD.thead.find("th:not(.k-group-cell)").eq(bG))}if(bD._current){a6(bD._current.closest("table")[0],true)}}if(bD.touchScroller){bD.touchScroller.contentResized()}if(bD.selectable){bD.selectable.resetTouchEvents()}bD._angularItems("compile");bD.trigger(N)},_angularItems:function(bx){B.ui.DataBoundWidget.fn._angularItems.call(this,bx);this._angularGroupItems(bx)},_angularGroupItems:function(by){var bx=this;if(bx._group){bx.angular(by,function(){return{elements:bx.tbody.children(".k-grouping-row"),data:ba.map(aA(bx.dataSource.view()),function(bz){return{dataItem:bz}})}})}},_renderContent:function(bB,bz,bA){var bD=this,bF,by,bC="",bx=bD.lockedContent!=null,bE={rowTemplate:bD.rowTemplate,altRowTemplate:bD.altRowTemplate,groupFooterTemplate:bD.groupFooterTemplate};bz=bx?bz-P(a4(bD.columns)).length:bz;if(bA>0){bz=bx?bz-bA:bz;if(bD.detailTemplate){bz++}if(bD.groupFooterTemplate){bD._groupAggregatesDefaultObject=bd(bD.dataSource.aggregate())}for(bF=0,by=bB.length;bF<by;bF++){bC+=bD._groupRowHtml(bB[bF],bz,0,bx?aE:a5,bE,bx)}}else{bC+=bD._rowsHtml(bB,bE)}bD.tbody=a2(bD.tbody,bD.table,bC)},_renderLockedContent:function(bD,bE,by){var bA="",bx,bC,bz={rowTemplate:this.lockedRowTemplate,altRowTemplate:this.lockedAltRowTemplate,groupFooterTemplate:this.lockedGroupFooterTemplate};if(this.lockedContent){var bB=this.lockedTable;if(by>0){bE=bE-D(ac(bb(this.columns))).length;for(bx=0,bC=bD.length;bx<bC;bx++){bA+=this._groupRowHtml(bD[bx],bE,0,a5,bz)}}else{bA=this._rowsHtml(bD,bz)}a2(bB.children("tbody"),bB,bA);this._syncLockedContentHeight()}},_adjustRowsHeight:function(bD,bC){var bI=bD[0].rows,by=bI.length,bF,bE=bC[0].rows,bz=bD.add(bC),bA=bz.length,bB=[];for(bF=0;bF<by;bF++){if(!bE[bF]){break}if(bI[bF].style.height){bI[bF].style.height=bE[bF].style.height=""}var bx=bI[bF].offsetHeight;var bH=bE[bF].offsetHeight;var bG=0;if(bx>bH){bG=bx}else{if(bx<bH){bG=bH}}bB.push(bG)}for(bF=0;bF<bA;bF++){bz[bF].style.display="none"}for(bF=0;bF<by;bF++){if(bB[bF]){bI[bF].style.height=bE[bF].style.height=(bB[bF]+1)+"px"}}for(bF=0;bF<bA;bF++){bz[bF].style.display=""}}});if(B.ExcelMixin){B.ExcelMixin.extend(aX.prototype)}if(B.PDFMixin){B.PDFMixin.extend(aX.prototype)}function aF(bz,by){bz=bz[0];by=by[0];if(bz.rows.length!==by.rows.length){var bx=bz.offsetHeight;var bA=by.offsetHeight;var bC;var bB;if(bx>bA){bC=by.rows[by.rows.length-1];if(ab.test(bC.className)){bC=by.rows[by.rows.length-2]}bB=bx-bA}else{bC=bz.rows[bz.rows.length-1];if(ab.test(bC.className)){bC=bz.rows[bz.rows.length-2]}bB=bA-bx}bC.style.height=bC.offsetHeight+bB+"px"}}function aQ(bB,bz){var bx;var bA=bB.offsetHeight;var by=bz.offsetHeight;if(bA>by){bx=bA+"px"}else{if(bA<by){bx=by+"px"}}if(bx){bB.style.height=bz.style.height=bx}}function E(by,bz){var bx,bA,bB;if(typeof by===bp&&by===bz){return by}if(V(by)&&by.name===bz){return by}if(c(by)){for(bx=0,bA=by.length;bx<bA;bx++){bB=by[bx];if((typeof bB===bp&&bB===bz)||(bB.name===bz)){return bB}}}return null}function a6(by,bD){var bx=bc.msie;if(bD===true){by=ba(by);var bC=true||bx&&by.parent().is(".k-grid-content,.k-grid-header-wrap"),bA,bB;if(bC){bA=by.parent().scrollTop();bB=by.parent().scrollLeft()}if(bx){try{by[0].setActive()}catch(bz){by[0].focus()}}else{by[0].focus()}if(bC){by.parent().scrollTop(bA);by.parent().scrollLeft(bB)}}else{ba(by).one("focusin",function(bE){bE.preventDefault()}).focus()}}function O(bD){var bC=ba(bD.currentTarget),bB=bC.is("th"),bA=this.table.add(this.lockedTable),bz=this.thead.parent().add(ba(">table",this.lockedHeader)),by=ba(bD.target).is(":button,a,:input,a>.k-icon,textarea,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap"),bx=bC.closest("table")[0];if(B.support.touch||(by&&bC.find(B.roleSelector("filtercell")).length)){return}if(bx!==bA[0]&&bx!==bA[1]&&bx!==bz[0]&&bx!==bz[1]){return}if(ba(bD.target).is("a.k-i-collapse, a.k-i-expand")){return}this.current(bC);if(bB||!by){setTimeout(function(){if(!(an&&ba(B._activeElement()).hasClass("k-widget"))){a6(bx,true)}})}if(bB){bD.preventDefault()}}function bf(bA,bB,by,bx){bA=ba(bA);if(bx){var bz=bB;bB=by;by=bz}if(bB.not(bA).length!=bB.length){return bA}return bA[0]==by[0]?bB.eq(0):bB.eq(1)}function f(bA,bF,bx,bD,by){var bE,bz;var bB=by?"prevAll":"nextAll";if(bA){bE=bA.parent()[bB](S).first();if(!bE[0]&&(by||bA.is("th"))||(!by&&bA[0].rowSpan>1)){bF=bf(bF,bx,bD,by);a6(bF,true);if(by&&!bA.is(".k-header")){return q(bF.find("thead:first")).eq(bA.index())}bE=bF.find((by?">thead>":">tbody>")+S).first()}if(!by&&bA[0].colSpan>1&&bA.is(".k-header")){bA=aH(bA).eq(1)}else{if(bA.is(".k-header")&&by){var bC=aG(bA);bA=bC.eq(bC.length-2)}else{bz=bA.attr(B.attr("index"));if(bz===G||by){bz=bA.index()}bA=bE.children().eq(bz)}}if(!bA[0]||!bA.is(bg)){bA=bE.children(bg).first()}}else{bA=bx.find(aT)}return bA}function l(bB,bz,bA,by,bx){var bC=bA.length>1;if(bB){if(bB.prevAll(":visible")[0]){bB=bB.prevAll(R).first()}else{if(bC){if(bz==bA[1]){a6(bA[0]);bB=bx(bB.parent()).children(R).last()}else{if(bz==by[1]){a6(by[0]);bB=by.eq(0).find("tr>"+R).last()}}}}}else{bB=bA.find(aT)}return bB}function u(bB,bz,bA,by,bx){var bC=bA.length>1;if(bB){if(bB.nextAll(":visible")[0]){bB=bB.nextAll(R).first()}else{if(bC){if(bz==bA[0]){a6(bA[1]);bB=bx(bB.parent()).children(R).first()}else{if(bz==by[0]){a6(by[1]);bB=by.eq(1).find("tr>"+R).first()}}}}}else{bB=bA.find(aT)}return bB}function aY(bD,bz,bC,by,bx){var bE=bC.length==2;var bB=true;var bA=bx?bD.prevAll(R+":first"):bD.nextAll(":visible:first");if(!bA.length){bA=bD.parent();if(bE){bB=(bx&&bz==bC[0])||(!bx&&bz==bC[1]);bA=by(bA)}if(bB){bA=bA[bx?"prevAll":"nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first")}bA=bA.children(R+(bx?":last":":first"))}return bA}function a5(bz,by,bx){return'<tr class="k-grouping-row">'+a7(by)+'<td colspan="'+bz+'" aria-expanded="true"><p class="k-reset"><a class="k-icon k-i-collapse" href="#" tabindex="-1"></a>'+bx+"</p></td></tr>"}function aE(bz,by,bx){return'<tr class="k-grouping-row"><td colspan="'+bz+'" aria-expanded="true"><p class="k-reset">&nbsp;</p></td></tr>'}au.plugin(aX);au.plugin(aL)})(window.kendo.jQuery);(function(f,i){var s=window.kendo,p="change",d="cancel",t="dataBound",r="dataBinding",c=s.ui.Widget,q=s.keys,w=">*",x="progress",l="error",n="k-state-focused",h="k-state-selected",z="k-edit-item",o="string",y="edit",m="remove",b="save",g="click",v=".kendoListView",u=f.proxy,k=s._activeElement,j=s.ui.progress,e=s.data.DataSource;var a=s.ui.DataBoundWidget.extend({init:function(B,A){var C=this;A=f.isArray(A)?{dataSource:A}:A;c.fn.init.call(C,B,A);A=C.options;C.wrapper=B=C.element;if(B[0].id){C._itemId=B[0].id+"_lv_active"}C._element();C._dataSource();C._templates();C._navigatable();C._selectable();C._pageable();C._crudHandlers();if(C.options.autoBind){C.dataSource.fetch()}s.notify(C)},events:[p,d,r,t,y,m,b],options:{name:"ListView",autoBind:true,selectable:false,navigatable:false,template:"",altTemplate:"",editTemplate:""},setOptions:function(A){c.fn.setOptions.call(this,A);this._templates()},_templates:function(){var A=this.options;this.template=s.template(A.template||"");this.altTemplate=s.template(A.altTemplate||A.template);this.editTemplate=s.template(A.editTemplate||"")},_item:function(A){return this.element.children()[A]()},items:function(){return this.element.children()},dataItem:function(C){var A=s.attr("uid");var B=f(C).closest("["+A+"]").attr(A);return this.dataSource.getByUid(B)},setDataSource:function(A){this.options.dataSource=A;this._dataSource();if(this.options.autoBind){A.fetch()}},_unbindDataSource:function(){var A=this;A.dataSource.unbind(p,A._refreshHandler).unbind(x,A._progressHandler).unbind(l,A._errorHandler)},_dataSource:function(){var A=this;if(A.dataSource&&A._refreshHandler){A._unbindDataSource()}else{A._refreshHandler=u(A.refresh,A);A._progressHandler=u(A._progress,A);A._errorHandler=u(A._error,A)}A.dataSource=e.create(A.options.dataSource).bind(p,A._refreshHandler).bind(x,A._progressHandler).bind(l,A._errorHandler)},_progress:function(){j(this.element,true)},_error:function(){j(this.element,false)},_element:function(){this.element.addClass("k-widget k-listview").attr("role","listbox")},refresh:function(F){var E=this,I=E.dataSource.view(),C,G,L,D="",J,A,K=E.template,H=E.altTemplate,B=k();F=F||{};if(F.action==="itemchange"){if(!E._hasBindingTarget()&&!E.editable){C=F.items[0];L=E.items().filter("["+s.attr("uid")+"="+C.uid+"]");if(L.length>0){J=L.index();E.angular("cleanup",function(){return{elements:[L]}});L.replaceWith(K(C));L=E.items().eq(J);L.attr(s.attr("uid"),C.uid);E.angular("compile",function(){return{elements:[L],data:[{dataItem:C}]}});E.trigger("itemChange",{item:L,data:C})}}return}if(E.trigger(r,{action:F.action||"rebind",items:F.items,index:F.index})){return}E._angularItems("cleanup");E._destroyEditable();for(J=0,A=I.length;J<A;J++){if(J%2){D+=H(I[J])}else{D+=K(I[J])}}E.element.html(D);G=E.items();for(J=0,A=I.length;J<A;J++){G.eq(J).attr(s.attr("uid"),I[J].uid).attr("role","option").attr("aria-selected","false")}if(E.element[0]===B&&E.options.navigatable){E.current(G.eq(0))}E._angularItems("compile");E.trigger(t)},_pageable:function(){var D=this,A=D.options.pageable,C,B;if(f.isPlainObject(A)){B=A.pagerId;C=f.extend({},A,{dataSource:D.dataSource,pagerId:null});D.pager=new s.ui.Pager(f("#"+B),C)}},_selectable:function(){var B=this,D,C,A=B.options.selectable,E=B.options.navigatable;if(A){D=s.ui.Selectable.parseOptions(A).multiple;B.selectable=new s.ui.Selectable(B.element,{aria:true,multiple:D,filter:w,change:function(){B.trigger(p)}});if(E){B.element.on("keydown"+v,function(F){if(F.keyCode===q.SPACEBAR){C=B.current();if(F.target==F.currentTarget){F.preventDefault()}if(D){if(!F.ctrlKey){B.selectable.clear()}else{if(C&&C.hasClass(h)){C.removeClass(h);return}}}else{B.selectable.clear()}B.selectable.value(C)}})}}},current:function(B){var C=this,A=C.element,D=C._current,E=C._itemId;if(B===i){return D}if(D&&D[0]){if(D[0].id===E){D.removeAttr("id")}D.removeClass(n);A.removeAttr("aria-activedescendant")}if(B&&B[0]){E=B[0].id||E;C._scrollTo(B[0]);A.attr("aria-activedescendant",E);B.addClass(n).attr("id",E)}C._current=B},_scrollTo:function(C){var D=this,B,E=false,F="scroll";if(D.wrapper.css("overflow")=="auto"||D.wrapper.css("overflow")==F){B=D.wrapper[0]}else{B=window;E=true}var A=function(J,I){var G=E?f(C).offset()[J.toLowerCase()]:C["offset"+J],K=C["client"+I],L=f(B)[F+J](),H=f(B)[I.toLowerCase()]();if(G+K>L+H){f(B)[F+J](G+K-H)}else{if(G<L){f(B)[F+J](G)}}};A("Top","Height");A("Left","Width")},_navigatable:function(){var C=this,D=C.options.navigatable,A=C.element,B=function(E){C.current(f(E.currentTarget));if(!f(E.target).is(":button,a,:input,a>.k-icon,textarea")){A.focus()}};if(D){C._tabindex();A.on("focus"+v,function(){var E=C._current;if(!E||!E.is(":visible")){E=C._item("first")}C.current(E)}).on("focusout"+v,function(){if(C._current){C._current.removeClass(n)}}).on("keydown"+v,function(I){var O=I.keyCode,J=C.current(),K=f(I.target),M=!K.is(":button,textarea,a,a>.t-icon,input"),F=K.is(":text"),L=s.preventDefault,H=A.find("."+z),G=k(),N;if((!M&&!F&&q.ESC!=O)||(F&&q.ESC!=O&&q.ENTER!=O)){return}if(q.UP===O||q.LEFT===O){if(J){J=J.prev()}C.current(!J||!J[0]?C._item("last"):J);L(I)}else{if(q.DOWN===O||q.RIGHT===O){if(J){J=J.next()}C.current(!J||!J[0]?C._item("first"):J);L(I)}else{if(q.PAGEUP===O){C.current(null);C.dataSource.page(C.dataSource.page()-1);L(I)}else{if(q.PAGEDOWN===O){C.current(null);C.dataSource.page(C.dataSource.page()+1);L(I)}else{if(q.HOME===O){C.current(C._item("first"));L(I)}else{if(q.END===O){C.current(C._item("last"));L(I)}else{if(q.ENTER===O){if(H.length!==0&&(M||F)){N=C.items().index(H);if(G){G.blur()}C.save();var E=function(){C.element.trigger("focus");C.current(C.items().eq(N))};C.one("dataBound",E)}else{if(C.options.editTemplate!==""){C.edit(J)}}}else{if(q.ESC===O){H=A.find("."+z);if(H.length===0){return}N=C.items().index(H);C.cancel();C.element.trigger("focus");C.current(C.items().eq(N))}}}}}}}}});A.on("mousedown"+v+" touchstart"+v,w,u(B,C))}},clearSelection:function(){var A=this;A.selectable.clear();A.trigger(p)},select:function(A){var C=this,B=C.selectable;A=f(A);if(A.length){if(!B.options.multiple){B.clear();A=A.first()}B.value(A);return}return B.value()},_destroyEditable:function(){var A=this;if(A.editable){A.editable.destroy();delete A.editable}},_modelFromElement:function(B){var A=B.attr(s.attr("uid"));return this.dataSource.getByUid(A)},_closeEditable:function(H){var F=this,B=F.editable,G,E,A,C=F.template,D=true;if(B){if(H){D=B.end()}if(D){if(B.element.index()%2){C=F.altTemplate}G=F._modelFromElement(B.element);F._destroyEditable();A=B.element.index();B.element.replaceWith(C(G));E=F.items().eq(A);E.attr(s.attr("uid"),G.uid);if(F._hasBindingTarget()){s.bind(E,G)}}}return D},edit:function(E){var D=this,F=D._modelFromElement(E),A,C=F.uid,B;D.cancel();E=D.items().filter("["+s.attr("uid")+"="+C+"]");B=E.index();E.replaceWith(D.editTemplate(F));A=D.items().eq(B).addClass(z).attr(s.attr("uid"),F.uid);D.editable=A.kendoEditable({model:F,clearContainer:false,errorTemplate:false,target:D}).data("kendoEditable");D.trigger(y,{model:F,item:A})},save:function(){var C=this,B=C.editable,A;if(!B){return}B=B.element;A=C._modelFromElement(B);if(!C.trigger(b,{model:A,item:B})&&C._closeEditable(true)){C.dataSource.sync()}},remove:function(B){var A=this,D=A.dataSource,C=A._modelFromElement(B);if(!A.trigger(m,{model:C,item:B})){B.hide();D.remove(C);D.sync()}},add:function(){var B=this,C=B.dataSource,A=C.indexOf((C.view()||[])[0]);if(A<0){A=0}B.cancel();C.insert(A,{});B.edit(B.element.children().first())},cancel:function(){var C=this,D=C.dataSource;if(C.editable){var A=C.editable.element;var B=C._modelFromElement(A);if(!C.trigger(d,{model:B,container:A})){D.cancelChanges(B);C._closeEditable(false)}}},_crudHandlers:function(){var A=this,B=g+v;A.element.on(B,".k-edit-button",function(D){var C=f(this).closest("["+s.attr("uid")+"]");A.edit(C);D.preventDefault()});A.element.on(B,".k-delete-button",function(D){var C=f(this).closest("["+s.attr("uid")+"]");A.remove(C);D.preventDefault()});A.element.on(B,".k-update-button",function(C){A.save();C.preventDefault()});A.element.on(B,".k-cancel-button",function(C){A.cancel();C.preventDefault()})},destroy:function(){var A=this;c.fn.destroy.call(A);A._unbindDataSource();A._destroyEditable();A.element.off(v);if(A.pager){A.pager.destroy()}s.destroy(A.element)}});s.ui.plugin(a)})(window.kendo.jQuery);(function(h,i){var t=window.kendo,a=t.ui.Widget,p=t.antiForgeryTokens,c=t.logToConsole,y=/\.([^\.]+)$/,z=".kendoUpload",b="select",n="upload",F="success",l="error",u="complete",f="cancel",E="progress",o="remove";var A=a.extend({init:function(K,J){var M=this;a.fn.init.call(M,K,J);M.name=K.name;M.multiple=M.options.multiple;M.localization=M.options.localization;var O=M.element;M.wrapper=O.closest(".k-upload");if(M.wrapper.length===0){M.wrapper=M._wrapInput(O)}M._activeInput(O);M.toggle(M.options.enabled);var L=M._ns=z+"-"+t.guid();O.closest("form").on("submit"+L,h.proxy(M._onParentFormSubmit,M)).on("reset"+L,h.proxy(M._onParentFormReset,M));if(M.options.async.saveUrl){M._module=M._supportsFormData()?new w(M):new s(M);M._async=true;var N=M.options.files;if(N.length>0){M._renderInitialFiles(N)}}else{M._module=new k(M)}if(M._supportsDrop()){M._setupDropZone()}M.wrapper.on("click",".k-upload-action",h.proxy(M._onFileAction,M)).on("click",".k-upload-selected",h.proxy(M._onUploadSelected,M));if(M.element.val()){M._onInputChange({target:M.element})}},events:[b,n,F,l,u,f,E,o],options:{name:"Upload",enabled:true,multiple:true,showFileList:true,template:"",files:[],async:{removeVerb:"POST",autoUpload:true,withCredentials:true},localization:{select:"Select files...",cancel:"Cancel",retry:"Retry",remove:"Remove",uploadSelectedFiles:"Upload files",dropFilesHere:"drop files here to upload",statusUploading:"uploading",statusUploaded:"uploaded",statusWarning:"warning",statusFailed:"failed",headerStatusUploading:"Uploading...",headerStatusUploaded:"Done"}},setOptions:function(J){var K=this,L=K.element;a.fn.setOptions.call(K,J);K.multiple=K.options.multiple;L.attr("multiple",K._supportsMultiple()?K.multiple:false);K.toggle(K.options.enabled)},enable:function(J){J=typeof(J)==="undefined"?true:J;this.toggle(J)},disable:function(){this.toggle(false)},toggle:function(J){J=typeof(J)==="undefined"?J:!J;this.wrapper.toggleClass("k-state-disabled",J);this.element.prop("disabled",J)},destroy:function(){var J=this;h(document).add(h(".k-dropzone",J.wrapper)).add(J.wrapper.closest("form")).off(J._ns);h(J.element).off(z);a.fn.destroy.call(J)},_addInput:function(L){if(!L[0].nodeType){return}var K=this,J=L.clone().val("");J.insertAfter(K.element).data("kendoUpload",K);h(K.element).hide().attr("tabindex","-1").removeAttr("id").off(z);K._activeInput(J);K.element.focus()},_activeInput:function(J){var K=this,L=K.wrapper;K.element=J;J.attr("multiple",K._supportsMultiple()?K.multiple:false).attr("autocomplete","off").on("click"+z,function(M){if(L.hasClass("k-state-disabled")){M.preventDefault()}}).on("focus"+z,function(){h(this).parent().addClass("k-state-focused")}).on("blur"+z,function(){h(this).parent().removeClass("k-state-focused")}).on("change"+z,h.proxy(K._onInputChange,K)).on("keydown"+z,h.proxy(K._onInputKeyDown,K))},_onInputKeyDown:function(L){var J=this;var K=J.wrapper.find(".k-upload-action:first");if(L.keyCode===t.keys.TAB&&K.length>0){L.preventDefault();K.focus()}},_onInputChange:function(N){var L=this;var J=h(N.target);var K=I(L._inputFiles(J),L._isAsyncNonBatch());var M=L.trigger(b,{files:K});if(M){L._addInput(J);J.remove()}else{L._module.onSelect({target:J},K)}},_onDrop:function(O){var M=O.originalEvent.dataTransfer;var L=this;var K=M.files;var J=I(m(K),L._isAsyncNonBatch());B(O);if(K.length>0){if(!L.multiple&&J.length>1){J.splice(1,J.length-1)}var N=L.trigger(b,{files:J});if(!N){L._module.onSelect({target:h(".k-dropzone",L.wrapper)},J)}}},_isAsyncNonBatch:function(){return(this._async&&!this.options.async.batch)||false},_renderInitialFiles:function(M){var L=this;var J=0;M=I(M,true);for(J=0;J<M.length;J++){var K=M[J];var N=L._enqueueFile(K.name,{fileNames:[K]});N.addClass("k-file-success").data("files",[M[J]]);h(".k-progress",N).width("100%");h(".k-upload-status",N).prepend("<span class='k-upload-pct'>100%</span>");if(L._supportsRemove()){L._fileAction(N,o)}}},_prepareTemplateData:function(L,N){var O=N.fileNames,M={},K=0,J=0;for(J=0;J<O.length;J++){K+=O[J].size}M.name=L;M.size=K;M.files=N.fileNames;return M},_prepareDefaultFileEntryTemplate:function(J,L){var M="";var K=h("<li class='k-file'><span class='k-progress'></span><span class='k-icon'></span><span class='k-filename' title='"+J+"'>"+J+"</span><strong class='k-upload-status'></strong></li>");if(L.fileNames.length==1&&!!L.fileNames[0].extension){M=L.fileNames[0].extension.substring(1);h(".k-icon",K).addClass("k-i-"+M)}return K},_enqueueFile:function(J,N){var P=this;var L;var O;var M=N.fileNames[0].uid;var R=h(".k-upload-files",P.wrapper);var S=P.options;var Q=S.template;var K;if(R.length===0){R=h("<ul class='k-upload-files k-reset'></ul>").appendTo(P.wrapper);if(!P.options.showFileList){R.hide()}P.wrapper.removeClass("k-upload-empty")}L=h(".k-file",R);if(!Q){O=P._prepareDefaultFileEntryTemplate(J,N)}else{K=P._prepareTemplateData(J,N);Q=t.template(Q);O=h("<li class='k-file'>"+Q(K)+"</li>");O.find(".k-upload-action").addClass("k-button k-button-bare");P.angular("compile",function(){return{elements:O,data:[K]}})}O.attr(t.attr("uid"),M).appendTo(R).data(N);if(!P._async){h(".k-progress",O).width("100%")}if(!P.multiple&&L.length>0){if(!P.trigger(o,{files:L.data("fileNames")})){P._module.onRemove({target:h(L,P.wrapper)})}}return O},_removeFileEntry:function(N){var L=this;var J=N.closest(".k-upload-files");var M;var K;N.remove();M=h(".k-file",J);K=h(".k-file-success, .k-file-error",J);if(K.length===M.length){this._hideUploadButton()}if(M.length===0){J.remove();L.wrapper.addClass("k-upload-empty");L._hideHeaderUploadstatus()}},_fileAction:function(M,L){var K={remove:"k-delete",cancel:"k-cancel",retry:"k-retry"};var J={remove:"k-i-close",cancel:"k-i-close",retry:"k-i-refresh"};if(!K.hasOwnProperty(L)){return}this._clearFileAction(M);if(!this.options.template){M.find(".k-upload-status .k-upload-action").remove();M.find(".k-upload-status").append(this._renderAction(K[L],this.localization[L],J[L]))}else{M.find(".k-upload-action").addClass("k-button k-button-bare").append("<span class='k-icon "+J[L]+" "+K[L]+"' title='"+this.localization[L]+"'></span>").show()}},_fileState:function(N,M){var L=this.localization,J={uploading:{text:L.statusUploading},uploaded:{text:L.statusUploaded},failed:{text:L.statusFailed}},K=J[M];if(K){h(".k-icon:not(.k-delete, .k-cancel, .k-retry)",N).text(K.text)}},_renderAction:function(L,K,J){if(L!==""){return h("<button type='button' class='k-button k-button-bare k-upload-action'><span class='k-icon "+J+" "+L+"' title='"+K+"'></span></button>")}else{return h("<button type='button' class='k-button'>"+K+"</button>")}},_clearFileAction:function(J){h(".k-upload-action",J).empty().hide()},_onFileAction:function(N){var M=this;if(!M.wrapper.hasClass("k-state-disabled")){var K=h(N.target).closest(".k-upload-action"),L=K.find(".k-icon"),O=K.closest(".k-file"),J={files:O.data("fileNames")};if(L.hasClass("k-delete")){if(!M.trigger(o,J)){M._module.onRemove({target:h(O,M.wrapper)},J.data)}}else{if(L.hasClass("k-cancel")){M.trigger(f,J);M._module.onCancel({target:h(O,M.wrapper)});this._checkAllComplete();M._updateHeaderUploadStatus()}else{if(L.hasClass("k-retry")){h(".k-warning",O).remove();M._module.onRetry({target:h(O,M.wrapper)})}}}}return false},_onUploadSelected:function(){var J=this;var K=J.wrapper;if(!K.hasClass("k-state-disabled")){this._module.onSaveSelected()}return false},_onFileProgress:function(K,J){var L;if(!this.options.template){L=h(".k-upload-pct",K.target);if(L.length===0){h(".k-upload-status",K.target).prepend("<span class='k-upload-pct'></span>")}h(".k-upload-pct",K.target).text(J+"%");h(".k-progress",K.target).width(J+"%")}else{h(".k-progress",K.target).width(J+"%")}this.trigger(E,{files:G(K).data("fileNames"),percentComplete:J})},_onUploadSuccess:function(K,J,L){var M=G(K);this._fileState(M,"uploaded");M.removeClass("k-file-progress").addClass("k-file-success");this._updateHeaderUploadStatus();this.trigger(F,{files:M.data("fileNames"),response:J,operation:"upload",XMLHttpRequest:L});if(this._supportsRemove()){this._fileAction(M,o)}else{this._clearFileAction(M)}this._checkAllComplete()},_onUploadError:function(K,L){var M=G(K);var J=h(".k-upload-pct",M);this._fileState(M,"failed");M.removeClass("k-file-progress").addClass("k-file-error");h(".k-progress",M).width("100%");if(J.length>0){J.empty().removeClass("k-upload-pct").addClass("k-icon k-warning")}else{h(".k-upload-status",M).prepend("<span class='k-icon k-warning'></span>")}this._updateHeaderUploadStatus();this._fileAction(M,"retry");this.trigger(l,{operation:"upload",files:M.data("fileNames"),XMLHttpRequest:L});c("Server response: "+L.responseText);this._checkAllComplete()},_showUploadButton:function(){var J=h(".k-upload-selected",this.wrapper);if(J.length===0){J=this._renderAction("",this.localization.uploadSelectedFiles).addClass("k-upload-selected")}this.wrapper.append(J)},_hideUploadButton:function(){h(".k-upload-selected",this.wrapper).remove()},_showHeaderUploadStatus:function(){var L=this.localization;var K=h(".k-dropzone",this.wrapper);var J=h(".k-upload-status-total",this.wrapper);if(J.length!==0){J.remove()}J='<strong class="k-upload-status k-upload-status-total">'+L.headerStatusUploading+'<span class="k-icon k-loading">'+L.statusUploading+"</span></strong>";if(K.length>0){K.append(J)}else{h(".k-upload-button",this.wrapper).after(J)}},_updateHeaderUploadStatus:function(){var N=this;var O=N.localization;var L=h(".k-file",N.wrapper).not(".k-file-success, .k-file-error");var M;var J;var K;if(L.length===0){M=h(".k-file.k-file-error",N.wrapper);J=h(".k-upload-status-total",N.wrapper);K=h(".k-icon",J).removeClass("k-loading").addClass((M.length!==0)?"k-warning":"k-i-tick").text((M.length!==0)?O.statusWarning:O.statusUploaded);J.text(N.localization.headerStatusUploaded).append(K)}},_hideHeaderUploadstatus:function(){h(".k-upload-status-total",this.wrapper).remove()},_onParentFormSubmit:function(){var K=this,L=K.element;if(typeof this._module.onAbort!=="undefined"){this._module.onAbort()}if(!L.value){var J=h(L);J.attr("disabled","disabled");window.setTimeout(function(){J.removeAttr("disabled")},0)}},_onParentFormReset:function(){h(".k-upload-files",this.wrapper).remove()},_supportsFormData:function(){return typeof(FormData)!="undefined"},_supportsMultiple:function(){var J=this._userAgent().indexOf("Windows")>-1;return !t.support.browser.opera&&!(t.support.browser.safari&&J)},_supportsDrop:function(){var L=this._userAgent().toLowerCase(),M=/chrome/.test(L),K=!M&&/safari/.test(L),J=K&&/windows/.test(L);return !J&&this._supportsFormData()&&(this.options.async.saveUrl)},_userAgent:function(){return navigator.userAgent},_setupDropZone:function(){var K=this;h(".k-upload-button",this.wrapper).wrap("<div class='k-dropzone'></div>");var J=K._ns;var L=h(".k-dropzone",K.wrapper).append(h("<em>"+K.localization.dropFilesHere+"</em>")).on("dragenter"+J,B).on("dragover"+J,function(M){M.preventDefault()}).on("drop"+J,h.proxy(this._onDrop,this));v(L,J,function(){L.addClass("k-dropzone-hovered")},function(){L.removeClass("k-dropzone-hovered")});v(h(document),J,function(){L.addClass("k-dropzone-active");L.closest(".k-upload").removeClass("k-upload-empty")},function(){L.removeClass("k-dropzone-active");if(h("li.k-file",L.closest(".k-upload")).length===0){L.closest(".k-upload").addClass("k-upload-empty")}})},_supportsRemove:function(){return !!this.options.async.removeUrl},_submitRemove:function(J,M,O,L){var K=this,P=K.options.async.removeField||"fileNames",N=h.extend(M,p());N[P]=J;jQuery.ajax({type:this.options.async.removeVerb,dataType:"json",dataFilter:j,url:this.options.async.removeUrl,traditional:true,data:N,success:O,error:L})},_wrapInput:function(J){var L=this;var K=L.options;J.wrap("<div class='k-widget k-upload k-header'><div class='k-button k-upload-button'></div></div>");if(!K.async.saveUrl){J.closest(".k-upload").addClass("k-upload-sync")}J.closest(".k-upload").addClass("k-upload-empty");J.closest(".k-button").append("<span>"+this.localization.select+"</span>");return J.closest(".k-upload")},_checkAllComplete:function(){if(h(".k-file.k-file-progress",this.wrapper).length===0){this.trigger(u)}},_inputFiles:function(J){return q(J)}});var k=function(J){this.name="syncUploadModule";this.element=J.wrapper;this.upload=J;this.element.closest("form").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data")};k.prototype={onSelect:function(M,L){var J=this.upload;var N=h(M.target);J._addInput(N);var K=J._enqueueFile(D(N),{relatedInput:N,fileNames:L});J._fileAction(K,o)},onRemove:function(J){var K=G(J);K.data("relatedInput").remove();this.upload._removeFileEntry(K)}};var s=function(J){this.name="iframeUploadModule";this.element=J.wrapper;this.upload=J;this.iframes=[]};A._frameId=0;s.prototype={onSelect:function(L,K){var J=this.upload,N=h(L.target);var M=this.prepareUpload(N,K);if(J.options.async.autoUpload){this.performUpload(M)}else{if(J._supportsRemove()){this.upload._fileAction(M,o)}J._showUploadButton()}},prepareUpload:function(Q,N){var K=this.upload;var P=h(K.element);var J=K.options.async.saveField||Q.attr("name");K._addInput(Q);Q.attr("name",J);var L=this.createFrame(K.name+"_"+A._frameId++);this.registerFrame(L);var M=this.createForm(K.options.async.saveUrl,L.attr("name")).append(P);var O=K._enqueueFile(D(Q),{frame:L,relatedInput:P,fileNames:N});L.data({form:M,file:O});return O},performUpload:function(P){var O={files:P.data("fileNames")},M=P.data("frame"),K=this.upload;if(!K.trigger(n,O)){K._hideUploadButton();K._showHeaderUploadStatus();M.appendTo(document.body);var N=M.data("form").attr("action",K.options.async.saveUrl).appendTo(document.body);O.data=h.extend({},O.data,p());for(var L in O.data){var J=N.find("input[name='"+L+"']");if(J.length===0){J=h("<input>",{type:"hidden",name:L}).prependTo(N)}J.val(O.data[L])}K._fileAction(P,f);K._fileState(P,"uploading");h(P).removeClass("k-file-error").addClass("k-file-progress");M.one("load",h.proxy(this.onIframeLoad,this));N[0].submit()}else{K._removeFileEntry(M.data("file"));this.cleanupFrame(M);this.unregisterFrame(M)}},onSaveSelected:function(){var J=this;h(".k-file",this.element).each(function(){var L=h(this),K=H(L);if(!K){J.performUpload(L)}})},onIframeLoad:function(M){var K=h(M.target),L;try{L=K.contents().text()}catch(J){L="Error trying to get server response: "+J}this.processResponse(K,L)},processResponse:function(K,L){var N=K.data("file"),J=this,M={responseText:L};C(L,function(O){h.extend(M,{statusText:"OK",status:"200"});J.upload._onFileProgress({target:h(N,J.upload.wrapper)},100);J.upload._onUploadSuccess({target:h(N,J.upload.wrapper)},O,M);J.cleanupFrame(K);J.unregisterFrame(K)},function(){h.extend(M,{statusText:"error",status:"500"});J.upload._onUploadError({target:h(N,J.upload.wrapper)},M)})},onCancel:function(K){var J=h(K.target).data("frame");this.stopFrameSubmit(J);this.cleanupFrame(J);this.unregisterFrame(J);this.upload._removeFileEntry(J.data("file"))},onRetry:function(J){var K=G(J);this.performUpload(K)},onRemove:function(L,K){var M=G(L);var J=M.data("frame");if(J){this.unregisterFrame(J);this.upload._removeFileEntry(M);this.cleanupFrame(J)}else{r(M,this.upload,K)}},onAbort:function(){var K=this.element,J=this;h.each(this.iframes,function(){h("input",this.data("form")).appendTo(K);J.stopFrameSubmit(this[0]);this.data("form").remove();this.remove()});this.iframes=[]},createFrame:function(J){return h("<iframe name='"+J+"' id='"+J+"' style='display:none;' />")},createForm:function(J,K){return h("<form enctype='multipart/form-data' method='POST' action='"+J+"' target='"+K+"'/>")},stopFrameSubmit:function(J){if(typeof(J.stop)!="undefined"){J.stop()}else{if(J.document){J.document.execCommand("Stop")}}},registerFrame:function(J){this.iframes.push(J)},unregisterFrame:function(J){this.iframes=h.grep(this.iframes,function(K){return K.attr("name")!=J.attr("name")})},cleanupFrame:function(K){var J=K.data("form");K.data("file").data("frame",null);setTimeout(function(){J.remove();K.remove()},1)}};var w=function(J){this.name="formDataUploadModule";this.element=J.wrapper;this.upload=J};w.prototype={onSelect:function(O,N){var L=this.upload,M=this,K=h(O.target),J=this.prepareUpload(K,N);h.each(J,function(){if(L.options.async.autoUpload){M.performUpload(this)}else{if(L._supportsRemove()){L._fileAction(this,o)}L._showUploadButton()}})},prepareUpload:function(K,L){var J=this.enqueueFiles(L);if(K.is("input")){h.each(J,function(){h(this).data("relatedInput",K)});K.data("relatedFileEntries",J);this.upload._addInput(K)}return J},enqueueFiles:function(P){var M=this.upload,L,O,N=P.length,J,Q,K=[];if(M.options.async.batch===true){L=h.map(P,function(R){return R.name}).join(", ");Q=M._enqueueFile(L,{fileNames:P});Q.data("files",P);K.push(Q)}else{for(O=0;O<N;O++){J=P[O];L=J.name;Q=M._enqueueFile(L,{fileNames:[J]});Q.data("files",[J]);K.push(Q)}}return K},performUpload:function(O){var J=this.upload,M=this.createFormData(),N=this.createXHR(),L={files:O.data("fileNames"),XMLHttpRequest:N};if(!J.trigger(n,L)){J._fileAction(O,f);J._hideUploadButton();J._showHeaderUploadStatus();L.data=h.extend({},L.data,p());for(var K in L.data){M.append(K,L.data[K])}this.populateFormData(M,O.data("files"));J._fileState(O,"uploading");h(O).removeClass("k-file-error").addClass("k-file-progress");this.postFormData(J.options.async.saveUrl,M,O,N)}else{this.removeFileEntry(O)}},onSaveSelected:function(){var J=this;h(".k-file",this.element).each(function(){var L=h(this),K=H(L);if(!K){J.performUpload(L)}})},onCancel:function(J){var K=G(J);this.stopUploadRequest(K);this.removeFileEntry(K)},onRetry:function(J){var K=G(J);this.performUpload(K)},onRemove:function(K,J){var L=G(K);if(L.hasClass("k-file-success")){r(L,this.upload,J)}else{this.removeFileEntry(L)}},createXHR:function(){return new XMLHttpRequest()},postFormData:function(J,L,N,M){var K=this;N.data("request",M);M.addEventListener("load",function(O){K.onRequestSuccess.call(K,O,N)},false);M.addEventListener(l,function(O){K.onRequestError.call(K,O,N)},false);M.upload.addEventListener("progress",function(O){K.onRequestProgress.call(K,O,N)},false);M.open("POST",J,true);M.withCredentials=this.upload.options.async.withCredentials;M.send(L)},createFormData:function(){return new FormData()},populateFormData:function(N,M){var J=this.upload,K,L=M.length;for(K=0;K<L;K++){N.append(J.options.async.saveField||J.name,M[K].rawFile)}return N},onRequestSuccess:function(L,N){var M=L.target,K=this;function J(){K.upload._onUploadError({target:h(N,K.upload.wrapper)},M)}if(M.status>=200&&M.status<=299){C(M.responseText,function(O){K.upload._onFileProgress({target:h(N,K.upload.wrapper)},100);K.upload._onUploadSuccess({target:h(N,K.upload.wrapper)},O,M);K.cleanupFileEntry(N)},J)}else{J()}},onRequestError:function(J,L){var K=J.target;this.upload._onUploadError({target:h(L,this.upload.wrapper)},K)},cleanupFileEntry:function(L){var J=L.data("relatedInput"),K=true;if(J){h.each(J.data("relatedFileEntries")||[],function(){if(this.parent().length>0&&this[0]!=L[0]){K=K&&this.hasClass("k-file-success")}});if(K){J.remove()}}},removeFileEntry:function(J){this.cleanupFileEntry(J);this.upload._removeFileEntry(J)},onRequestProgress:function(K,L){var J=Math.round(K.loaded*100/K.total);this.upload._onFileProgress({target:h(L,this.upload.wrapper)},J)},stopUploadRequest:function(J){J.data("request").abort()}};function D(J){return h.map(q(J),function(K){return K.name}).join(", ")}function q(K){var J=K[0];if(J.files){return m(J.files)}else{return[{name:e(J.value),extension:d(J.value),size:null}]}}function m(J){return h.map(J,function(K){return x(K)})}function x(J){var K=J.name||J.fileName;return{name:t.htmlEncode(K),extension:d(K),size:J.size||J.fileSize,rawFile:J}}function d(K){var J=K.match(y);return J?J[0]:""}function e(J){var K=J.lastIndexOf("\\");return(K!=-1)?J.substr(K+1):J}function I(K,L){var J=t.guid();return h.map(K,function(M){M.uid=L?t.guid():J;return M})}function g(J){return !J.multiple&&h(".k-file",J.wrapper).length>1}function r(P,K,N){if(!K._supportsRemove()){if(g(K)){K._removeFileEntry(P)}return}var M=P.data("fileNames");var J=h.map(M,function(Q){return Q.name});K._submitRemove(J,N,function O(Q,S,R){K._removeFileEntry(P);K.trigger(F,{operation:"remove",files:M,response:Q,XMLHttpRequest:R})},function L(Q){if(g(K)){K._removeFileEntry(P)}K.trigger(l,{operation:"remove",files:M,XMLHttpRequest:Q});c("Server response: "+Q.responseText)})}function C(J,O,L){var N=false,K="";try{K=h.parseJSON(j(J));N=true}catch(M){L()}if(N){O(K)}}function j(J){if(typeof J==="undefined"||J===""){J="{}"}return J}function B(J){J.stopPropagation();J.preventDefault()}function v(L,N,O,K){var J,M;L.on("dragenter"+N,function(){O();M=new Date();if(!J){J=setInterval(function(){var P=new Date()-M;if(P>100){K();clearInterval(J);J=null}},100)}}).on("dragover"+N,function(){M=new Date()})}function H(J){return J.is(".k-file-progress, .k-file-success, .k-file-error")}function G(J){return h(J.target).closest(".k-file")}t.ui.plugin(A)})(window.kendo.jQuery);(function(g,k){var u=window.kendo,c=u.ui.Widget,t=g.isPlainObject,y=g.proxy,D=g.extend,x=u.support.placeholder,E=u.support.browser,a=u.isFunction,w=/(^\/|\/$)/g,s="change",i="apply",l="error",h="click",z=".kendoFileBrowser",f=".kendoBreadcrumbs",p=".kendoSearchBox",q="name",r="size",b="type",B={field:b,dir:"asc"},m=u.template('<li class="k-tile-empty"><strong>${text}</strong></li>'),F='<div class="k-widget k-filebrowser-toolbar k-header k-floatwrap"><div class="k-toolbar-wrap"># if (showUpload) { # <div class="k-widget k-upload"><div class="k-button k-button-icontext k-upload-button"><span class="k-icon k-add"></span>#=messages.uploadFile#<input type="file" name="file" /></div></div># } ## if (showCreate) { #<button type="button" class="k-button k-button-icon"><span class="k-icon k-addfolder" /></button># } ## if (showDelete) { #<button type="button" class="k-button k-button-icon k-state-disabled"><span class="k-icon k-delete" /></button>&nbsp;# } #</div><div class="k-tiles-arrange"><label>#=messages.orderBy#: <select /></label></a></div></div>';D(true,u.data,{schemas:{filebrowser:{data:function(G){return G.items||G||[]},model:{id:"name",fields:{name:"name",size:"size",type:"type"}}}}});D(true,u.data,{transports:{filebrowser:u.data.RemoteTransport.extend({init:function(G){u.data.RemoteTransport.fn.init.call(this,g.extend(true,{},this.options,G))},_call:function(H,G){G.data=g.extend({},G.data,{path:this.options.path()});if(a(this.options[H])){this.options[H].call(this,G)}else{u.data.RemoteTransport.fn[H].call(this,G)}},read:function(G){this._call("read",G)},create:function(G){this._call("create",G)},destroy:function(G){this._call("destroy",G)},update:function(){},options:{read:{type:"POST"},update:{type:"POST"},create:{type:"POST"},destroy:{type:"POST"}}})}});function v(I,K,H){var G,J;I.on("dragenter"+z,function(){K();J=new Date();if(!G){G=setInterval(function(){var L=new Date()-J;if(L>100){H();clearInterval(G);G=null}},100)}}).on("dragover"+z,function(){J=new Date()})}var A;if(E.msie&&E.version<8){A=function(G){return G.offsetTop}}else{A=function(G){return G.offsetTop-g(G).height()}}function j(H,G){if(H===k||!H.match(/\/$/)){H=(H||"")+"/"}return H+G}function n(G){if(!G){return""}var H=" bytes";if(G>=1073741824){H=" GB";G/=1073741824}else{if(G>=1048576){H=" MB";G/=1048576}else{if(G>=1024){H=" KB";G/=1024}}}return Math.round(G*100)/100+H}function d(G,H){var I=G[H];if(t(I)){return I.from||I.field||H}return I}var e=c.extend({init:function(H,G){var I=this;G=G||{};c.fn.init.call(I,H,G);I.element.addClass("k-filebrowser");I.element.on(h+z,".k-filebrowser-toolbar button:not(.k-state-disabled):has(.k-delete)",y(I._deleteClick,I)).on(h+z,".k-filebrowser-toolbar button:not(.k-state-disabled):has(.k-addfolder)",y(I._addClick,I)).on("keydown"+z,"li.k-state-selected input",y(I._directoryKeyDown,I)).on("blur"+z,"li.k-state-selected input",y(I._directoryBlur,I));I._dataSource();I.refresh();I.path(I.options.path)},options:{name:"FileBrowser",messages:{uploadFile:"Upload",orderBy:"Arrange by",orderByName:"Name",orderBySize:"Size",directoryNotFound:"A directory with this name was not found.",emptyFolder:"Empty Folder",deleteFile:'Are you sure you want to delete "{0}"?',invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',dropFilesHere:"drop file here to upload",search:"Search"},transport:{},path:"/",fileTypes:"*.*"},events:[l,s,i],destroy:function(){var G=this;c.fn.destroy.call(G);G.dataSource.unbind(l,G._errorHandler);G.element.add(G.list).add(G.toolbar).off(z);u.destroy(G.element)},value:function(){var I=this,H=I._selectedItem(),J,G=I.options.transport.fileUrl;if(H&&H.get(b)==="f"){J=j(I.path(),H.get(q)).replace(w,"");if(G){J=a(G)?G(J):u.format(G,encodeURIComponent(J))}return J}},_selectedItem:function(){var G=this.listView,H=G.select();if(H.length){return this.dataSource.getByUid(H.attr(u.attr("uid")))}},_toolbar:function(){var I=this,G=u.template(F),H=I.options.messages,J=[{text:H.orderByName,value:"name"},{text:H.orderBySize,value:"size"}];I.toolbar=g(G({messages:H,showUpload:I.options.transport.uploadUrl,showCreate:I.options.transport.create,showDelete:I.options.transport.destroy})).appendTo(I.element).find(".k-upload input").kendoUpload({multiple:false,localization:{dropFilesHere:H.dropFilesHere},async:{saveUrl:I.options.transport.uploadUrl,autoUpload:true},upload:y(I._fileUpload,I),error:function(K){I._error({xhr:K.XMLHttpRequest,status:"error"})}}).end();I.upload=I.toolbar.find(".k-upload input").data("kendoUpload");I.arrangeBy=I.toolbar.find(".k-tiles-arrange select").kendoDropDownList({dataSource:J,dataTextField:"text",dataValueField:"value",change:function(){I.orderBy(this.value())}}).data("kendoDropDownList");I._attachDropzoneEvents()},_attachDropzoneEvents:function(){var G=this;if(G.options.transport.uploadUrl){v(g(document.documentElement),g.proxy(G._dropEnter,G),g.proxy(G._dropLeave,G));G._scrollHandler=y(G._positionDropzone,G)}},_dropEnter:function(){this._positionDropzone();g(document).on("scroll"+z,this._scrollHandler)},_dropLeave:function(){this._removeDropzone();g(document).off("scroll"+z,this._scrollHandler)},_positionDropzone:function(){var H=this,G=H.element,I=G.offset();H.toolbar.find(".k-dropzone").addClass("k-filebrowser-dropzone").offset(I).css({width:G[0].clientWidth,height:G[0].clientHeight,lineHeight:G[0].clientHeight+"px"})},_removeDropzone:function(){this.toolbar.find(".k-dropzone").removeClass("k-filebrowser-dropzone").css({width:"",height:"",lineHeight:"",top:"",left:""})},_deleteClick:function(){var I=this,H=I.listView.select(),G=u.format(I.options.messages.deleteFile,H.find("strong").text());if(H.length&&I._showMessage(G,"confirm")){I.listView.remove(H)}},_addClick:function(){this.createDirectory()},_getFieldName:function(G){return d(this.dataSource.reader.model.fields,G)},_fileUpload:function(L){var K=this,O=K.options,G=O.fileTypes,N=new RegExp(("("+G.split(",").join(")|(")+")").replace(/\*\./g,".*."),"i"),H=L.files[0].name,I=q,M=r,J;if(N.test(H)){L.data={path:K.path()};J=K._createFile(H);if(!J){L.preventDefault()}else{K.upload.one("success",function(P){J.set(I,P.response[K._getFieldName(I)]);J.set(M,P.response[K._getFieldName(M)]);K._tiles=K.listView.items().filter("["+u.attr("type")+"=f]")})}}else{L.preventDefault();K._showMessage(u.format(O.messages.invalidFileType,H,G))}},_findFile:function(J){var L=this.dataSource.data(),H,G,M=b,I=q,K;J=J.toLowerCase();for(H=0,K=L.length;H<K;H++){if(L[H].get(M)==="f"&&L[H].get(I).toLowerCase()===J){G=L[H];break}}return G},_createFile:function(I){var K=this,O,G,L=0,J={},N=b,M=K.dataSource.view(),H=K._findFile(I);if(H&&!K._showMessage(u.format(K.options.messages.overwriteFile,I),"confirm")){return null}if(H){return H}for(O=0,G=M.length;O<G;O++){if(M[O].get(N)==="f"){L=O;break}}J[N]="f";J[q]=I;J[r]=0;return K.dataSource.insert(++L,J)},createDirectory:function(){var K=this,O,H,I=0,M=b,N=q,L=K.dataSource.data(),G=K._nameDirectory(),J=new K.dataSource.reader.model();for(O=0,H=L.length;O<H;O++){if(L[O].get(M)==="d"){I=O}}J.set(M,"d");J.set(N,G);K.listView.one("dataBound",function(){var Q=K.listView.items().filter("["+u.attr("uid")+"="+J.uid+"]"),P=Q.find("input");if(Q.length){this.edit(Q)}this.element.scrollTop(Q.attr("offsetTop")-this.element[0].offsetHeight);setTimeout(function(){P.select()})}).one("save",function(Q){var P=Q.model.get(N);if(!P){Q.model.set(N,G)}else{Q.model.set(N,K._nameExists(P,J.uid)?K._nameDirectory():P)}});K.dataSource.insert(++I,J)},_directoryKeyDown:function(G){if(G.keyCode==13){G.currentTarget.blur()}},_directoryBlur:function(){this.listView.save()},_nameExists:function(I,J){var L=this.dataSource.data(),M=b,H=q,G,K;for(G=0,K=L.length;G<K;G++){if(L[G].get(M)==="d"&&L[G].get(H).toLowerCase()===I.toLowerCase()&&L[G].uid!==J){return true}}return false},_nameDirectory:function(){var J="New folder",M=this.dataSource.data(),I=[],N=b,H=q,K,G,L;for(G=0,L=M.length;G<L;G++){if(M[G].get(N)==="d"&&M[G].get(H).toLowerCase().indexOf(J.toLowerCase())>-1){I.push(M[G].get(H))}}if(g.inArray(J,I)>-1){G=2;do{K=J+" ("+G+")";G++}while(g.inArray(K,I)>-1);J=K}return J},orderBy:function(G){this.dataSource.sort([{field:b,dir:"asc"},{field:G,dir:"asc"}])},search:function(G){this.dataSource.filter({field:q,operator:"contains",value:G})},_content:function(){var G=this;G.list=g('<ul class="k-reset k-floats k-tiles" />').appendTo(G.element).on("dblclick"+z,"li",y(G._dblClick,G));G.listView=new u.ui.ListView(G.list,{dataSource:G.dataSource,template:G._itemTmpl(),editTemplate:G._editTmpl(),selectable:true,autoBind:false,dataBinding:function(H){G.toolbar.find(".k-delete").parent().addClass("k-state-disabled");if(H.action==="remove"||H.action==="sync"){H.preventDefault()}},dataBound:function(){if(G.dataSource.view().length){G._tiles=this.items().filter("["+u.attr("type")+"=f]")}else{this.wrapper.append(m({text:G.options.messages.emptyFolder}))}},change:y(G._listViewChange,G)})},_dblClick:function(J){var I=this,G=g(J.currentTarget);if(G.hasClass("k-edit-item")){I._directoryBlur()}if(G.filter("["+u.attr("type")+"=d]").length){var H=I.dataSource.getByUid(G.attr(u.attr("uid")));if(H){I.path(j(I.path(),H.get(q)));I.breadcrumbs.value(I.path())}}else{if(G.filter("["+u.attr("type")+"=f]").length){I.trigger(i)}}},_listViewChange:function(){var G=this._selectedItem();if(G){this.toolbar.find(".k-delete").parent().removeClass("k-state-disabled");if(G.get(b)==="f"){this.trigger(s)}}},_dataSource:function(){var J=this,H=J.options,M=H.transport,G=D({},B),K={field:q,dir:"asc"},I,L={type:M.type||"filebrowser",sort:[G,K]};if(t(M)){M.path=y(J.path,J);L.transport=M}if(t(H.schema)){L.schema=H.schema}else{if(M.type&&t(u.data.schemas[M.type])){I=u.data.schemas[M.type]}}if(J.dataSource&&J._errorHandler){J.dataSource.unbind(l,J._errorHandler)}else{J._errorHandler=y(J._error,J)}J.dataSource=u.data.DataSource.create(L).bind(l,J._errorHandler)},_navigation:function(){var H=this,G=g('<div class="k-floatwrap"><input/><input/></div>').appendTo(this.element);H.breadcrumbs=G.find("input:first").kendoBreadcrumbs({value:H.options.path,change:function(){H.path(this.value())}}).data("kendoBreadcrumbs");H.searchBox=G.parent().find("input:last").kendoSearchBox({label:H.options.messages.search,change:function(){H.search(this.value())}}).data("kendoSearchBox")},_error:function(I){var H=this,G;if(!H.trigger(l,I)){G=I.xhr.status;if(I.status=="error"){if(G=="404"){H._showMessage(H.options.messages.directoryNotFound)}else{if(G!="0"){H._showMessage("Error! The requested URL returned "+G+" - "+I.xhr.statusText)}}}else{if(G=="timeout"){H._showMessage("Error! Server timeout.")}}}},_showMessage:function(H,G){return window[G||"alert"](H)},refresh:function(){var G=this;G._navigation();G._toolbar();G._content()},_editTmpl:function(){var G='<li class="k-tile k-state-selected" '+u.attr("uid")+'="#=uid#" ';G+=u.attr("type")+'="${'+b+'}">';G+="#if("+b+' == "d") { #';G+='<div class="k-thumb"><span class="k-icon k-folder"></span></div>';G+="#}else{#";G+='<div class="k-thumb"><span class="k-icon k-loading"></span></div>';G+="#}#";G+="#if("+b+' == "d") { #';G+='<input class="k-input" '+u.attr("bind")+'="value:'+q+'"/>';G+="#}#";G+="</li>";return y(u.template(G),{sizeFormatter:n})},_itemTmpl:function(){var H=this,G='<li class="k-tile" '+u.attr("uid")+'="#=uid#" ';G+=u.attr("type")+'="${'+b+'}">';G+="#if("+b+' == "d") { #';G+='<div class="k-thumb"><span class="k-icon k-folder"></span></div>';G+="#}else{#";G+='<div class="k-thumb"><span class="k-icon k-file"></span></div>';G+="#}#";G+="<strong>${"+q+"}</strong>";G+="#if("+b+' == "f") { # <span class="k-filesize">${this.sizeFormatter('+r+")}</span> #}#";G+="</li>";return y(u.template(G),{sizeFormatter:n})},path:function(H){var G=this,I=G._path||"";if(H!==k){G._path=H.replace(w,"")+"/";G.dataSource.read({path:G._path});return}if(I){I=I.replace(w,"")}return I==="/"||I===""?"":(I+"/")}});var o=c.extend({init:function(H,G){var I=this;G=G||{};c.fn.init.call(I,H,G);if(x){I.element.attr("placeholder",I.options.label)}I._wrapper();I.element.on("keydown"+p,y(I._keydown,I)).on("change"+p,y(I._updateValue,I));I.wrapper.on(h+p,"a",y(I._click,I));if(!x){I.element.on("focus"+p,y(I._focus,I)).on("blur"+p,y(I._blur,I))}},options:{name:"SearchBox",label:"Search",value:""},events:[s],destroy:function(){var G=this;G.wrapper.add(G.element).add(G.label).off(p);c.fn.destroy.call(G)},_keydown:function(G){if(G.keyCode===13){this._updateValue()}},_click:function(G){G.preventDefault();this._updateValue()},_updateValue:function(){var G=this,H=G.element.val();if(H!==G.value()){G.value(H);G.trigger(s)}},_blur:function(){this._updateValue();this._toggleLabel()},_toggleLabel:function(){if(!x){this.label.toggle(!this.element.val())}},_focus:function(){this.label.hide()},_wrapper:function(){var G=this.element,H=G.parents(".k-search-wrap");G[0].style.width="";G.addClass("k-input");if(!H.length){H=G.wrap(g('<div class="k-widget k-search-wrap k-textbox"/>')).parent();if(!x){g('<label style="display:block">'+this.options.label+"</label>").insertBefore(G)}g('<a href="#" class="k-icon k-i-search k-search"/>').appendTo(H)}this.wrapper=H;this.label=H.find(">label")},value:function(H){var G=this;if(H!==k){G.options.value=H;G.element.val(H);G._toggleLabel();return}return G.options.value}});var C=c.extend({init:function(H,G){var I=this;G=G||{};c.fn.init.call(I,H,G);I._wrapper();I.wrapper.on("focus"+f,"input",y(I._focus,I)).on("blur"+f,"input",y(I._blur,I)).on("keydown"+f,"input",y(I._keydown,I)).on(h+f,"a.k-i-arrow-n:first",y(I._rootClick,I)).on(h+f,"a:not(.k-i-arrow-n)",y(I._click,I));I.value(I.options.value)},options:{name:"Breadcrumbs",gap:50},events:[s],destroy:function(){var G=this;c.fn.destroy.call(G);G.wrapper.add(G.wrapper.find("input")).add(G.wrapper.find("a")).off(f)},_update:function(G){G=(G||"").charAt(0)==="/"?G:("/"+(G||""));if(G!==this.value()){this.value(G);this.trigger(s)}},_click:function(G){G.preventDefault();this._update(this._path(g(G.target).prevAll("a:not(.k-i-arrow-n)").addBack()))},_rootClick:function(G){G.preventDefault();this._update("")},_focus:function(){var H=this,G=H.element;H.overlay.hide();H.element.val(H.value());setTimeout(function(){G.select()})},_blur:function(){if(this.overlay.is(":visible")){return}var H=this,G=H.element,I=G.val().replace(/\/{2,}/g,"/");H.overlay.show();G.val("");H._update(I)},_keydown:function(H){var G=this;if(H.keyCode===13){G._blur();setTimeout(function(){G.overlay.find("a:first").focus()})}},_wrapper:function(){var H=this.element,I=H.parents(".k-breadcrumbs"),G;H[0].style.width="";H.addClass("k-input");if(!I.length){I=H.wrap(g('<div class="k-widget k-breadcrumbs k-textbox"/>')).parent()}G=I.find(".k-breadcrumbs-wrap");if(!G.length){G=g('<div class="k-breadcrumbs-wrap"/>').appendTo(I)}this.wrapper=I;this.overlay=G},refresh:function(){var I="",L=this.value(),H,K,G,J;if(L===k||!L.match(/^\//)){L="/"+(L||"")}H=L.split("/");for(G=0,J=H.length;G<J;G++){K=H[G];if(K){if(!I){I+='<a href="#" class="k-icon k-i-arrow-n">root</a>'}I+='<a class="k-link" href="#">'+H[G]+"</a>";I+='<span class="k-icon k-i-arrow-e">&gt;</span>'}}this.overlay.empty().append(g(I));this._adjustSectionWidth()},_adjustSectionWidth:function(){var J=this,K=J.wrapper,I=K.width()-J.options.gap,H=J.overlay.find("a"),G;H.each(function(L){G=g(this);if(G.parent().width()>I){if(L==H.length-1){G.width(I)}else{G.prev().addBack().hide()}}})},value:function(G){if(G!==k){this._value=G.replace(/\/{2,}/g,"/");this.refresh();return}return this._value},_path:function(G){return"/"+g.map(G,function(H){return g(H).text()}).join("/")}});u.ui.plugin(e);u.ui.plugin(C);u.ui.plugin(o)})(window.kendo.jQuery);(function(f,j){var s=window.kendo,c=s.ui.Widget,e=s.ui.FileBrowser,r=f.isPlainObject,w=f.proxy,A=f.extend,v=s.support.placeholder,B=s.support.browser,a=s.isFunction,u=/(^\/|\/$)/g,q="change",h="apply",l="error",g="click",x=".kendoImageBrowser",o="name",p="size",b="type",z={field:b,dir:"asc"},m=s.template('<li class="k-tile-empty"><strong>${text}</strong></li>'),C='<div class="k-widget k-filebrowser-toolbar k-header k-floatwrap"><div class="k-toolbar-wrap"># if (showUpload) { # <div class="k-widget k-upload"><div class="k-button k-button-icontext k-upload-button"><span class="k-icon k-add"></span>#=messages.uploadFile#<input type="file" name="file" /></div></div># } ## if (showCreate) { #<button type="button" class="k-button k-button-icon"><span class="k-icon k-addfolder" /></button># } ## if (showDelete) { #<button type="button" class="k-button k-button-icon k-state-disabled"><span class="k-icon k-delete" /></button>&nbsp;# } #</div><div class="k-tiles-arrange"><label>#=messages.orderBy#: <select /></label></a></div></div>';A(true,s.data,{schemas:{imagebrowser:{data:function(D){return D.items||D||[]},model:{id:"name",fields:{name:"name",size:"size",type:"type"}}}}});A(true,s.data,{transports:{imagebrowser:s.data.RemoteTransport.extend({init:function(D){s.data.RemoteTransport.fn.init.call(this,f.extend(true,{},this.options,D))},_call:function(E,D){D.data=f.extend({},D.data,{path:this.options.path()});if(a(this.options[E])){this.options[E].call(this,D)}else{s.data.RemoteTransport.fn[E].call(this,D)}},read:function(D){this._call("read",D)},create:function(D){this._call("create",D)},destroy:function(D){this._call("destroy",D)},update:function(){},options:{read:{type:"POST"},update:{type:"POST"},create:{type:"POST"},destroy:{type:"POST"}}})}});function t(F,H,E){var D,G;F.on("dragenter"+x,function(){H();G=new Date();if(!D){D=setInterval(function(){var I=new Date()-G;if(I>100){E();clearInterval(D);D=null}},100)}}).on("dragover"+x,function(){G=new Date()})}var y;if(B.msie&&B.version<8){y=function(D){return D.offsetTop}}else{y=function(D){return D.offsetTop-f(D).height()}}function i(E,D){if(E===j||!E.match(/\/$/)){E=(E||"")+"/"}return E+D}function n(D){if(!D){return""}var E=" bytes";if(D>=1073741824){E=" GB";D/=1073741824}else{if(D>=1048576){E=" MB";D/=1048576}else{if(D>=1024){E=" KB";D/=1024}}}return Math.round(D*100)/100+E}function d(D,E){var F=D[E];if(r(F)){return F.from||F.field||E}return F}var k=e.extend({init:function(E,D){var F=this;D=D||{};e.fn.init.call(F,E,D);F.element.addClass("k-imagebrowser")},options:{name:"ImageBrowser",fileTypes:"*.png,*.gif,*.jpg,*.jpeg"},value:function(){var F=this,E=F._selectedItem(),G,D=F.options.transport.imageUrl;if(E&&E.get(b)==="f"){G=i(F.path(),E.get(o)).replace(u,"");if(D){G=a(D)?D(G):s.format(D,encodeURIComponent(G))}return G}},_fileUpload:function(I){var H=this,L=H.options,D=L.fileTypes,K=new RegExp(("("+D.split(",").join(")|(")+")").replace(/\*\./g,".*."),"i"),E=I.files[0].name,F=o,J=p,G;if(K.test(E)){I.data={path:H.path()};G=H._createFile(E);if(!G){I.preventDefault()}else{G._uploading=true;H.upload.one("success",function(M){delete G._uploading;G.set(F,M.response[H._getFieldName(F)]);G.set(J,M.response[H._getFieldName(J)]);H._tiles=H.listView.items().filter("["+s.attr("type")+"=f]");H._scroll()})}}else{I.preventDefault();H._showMessage(s.format(L.messages.invalidFileType,E,D))}},_content:function(){var D=this;D.list=f('<ul class="k-reset k-floats k-tiles" />').appendTo(D.element).on("scroll"+x,w(D._scroll,D)).on("dblclick"+x,"li",w(D._dblClick,D));D.listView=new s.ui.ListView(D.list,{dataSource:D.dataSource,template:D._itemTmpl(),editTemplate:D._editTmpl(),selectable:true,autoBind:false,dataBinding:function(E){D.toolbar.find(".k-delete").parent().addClass("k-state-disabled");if(E.action==="remove"||E.action==="sync"){E.preventDefault()}},dataBound:function(){if(D.dataSource.view().length){D._tiles=this.items().filter("["+s.attr("type")+"=f]");D._scroll()}else{this.wrapper.append(m({text:D.options.messages.emptyFolder}))}},change:w(D._listViewChange,D)})},_dataSource:function(){var G=this,E=G.options,J=E.transport,D=A({},z),H={field:o,dir:"asc"},F,I={type:J.type||"imagebrowser",sort:[D,H]};if(r(J)){J.path=w(G.path,G);I.transport=J}if(r(E.schema)){I.schema=E.schema}else{if(J.type&&r(s.data.schemas[J.type])){F=s.data.schemas[J.type]}}if(G.dataSource&&G._errorHandler){G.dataSource.unbind(l,G._errorHandler)}else{G._errorHandler=w(G._error,G)}G.dataSource=s.data.DataSource.create(I).bind(l,G._errorHandler)},_loadImage:function(D){var J=this,I=f(D),H=J.dataSource.getByUid(I.attr(s.attr("uid"))),G=H.get(o),K=J.options.transport.thumbnailUrl,F=f("<img />",{alt:G}),E="?";if(H._uploading){return}F.hide().on("load"+x,function(){f(this).prev().remove().end().addClass("k-image").fadeIn()});I.find(".k-loading").after(F);if(a(K)){K=K(J.path(),encodeURIComponent(G))}else{if(K.indexOf("?")>=0){E="&"}K=K+E+"path="+J.path()+encodeURIComponent(G)}F.attr("src",K);D.loaded=true},_scroll:function(){var D=this;if(D.options.transport&&D.options.transport.thumbnailUrl){clearTimeout(D._timeout);D._timeout=setTimeout(function(){var F=D.list.outerHeight(),E=D.list.scrollTop(),G=E+F;D._tiles.each(function(){var I=y(this),H=I+this.offsetHeight;if((I>=E&&I<G)||(H>=E&&H<G)){D._loadImage(this)}if(I>G){return false}});D._tiles=D._tiles.filter(function(){return !this.loaded})},250)}},_itemTmpl:function(){var E=this,D='<li class="k-tile" '+s.attr("uid")+'="#=uid#" ';D+=s.attr("type")+'="${'+b+'}">';D+="#if("+b+' == "d") { #';D+='<div class="k-thumb"><span class="k-icon k-folder"></span></div>';D+="#}else{#";if(E.options.transport&&E.options.transport.thumbnailUrl){D+='<div class="k-thumb"><span class="k-icon k-loading"></span></div>'}else{D+='<div class="k-thumb"><span class="k-icon k-file"></span></div>'}D+="#}#";D+="<strong>${"+o+"}</strong>";D+="#if("+b+' == "f") { # <span class="k-filesize">${this.sizeFormatter('+p+")}</span> #}#";D+="</li>";return w(s.template(D),{sizeFormatter:n})}});s.ui.plugin(k)})(window.kendo.jQuery);(function(f,g){var m=window.kendo,r=m.Class,c=m.ui.Widget,h=m.support.mobileOS,u=m.support.browser,s=f.extend,p=f.proxy,k=m.deepExtend,q=".kendoEditor",l=m.keys;var n=r.extend({init:function(w){this.options=w},getHtml:function(){var w=this.options;return m.template(w.template,{useWithBlock:false})(w)}});var j={editorWrapperTemplate:'<table cellspacing="4" cellpadding="0" class="k-widget k-editor k-header" role="presentation"><tbody><tr role="presentation"><td class="k-editor-toolbar-wrap" role="presentation"><ul class="k-editor-toolbar" role="toolbar" /></td></tr><tr><td class="k-editable-area" /></tr></tbody></table>',buttonTemplate:'<a href="" role="button" class="k-tool"#= data.popup ? " data-popup" : "" # unselectable="on" title="#= data.title #"><span unselectable="on" class="k-tool-icon #= data.cssClass #">#= data.title #</span></a>',colorPickerTemplate:'<div class="k-colorpicker #= data.cssClass #" />',comboBoxTemplate:'<select title="#= data.title #" class="#= data.cssClass #" />',dropDownListTemplate:'<span class="k-editor-dropdown"><select title="#= data.title #" class="#= data.cssClass #" /></span>',separatorTemplate:'<span class="k-separator" />',formatByName:function(w,y){for(var x=0;x<y.length;x++){if(f.inArray(w,y[x].tags)>=0){return y[x]}}},registerTool:function(x,w){var y=w.options;if(y&&y.template){y.template.options.cssClass="k-"+x}if(!w.name){w.options.name=x;w.name=x.toLowerCase()}o.defaultTools[x]=w},registerFormat:function(w,x){o.fn.options.formats[w]=x}};var t={bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",superscript:"Superscript",subscript:"Subscript",justifyCenter:"Center text",justifyLeft:"Align text left",justifyRight:"Align text right",justifyFull:"Justify",insertUnorderedList:"Insert unordered list",insertOrderedList:"Insert ordered list",indent:"Indent",outdent:"Outdent",createLink:"Insert hyperlink",unlink:"Remove hyperlink",insertImage:"Insert image",insertFile:"Insert file",insertHtml:"Insert HTML",viewHtml:"View HTML",fontName:"Select font family",fontNameInherit:"(inherited font)",fontSize:"Select font size",fontSizeInherit:"(inherited size)",formatBlock:"Format",formatting:"Format",foreColor:"Color",backColor:"Background color",style:"Styles",emptyFolder:"Empty Folder",uploadFile:"Upload",orderBy:"Arrange by:",orderBySize:"Size",orderByName:"Name",invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',deleteFile:'Are you sure you want to delete "{0}"?',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',directoryNotFound:"A directory with this name was not found.",imageWebAddress:"Web address",imageAltText:"Alternate text",imageWidth:"Width (px)",imageHeight:"Height (px)",fileWebAddress:"Web address",fileTitle:"Title",linkWebAddress:"Web address",linkText:"Text",linkToolTip:"ToolTip",linkOpenInNewWindow:"Open link in new window",dialogUpdate:"Update",dialogInsert:"Insert",dialogCancel:"Cancel",createTable:"Create table",createTableHint:"Create a {0} x {1} table",addColumnLeft:"Add column on the left",addColumnRight:"Add column on the right",addRowAbove:"Add row above",addRowBelow:"Add row below",deleteRow:"Delete row",deleteColumn:"Delete column"};var a=!h||(h.ios&&h.flatVersion>=500)||(!h.ios&&typeof(document.documentElement.contentEditable)!="undefined");var d={basic:["bold","italic","underline"],alignment:["justifyLeft","justifyCenter","justifyRight"],lists:["insertUnorderedList","insertOrderedList"],indenting:["indent","outdent"],links:["createLink","unlink"],tables:["createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"]};var o=c.extend({init:function(y,x){var B=this,C,D=m.ui.editor,w,A,z;if(!a){return}c.fn.init.call(B,y,x);B.options=k({},B.options,x);y=B.element;z=D.Dom.name(y[0]);y.closest("form").on("submit"+q,function(){B.update()});A=s({},B.options);A.editor=B;if(z=="textarea"){B._wrapTextarea();w=B.wrapper.find(".k-editor-toolbar");if(y[0].id){w.attr("aria-controls",y[0].id)}}else{B.element.attr("contenteditable",true).addClass("k-widget k-editor k-editor-inline");A.popup=true;w=f('<ul class="k-editor-toolbar" role="toolbar" />').insertBefore(y)}B.toolbar=new D.Toolbar(w[0],A);B.toolbar.bindTo(B);if(z=="textarea"){setTimeout(function(){var E=B.wrapper[0].style.height;var F=parseInt(E,10);var G=B.wrapper.height();if(E.indexOf("px")>0&&!isNaN(F)&&G>F){B.wrapper.height(F-(G-F))}})}B._initializeContentElement(B);B.keyboard=new D.Keyboard([new D.TypingHandler(B),new D.BackspaceHandler(B),new D.SystemHandler(B)]);B.clipboard=new D.Clipboard(this);B.undoRedoStack=new D.UndoRedoStack();if(x&&x.value){C=x.value}else{if(B.textarea){C=y.val().replace(/[\r\n\v\f\t ]+/ig," ")}else{C=y[0].innerHTML}}B.value(C);f(document).on("mousedown",p(B._endTyping,B)).on("mouseup",p(B._mouseup,B));m.notify(B)},_endTyping:function(){var w=this.keyboard;try{if(w.isTypingInProgress()){w.endTyping(true);this.saveSelection()}}catch(x){}},_selectionChange:function(){if(!u.msie){m.ui.editor.Dom.ensureTrailingBreaks(this.body)}this._selectionStarted=false;this.saveSelection();this.trigger("select",{})},_wrapTextarea:function(){var D=this,z=D.element,y=z[0].style.width,C=z[0].style.height,B=j.editorWrapperTemplate,x=f(B).insertBefore(z).width(y).height(C),A=x.find(".k-editable-area");z.attr("autocomplete","off").appendTo(A).addClass("k-content k-raw-content").css("display","none");D.textarea=z;D.wrapper=x},_createContentElement:function(E){var A=this;var z,x,C;var D=A.textarea;var B=A.options.domain;var y=B||document.domain;var F="";var w='javascript:""';if(B||y!=location.hostname){F='<script>document.domain="'+y+'"<\/script>';w="javascript:document.write('"+F+"')"}D.hide();z=f("<iframe />",{frameBorder:"0"})[0];f(z).css("display","").addClass("k-content").insertBefore(D);z.src=w;x=z.contentWindow||z;C=x.document||z.contentDocument;f(z).one("load",function(){A.toolbar.decorateFrom(C.body)});C.open();C.write("<!DOCTYPE html><html><head><meta charset='utf-8' /><style>html,body{padding:0;margin:0;height:100%;min-height:100%;}body{font-size:12px;font-family:Verdana,Geneva,sans-serif;padding-top:1px;margin-top:-1px;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;"+(m.support.isRtl(D)?"direction:rtl;":"")+"}h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em}h3{font-size:1.16em}h4{font-size:1em}h5{font-size:.83em}h6{font-size:.7em}p{margin:0 0 1em;padding:0 .2em}.k-marker{display:none;}.k-paste-container,.Apple-style-span{position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden}ul,ol{padding-left:2.5em}span{-ms-high-contrast-adjust:none;}a{color:#00a}code{font-size:1.23em}telerik\\3Ascript{display: none;}.k-table{table-layout:fixed;width:100%;border-spacing:0;margin: 0 0 1em;}.k-table td{min-width:1px;padding:.2em .3em;}.k-table,.k-table td{outline:0;border: 1px dotted #ccc;}.k-table p{margin:0;padding:0;}</style>"+F+"<script>(function(d,c){d[c]('header'),d[c]('article'),d[c]('nav'),d[c]('section'),d[c]('footer');})(document, 'createElement');<\/script>"+f.map(E,function(G){return"<link rel='stylesheet' href='"+G+"'>"}).join("")+"</head><body autocorrect='off' contenteditable='true'></body></html>");C.close();return x},_blur:function(){var x=this.textarea;var w=x?x.val():this._oldValue;var y=this.options.encoded?this.encodedValue():this.value();this.update();if(x){x.trigger("blur")}if(y!=w){this.trigger("change")}},_initializeContentElement:function(){var w=this;var z;var x;if(w.textarea){w.window=w._createContentElement(w.options.stylesheets);z=w.document=w.window.contentDocument||w.window.document;w.body=z.body;x=w.window;f(z).on("mouseup"+q,p(w._mouseup,w))}else{w.window=window;z=w.document=document;w.body=w.element[0];x=w.body;w.toolbar.decorateFrom(w.body)}f(x).on("blur"+q,p(this._blur,this));try{z.execCommand("enableInlineTableEditing",null,false)}catch(y){}if(m.support.touch){f(z).on("selectionchange"+q,p(this._selectionChange,this)).on("keydown"+q,function(){if(m._activeElement()!=z.body){w.window.focus()}})}f(w.body).on("keydown"+q,function(F){var B;if(F.keyCode===l.F10){setTimeout(p(w.toolbar.focus,w.toolbar),100);F.preventDefault();return}else{if(F.keyCode==l.LEFT||F.keyCode==l.RIGHT){B=w.getRange();var E=F.keyCode==l.LEFT;var A=B[E?"startContainer":"endContainer"];var G=B[E?"startOffset":"endOffset"];var D=E?-1:1;if(E){G-=1}if(G+D>0&&A.nodeType==3&&A.nodeValue[G]=="\ufeff"){B.setStart(A,G+D);B.collapse(true);w.selectRange(B)}}}var C=w.keyboard.toolFromShortcut(w.toolbar.tools,F);if(C){F.preventDefault();if(!/^(undo|redo)$/.test(C)){w.keyboard.endTyping(true)}w.trigger("keydown",F);w.exec(C);return false}w.keyboard.clearTimeout();w.keyboard.keydown(F)}).on("keyup"+q,function(B){var A=[8,9,33,34,35,36,37,38,39,40,40,45,46];if(f.inArray(B.keyCode,A)>-1||(B.keyCode==65&&B.ctrlKey&&!B.altKey&&!B.shiftKey)){w._selectionChange()}w.keyboard.keyup(B)}).on("mousedown"+q,function(B){w._selectionStarted=true;if(u.gecko){return}var A=f(B.target);if((B.which==2||(B.which==1&&B.ctrlKey))&&A.is("a[href]")){window.open(A.attr("href"),"_new")}}).on("click"+q,function(B){var C=m.ui.editor.Dom,A;if(C.name(B.target)==="img"){A=w.createRange();A.selectNode(B.target);w.selectRange(A)}}).on("cut"+q+" paste"+q,function(A){w.clipboard["on"+A.type](A)}).on("focusin"+q,function(){f(this).addClass("k-state-active");w.toolbar.show()}).on("focusout"+q,function(){setTimeout(function(){var C=m._activeElement();var A=w.body;var B=w.toolbar;if(C!=A&&!f.contains(A,C)&&!f(C).is(".k-editortoolbar-dragHandle")&&!B.focused()){f(A).removeClass("k-state-active");B.hide()}},10)})},_mouseup:function(){var w=this;if(w._selectionStarted){setTimeout(function(){w._selectionChange()},1)}},refresh:function(){var w=this;if(w.textarea){w.textarea.val(w.value());w.wrapper.find("iframe").remove();w._initializeContentElement(w);w.value(w.textarea.val())}},events:["select","change","execute","error","paste","keydown","keyup"],options:{name:"Editor",messages:t,formats:{},encoded:true,domain:null,serialization:{entities:true,scripts:false},stylesheets:[],dialogOptions:{modal:true,resizable:false,draggable:true,animation:false},fontName:[{text:"Arial",value:"Arial,Helvetica,sans-serif"},{text:"Courier New",value:"'Courier New',Courier,monospace"},{text:"Georgia",value:"Georgia,serif"},{text:"Impact",value:"Impact,Charcoal,sans-serif"},{text:"Lucida Console",value:"'Lucida Console',Monaco,monospace"},{text:"Tahoma",value:"Tahoma,Geneva,sans-serif"},{text:"Times New Roman",value:"'Times New Roman',Times,serif"},{text:"Trebuchet MS",value:"'Trebuchet MS',Helvetica,sans-serif"},{text:"Verdana",value:"Verdana,Geneva,sans-serif"}],fontSize:[{text:"1 (8pt)",value:"xx-small"},{text:"2 (10pt)",value:"x-small"},{text:"3 (12pt)",value:"small"},{text:"4 (14pt)",value:"medium"},{text:"5 (18pt)",value:"large"},{text:"6 (24pt)",value:"x-large"},{text:"7 (36pt)",value:"xx-large"}],formatBlock:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],tools:[].concat.call(["formatting"],d.basic,d.alignment,d.lists,d.indenting,d.links,["insertImage"],d.tables)},destroy:function(){var w=this;c.fn.destroy.call(w);f(w.window).add(w.document).add(w.body).add(w.wrapper).add(w.element.closest("form")).off(q);f(document).off("mousedown",p(w._endTyping,w)).off("mouseup",p(w._mouseup,w));w._focusOutside();w.toolbar.destroy();m.destroy(w.wrapper)},_focusOutside:function(){if(m.support.browser.msie&&this.textarea){var w=f("<input style='position:absolute;left:-10px;top:-10px;width:1px;height:1px;font-size:0;border:0;' />").appendTo(document.body).focus();w.blur().remove()}},state:function(A){var x=o.defaultTools[A];var B=x&&(x.options.finder||x.finder);var y=m.ui.editor.RangeUtils;var w,z;if(B){w=this.getRange();z=y.textNodes(w);if(!z.length&&w.collapsed){z=[w.startContainer]}return B.getFormat?B.getFormat(z):B.isFormatted(z)}return false},value:function(y){var w=this.body,A=m.ui.editor,z=A.Dom,x=A.Serializer.domToXhtml(w,this.options.serialization);if(y===g){return x}if(y==x){return}A.Serializer.htmlToDom(y,w);if(!u.msie){m.ui.editor.Dom.ensureTrailingBreaks(this.body)}this.selectionRestorePoint=null;this.update();this.toolbar.refreshTools()},saveSelection:function(y){y=y||this.getRange();var x=y.commonAncestorContainer,w=this.body;if(x==w||f.contains(w,x)){this.selectionRestorePoint=new m.ui.editor.RestorePoint(y)}},_focusBody:function(){var w=this.body;var x=this.wrapper&&this.wrapper.find("iframe")[0];var z=this.document.documentElement;var y=m._activeElement();if(y!=w&&y!=x){var A=z.scrollTop;w.focus();z.scrollTop=A}},restoreSelection:function(){this._focusBody();if(this.selectionRestorePoint){this.selectRange(this.selectionRestorePoint.toRange())}},focus:function(){this.restoreSelection()},update:function(w){w=w||this.options.encoded?this.encodedValue():this.value();if(this.textarea){this.textarea.val(w)}else{this._oldValue=w}},encodedValue:function(){return m.ui.editor.Dom.encode(this.value())},createRange:function(w){return m.ui.editor.RangeUtils.createRange(w||this.document)},getSelection:function(){return m.ui.editor.SelectionUtils.selectionFromDocument(this.document)},selectRange:function(w){this._focusBody();var x=this.getSelection();x.removeAllRanges();x.addRange(w);this.saveSelection(w)},getRange:function(){var x=this.getSelection(),w=x&&x.rangeCount>0?x.getRangeAt(0):this.createRange(),y=this.document;if(w.startContainer==y&&w.endContainer==y&&!w.startOffset&&!w.endOffset){w.setStart(this.body,0);w.collapse(true)}return w},selectedHtml:function(){return m.ui.editor.Serializer.domToXhtml(this.getRange().cloneContents())},paste:function(x,w){this.clipboard.paste(x,w)},exec:function(y,B){var z=this,w,x,A=null;if(!y){throw new Error("kendoEditor.exec(): `name` parameter cannot be empty")}y=y.toLowerCase();if(!z.keyboard.isTypingInProgress()){z.restoreSelection()}x=z.toolbar.toolById(y);if(!x){for(var C in o.defaultTools){if(C.toLowerCase()==y){x=o.defaultTools[C];break}}}if(x){w=z.getRange();if(x.command){A=x.command(s({range:w},B))}z.trigger("execute",{name:y,command:A});if(/^(undo|redo)$/i.test(y)){z.undoRedoStack[y]()}else{if(A){if(!A.managesUndoRedo){z.undoRedoStack.push(A)}A.editor=z;A.exec();if(A.async){A.change=p(z._selectionChange,z);return}}}z._selectionChange()}}});o.defaultTools={undo:{options:{key:"Z",ctrl:true}},redo:{options:{key:"Y",ctrl:true}}};m.ui.plugin(o);var i=r.extend({init:function(w){this.options=w},initialize:function(x,w){x.attr({unselectable:"on",title:w.title})},command:function(w){return new this.options.command(w)},update:f.noop});i.exec=function(x,w,y){x.exec(w,{value:y})};var e=i.extend({init:function(w){i.fn.init.call(this,w)},command:function(w){var x=this;return new m.ui.editor.FormatCommand(s(w,{formatter:x.options.formatter}))},update:function(y,x){var w=this.options.finder.isFormatted(x);y.toggleClass("k-state-selected",w);y.attr("aria-pressed",w)}});j.registerTool("separator",new i({template:new n({template:j.separatorTemplate})}));var v=u.msie&&u.version<9?"\ufeff":"";var b='<br class="k-br" />';if(u.msie){if(u.version<10){b="\ufeff"}else{if(u.version<11){b=" "}}}s(m.ui,{editor:{ToolTemplate:n,EditorUtils:j,Tool:i,FormatTool:e,_bomFill:v,emptyElementContent:b}})})(window.jQuery);(function(j){var s=window.kendo,D=j.map,B=j.extend,C=s.support.browser,l="style",p="float",k="cssFloat",y="styleFloat",e="class",o="k-marker";function t(F){var H={},G,E;for(G=0,E=F.length;G<E;G++){H[F[G]]=true}return H}var n=t("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed".split(",")),u="div,p,h1,h2,h3,h4,h5,h6,address,applet,blockquote,button,center,dd,dir,dl,dt,fieldset,form,frameset,hr,iframe,isindex,map,menu,noframes,noscript,object,pre,script,table,tbody,td,tfoot,th,thead,tr,header,article,nav,footer,section,aside,main,figure,figcaption".split(","),i=u.concat(["ul","ol","li"]),m=t(i),q="span,em,a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,strike,strong,sub,sup,textarea,tt,u,var,data,time,mark,ruby".split(","),h=t(q),g=t("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected".split(","));var x=function(E){if(E.nodeType==1){E.normalize()}};if(C.msie&&C.version>=8){x=function(E){if(E.nodeType==1&&E.firstChild){var G=E.firstChild,F=G;while(true){F=F.nextSibling;if(!F){break}if(F.nodeType==3&&G.nodeType==3){F.nodeValue=G.nodeValue+F.nodeValue;d.remove(G)}G=F}}}}var A=/^\s+$/,b=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,v=/\ufeff/g,f=/^(\s+|\ufeff)$/,c,r=("color,padding-left,padding-right,padding-top,padding-bottom,background-color,background-attachment,background-image,background-position,background-repeat,border-top-style,border-top-width,border-top-color,border-bottom-style,border-bottom-width,border-bottom-color,border-left-style,border-left-width,border-left-color,border-right-style,border-right-width,border-right-color,font-family,font-size,font-style,font-variant,font-weight,line-height").split(","),a=/[<>\&]/g,z=/[\u00A0-\u2666<>\&]/g,w={34:"quot",38:"amp",39:"apos",60:"lt",62:"gt",160:"nbsp",161:"iexcl",162:"cent",163:"pound",164:"curren",165:"yen",166:"brvbar",167:"sect",168:"uml",169:"copy",170:"ordf",171:"laquo",172:"not",173:"shy",174:"reg",175:"macr",176:"deg",177:"plusmn",178:"sup2",179:"sup3",180:"acute",181:"micro",182:"para",183:"middot",184:"cedil",185:"sup1",186:"ordm",187:"raquo",188:"frac14",189:"frac12",190:"frac34",191:"iquest",192:"Agrave",193:"Aacute",194:"Acirc",195:"Atilde",196:"Auml",197:"Aring",198:"AElig",199:"Ccedil",200:"Egrave",201:"Eacute",202:"Ecirc",203:"Euml",204:"Igrave",205:"Iacute",206:"Icirc",207:"Iuml",208:"ETH",209:"Ntilde",210:"Ograve",211:"Oacute",212:"Ocirc",213:"Otilde",214:"Ouml",215:"times",216:"Oslash",217:"Ugrave",218:"Uacute",219:"Ucirc",220:"Uuml",221:"Yacute",222:"THORN",223:"szlig",224:"agrave",225:"aacute",226:"acirc",227:"atilde",228:"auml",229:"aring",230:"aelig",231:"ccedil",232:"egrave",233:"eacute",234:"ecirc",235:"euml",236:"igrave",237:"iacute",238:"icirc",239:"iuml",240:"eth",241:"ntilde",242:"ograve",243:"oacute",244:"ocirc",245:"otilde",246:"ouml",247:"divide",248:"oslash",249:"ugrave",250:"uacute",251:"ucirc",252:"uuml",253:"yacute",254:"thorn",255:"yuml",402:"fnof",913:"Alpha",914:"Beta",915:"Gamma",916:"Delta",917:"Epsilon",918:"Zeta",919:"Eta",920:"Theta",921:"Iota",922:"Kappa",923:"Lambda",924:"Mu",925:"Nu",926:"Xi",927:"Omicron",928:"Pi",929:"Rho",931:"Sigma",932:"Tau",933:"Upsilon",934:"Phi",935:"Chi",936:"Psi",937:"Omega",945:"alpha",946:"beta",947:"gamma",948:"delta",949:"epsilon",950:"zeta",951:"eta",952:"theta",953:"iota",954:"kappa",955:"lambda",956:"mu",957:"nu",958:"xi",959:"omicron",960:"pi",961:"rho",962:"sigmaf",963:"sigma",964:"tau",965:"upsilon",966:"phi",967:"chi",968:"psi",969:"omega",977:"thetasym",978:"upsih",982:"piv",8226:"bull",8230:"hellip",8242:"prime",8243:"Prime",8254:"oline",8260:"frasl",8472:"weierp",8465:"image",8476:"real",8482:"trade",8501:"alefsym",8592:"larr",8593:"uarr",8594:"rarr",8595:"darr",8596:"harr",8629:"crarr",8656:"lArr",8657:"uArr",8658:"rArr",8659:"dArr",8660:"hArr",8704:"forall",8706:"part",8707:"exist",8709:"empty",8711:"nabla",8712:"isin",8713:"notin",8715:"ni",8719:"prod",8721:"sum",8722:"minus",8727:"lowast",8730:"radic",8733:"prop",8734:"infin",8736:"ang",8743:"and",8744:"or",8745:"cap",8746:"cup",8747:"int",8756:"there4",8764:"sim",8773:"cong",8776:"asymp",8800:"ne",8801:"equiv",8804:"le",8805:"ge",8834:"sub",8835:"sup",8836:"nsub",8838:"sube",8839:"supe",8853:"oplus",8855:"otimes",8869:"perp",8901:"sdot",8968:"lceil",8969:"rceil",8970:"lfloor",8971:"rfloor",9001:"lang",9002:"rang",9674:"loz",9824:"spades",9827:"clubs",9829:"hearts",9830:"diams",338:"OElig",339:"oelig",352:"Scaron",353:"scaron",376:"Yuml",710:"circ",732:"tilde",8194:"ensp",8195:"emsp",8201:"thinsp",8204:"zwnj",8205:"zwj",8206:"lrm",8207:"rlm",8211:"ndash",8212:"mdash",8216:"lsquo",8217:"rsquo",8218:"sbquo",8220:"ldquo",8221:"rdquo",8222:"bdquo",8224:"dagger",8225:"Dagger",8240:"permil",8249:"lsaquo",8250:"rsaquo",8364:"euro"};var d={block:m,inline:h,findNodeIndex:function(F,G){var E=0;if(!F){return -1}while(true){F=F.previousSibling;if(!F){break}if(!(G&&F.nodeType==3)){E++}}return E},isDataNode:function(E){return E&&E.nodeValue!==null&&E.data!==null},isAncestorOf:function(E,F){try{return !d.isDataNode(E)&&(j.contains(E,d.isDataNode(F)?F.parentNode:F)||F.parentNode==E)}catch(G){return false}},isAncestorOrSelf:function(E,F){return d.isAncestorOf(E,F)||E==F},findClosestAncestor:function(E,F){if(d.isAncestorOf(E,F)){while(F&&F.parentNode!=E){F=F.parentNode}}return F},getNodeLength:function(E){return d.isDataNode(E)?E.length:E.childNodes.length},splitDataNode:function(G,I){var E=G.cloneNode(false),H="",F=G;while(F.nextSibling&&F.nextSibling.nodeType==3&&F.nextSibling.nodeValue){H+=F.nextSibling.nodeValue;F=F.nextSibling}G.deleteData(I,G.length);E.deleteData(0,I);E.nodeValue+=H;d.insertAfter(E,G)},attrEquals:function(G,E){for(var F in E){var H=G[F];if(F==p){H=G[s.support.cssFloat?k:y]}if(typeof H=="object"){if(!d.attrEquals(H,E[F])){return false}}else{if(H!=E[F]){return false}}}return true},blockParentOrBody:function(E){return d.parentOfType(E,i)||E.ownerDocument.body},blockParents:function(F){var I=[],G,E;for(G=0,E=F.length;G<E;G++){var H=d.parentOfType(F[G],d.blockElements);if(H&&j.inArray(H,I)<0){I.push(H)}}return I},windowFromDocument:function(E){return E.defaultView||E.parentWindow},normalize:x,blockElements:i,nonListBlockElements:u,inlineElements:q,empty:n,fillAttrs:g,toHex:function(E){var F=b.exec(E);if(!F){return E}return"#"+D(F.slice(1),function(G){G=parseInt(G,10).toString(16);return G.length>1?G:"0"+G}).join("")},encode:function(G,E){var F=(!E||E.entities)?z:a;return G.replace(F,function(J){var H=J.charCodeAt(0);var I=w[H];return I?"&"+I+";":J})},stripBom:function(E){return(E||"").replace(v,"")},insignificant:function(F){var E=F.attributes;return F.className=="k-marker"||(d.is(F,"br")&&(F.className=="k-br"||E._moz_dirty||E._moz_editor_bogus_node))},emptyNode:function(F){var E=j.grep(F.childNodes,function(G){if(d.is(G,"br")){return false}else{if(d.insignificant(G)){return false}else{if(G.nodeType==3&&f.test(G.nodeValue)){return false}else{if(d.is(G,"p")&&d.emptyNode(G)){return false}}}}return true});return !E.length},name:function(E){return E.nodeName.toLowerCase()},significantChildNodes:function(E){return j.grep(E.childNodes,function(F){return F.nodeType!=3||!d.isWhitespace(F)})},lastTextNode:function(F){var E=null;if(F.nodeType==3){return F}for(var G=F.lastChild;G;G=G.previousSibling){E=d.lastTextNode(G);if(E){return E}}return E},is:function(E,F){return d.name(E)==F},isMarker:function(E){return E.className==o},isWhitespace:function(E){return A.test(E.nodeValue)},isBlock:function(E){return m[d.name(E)]},isEmpty:function(E){return n[d.name(E)]},isInline:function(E){return h[d.name(E)]},scrollContainer:function(G){var F=d.windowFromDocument(G),E=(F.contentWindow||F).document||F.ownerDocument||F;if(s.support.browser.webkit||E.compatMode=="BackCompat"){E=E.body}else{E=E.documentElement}return E},scrollTo:function(J){var G=j(d.isDataNode(J)?J.parentNode:J),I=d.windowFromDocument(J.ownerDocument),K=I.innerHeight,E,H,F=d.scrollContainer(J.ownerDocument);if(d.name(G[0])=="br"){G=G.parent()}E=G.offset().top;H=G[0].offsetHeight;if(H+E>F.scrollTop+K){F.scrollTop=H+E-K}},persistScrollTop:function(E){c=d.scrollContainer(E).scrollTop},restoreScrollTop:function(E){d.scrollContainer(E).scrollTop=c},insertAt:function(F,G,E){F.insertBefore(G,F.childNodes[E]||null)},insertBefore:function(F,E){if(E.parentNode){return E.parentNode.insertBefore(F,E)}else{return E}},insertAfter:function(F,E){return E.parentNode.insertBefore(F,E.nextSibling)},remove:function(E){E.parentNode.removeChild(E)},removeTextSiblings:function(F){var E=F.parentNode;while(F.nextSibling&&F.nextSibling.nodeType==3){E.removeChild(F.nextSibling)}while(F.previousSibling&&F.previousSibling.nodeType==3){E.removeChild(F.previousSibling)}},trim:function(F){for(var E=F.childNodes.length-1;E>=0;E--){var G=F.childNodes[E];if(d.isDataNode(G)){if(!d.stripBom(G.nodeValue).length){d.remove(G)}if(d.isWhitespace(G)){d.insertBefore(G,F)}}else{if(G.className!=o){d.trim(G);if(!G.childNodes.length&&!d.isEmpty(G)){d.remove(G)}}}}return F},closest:function(F,E){while(F&&d.name(F)!=E){F=F.parentNode}return F},sibling:function(E,F){do{E=E[F]}while(E&&E.nodeType!=1);return E},next:function(E){return d.sibling(E,"nextSibling")},prev:function(E){return d.sibling(E,"previousSibling")},parentOfType:function(F,E){do{F=F.parentNode}while(F&&!(d.ofType(F,E)));return F},ofType:function(F,E){return j.inArray(d.name(F),E)>=0},changeTag:function(I,H,G){var L=d.create(I.ownerDocument,H),J=I.attributes,K,M,E,N,F;if(!G){for(K=0,M=J.length;K<M;K++){F=J[K];if(F.specified){E=F.nodeName;N=F.nodeValue;if(E==e){L.className=N}else{if(E==l){L.style.cssText=I.style.cssText}else{L.setAttribute(E,N)}}}}}while(I.firstChild){L.appendChild(I.firstChild)}d.insertBefore(L,I);d.remove(I);return L},editableParent:function(E){while(E&&(E.nodeType==3||E.contentEditable!=="true")){E=E.parentNode}return E},wrap:function(E,F){d.insertBefore(F,E);F.appendChild(E);return F},unwrap:function(F){var E=F.parentNode;while(F.firstChild){E.insertBefore(F.firstChild,F)}E.removeChild(F)},create:function(E,G,F){return d.attr(E.createElement(G),F)},attr:function(G,F){F=B({},F);if(F&&l in F){d.style(G,F.style);delete F.style}for(var E in F){if(F[E]===null){G.removeAttribute(E);delete F[E]}else{if(E=="className"){G[E]=F[E]}}}return B(G,F)},style:function(E,F){j(E).css(F||{})},unstyle:function(F,G){for(var E in G){if(E==p){E=s.support.cssFloat?k:y}F.style[E]=""}if(F.style.cssText===""){F.removeAttribute(l)}},inlineStyle:function(E,G,F){var I=j(d.create(E.ownerDocument,G,F)),H;E.appendChild(I[0]);H=D(r,function(J){if(C.msie&&J=="line-height"&&I.css(J)=="1px"){return"line-height:1.5"}else{return J+":"+I.css(J)}}).join(";");I.remove();return H},getEffectiveBackground:function(E){var F=E.css("background-color");if(F.indexOf("rgba(0, 0, 0, 0")<0&&F!=="transparent"){return F}else{if(E[0].tagName.toLowerCase()==="html"){return"Window"}else{return d.getEffectiveBackground(E.parent())}}},removeClass:function(I,J){var H=" "+I.className+" ",G=J.split(" "),F,E;for(F=0,E=G.length;F<E;F++){H=H.replace(" "+G[F]+" "," ")}H=j.trim(H);if(H.length){I.className=H}else{I.removeAttribute(e)}},commonAncestor:function(){var K=arguments.length,L=[],E=Infinity,F=null,I,M,G,J,H;if(!K){return null}if(K==1){return arguments[0]}for(I=0;I<K;I++){M=[];G=arguments[I];while(G){M.push(G);G=G.parentNode}L.push(M.reverse());E=Math.min(E,M.length)}if(K==1){return L[0][0]}for(I=0;I<E;I++){J=L[0][I];for(H=1;H<K;H++){if(J!=L[H][I]){return F}}F=J}return F},closestSplittableParent:function(F){var E;if(F.length==1){E=d.parentOfType(F[0],["ul","ol"])}else{E=d.commonAncestor.apply(null,F)}if(!E){E=d.parentOfType(F[0],["p","td"])||F[0].ownerDocument.body}if(d.isInline(E)){E=d.blockParentOrBody(E)}var H=D(F,d.editableParent);var G=d.commonAncestor(H)[0];if(j.contains(E,G)){E=G}return E},closestEditable:function(H,F){var G=d.parentOfType(H,F);var E=d.editableParent(H);if(G&&E&&j.contains(G,E)){G=E}else{if(!G&&E){G=E}}return G},closestEditableOfType:function(G,F){var E=d.closestEditable(G,F);if(E&&d.ofType(E,F)){return E}},filter:function(J,G,K){var I=0;var F=G.length;var E=[];var H;for(;I<F;I++){H=d.name(G[I]);if((!K&&H==J)||(K&&H!=J)){E.push(G[I])}}return E},ensureTrailingBreaks:function(G){var H=j(G).find("p,td,th");var F=H.length;var E=0;if(F){for(;E<F;E++){d.ensureTrailingBreak(H[E])}}else{d.ensureTrailingBreak(G)}},ensureTrailingBreak:function(H){var G=H.lastChild;var E=G&&d.name(G);var F;if(!E||(E!="br"&&E!="img")||(E=="br"&&G.className!="k-br")){F=H.ownerDocument.createElement("br");F.className="k-br";H.appendChild(F)}}};s.ui.editor.Dom=d})(window.kendo.jQuery);(function(c,e){var k=window.kendo;var m=k.ui.editor;var o=m.Dom;var p=c.extend;var l="xx-small,x-small,small,medium,large,x-large,xx-large".split(",");var q=/"/g;var f=/<br[^>]*>/i;var b=/^\d+(\.\d*)?(px)?$/i;var n=/<p><\/p>/i;var g=/([\w|\-]+)\s*:\s*([^;]+);?/i;var a=/^sizzle-\d+/i;var i=/^k-script-/i;var r=/\s*onerror\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/i;var j=document.createElement("div");j.innerHTML=" <hr>";var h=j.firstChild.nodeType===3;j=null;var d={toEditableHtml:function(t){var s='<br class="k-br">';t=t||"";return t.replace(/<!\[CDATA\[(.*)?\]\]>/g,"<!--[CDATA[$1]]-->").replace(/<script([^>]*)>(.*)?<\/script>/ig,"<k:script$1>$2</k:script>").replace(/<img([^>]*)>/ig,function(u){return u.replace(r,"")}).replace(/(<\/?img[^>]*>)[\r\n\v\f\t ]+/ig,"$1").replace(/^<(table|blockquote)/i,s+"<$1").replace(/<\/(table|blockquote)>$/i,"</$1>"+s)},_fillEmptyElements:function(s){c(s).find("p").each(function(){var u=c(this);if(/^\s*$/g.test(u.text())&&!u.find("img,input").length){var t=this;while(t.firstChild&&t.firstChild.nodeType!=3){t=t.firstChild}if(t.nodeType==1&&!o.empty[o.name(t)]){t.innerHTML=k.ui.editor.emptyElementContent}}})},_removeSystemElements:function(s){c(".k-paste-container",s).remove()},_resetOrderedLists:function(s){var w=s.getElementsByTagName("ol"),v,t,u;for(v=0;v<w.length;v++){t=w[v];u=t.getAttribute("start");t.setAttribute("start",1);if(u){t.setAttribute("start",u)}else{t.removeAttribute(u)}}},_preventScriptExecution:function(s){c(s).find("*").each(function(){var u=this.attributes;var x,w,t,v;for(w=0,t=u.length;w<t;w++){x=u[w];v=x.nodeName;if(x.specified&&/^on/i.test(v)){this.setAttribute("k-script-"+v,x.value);this.removeAttribute(v)}}})},htmlToDom:function(x,t){var w=k.support.browser;var v=w.msie;var y=v&&w.version<9;x=d.toEditableHtml(x);if(y){x="<br/>"+x;var s="originalsrc",u="originalhref";x=x.replace(/href\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,u+'="$1"');x=x.replace(/src\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,s+'="$1"')}t.innerHTML=x;if(y){o.remove(t.firstChild);c(t).find("k\\:script,script,link,img,a").each(function(){var z=this;if(z[u]){z.setAttribute("href",z[u]);z.removeAttribute(u)}if(z[s]){z.setAttribute("src",z[s]);z.removeAttribute(s)}})}else{if(v){o.normalize(t);d._resetOrderedLists(t)}}d._preventScriptExecution(t);d._fillEmptyElements(t);d._removeSystemElements(t);c("table",t).addClass("k-table");return t},domToXhtml:function(x,A){var B=[];var v={"k:script":{start:function(C){B.push("<script");w(C);B.push(">")},end:function(){B.push("<\/script>")},skipEncoding:true},b:{start:function(){B.push("<strong>")},end:function(){B.push("</strong>")}},i:{start:function(){B.push("<em>")},end:function(){B.push("</em>")}},u:{start:function(){B.push('<span style="text-decoration:underline;">')},end:function(){B.push("</span>")}},iframe:{start:function(C){B.push("<iframe");w(C);B.push(">")},end:function(){B.push("</iframe>")}},font:{start:function(E){B.push('<span style="');var C=E.getAttribute("color");var D=l[E.getAttribute("size")];var F=E.getAttribute("face");if(C){B.push("color:");B.push(o.toHex(C));B.push(";")}if(F){B.push("font-face:");B.push(F);B.push(";")}if(D){B.push("font-size:");B.push(D);B.push(";")}B.push('">')},end:function(){B.push("</span>")}}};v.script=v["k:script"];A=A||{};function y(G){var C=c.trim;var F=C(G).split(";");var E,H=F.length;var D;var J,I;for(E=0,H=F.length;E<H;E++){if(!F[E].length){continue}D=g.exec(F[E]);if(!D){continue}J=C(D[1].toLowerCase());I=C(D[2]);if(J=="font-size-adjust"||J=="font-stretch"){continue}if(J.indexOf("color")>=0){I=o.toHex(I)}else{if(J.indexOf("font")>=0){I=I.replace(q,"'")}else{if(/\burl\(/g.test(I)){I=I.replace(q,"")}}}B.push(J);B.push(":");B.push(I);B.push(";")}}function w(G){var M=[];var I=G.attributes;var F,J,H;var C,L,K;if(o.is(G,"img")){var E=G.style.width,N=G.style.height,D=c(G);if(E&&b.test(E)){D.attr("width",parseInt(E,10));o.unstyle(G,{width:e})}if(N&&b.test(N)){D.attr("height",parseInt(N,10));o.unstyle(G,{height:e})}}for(J=0,H=I.length;J<H;J++){F=I[J];C=F.nodeName;L=F.value;K=F.specified;if(C=="value"&&"value" in G&&G.value){K=true}else{if(C=="type"&&L=="text"){K=true}else{if(C=="class"&&!L){K=false}else{if(a.test(C)){K=false}else{if(C=="complete"){K=false}else{if(C=="altHtml"){K=false}else{if(C=="start"&&(o.is(G,"ul")||o.is(G,"ol"))){K=false}else{if(C.indexOf("_moz")>=0){K=false}else{if(i.test(C)){K=!!A.scripts}}}}}}}}}if(K){M.push(F)}}if(!M.length){return}M.sort(function(P,O){return P.nodeName>O.nodeName?1:P.nodeName<O.nodeName?-1:0});for(J=0,H=M.length;J<H;J++){F=M[J];C=F.nodeName;L=F.value;if(C=="class"&&L=="k-table"){continue}C=C.replace(i,"");B.push(" ");B.push(C);B.push('="');if(C=="style"){y(L||G.style.cssText)}else{if(C=="src"||C=="href"){B.push(k.htmlEncode(G.getAttribute(C,2)))}else{B.push(o.fillAttrs[C]?C:L)}}B.push('"')}}function u(F,E,C){for(var D=F.firstChild;D;D=D.nextSibling){t(D,E,C)}}function z(C){return C.nodeValue.replace(/\ufeff/g,"")}function t(E,K,G){var F=E.nodeType,D,C,J,I,H;if(F==1){D=o.name(E);if(!D||o.insignificant(E)){return}if(o.isInline(E)&&E.childNodes.length==1&&E.firstChild.nodeType==3&&!z(E.firstChild)){return}if(!A.scripts&&(D=="script"||D=="k:script")){return}C=v[D];if(C){C.start(E);u(E,false,C.skipEncoding);C.end(E);return}B.push("<");B.push(D);w(E);if(o.empty[D]){B.push(" />")}else{B.push(">");u(E,K||o.is(E,"pre"));B.push("</");B.push(D);B.push(">")}}else{if(F==3){I=z(E);if(!K&&h){J=E.parentNode;H=E.previousSibling;if(!H){H=(o.isInline(J)?J:E).previousSibling}if(!H||H.innerHTML===""||o.isBlock(H)){I=I.replace(/^[\r\n\v\f\t ]+/,"")}I=I.replace(/ +/," ")}B.push(G?I:o.encode(I,A))}else{if(F==4){B.push("<![CDATA[");B.push(E.data);B.push("]]>")}else{if(F==8){if(E.data.indexOf("[CDATA[")<0){B.push("<!--");B.push(E.data);B.push("-->")}else{B.push("<!");B.push(E.data);B.push(">")}}}}}}function s(C){var E=C.childNodes.length;var D=E&&C.firstChild.nodeType==3;return D&&(E==1||(E==2&&o.insignificant(C.lastChild)))}if(s(x)){return o.encode(z(x.firstChild).replace(/[\r\n\v\f\t ]+/," "),A)}u(x);B=B.join("");if(B.replace(f,"").replace(n,"")===""){return""}return B}};p(m,{Serializer:d})})(window.kendo.jQuery);(function(d){var k=window.kendo,r=k.Class,s=d.extend,l=k.ui.editor,y=k.support.browser,q=l.Dom,b=q.findNodeIndex,z=q.isDataNode,j=q.findClosestAncestor,c=q.getNodeLength,n=q.normalize;var o={selectionFromWindow:function(B){if(!("getSelection" in B)){return new w(B.document)}return B.getSelection()},selectionFromRange:function(B){var C=x.documentFromRange(B);return o.selectionFromDocument(C)},selectionFromDocument:function(B){return o.selectionFromWindow(q.windowFromDocument(B))}};var A=r.extend({init:function(B){d.extend(this,{ownerDocument:B,startContainer:B,endContainer:B,commonAncestorContainer:B,startOffset:0,endOffset:0,collapsed:true})},setStart:function(B,C){this.startContainer=B;this.startOffset=C;a(this);f(this,true)},setEnd:function(B,C){this.endContainer=B;this.endOffset=C;a(this);f(this,false)},setStartBefore:function(B){this.setStart(B.parentNode,b(B))},setStartAfter:function(B){this.setStart(B.parentNode,b(B)+1)},setEndBefore:function(B){this.setEnd(B.parentNode,b(B))},setEndAfter:function(B){this.setEnd(B.parentNode,b(B)+1)},selectNode:function(B){this.setStartBefore(B);this.setEndAfter(B)},selectNodeContents:function(B){this.setStart(B,0);this.setEnd(B,B[B.nodeType===1?"childNodes":"nodeValue"].length)},collapse:function(B){var C=this;if(B){C.setEnd(C.startContainer,C.startOffset)}else{C.setStart(C.endContainer,C.endOffset)}},deleteContents:function(){var C=this,B=C.cloneRange();if(C.startContainer!=C.commonAncestorContainer){C.setStartAfter(j(C.commonAncestorContainer,C.startContainer))}C.collapse(true);(function D(E){while(E.next()){if(E.hasPartialSubtree()){D(E.getSubtreeIterator())}else{E.remove()}}})(new m(B))},cloneContents:function(){var C=x.documentFromRange(this);return(function B(D){var E,F=C.createDocumentFragment();while(E=D.next()){E=E.cloneNode(!D.hasPartialSubtree());if(D.hasPartialSubtree()){E.appendChild(B(D.getSubtreeIterator()))}F.appendChild(E)}return F})(new m(this))},extractContents:function(){var E=this,C=E.cloneRange();if(E.startContainer!=E.commonAncestorContainer){E.setStartAfter(j(E.commonAncestorContainer,E.startContainer))}E.collapse(true);var B=x.documentFromRange(E);return(function D(F){var G,H=B.createDocumentFragment();while(G=F.next()){if(F.hasPartialSubtree()){G=G.cloneNode(false);G.appendChild(D(F.getSubtreeIterator()))}else{F.remove(E.originalRange)}H.appendChild(G)}return H})(new m(C))},insertNode:function(C){var B=this;if(z(B.startContainer)){if(B.startOffset!=B.startContainer.nodeValue.length){q.splitDataNode(B.startContainer,B.startOffset)}q.insertAfter(C,B.startContainer)}else{q.insertAt(B.startContainer,C,B.startOffset)}B.setStart(B.startContainer,B.startOffset)},cloneRange:function(){return d.extend(new A(this.ownerDocument),{startContainer:this.startContainer,endContainer:this.endContainer,commonAncestorContainer:this.commonAncestorContainer,startOffset:this.startOffset,endOffset:this.endOffset,collapsed:this.collapsed,originalRange:this})},toString:function(){var B=this.startContainer.nodeName,C=this.endContainer.nodeName;return[B=="#text"?this.startContainer.nodeValue:B,"(",this.startOffset,") : ",C=="#text"?this.endContainer.nodeValue:C,"(",this.endOffset,")"].join("")}});function i(I,E,B,F){if(I==E){return F-B}var D=E;while(D&&D.parentNode!=I){D=D.parentNode}if(D){return b(D)-B}D=I;while(D&&D.parentNode!=E){D=D.parentNode}if(D){return F-b(D)-1}var C=q.commonAncestor(I,E);var G=I;while(G&&G.parentNode!=C){G=G.parentNode}if(!G){G=C}var H=E;while(H&&H.parentNode!=C){H=H.parentNode}if(!H){H=C}if(G==H){return 0}return b(H)-b(G)}function f(C,D){function B(E){try{return i(E.startContainer,E.endContainer,E.startOffset,E.endOffset)<0}catch(F){return true}}if(B(C)){if(D){C.commonAncestorContainer=C.endContainer=C.startContainer;C.endOffset=C.startOffset}else{C.commonAncestorContainer=C.startContainer=C.endContainer;C.startOffset=C.endOffset}C.collapsed=true}}function a(B){B.collapsed=B.startContainer==B.endContainer&&B.startOffset==B.endOffset;var C=B.startContainer;while(C&&C!=B.endContainer&&!q.isAncestorOf(C,B.endContainer)){C=C.parentNode}B.commonAncestorContainer=C}var m=r.extend({init:function(C){d.extend(this,{range:C,_current:null,_next:null,_end:null});if(C.collapsed){return}var B=C.commonAncestorContainer;this._next=C.startContainer==B&&!z(C.startContainer)?C.startContainer.childNodes[C.startOffset]:j(B,C.startContainer);this._end=C.endContainer==B&&!z(C.endContainer)?C.endContainer.childNodes[C.endOffset]:j(B,C.endContainer).nextSibling},hasNext:function(){return !!this._next},next:function(){var B=this,C=B._current=B._next;B._next=B._current&&B._current.nextSibling!=B._end?B._current.nextSibling:null;if(z(B._current)){if(B.range.endContainer==B._current){C=C.cloneNode(true);C.deleteData(B.range.endOffset,C.length-B.range.endOffset)}if(B.range.startContainer==B._current){C=C.cloneNode(true);C.deleteData(0,B.range.startOffset)}}return C},traverse:function(E){var C=this,D;function B(){C._current=C._next;C._next=C._current&&C._current.nextSibling!=C._end?C._current.nextSibling:null;return C._current}while(D=B()){if(C.hasPartialSubtree()){C.getSubtreeIterator().traverse(E)}else{E(D)}}return D},remove:function(E){var F=this,G=F.range.startContainer==F._current,J=F.range.endContainer==F._current,B,D,I;if(z(F._current)&&(G||J)){B=G?F.range.startOffset:0;D=J?F.range.endOffset:F._current.length;I=D-B;if(E&&(G||J)){if(F._current==E.startContainer&&B<=E.startOffset){E.startOffset-=I}if(F._current==E.endContainer&&D<=E.endOffset){E.endOffset-=I}}F._current.deleteData(B,I)}else{var H=F._current.parentNode;if(E&&(F.range.startContainer==H||F.range.endContainer==H)){var C=b(F._current);if(H==E.startContainer&&C<=E.startOffset){E.startOffset-=1}if(H==E.endContainer&&C<E.endOffset){E.endOffset-=1}}q.remove(F._current)}},hasPartialSubtree:function(){return !z(this._current)&&(q.isAncestorOrSelf(this._current,this.range.startContainer)||q.isAncestorOrSelf(this._current,this.range.endContainer))},getSubtreeIterator:function(){var C=this,B=C.range.cloneRange();B.selectNodeContents(C._current);if(q.isAncestorOrSelf(C._current,C.range.startContainer)){B.setStart(C.range.startContainer,C.range.startOffset)}if(q.isAncestorOrSelf(C._current,C.range.endContainer)){B.setEnd(C.range.endContainer,C.range.endOffset)}return new m(B)}});var w=r.extend({init:function(B){this.ownerDocument=B;this.rangeCount=1},addRange:function(B){var C=this.ownerDocument.body.createTextRange();g(C,B,false);g(C,B,true);C.select()},removeAllRanges:function(){var B=this.ownerDocument.selection;if(B.type!="None"){B.empty()}},getRangeAt:function(){var L,E=new A(this.ownerDocument),H=this.ownerDocument.selection,D,I;try{L=H.createRange();D=L.item?L.item(0):L.parentElement();if(D.ownerDocument!=this.ownerDocument){return E}}catch(G){return E}if(H.type=="Control"){E.selectNode(L.item(0))}else{I=h(L);u(L,E,I,true);u(L,E,I,false);if(E.startContainer.nodeType==9){E.setStart(E.endContainer,E.startOffset)}if(E.endContainer.nodeType==9){E.setEnd(E.startContainer,E.endOffset)}if(L.compareEndPoints("StartToEnd",L)===0){E.collapse(false)}var C=E.startContainer,K=E.endContainer,F=this.ownerDocument.body;if(!E.collapsed&&E.startOffset===0&&E.endOffset==c(E.endContainer)&&!(C==K&&z(C)&&C.parentNode==F)){var J=false,B=false;while(b(C)===0&&C==C.parentNode.firstChild&&C!=F){C=C.parentNode;J=true}while(b(K)==c(K.parentNode)-1&&K==K.parentNode.lastChild&&K!=F){K=K.parentNode;B=true}if(C==F&&K==F&&J&&B){E.setStart(C,0);E.setEnd(K,c(F))}}}return E}});function h(C){var D=C.duplicate(),B=C.duplicate();D.collapse(true);B.collapse(false);return q.commonAncestor(C.parentElement(),D.parentElement(),B.parentElement())}function g(M,G,D){var C=G[D?"startContainer":"endContainer"],F=G[D?"startOffset":"endOffset"],E=0,L=z(C),J=L?C:C.childNodes[F]||null,H=L?C.parentNode:C,I=G.ownerDocument,K=I.body.createTextRange(),B;if(C.nodeType==3||C.nodeType==4){E=F}if(!H){H=I.body}if(H.nodeName.toLowerCase()=="img"){K.moveToElementText(H);K.collapse(false);M.setEndPoint(D?"StartToStart":"EndToStart",K)}else{B=H.insertBefore(q.create(I,"a"),J);K.moveToElementText(B);q.remove(B);K[D?"moveStart":"moveEnd"]("character",E);K.collapse(false);M.setEndPoint(D?"StartToStart":"EndToStart",K)}}function u(O,F,L,C){var B=q.create(F.ownerDocument,"a"),M=O.duplicate(),N=C?"StartToStart":"StartToEnd",P,K,I,G,E,J,H,D=false;B.innerHTML="\ufeff";M.collapse(C);K=M.parentElement();if(!q.isAncestorOrSelf(L,K)){K=L}do{if(D){K.insertBefore(B,B.previousSibling)}else{K.appendChild(B);D=true}M.moveToElementText(B)}while((P=M.compareEndPoints(N,O))>0&&B.previousSibling);I=B.nextSibling;if(P==-1&&z(I)){M.setEndPoint(C?"EndToStart":"EndToEnd",O);q.remove(B);J=[I,M.text.length]}else{G=!C&&B.previousSibling;E=C&&B.nextSibling;if(z(E)){J=[E,0]}else{if(z(G)){J=[G,G.length]}else{H=b(B);if(K.nextSibling&&H==K.childNodes.length-1){J=[K.nextSibling,0]}else{J=[K,H]}}}q.remove(B)}F[C?"setStart":"setEnd"].apply(F,J)}var t=r.extend({init:function(B){this.enumerate=function(){var C=[];function D(E){if(q.is(E,"img")||(E.nodeType==3&&(!q.isWhitespace(E)||E.nodeValue=="\ufeff"))){C.push(E)}else{E=E.firstChild;while(E){D(E);E=E.nextSibling}}}new m(B).traverse(D);return C}}});var v=r.extend({init:function(C,B){var D=this;D.range=C;D.rootNode=x.documentFromRange(C);D.body=B||D.getEditable(C);if(q.name(D.body)!="body"){D.rootNode=D.body}D.html=D.body.innerHTML;D.startContainer=D.nodeToPath(C.startContainer);D.endContainer=D.nodeToPath(C.endContainer);D.startOffset=D.offset(C.startContainer,C.startOffset);D.endOffset=D.offset(C.endContainer,C.endOffset)},index:function(E){var B=0,D=E.nodeType;while(E=E.previousSibling){var C=E.nodeType;if(C!=3||D!=C){B++}D=C}return B},getEditable:function(C){var B=C.commonAncestorContainer;while(B&&(B.nodeType==3||B.attributes&&!B.attributes.contentEditable)){B=B.parentNode}return B},restoreHtml:function(){this.body.innerHTML=this.html},offset:function(B,C){if(B.nodeType==3){while((B=B.previousSibling)&&B.nodeType==3){C+=B.nodeValue.length}}return C},nodeToPath:function(B){var C=[];while(B!=this.rootNode){C.push(this.index(B));B=B.parentNode}return C},toRangePoint:function(B,H,F,E){var D=this.rootNode,C=F.length,G=E;while(C--){D=D.childNodes[F[C]]}while(D&&D.nodeType==3&&D.nodeValue.length<G){G-=D.nodeValue.length;D=D.nextSibling}if(D&&G>=0){B[H?"setStart":"setEnd"](D,G)}},toRange:function(){var C=this,B=C.range.cloneRange();C.toRangePoint(B,true,C.startContainer,C.startOffset);C.toRangePoint(B,false,C.endContainer,C.endOffset);return B}});var e=r.extend({init:function(){this.caret=null},addCaret:function(B){var C=this;C.caret=q.create(x.documentFromRange(B),"span",{className:"k-marker"});B.insertNode(C.caret);B.selectNode(C.caret);return C.caret},removeCaret:function(D){var H=this,G=H.caret.previousSibling,B=0;if(G){B=z(G)?G.nodeValue.length:b(G)}var C=H.caret.parentNode;var E=G?b(G):0;q.remove(H.caret);n(C);var F=C.childNodes[E];if(z(F)){D.setStart(F,B)}else{if(F){var I=q.lastTextNode(F);if(I){D.setStart(I,I.nodeValue.length)}else{D[G?"setStartAfter":"setStartBefore"](F)}}else{if(!y.msie&&!C.innerHTML){C.innerHTML='<br _moz_dirty="" />'}D.selectNodeContents(C)}}D.collapse(true)},add:function(B,C){var F=this;var H=B.collapsed&&!x.isExpandable(B);var G=x.documentFromRange(B);if(C&&B.collapsed){F.addCaret(B);B=x.expand(B)}var E=B.cloneRange();E.collapse(false);F.end=q.create(G,"span",{className:"k-marker"});E.insertNode(F.end);E=B.cloneRange();E.collapse(true);F.start=F.end.cloneNode(true);E.insertNode(F.start);F._removeDeadMarkers(F.start,F.end);if(H){var D=G.createTextNode("\ufeff");q.insertAfter(D.cloneNode(),F.start);q.insertBefore(D,F.end)}n(B.commonAncestorContainer);B.setStartBefore(F.start);B.setEndAfter(F.end);return B},_removeDeadMarkers:function(C,B){if(C.previousSibling&&C.previousSibling.nodeValue=="\ufeff"){q.remove(C.previousSibling)}if(B.nextSibling&&B.nextSibling.nodeValue=="\ufeff"){q.remove(B.nextSibling)}},remove:function(M){var N=this,F=N.start,I=N.end,G,C,B;n(M.commonAncestorContainer);while(!F.nextSibling&&F.parentNode){F=F.parentNode}while(!I.previousSibling&&I.parentNode){I=I.parentNode}G=(F.previousSibling&&F.previousSibling.nodeType==3)&&(F.nextSibling&&F.nextSibling.nodeType==3);C=(I.previousSibling&&I.previousSibling.nodeType==3)&&(I.nextSibling&&I.nextSibling.nodeType==3);B=G&&C;F=F.nextSibling;I=I.previousSibling;var J=false;var H=false;if(F==N.end){H=!!N.start.previousSibling;F=I=N.start.previousSibling||N.end.nextSibling;J=true}q.remove(N.start);q.remove(N.end);if(!F||!I){M.selectNodeContents(M.commonAncestorContainer);M.collapse(true);return}var O=J?z(F)?F.nodeValue.length:F.childNodes.length:0;var P=z(I)?I.nodeValue.length:I.childNodes.length;if(F.nodeType==3){while(F.previousSibling&&F.previousSibling.nodeType==3){F=F.previousSibling;O+=F.nodeValue.length}}if(I.nodeType==3){while(I.previousSibling&&I.previousSibling.nodeType==3){I=I.previousSibling;P+=I.nodeValue.length}}var R=b(F),D=F.parentNode;var L=b(I),E=I.parentNode;for(var K=F;K.previousSibling;K=K.previousSibling){if(K.nodeType==3&&K.previousSibling.nodeType==3){R--}}for(var Q=I;Q.previousSibling;Q=Q.previousSibling){if(Q.nodeType==3&&Q.previousSibling.nodeType==3){L--}}n(D);if(F.nodeType==3){F=D.childNodes[R]}n(E);if(I.nodeType==3){I=E.childNodes[L]}if(J){if(F.nodeType==3){M.setStart(F,O)}else{M[H?"setStartAfter":"setStartBefore"](F)}M.collapse(true)}else{if(F.nodeType==3){M.setStart(F,O)}else{M.setStartBefore(F)}if(I.nodeType==3){M.setEnd(I,P)}else{M.setEndAfter(I)}}if(N.caret){N.removeCaret(M)}}});var p=/[\u0009-\u000d]|\u0020|\u00a0|\ufeff|\.|,|;|:|!|\(|\)|\?/;var x={nodes:function(C){var B=x.textNodes(C);if(!B.length){C.selectNodeContents(C.commonAncestorContainer);B=x.textNodes(C);if(!B.length){B=q.significantChildNodes(C.commonAncestorContainer)}}return B},textNodes:function(B){return new t(B).enumerate()},documentFromRange:function(B){var C=B.startContainer;return C.nodeType==9?C:C.ownerDocument},createRange:function(B){if(y.msie&&y.version<9){return new A(B)}return B.createRange()},selectRange:function(B){var D=x.image(B);if(D){B.setStartAfter(D);B.setEndAfter(D)}var C=o.selectionFromRange(B);C.removeAllRanges();C.addRange(B)},stringify:function(B){return k.format("{0}:{1} - {2}:{3}",q.name(B.startContainer),B.startOffset,q.name(B.endContainer),B.endOffset)},split:function(C,E,B){function D(H){var G=C.cloneRange();G.collapse(H);G[H?"setStartBefore":"setEndAfter"](E);var F=G.extractContents();if(B){F=q.trim(F)}q[H?"insertBefore":"insertAfter"](F,E)}D(true);D(false)},mapAll:function(C,D){var B=[];new m(C).traverse(function(F){var E=D(F);if(E&&d.inArray(E,B)<0){B.push(E)}});return B},getAll:function(D,C){var B=C;if(typeof C=="string"){C=function(E){return q.is(E,B)}}return x.mapAll(D,function(E){if(C(E)){return E}})},getMarkers:function(B){return x.getAll(B,function(C){return C.className=="k-marker"})},image:function(C){var B=x.getAll(C,"img");if(B.length==1){return B[0]}},wrapSelectedElements:function(C){var E=q.editableParent(C.startContainer);var B=q.editableParent(C.endContainer);while(C.startOffset===0&&C.startContainer!=E){C.setStart(C.startContainer.parentNode,q.findNodeIndex(C.startContainer))}function D(I,F){var H=q.getNodeLength(F);if(I==H){return true}for(var G=I;G<H;G++){if(!q.insignificant(F.childNodes[G])){return false}}return true}while(D(C.endOffset,C.endContainer)&&C.endContainer!=B){C.setEnd(C.endContainer.parentNode,q.findNodeIndex(C.endContainer)+1)}return C},expand:function(E){var D=E.cloneRange();var G=D.startContainer.childNodes[D.startOffset===0?0:D.startOffset-1];var I=D.endContainer.childNodes[D.endOffset];if(!z(G)||!z(I)){return D}var H=G.nodeValue;var C=I.nodeValue;if(!H||!C){return D}var B=H.split("").reverse().join("").search(p);var F=C.search(p);if(!B||!F){return D}F=F==-1?C.length:F;B=B==-1?0:H.length-B;D.setStart(G,B);D.setEnd(I,F);return D},isExpandable:function(F){var C=F.startContainer;var B=x.documentFromRange(F);if(C==B||C==B.body){return false}var J=F.cloneRange();var I=C.nodeValue;if(!I){return false}var D=I.substring(0,J.startOffset);var E=I.substring(J.startOffset);var G=0,H=0;if(D){G=D.split("").reverse().join("").search(p)}if(E){H=E.search(p)}return G&&H}};s(l,{SelectionUtils:o,W3CRange:A,RangeIterator:m,W3CSelection:w,RangeEnumerator:t,RestorePoint:v,Marker:e,RangeUtils:x})})(window.kendo.jQuery);(function(d){var m=window.kendo,v=m.Class,w=m.ui.editor,h=w.EditorUtils,n=h.registerTool,u=w.Dom,g=w.Tool,p=w.ToolTemplate,z=w.RestorePoint,f=w.Marker,y=d.extend;function e(D,C){var B=D.selectionRestorePoint=new z(D.getRange());var E=new r(C,B);E.editor=D;D.undoRedoStack.push(E);return B}var s=v.extend({init:function(B){this.options=B;this.restorePoint=new z(B.range);this.marker=new f();this.formatter=B.formatter},getRange:function(){return this.restorePoint.toRange()},lockRange:function(B){return this.marker.add(this.getRange(),B)},releaseRange:function(B){this.marker.remove(B);this.editor.selectRange(B)},undo:function(){var B=this.restorePoint;B.restoreHtml();this.editor.selectRange(B.toRange())},redo:function(){this.exec()},createDialog:function(D,B){var C=this.editor;return d(D).appendTo(document.body).kendoWindow(y({},C.options.dialogOptions,B)).closest(".k-window").toggleClass("k-rtl",m.support.isRtl(C.wrapper)).end()},exec:function(){var B=this.lockRange(true);this.formatter.editor=this.editor;this.formatter.toggle(B);this.releaseRange(B)}});var r=v.extend({init:function(C,B){this.body=C.body;this.startRestorePoint=C;this.endRestorePoint=B},redo:function(){this.body.innerHTML=this.endRestorePoint.html;this.editor.selectRange(this.endRestorePoint.toRange())},undo:function(){this.body.innerHTML=this.startRestorePoint.html;this.editor.selectRange(this.startRestorePoint.toRange())}});var b=s.extend({init:function(B){s.fn.init.call(this,B);this.managesUndoRedo=true},exec:function(){var H=this.editor;var F=this.options;var D=F.range;var B=H.body;var E=new z(D,B);var G=F.html||F.value||"";H.selectRange(D);H.clipboard.paste(G,F);if(F.postProcess){F.postProcess(H,H.getRange())}var C=new r(E,new z(H.getRange(),B));C.editor=H;H.undoRedoStack.push(C);H.focus()}});var o=g.extend({initialize:function(E,D){var C=D.editor,B=this.options,F=B.items?B.items:C.options.insertHtml;new w.SelectBox(E,{dataSource:F,dataTextField:"text",dataValueField:"value",change:function(){g.exec(C,"insertHtml",this.value())},title:C.options.messages.insertHtml,highlightFirst:false})},command:function(B){return new b(B)},update:function(C){var B=C.data("kendoSelectBox")||C.find("select").data("kendoSelectBox");B.close();B.value(B.options.title)}});var t=v.extend({init:function(){this.stack=[];this.currentCommandIndex=-1},push:function(B){this.stack=this.stack.slice(0,this.currentCommandIndex+1);this.currentCommandIndex=this.stack.push(B)-1},undo:function(){if(this.canUndo()){this.stack[this.currentCommandIndex--].undo()}},redo:function(){if(this.canRedo()){this.stack[++this.currentCommandIndex].redo()}},canUndo:function(){return this.currentCommandIndex>=0},canRedo:function(){return this.currentCommandIndex!=this.stack.length-1}});var k=v.extend({init:function(B){this.editor=B},keydown:function(H){var G=this,F=G.editor,B=F.keyboard,E=B.isTypingKey(H),C=y(d.Event(),H);G.editor.trigger("keydown",C);if(C.isDefaultPrevented()){H.preventDefault();return true}if(!C.isDefaultPrevented()&&E&&!B.isTypingInProgress()){var D=F.getRange();G.startRestorePoint=new z(D);B.startTyping(function(){G.endRestorePoint=e(F,G.startRestorePoint)});return true}return false},keyup:function(C){var B=this.editor.keyboard;this.editor.trigger("keyup",C);if(B.isTypingInProgress()){B.endTyping();return true}return false}});var A=v.extend({init:function(B){this.editor=B},keydown:function(G){if(G.keyCode===m.keys.BACKSPACE){var F=this.editor;var C=F.getRange();var B=m.support.browser.msie?"":'<br _moz_dirty="" />';if(C.collapsed){return}G.preventDefault();var D=new z(C);var E=C.commonAncestorContainer;if(/t(able|body|r)/i.test(u.name(E))){C.selectNode(u.closest(E,"table"))}C.deleteContents();E=C.commonAncestorContainer;if(u.name(E)==="p"&&E.innerHTML===""){E.innerHTML=B;C.setStart(E,0);C.collapse(true);F.selectRange(C)}e(F,D)}},keyup:function(){}});var l=v.extend({init:function(B){this.editor=B;this.systemCommandIsInProgress=false},createUndoCommand:function(){this.startRestorePoint=this.endRestorePoint=e(this.editor,this.startRestorePoint)},changed:function(){if(this.startRestorePoint){return this.startRestorePoint.html!=this.editor.body.innerHTML}return false},keydown:function(E){var D=this,C=D.editor,B=C.keyboard;if(B.isModifierKey(E)){if(B.isTypingInProgress()){B.endTyping(true)}D.startRestorePoint=new z(C.getRange());return true}if(B.isSystem(E)){D.systemCommandIsInProgress=true;if(D.changed()){D.systemCommandIsInProgress=false;D.createUndoCommand()}return true}return false},keyup:function(C){var B=this;if(B.systemCommandIsInProgress&&B.changed()){B.systemCommandIsInProgress=false;B.createUndoCommand();return true}return false}});var c=v.extend({init:function(B){this.handlers=B;this.typingInProgress=false},isCharacter:function(B){return(B>=48&&B<=90)||(B>=96&&B<=111)||(B>=186&&B<=192)||(B>=219&&B<=222)||B==229},toolFromShortcut:function(E,D){var B=String.fromCharCode(D.keyCode),C,F;for(C in E){F=d.extend({ctrl:false,alt:false,shift:false},E[C].options);if((F.key==B||F.key==D.keyCode)&&F.ctrl==D.ctrlKey&&F.alt==D.altKey&&F.shift==D.shiftKey){return C}}},isTypingKey:function(C){var B=C.keyCode;return(this.isCharacter(B)&&!C.ctrlKey&&!C.altKey)||B==32||B==13||B==8||(B==46&&!C.shiftKey&&!C.ctrlKey&&!C.altKey)},isModifierKey:function(C){var B=C.keyCode;return(B==17&&!C.shiftKey&&!C.altKey)||(B==16&&!C.ctrlKey&&!C.altKey)||(B==18&&!C.ctrlKey&&!C.shiftKey)},isSystem:function(B){return B.keyCode==46&&B.ctrlKey&&!B.altKey&&!B.shiftKey},startTyping:function(B){this.onEndTyping=B;this.typingInProgress=true},stopTyping:function(){if(this.typingInProgress&&this.onEndTyping){this.onEndTyping()}this.typingInProgress=false},endTyping:function(C){var B=this;B.clearTimeout();if(C){B.stopTyping()}else{B.timeout=window.setTimeout(d.proxy(B.stopTyping,B),1000)}},isTypingInProgress:function(){return this.typingInProgress},clearTimeout:function(){window.clearTimeout(this.timeout)},notify:function(E,D){var C,B=this.handlers;for(C=0;C<B.length;C++){if(B[C][D](E)){break}}},keydown:function(B){this.notify(B,"keydown")},keyup:function(B){this.notify(B,"keyup")}});var i=v.extend({init:function(B){this.editor=B;this.cleaners=[new x(),new q(),new a()]},htmlToFragment:function(D){var E=this.editor,F=E.document,B=u.create(F,"div"),C=F.createDocumentFragment();B.innerHTML=D;while(B.firstChild){C.appendChild(B.firstChild)}return C},isBlock:function(B){return(/<(div|p|ul|ol|table|h[1-6])/i).test(B)},_startModification:function(){var B;var D;var C=this.editor;if(this._inProgress){return}this._inProgress=true;B=C.getRange();D=new z(B);u.persistScrollTop(C.document);return{range:B,restorePoint:D}},_endModification:function(B){e(this.editor,B.restorePoint);this.editor._selectionChange();this._inProgress=false},_contentModification:function(D,F){var C=this;var B=C.editor;var E=C._startModification();if(!E){return}D.call(C,B,E.range);setTimeout(function(){F.call(C,B,E.range);C._endModification(E)})},oncut:function(){this._contentModification(d.noop,d.noop)},_fileToDataURL:function(E,C){var D=E.getAsFile();var B=new FileReader();B.onload=C||d.noop;B.readAsDataURL(D)},_triggerPaste:function(D,C){var B={html:D||""};B.html=B.html.replace(/\ufeff/g,"");this.editor.trigger("paste",B);this.paste(B.html,C||{})},_handleImagePaste:function(D){if(!("FileReader" in window)){return}var C=this;var F=D.clipboardData||D.originalEvent.clipboardData;var B=F&&(F.items||F.files);if(!B||!B.length){return}if(!/^image\//i.test(B[0].type)){return}var E=C._startModification();if(!E){return}this._fileToDataURL(B[0],function(G){C._triggerPaste('<img src="'+G.target.result+'" />');C._endModification(E)});return true},onpaste:function(C){if(this._handleImagePaste(C)){return}this._contentModification(function B(H,F){var K=u.create(H.document,"div",{className:"k-paste-container",innerHTML:"\ufeff"});var G=m.support.browser;H.body.appendChild(K);if(G.msie&&G.version<11){C.preventDefault();var J=H.createRange();J.selectNodeContents(K);H.selectRange(J);var I=H.document.body.createTextRange();I.moveToElementText(K);d(H.body).unbind("paste");I.execCommand("Paste");d(H.body).bind("paste",d.proxy(this.onpaste,this))}else{var E=H.createRange();E.selectNodeContents(K);H.selectRange(E)}F.deleteContents()},function D(I,E){var H="",G={html:""},J;var F=m.support.browser;I.selectRange(E);J=d(I.body).children(".k-paste-container");J.each(function(){var K=this.lastChild;if(K&&u.is(K,"br")){u.remove(K)}H+=this.innerHTML});J.remove();this._triggerPaste(H,{clean:true})})},splittableParent:function(E,D){var C,B;if(E){return u.closestEditableOfType(D,["p","ul","ol"])||D.parentNode}C=D.parentNode;B=D.ownerDocument.body;if(u.isInline(C)){while(C.parentNode!=B&&!u.isBlock(C.parentNode)){C=C.parentNode}}return C},paste:function(H,O){var J=this.editor,F,C;O=y({clean:false,split:true},O);for(F=0,C=this.cleaners.length;F<C;F++){if(this.cleaners[F].applicable(H)){H=this.cleaners[F].clean(H)}}if(O.clean){H=H.replace(/(<br>(\s|&nbsp;)*)+(<\/?(div|p|li|col|t))/ig,"$3");H=H.replace(/<(a|span)[^>]*><\/\1>/ig,"")}H=H.replace(/^<li/i,"<ul><li").replace(/li>$/g,"li></ul>");var D=this.isBlock(H);J.focus();var I=J.getRange();I.deleteContents();if(I.startContainer==J.document){I.selectNodeContents(J.body)}var G=new f();var L=G.addCaret(I);var N=this.splittableParent(D,L);var E=false;var M=N!=J.body&&!u.is(N,"td");if(O.split&&M&&(D||u.isInline(N))){I.selectNode(L);w.RangeUtils.split(I,N,true);E=true}var K=this.htmlToFragment(H);if(K.firstChild&&K.firstChild.className==="k-paste-container"){var B=[];for(F=0,C=K.childNodes.length;F<C;F++){B.push(K.childNodes[F].innerHTML)}K=this.htmlToFragment(B.join("<br />"))}d(K.childNodes).filter("table").addClass("k-table").end().find("table").addClass("k-table");I.insertNode(K);N=this.splittableParent(D,L);if(E){while(L.parentNode!=N){u.unwrap(L.parentNode)}u.unwrap(L.parentNode)}u.normalize(I.commonAncestorContainer);L.style.display="inline";u.restoreScrollTop(J.document);u.scrollTo(L);G.removeCaret(I);J.selectRange(I)}});var j=v.extend({clean:function(D){var F=this,E=F.replacements,C,B;for(C=0,B=E.length;C<B;C+=2){D=D.replace(E[C],E[C+1])}return D}});var x=j.extend({init:function(){this.replacements=[/<(\/?)script([^>]*)>/i,"<$1telerik:script$2>"]},applicable:function(B){return(/<script[^>]*>/i).test(B)}});var q=j.extend({init:function(){this.replacements=[/<\?xml[^>]*>/gi,"",/<!--(.|\n)*?-->/g,"",/&quot;/g,"'",/(?:<br>&nbsp;[\s\r\n]+|<br>)*(<\/?(h[1-6]|hr|p|div|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|address|pre|form|blockquote|dl|dt|dd|dir|fieldset)[^>]*>)(?:<br>&nbsp;[\s\r\n]+|<br>)*/g,"$1",/<br><br>/g,"<BR><BR>",/<br>(?!\n)/g," ",/<table([^>]*)>(\s|&nbsp;)+<t/gi,"<table$1><t",/<tr[^>]*>(\s|&nbsp;)*<\/tr>/gi,"",/<tbody[^>]*>(\s|&nbsp;)*<\/tbody>/gi,"",/<table[^>]*>(\s|&nbsp;)*<\/table>/gi,"",/<BR><BR>/g,"<br>",/^\s*(&nbsp;)+/gi,"",/(&nbsp;|<br[^>]*>)+\s*$/gi,"",/mso-[^;"]*;?/ig,"",/<(\/?)b(\s[^>]*)?>/ig,"<$1strong$2>",/<(\/?)i(\s[^>]*)?>/ig,"<$1em$2>",/<o:p>&nbsp;<\/o:p>/ig,"&nbsp;",/<\/?(meta|link|style|o:|v:|x:)[^>]*>((?:.|\n)*?<\/(meta|link|style|o:|v:|x:)[^>]*>)?/ig,"",/<\/o>/g,"",/style=(["|'])\s*\1/g,"",/(<br[^>]*>)?\n/g,function(C,B){return B?C:" "}]},applicable:function(B){return(/class="?Mso|style="[^"]*mso-/i).test(B)||(/urn:schemas-microsoft-com:office/).test(B)},stripEmptyAnchors:function(B){return B.replace(/<a([^>]*)>\s*<\/a>/ig,function(C,D){if(!D||D.indexOf("href")<0){return""}return C})},listType:function(C){var B;if(/^(<span [^>]*texhtml[^>]*>)?<span [^>]*(Symbol|Wingdings)[^>]*>/i.test(C)){B=true}C=C.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g,"\u00a0");if((!B&&/^[\u2022\u00b7\u00a7\u00d8o]\u00a0+/.test(C))||(B&&/^.\u00a0+/.test(C))){return"ul"}if(/^\s*\w+[\.\)]\u00a0{2,}/.test(C)){return"ol"}},_convertToLi:function(C){var B;if(C.childNodes.length==1){B=C.firstChild.innerHTML.replace(/^\w+[\.\)](&nbsp;)+ /,"")}else{u.remove(C.firstChild);if(C.firstChild.nodeType==3){if(/^[ivx]+\.$/i.test(C.firstChild.nodeValue)){u.remove(C.firstChild)}}if(/^(&nbsp;|\s)+$/i.test(C.firstChild.innerHTML)){u.remove(C.firstChild)}B=C.innerHTML}u.remove(C);return u.create(document,"li",{innerHTML:B})},lists:function(L){var K=d(u.blockElements.join(","),L),B=-1,H,C,O={ul:{},ol:{}},N=L,G,D,J,F,I,M,E;for(G=0;G<K.length;G++){D=K[G];J=this.listType(D.innerHTML);C=u.name(D);if(C=="td"){continue}if(!J||C!="p"){if(!D.innerHTML){u.remove(D)}else{O={ul:{},ol:{}};N=L;B=-1}continue}F=parseFloat(D.style.marginLeft||0);I=O[J][F];if(F>B||!I){I=u.create(document,J);if(N==L){u.insertBefore(I,D)}else{N.appendChild(I)}O[J][F]=I}if(H!=J){for(M in O){for(E in O[M]){if(d.contains(I,O[M][E])){delete O[M][E]}}}}N=this._convertToLi(D);I.appendChild(N);B=F;H=J}},removeAttributes:function(D){var B=D.attributes,C=B.length;while(C--){if(u.name(B[C])!="colspan"){D.removeAttributeNode(B[C])}}},createColGroup:function(E){var C=E.cells;var D=d(E).closest("table");var B=D.children("colgroup");if(C.length<2){return}else{if(B.length){C=B.children();B[0].parentNode.removeChild(B[0])}}B=d(d.map(C,function(F){var G=F.width;if(G&&parseInt(G,10)!==0){return m.format('<col style="width:{0}px;"/>',G)}return"<col />"}).join(""));if(!B.is("colgroup")){B=d("<colgroup/>").append(B)}B.prependTo(D)},convertHeaders:function(E){var B=E.cells,C,D=d.map(B,function(F){var G=d(F).children("p").children("strong")[0];if(G&&u.name(G)=="strong"){return G}});if(D.length==B.length){for(C=0;C<D.length;C++){u.unwrap(D[C])}d(E).closest("table").find("colgroup").after("<thead></thead>").end().find("thead").append(E);for(C=0;C<B.length;C++){u.changeTag(B[C],"th")}}},removeParagraphs:function(E){var F,D,C,B,G;for(F=0;F<E.length;F++){this.removeAttributes(E[F]);B=d(E[F]);G=B.children("p");for(D=0,C=G.length;D<C;D++){if(D<C-1){u.insertAfter(u.create(document,"br"),G[D])}u.unwrap(G[D])}}},removeDefaultColors:function(C){for(var B=0;B<C.length;B++){if(/^\s*color:\s*[^;]*;?$/i.test(C[B].style.cssText)){u.unwrap(C[B])}}},tables:function(I){var E=d(I).find("table"),F=this,G,H,C,D,B;for(D=0;D<E.length;D++){G=E[D].rows;C=H=G[0];for(B=1;B<G.length;B++){if(G[B].cells.length>C.cells.length){C=G[B]}}F.createColGroup(C);F.convertHeaders(H);F.removeAttributes(E[D]);F.removeParagraphs(E.eq(D).find("td,th"));F.removeDefaultColors(E.eq(D).find("span"))}},headers:function(D){var C=d(D).find("p.MsoTitle");for(var B=0;B<C.length;B++){u.changeTag(C[B],"h1")}},clean:function(B){var C=this,D;B=j.fn.clean.call(C,B);B=C.stripEmptyAnchors(B);D=u.create(document,"div",{innerHTML:B});C.headers(D);C.lists(D);C.tables(D);B=D.innerHTML.replace(/(<[^>]*)\s+class="?[^"\s>]*"?/ig,"$1");return B}});var a=j.extend({init:function(){this.replacements=[/\s+class="Apple-style-span[^"]*"/gi,"",/<(div|p|h[1-6])\s+style="[^"]*"/gi,"<$1",/^<div>(.*)<\/div>$/,"$1"]},applicable:function(B){return(/class="?Apple-style-span|style="[^"]*-webkit-nbsp-mode/i).test(B)}});y(w,{Command:s,GenericCommand:r,InsertHtmlCommand:b,InsertHtmlTool:o,UndoRedoStack:t,TypingHandler:k,SystemHandler:l,BackspaceHandler:A,Keyboard:c,Clipboard:i,Cleaner:j,MSWordFormatCleaner:q,WebkitFormatCleaner:a});n("insertHtml",new o({template:new p({template:h.dropDownListTemplate,title:"Insert HTML",initialValue:"Insert HTML"})}))})(window.kendo.jQuery);(function(e){var k=window.kendo,s=k.Class,n=k.ui.editor,f=k.ui.Editor.fn.options.formats,h=n.EditorUtils,g=n.Tool,m=n.ToolTemplate,d=n.FormatTool,r=n.Dom,v=n.RangeUtils,t=e.extend,l=n.EditorUtils.registerTool,c=n.EditorUtils.registerFormat,j="k-marker";var q=s.extend({init:function(x){this.format=x},numberOfSiblings:function(A){var y=0,z=0,B=0,x=A.parentNode,C;for(C=x.firstChild;C;C=C.nextSibling){if(C!=A){if(C.className==j){B++}else{if(C.nodeType==3){y++}else{z++}}}}if(B>1&&x.firstChild.className==j&&x.lastChild.className==j){return 0}else{return z+y}},findSuitable:function(y,A){if(!A&&this.numberOfSiblings(y)>0){return null}var z=y.parentNode;var x=this.format[0].tags;while(!r.ofType(z,x)){if(this.numberOfSiblings(z)>0){return null}z=z.parentNode}return z},findFormat:function(B){var E=this.format,D=r.attrEquals,A,x,C,z,y;for(A=0,x=E.length;A<x;A++){C=B;z=E[A].tags;y=E[A].attr;if(C&&r.ofType(C,z)&&D(C,y)){return C}while(C){C=r.parentOfType(C,z);if(C&&D(C,y)){return C}}}return null},isFormatted:function(y){var z,x;for(z=0,x=y.length;z<x;z++){if(this.findFormat(y[z])){return true}}return false}});var w=s.extend({init:function(y,x){this.finder=new q(y);this.attributes=t({},y[0].attr,x);this.tag=y[0].tags[0]},wrap:function(x){return r.wrap(x,r.create(x.ownerDocument,this.tag,this.attributes))},activate:function(y,x){if(this.finder.isFormatted(x)){this.split(y);this.remove(x)}else{this.apply(x)}},toggle:function(y){var x=v.textNodes(y);if(x.length>0){this.activate(y,x)}},apply:function(y){var B=[];var z,x,A,C;for(z=0,x=y.length;z<x;z++){A=y[z];C=this.finder.findSuitable(A);if(C){r.attr(C,this.attributes)}else{while(!r.isBlock(A.parentNode)&&A.parentNode.childNodes.length==1){A=A.parentNode}C=this.wrap(A)}B.push(C)}this.consolidate(B)},remove:function(y){var z,x,A;for(z=0,x=y.length;z<x;z++){A=this.finder.findFormat(y[z]);if(A){if(this.attributes&&this.attributes.style){r.unstyle(A,this.attributes.style);if(!A.style.cssText&&!A.attributes["class"]){r.unwrap(A)}}else{r.unwrap(A)}}}},split:function(z){var y=v.textNodes(z);var x=y.length;var A,B;if(x>0){for(A=0;A<x;A++){B=this.finder.findFormat(y[A]);if(B){v.split(z,B,true)}}}},consolidate:function(x){var z,y;while(x.length>1){z=x.pop();y=x[x.length-1];if(z.previousSibling&&z.previousSibling.className==j){y.appendChild(z.previousSibling)}if(z.tagName==y.tagName&&z.previousSibling==y&&z.style.cssText==y.style.cssText){while(z.firstChild){y.appendChild(z.firstChild)}r.remove(z)}}}});var b=q.extend({init:function(y,x){this.format=y;this.greedyProperty=x;q.fn.init.call(this,y)},getInlineCssValue:function(A){var F=A.attributes;var B=e.trim;var G,D,y,x,C,H,E,z,I;var J,L,K;if(!F){return}for(G=0,D=F.length;G<D;G++){y=F[G];x=y.nodeName;C=y.nodeValue;if(y.specified&&x=="style"){H=B(C||A.style.cssText).split(";");for(z=0,I=H.length;z<I;z++){E=H[z];if(E.length){J=E.split(":");L=B(J[0].toLowerCase());K=B(J[1]);if(L!=this.greedyProperty){continue}return L.indexOf("color")>=0?r.toHex(K):K}}}}},getFormatInner:function(B){var y=e(r.isDataNode(B)?B.parentNode:B);var z=y.parentsUntil("[contentEditable]").addBack().toArray().reverse();var A,x,C;for(A=0,x=z.length;A<x;A++){C=this.greedyProperty=="className"?z[A].className:this.getInlineCssValue(z[A]);if(C){return C}}return"inherit"},getFormat:function(z){var y=this.getFormatInner(z[0]),A,x;for(A=1,x=z.length;A<x;A++){if(y!=this.getFormatInner(z[A])){return""}}return y},isFormatted:function(x){return this.getFormat(x)!==""}});var u=w.extend({init:function(z,x,y){w.fn.init.call(this,z,x);this.values=x;this.finder=new b(z,y);if(y){this.greedyProperty=k.toCamelCase(y)}},activate:function(y,x){var z=this.greedyProperty;var A="apply";this.split(y);if(z&&this.values.style[z]=="inherit"){A="remove"}this[A](x)}});var i=d.extend({init:function(x){d.fn.init.call(this,t(x,{finder:new q(x.format),formatter:function(){return new w(x.format)}}))}});var o=g.extend({update:function(z,x){var y=z.data(this.type);y.close();y.value(this.finder.getFormat(x))}});var p=o.extend({init:function(x){g.fn.init.call(this,x);this.type=(k.support.browser.msie||k.support.touch)?"kendoDropDownList":"kendoComboBox";this.format=[{tags:["span"]}];this.finder=new b(this.format,x.cssAttr)},command:function(x){var y=this.options,A=this.format,z={};return new n.FormatCommand(t(x,{formatter:function(){z[y.domAttr]=x.value;return new u(A,{style:z},y.cssAttr)}}))},initialize:function(C,B){var z=B.editor,y=this.options,A=y.name,D,x=[];if(y.defaultValue){x=[{text:z.options.messages[y.defaultValue[0].text],value:y.defaultValue[0].value}]}D=x.concat(y.items?y.items:(z.options[A]||[]));C[this.type]({dataTextField:"text",dataValueField:"value",dataSource:D,change:function(){g.exec(z,A,this.value())},highlightFirst:false});C.closest(".k-widget").removeClass("k-"+A).find("*").addBack().attr("unselectable","on");C.data(this.type).value("inherit")}});var a=g.extend({init:function(x){g.fn.init.call(this,x);this.format=[{tags:["span"]}];this.finder=new b(this.format,x.cssAttr)},options:{palette:"websafe"},update:function(){this._widget.close()},command:function(x){var y=this.options,A=this.format,z={};return new n.FormatCommand(t(x,{formatter:function(){z[y.domAttr]=x.value;return new u(A,{style:z},y.cssAttr)}}))},initialize:function(C,B){var z=B.editor,A=this.name,y=t({},a.fn.options,this.options),x=y.palette;C=this._widget=new k.ui.ColorPicker(C,{value:e.isArray(x)?x[0]:"#000",toolIcon:"k-"+y.name,palette:x,change:function(){var D=C.value();if(D){g.exec(z,A,D)}z.focus()},activate:function(D){D.preventDefault();C.trigger("change")}});C.wrapper.attr({title:B.title,unselectable:"on"}).find("*").attr("unselectable","on")}});t(n,{InlineFormatFinder:q,InlineFormatter:w,DelayedExecutionTool:o,GreedyInlineFormatFinder:b,GreedyInlineFormatter:u,InlineFormatTool:i,FontTool:p,ColorTool:a});c("bold",[{tags:["strong","b"]},{tags:["span"],attr:{style:{fontWeight:"bold"}}}]);l("bold",new i({key:"B",ctrl:true,format:f.bold,template:new m({template:h.buttonTemplate,title:"Bold"})}));c("italic",[{tags:["em","i"]},{tags:["span"],attr:{style:{fontStyle:"italic"}}}]);l("italic",new i({key:"I",ctrl:true,format:f.italic,template:new m({template:h.buttonTemplate,title:"Italic"})}));c("underline",[{tags:["span"],attr:{style:{textDecoration:"underline"}}},{tags:["u"]}]);l("underline",new i({key:"U",ctrl:true,format:f.underline,template:new m({template:h.buttonTemplate,title:"Underline"})}));c("strikethrough",[{tags:["del","strike"]},{tags:["span"],attr:{style:{textDecoration:"line-through"}}}]);l("strikethrough",new i({format:f.strikethrough,template:new m({template:h.buttonTemplate,title:"Strikethrough"})}));c("superscript",[{tags:["sup"]}]);l("superscript",new i({format:f.superscript,template:new m({template:h.buttonTemplate,title:"Superscript"})}));c("subscript",[{tags:["sub"]}]);l("subscript",new i({format:f.subscript,template:new m({template:h.buttonTemplate,title:"Subscript"})}));l("foreColor",new a({cssAttr:"color",domAttr:"color",name:"foreColor",template:new m({template:h.colorPickerTemplate,title:"Color"})}));l("backColor",new a({cssAttr:"background-color",domAttr:"backgroundColor",name:"backColor",template:new m({template:h.colorPickerTemplate,title:"Background Color"})}));l("fontName",new p({cssAttr:"font-family",domAttr:"fontFamily",name:"fontName",defaultValue:[{text:"fontNameInherit",value:"inherit"}],template:new m({template:h.comboBoxTemplate,title:"Font Name"})}));l("fontSize",new p({cssAttr:"font-size",domAttr:"fontSize",name:"fontSize",defaultValue:[{text:"fontSizeInherit",value:"inherit"}],template:new m({template:h.comboBoxTemplate,title:"Font Size"})}))})(window.kendo.jQuery);(function(e){var k=window.kendo,q=k.Class,r=e.extend,n=k.ui.editor,f=k.ui.Editor.fn.options.formats,p=n.Dom,o=n.Command,m=n.ToolTemplate,c=n.FormatTool,h=n.EditorUtils,l=h.registerTool,b=h.registerFormat,t=n.RangeUtils;var g=q.extend({init:function(u){this.format=u},contains:function(x,w){var v,u,y;for(v=0,u=w.length;v<u;v++){y=w[v];if(!y||!p.isAncestorOrSelf(x,y)){return false}}return true},findSuitable:function(v){var A=this.format,x=[],w,u,y;for(w=0,u=v.length;w<u;w++){for(var z=A.length-1;z>=0;z--){y=p.ofType(v[w],A[z].tags)?v[w]:p.parentOfType(v[w],A[z].tags);if(y){break}}if(!y||y.contentEditable==="true"){return[]}if(e.inArray(y,x)<0){x.push(y)}}for(w=0,u=x.length;w<u;w++){if(this.contains(x[w],x)){return[x[w]]}}return x},findFormat:function(y){var A=this.format,x,u,z,w,v;var B=p.editableParent(y);for(x=0,u=A.length;x<u;x++){z=y;w=A[x].tags;v=A[x].attr;while(z&&p.isAncestorOf(B,z)){if(p.ofType(z,w)&&p.attrEquals(z,v)){return z}z=z.parentNode}}return null},getFormat:function(w){var z=this,y=function(A){return z.findFormat(p.isDataNode(A)?A.parentNode:A)},v=y(w[0]),x,u;if(!v){return""}for(x=1,u=w.length;x<u;x++){if(v!=y(w[x])){return""}}return v.nodeName.toLowerCase()},isFormatted:function(v){for(var w=0,u=v.length;w<u;w++){if(!this.findFormat(v[w])){return false}}return true}});var a=q.extend({init:function(v,u){this.format=v;this.values=u;this.finder=new g(v)},wrap:function(C,w,v){var A=v.length==1?p.blockParentOrBody(v[0]):p.commonAncestor.apply(null,v);if(p.isInline(A)){A=p.blockParentOrBody(A)}var B=p.significantChildNodes(A),z=p.findNodeIndex(B[0]),u=p.create(A.ownerDocument,C,w),x,y;for(x=0;x<B.length;x++){y=B[x];if(p.isBlock(y)){p.attr(y,w);if(u.childNodes.length){p.insertBefore(u,y);u=u.cloneNode(false)}z=p.findNodeIndex(y)+1;continue}u.appendChild(y)}if(u.firstChild){p.insertAt(A,u,z)}},apply:function(v){var C,D=this.values;function w(F){return r({},F&&F.attr,D)}var B=p.filter("img",v);var y=h.formatByName("img",this.format);var E=w(y);e.each(B,function(){p.attr(this,E)});if(B.length==v.length){return}var u=p.filter("img",v,true);var A=this.finder.findSuitable(u);if(A.length){for(var x=0,z=A.length;x<z;x++){C=h.formatByName(p.name(A[x]),this.format);p.attr(A[x],w(C))}}else{C=this.format[0];this.wrap(C.tags[0],w(C),u)}},remove:function(v){var x,u,z,y,w;for(x=0,u=v.length;x<u;x++){z=this.finder.findFormat(v[x]);if(z){w=p.name(z);if(w=="div"&&!z.getAttribute("class")){p.unwrap(z)}else{y=h.formatByName(w,this.format);if(y.attr.style){p.unstyle(z,y.attr.style)}if(y.attr.className){p.removeClass(z,y.attr.className)}}}}},toggle:function(v){var w=this,u=t.nodes(v);if(w.finder.isFormatted(u)){w.remove(u)}else{w.apply(u)}}});var s=q.extend({init:function(w,u){var v=this;v.format=w;v.values=u;v.finder=new g(w)},apply:function(v){var D=this.format;var u=p.blockParents(v);var C=D[0].tags[0];var y,A,B,E,z;var x;var w;if(u.length){for(y=0,A=u.length;y<A;y++){w=p.name(u[y]);if(w=="li"){B=u[y].parentNode;E=new n.ListFormatter(B.nodeName.toLowerCase(),C);z=this.editor.createRange();z.selectNode(u[y]);E.toggle(z)}else{if(C&&(w=="td"||u[y].attributes.contentEditable)){new a(D,this.values).apply(u[y].childNodes)}else{x=p.changeTag(u[y],C);p.attr(x,D[0].attr)}}}}else{new a(D,this.values).apply(v)}},toggle:function(v){var u=t.textNodes(v);if(!u.length){v.selectNodeContents(v.commonAncestorContainer);u=t.textNodes(v);if(!u.length){u=p.significantChildNodes(v.commonAncestorContainer)}}this.apply(u)}});var d=o.extend({init:function(u){u.formatter=u.formatter();o.fn.init.call(this,u)}});var i=c.extend({init:function(u){c.fn.init.call(this,r(u,{finder:new g(u.format),formatter:function(){return new a(u.format)}}))}});r(n,{BlockFormatFinder:g,BlockFormatter:a,GreedyBlockFormatter:s,FormatCommand:d,BlockFormatTool:i});var j=["ul","ol","li"];b("justifyLeft",[{tags:p.nonListBlockElements,attr:{style:{textAlign:"left"}}},{tags:["img"],attr:{style:{"float":"left",display:"",marginLeft:"",marginRight:""}}},{tags:j,attr:{style:{textAlign:"left",listStylePosition:""}}}]);l("justifyLeft",new i({format:f.justifyLeft,template:new m({template:h.buttonTemplate,title:"Justify Left"})}));b("justifyCenter",[{tags:p.nonListBlockElements,attr:{style:{textAlign:"center"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto","float":""}}},{tags:j,attr:{style:{textAlign:"center",listStylePosition:"inside"}}}]);l("justifyCenter",new i({format:f.justifyCenter,template:new m({template:h.buttonTemplate,title:"Justify Center"})}));b("justifyRight",[{tags:p.nonListBlockElements,attr:{style:{textAlign:"right"}}},{tags:["img"],attr:{style:{"float":"right",display:"",marginLeft:"",marginRight:""}}},{tags:j,attr:{style:{textAlign:"right",listStylePosition:"inside"}}}]);l("justifyRight",new i({format:f.justifyRight,template:new m({template:h.buttonTemplate,title:"Justify Right"})}));b("justifyFull",[{tags:p.nonListBlockElements,attr:{style:{textAlign:"justify"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto","float":""}}},{tags:j,attr:{style:{textAlign:"justify",listStylePosition:""}}}]);l("justifyFull",new i({format:f.justifyFull,template:new m({template:h.buttonTemplate,title:"Justify Full"})}))})(window.kendo.jQuery);(function(f){var j=window.kendo,i=f.extend,c=j.ui.editor,d=c.Dom,a=c.Command,l=c.Tool,k=c.BlockFormatter,e=d.normalize,g=c.RangeUtils,h=c.EditorUtils.registerTool;var b=a.extend({init:function(n){this.options=n;a.fn.init.call(this,n)},_insertMarker:function(q,p){var o=d.create(q,"a"),n;o.className="k-marker";p.insertNode(o);if(!o.parentNode){n=p.commonAncestorContainer;n.innerHTML="";n.appendChild(o)}e(o.parentNode);return o},_moveFocus:function(n,o){if(d.isEmpty(o)){n.setStartBefore(o)}else{n.selectNodeContents(o);var p=g.textNodes(n)[0];if(!p){while(o.childNodes.length&&!d.is(o.firstChild,"br")){o=o.firstChild}p=o}if(d.isEmpty(p)){n.setStartBefore(p)}else{n.selectNodeContents(p)}}},shouldTrim:function(n){var q="p,h1,h2,h3,h4,h5,h6".split(","),p=d.parentOfType(n.startContainer,q),o=d.parentOfType(n.endContainer,q);return(p&&!o)||(!p&&o)},_blankAfter:function(n){while(n&&(d.isMarker(n)||d.stripBom(n.nodeValue)==="")){n=n.nextSibling}return !n},exec:function(){var r=this.getRange(),v=g.documentFromRange(r),w,s,q,t=c.emptyElementContent,o,p,x,y,n,u=this.shouldTrim(r);r.deleteContents();p=this._insertMarker(v,r);x=d.closestEditableOfType(p,["li"]);y=d.closestEditableOfType(p,"h1,h2,h3,h4,h5,h6".split(","));if(x){if(d.emptyNode(x)){o=d.create(v,"p");if(x.nextSibling){n=r.cloneRange();n.selectNode(x);g.split(n,x.parentNode)}d.insertAfter(o,x.parentNode);d.remove(x.parentNode.childNodes.length==1?x.parentNode:x);o.innerHTML=t;q=o}}else{if(y&&this._blankAfter(p)){o=d.create(v,"p");d.insertAfter(o,y);o.innerHTML=t;d.remove(p);q=o}}if(!q){if(!(x||y)){new k([{tags:["p"]}]).apply([p])}r.selectNode(p);w=d.parentOfType(p,[x?"li":y?d.name(y):"p"]);g.split(r,w,u);s=w.previousSibling;if(d.is(s,"li")&&s.firstChild&&!d.is(s.firstChild,"br")){s=s.firstChild}q=w.nextSibling;this.clean(s);this.clean(q,{links:true});if(d.is(q,"li")&&q.firstChild&&!d.is(q.firstChild,"br")){q=q.firstChild}d.remove(w);e(s)}e(q);this._moveFocus(r,q);r.collapse(true);d.scrollTo(q);g.selectRange(r)},clean:function(p,o){var n=p;if(p.firstChild&&d.is(p.firstChild,"br")){d.remove(p.firstChild)}if(d.isDataNode(p)&&!p.nodeValue){p=p.parentNode}if(p){while(p.firstChild&&p.firstChild.nodeType==1){p=p.firstChild}if(!d.isEmpty(p)&&/^\s*$/.test(p.innerHTML)){p.innerHTML=c.emptyElementContent}if(o&&o.links){while(p!=n){if(d.is(p,"a")&&d.emptyNode(p)){d.unwrap(p);break}p=p.parentNode}}}}});var m=a.extend({init:function(n){this.options=n;a.fn.init.call(this,n)},exec:function(){var n=this.getRange();var q=d.create(g.documentFromRange(n),"br");var p;var o=j.support.browser;var r=o.msie&&o.version<11;n.deleteContents();n.insertNode(q);e(q.parentNode);if(!r&&(!q.nextSibling||d.isWhitespace(q.nextSibling))){p=q.cloneNode(true);p.className="k-br";d.insertAfter(p,q)}n.setStartAfter(q);n.collapse(true);d.scrollTo(q.nextSibling||q);g.selectRange(n)}});i(c,{ParagraphCommand:b,NewLineCommand:m});h("insertLineBreak",new l({key:13,shift:true,command:m}));h("insertParagraph",new l({key:13,command:b}))})(window.kendo.jQuery);(function(c){var h=window.kendo,o=h.Class,p=c.extend,k=h.ui.editor,n=k.Dom,r=k.RangeUtils,g=k.EditorUtils,l=k.Command,j=k.ToolTemplate,b=k.FormatTool,e=k.BlockFormatFinder,a=r.textNodes,i=k.EditorUtils.registerTool;var q=e.extend({init:function(s){this.tag=s;var t=this.tags=[s=="ul"?"ol":"ul",s];e.fn.init.call(this,[{tags:t}])},isFormatted:function(s){var u=[],v;for(var t=0;t<s.length;t++){if((v=this.findFormat(s[t]))&&n.name(v)==this.tag){u.push(v)}}if(u.length<1){return false}if(u.length!=s.length){return false}for(t=0;t<u.length;t++){if(u[t].parentNode!=v.parentNode){break}if(u[t]!=v){return false}}return true},findSuitable:function(s){var t=n.parentOfType(s[0],this.tags);if(t&&n.name(t)==this.tag){return t}return null}});var f=o.extend({init:function(s,t){var u=this;u.finder=new q(s);u.tag=s;u.unwrapTag=t},isList:function(t){var s=n.name(t);return s=="ul"||s=="ol"||s=="dl"},wrap:function(w,t){var s=n.create(w.ownerDocument,"li"),u,v;for(u=0;u<t.length;u++){v=t[u];if(n.is(v,"li")){w.appendChild(v);continue}if(this.isList(v)){while(v.firstChild){w.appendChild(v.firstChild)}continue}if(n.is(v,"td")){while(v.firstChild){s.appendChild(v.firstChild)}w.appendChild(s);v.appendChild(w);w=w.cloneNode(false);s=s.cloneNode(false);continue}s.appendChild(v);if(n.isBlock(v)){w.appendChild(s);n.unwrap(v);s=s.cloneNode(false)}}if(s.firstChild){w.appendChild(s)}},containsAny:function(u,s){for(var t=0;t<s.length;t++){if(n.isAncestorOrSelf(u,s[t])){return true}}return false},suitable:function(u,s){if(u.className=="k-marker"){var t=u.nextSibling;if(t&&n.isBlock(t)){return false}t=u.previousSibling;if(t&&n.isBlock(t)){return false}}return this.containsAny(u,s)||n.isInline(u)||u.nodeType==3},split:function(v){var u=a(v),z,t;if(u.length){z=n.parentOfType(u[0],["li"]);t=n.parentOfType(u[u.length-1],["li"]);v.setStartBefore(z);v.setEndAfter(t);for(var x=0,s=u.length;x<s;x++){var y=this.finder.findFormat(u[x]);if(y){var w=c(y).parents("ul,ol");if(w[0]){r.split(v,w.last()[0],true)}else{r.split(v,y,true)}}}}},merge:function(s,v){var u=v.previousSibling,t;while(u&&(u.className=="k-marker"||(u.nodeType==3&&n.isWhitespace(u)))){u=u.previousSibling}if(u&&n.name(u)==s){while(v.firstChild){u.appendChild(v.firstChild)}n.remove(v);v=u}t=v.nextSibling;while(t&&(t.className=="k-marker"||(t.nodeType==3&&n.isWhitespace(t)))){t=t.nextSibling}if(t&&n.name(t)==s){while(v.lastChild){t.insertBefore(v.lastChild,t.firstChild)}n.remove(v)}},breakable:function(s){return(s!=s.ownerDocument.body&&!/table|tbody|tr|td/.test(n.name(s))&&!s.attributes.contentEditable)},applyOnSection:function(x,u){var C=this.tag;var y=n.closestSplittableParent(u);var B=[];var A=this.finder.findSuitable(u);if(!A){A=new q(C=="ul"?"ol":"ul").findSuitable(u)}var z;if(/table|tbody/.test(n.name(y))){z=c.map(u,function(D){return n.parentOfType(D,["td"])})}else{z=n.significantChildNodes(y);if(c.grep(z,n.isBlock).length){z=c.grep(z,c.proxy(function(D){return this.containsAny(D,u)},this))}if(!z.length){z=u}}function s(){B.push(this)}for(var w=0;w<z.length;w++){var v=z[w];var t=(!A||!n.isAncestorOrSelf(A,v))&&this.suitable(v,u);if(!t){continue}if(A&&this.isList(v)){c.each(v.childNodes,s);n.remove(v)}else{B.push(v)}}if(B.length==z.length&&this.breakable(y)){B=[y]}if(!A){A=n.create(y.ownerDocument,C);n.insertBefore(A,B[0])}this.wrap(A,B);if(!n.is(A,C)){n.changeTag(A,C)}this.merge(C,A)},apply:function(s){var u=0,x=[],t,w,v;do{v=n.closestEditable(s[u],["td","body"]);if(!t||v!=t){if(t){x.push({section:t,nodes:w})}w=[s[u]];t=v}else{w.push(s[u])}u++}while(u<s.length);x.push({section:t,nodes:w});for(u=0;u<x.length;u++){this.applyOnSection(x[u].section,x[u].nodes)}},unwrap:function(w){var u=w.ownerDocument.createDocumentFragment(),v=this.unwrapTag,t,s,x,y;for(s=w.firstChild;s;s=s.nextSibling){x=n.create(w.ownerDocument,v||"p");while(s.firstChild){y=s.firstChild;if(n.isBlock(y)){if(x.firstChild){u.appendChild(x);x=n.create(w.ownerDocument,v||"p")}u.appendChild(y)}else{x.appendChild(y)}}if(x.firstChild){u.appendChild(x)}}t=c(w).parents("ul,ol");if(t[0]){n.insertAfter(u,t.last()[0]);t.last().remove()}else{n.insertAfter(u,w)}n.remove(w)},remove:function(t){var v;for(var u=0,s=t.length;u<s;u++){v=this.finder.findFormat(t[u]);if(v){this.unwrap(v)}}},toggle:function(t){var v=this,s=a(t),u=t.commonAncestorContainer;if(!s.length){t.selectNodeContents(u);s=a(t);if(!s.length){var w=u.ownerDocument.createTextNode("");t.startContainer.appendChild(w);s=[w];t.selectNode(w.parentNode)}}if(v.finder.isFormatted(s)){v.split(t);v.remove(s)}else{v.apply(s)}}});var d=l.extend({init:function(s){s.formatter=new f(s.tag);l.fn.init.call(this,s)}});var m=b.extend({init:function(s){this.options=s;b.fn.init.call(this,p(s,{finder:new q(s.tag)}))},command:function(s){return new d(p(s,{tag:this.options.tag}))}});p(k,{ListFormatFinder:q,ListFormatter:f,ListCommand:d,ListTool:m});i("insertUnorderedList",new m({tag:"ul",template:new j({template:g.buttonTemplate,title:"Insert unordered list"})}));i("insertOrderedList",new m({tag:"ol",template:new j({template:g.buttonTemplate,title:"Insert ordered list"})}))})(window.kendo.jQuery);(function(c,e){var h=window.kendo,q=h.Class,s=c.extend,m=c.proxy,k=h.ui.editor,p=k.Dom,u=k.RangeUtils,g=k.EditorUtils,l=k.Command,f=k.Tool,j=k.ToolTemplate,v=k.InlineFormatter,o=k.InlineFormatFinder,a=u.textNodes,i=k.EditorUtils.registerTool;var r=q.extend({findSuitable:function(w){return p.parentOfType(w,["a"])}});var n=q.extend({init:function(){this.finder=new r()},apply:function(z,y){var x=a(z);var D;var C;var A;var w;var B;if(y.innerHTML){D=u.getMarkers(z);C=u.documentFromRange(z);z.deleteContents();w=p.create(C,"a",y);z.insertNode(w);B=w.parentNode;if(p.name(B)=="a"){p.insertAfter(w,B)}if(p.emptyNode(B)){p.remove(B)}if(D.length>1){p.insertAfter(D[D.length-1],w);p.insertAfter(D[1],w);p[x.length>0?"insertBefore":"insertAfter"](D[0],w)}}else{A=new v([{tags:["a"]}],y);A.finder=this.finder;A.apply(x)}}});var d=l.extend({init:function(w){w.formatter={toggle:function(x){new v([{tags:["a"]}]).remove(a(x))}};this.options=w;l.fn.init.call(this,w)}});var t=l.extend({init:function(w){var x=this;x.options=w;l.fn.init.call(x,w);x.formatter=new n();if(!w.url){x.attributes=null;x.async=true}else{this.exec=function(){this.formatter.apply(w.range,{href:w.url,innerHTML:w.text||w.url,target:w.target})}}},_dialogTemplate:function(){return h.template("<div class=\"k-editor-dialog k-popup-edit-form k-edit-form-container\"><div class='k-edit-label'><label for='k-editor-link-url'>#: messages.linkWebAddress #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-url'></div><div class='k-edit-label k-editor-link-text-row'><label for='k-editor-link-text'>#: messages.linkText #</label></div><div class='k-edit-field k-editor-link-text-row'><input type='text' class='k-input k-textbox' id='k-editor-link-text'></div><div class='k-edit-label'><label for='k-editor-link-title'>#: messages.linkToolTip #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-title'></div><div class='k-edit-label'></div><div class='k-edit-field'><input type='checkbox' class='k-checkbox' id='k-editor-link-target'><label for='k-editor-link-target' class='k-checkbox-label'>#: messages.linkOpenInNewWindow #</label></div><div class='k-edit-buttons k-state-default'><button class=\"k-dialog-insert k-button k-primary\">#: messages.dialogInsert #</button><button class=\"k-dialog-close k-button\">#: messages.dialogCancel #</button></div></div>")({messages:this.editor.options.messages})},exec:function(){var B=this.getRange().collapsed;var A=this.editor.options.messages;this._initialText="";this._range=this.lockRange(true);var y=a(this._range);var w=y.length?this.formatter.finder.findSuitable(y[0]):null;var x=y.length&&p.name(y[0])=="img";var z=this.createDialog(this._dialogTemplate(),{title:A.createLink,close:m(this._close,this),visible:false});z.find(".k-dialog-insert").click(m(this._apply,this)).end().find(".k-dialog-close").click(m(this._close,this)).end().find(".k-edit-field input").keydown(m(this._keydown,this)).end().find("#k-editor-link-url").val(this.linkUrl(w)).end().find("#k-editor-link-text").val(this.linkText(y)).end().find("#k-editor-link-title").val(w?w.title:"").end().find("#k-editor-link-target").attr("checked",w?w.target=="_blank":false).end().find(".k-editor-link-text-row").toggle(!x);if(y.length>0&&!B){this._initialText=c("#k-editor-link-text",z).val()}this._dialog=z.data("kendoWindow").center().open();c("#k-editor-link-url",z).focus().select()},_keydown:function(x){var w=h.keys;if(x.keyCode==w.ENTER){this._apply(x)}else{if(x.keyCode==w.ESC){this._close(x)}}},_apply:function(A){var x=this._dialog.element;var w=c("#k-editor-link-url",x).val();var C,B,z;var y=c("#k-editor-link-text",x);if(w&&w!="http://"){if(w.indexOf("@")>0&&!/^(\w+:)|(\/\/)/i.test(w)){w="mailto:"+w}this.attributes={href:w};C=c("#k-editor-link-title",x).val();if(C){this.attributes.title=C}if(y.is(":visible")){B=y.val();if(!B&&!this._initialText){this.attributes.innerHTML=w}else{if(B&&(B!==this._initialText)){this.attributes.innerHTML=p.stripBom(B)}}}z=c("#k-editor-link-target",x).is(":checked");this.attributes.target=z?"_blank":null;this.formatter.apply(this._range,this.attributes)}this._close(A);if(this.change){this.change()}},_close:function(w){w.preventDefault();this._dialog.destroy();p.windowFromDocument(u.documentFromRange(this._range)).focus();this.releaseRange(this._range)},linkUrl:function(w){if(w){return w.getAttribute("href",2)}return"http://"},linkText:function(w){var x="";if(w.length==1){x=w[0].nodeValue}else{if(w.length){x=w[0].nodeValue+w[1].nodeValue}}return p.stripBom(x||"")},redo:function(){var w=this.lockRange(true);this.formatter.apply(w,this.attributes);this.releaseRange(w)}});var b=f.extend({init:function(w){this.options=w;this.finder=new o([{tags:["a"]}]);f.fn.init.call(this,c.extend(w,{command:d}))},initialize:function(x,w){f.fn.initialize.call(this,x,w);x.addClass("k-state-disabled")},update:function(x,w){x.toggleClass("k-state-disabled",!this.finder.isFormatted(w)).removeClass("k-state-hover")}});s(h.ui.editor,{LinkFormatFinder:r,LinkFormatter:n,UnlinkCommand:d,LinkCommand:t,UnlinkTool:b});i("createLink",new f({key:"K",ctrl:true,command:t,template:new j({template:g.buttonTemplate,title:"Create Link"})}));i("unlink",new b({key:"K",ctrl:true,shift:true,template:new j({template:g.buttonTemplate,title:"Remove Link"})}))})(window.kendo.jQuery);(function(g,d){var o=window.kendo,n=g.extend,l=o.ui.editor,j=l.EditorUtils,e=l.Dom,k=j.registerTool,c=l.ToolTemplate,i=l.RangeUtils,a=l.Command,p=l.LinkFormatter,m=i.textNodes,q=o.keys,b="#k-editor-file-url",f="#k-editor-file-title";var h=a.extend({init:function(r){var s=this;a.fn.init.call(s,r);s.formatter=new p();s.async=true;s.attributes={}},insertFile:function(t,s){var r=this.attributes;var u=i.documentFromRange(s);if(r.href&&r.href!="http://"){if(!t){t=e.create(u,"a",{href:r.href});t.innerHTML=r.innerHTML;s.deleteContents();s.insertNode(t);if(!t.nextSibling){e.insertAfter(u.createTextNode("\ufeff"),t)}s.setStartAfter(t);s.setEndAfter(t);i.selectRange(s);return true}else{e.attr(t,r)}}return false},_dialogTemplate:function(r){return o.template('<div class="k-editor-dialog k-popup-edit-form k-edit-form-container"># if (showBrowser) { #<div class="k-filebrowser"></div># } #<div class=\'k-edit-label\'><label for="k-editor-file-url">#: messages.fileWebAddress #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-file-url"></div><div class=\'k-edit-label\'><label for="k-editor-file-title">#: messages.fileTitle #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-file-title"></div><div class="k-edit-buttons k-state-default"><button class="k-dialog-insert k-button k-primary">#: messages.dialogInsert #</button><button class="k-dialog-close k-button">#: messages.dialogCancel #</button></div></div>')({messages:this.editor.options.messages,showBrowser:r})},redo:function(){var s=this,r=s.lockRange();this.formatter.apply(r,this.attributes);s.releaseRange(r)},exec:function(){var y=this,x=y.lockRange(),r=m(x),v=false,t=r.length?this.formatter.finder.findSuitable(r[0]):null,z,E=y.editor.options,w=E.messages,C=E.fileBrowser,u=!!(o.ui.FileBrowser&&C&&C.transport&&C.transport.read!==d),s={title:w.insertFile,visible:false,resizable:u};function B(H){var G=z.element,F=G.find(b).val().replace(/ /g,"%20"),I=G.find(f).val();y.attributes={href:F,innerHTML:I!==""?I:F};v=y.insertFile(t,x);D(H);if(y.change){y.change()}}function D(F){F.preventDefault();z.destroy();e.windowFromDocument(i.documentFromRange(x)).focus();if(!v){y.releaseRange(x)}}function A(F){if(F.keyCode==q.ENTER){B(F)}else{if(F.keyCode==q.ESC){D(F)}}}s.close=D;if(u){s.width=750}z=this.createDialog(y._dialogTemplate(u),s).toggleClass("k-filebrowser-dialog",u).find(".k-dialog-insert").click(B).end().find(".k-dialog-close").click(D).end().find(".k-edit-field input").keydown(A).end().find(b).val(t?t.getAttribute("href",2):"http://").end().find(f).val(t?t.title:"").end().data("kendoWindow");if(u){new o.ui.FileBrowser(z.element.find(".k-filebrowser"),n({},C,{change:function(){z.element.find(b).val(this.value())},apply:B}))}z.center().open();z.element.find(b).focus().select()}});o.ui.editor.FileCommand=h;k("insertFile",new l.Tool({command:h,template:new c({template:j.buttonTemplate,title:"Insert File"})}))})(window.kendo.jQuery);(function(j,f){var p=window.kendo,o=j.extend,n=p.ui.editor,l=n.EditorUtils,g=n.Dom,m=l.registerTool,d=n.ToolTemplate,k=n.RangeUtils,a=n.Command,q=p.keys,c="#k-editor-image-url",b="#k-editor-image-title",i="#k-editor-image-width",h="#k-editor-image-height";var e=a.extend({init:function(r){var s=this;a.fn.init.call(s,r);s.async=true;s.attributes={}},insertImage:function(t,s){var r=this.attributes;var u=k.documentFromRange(s);if(r.src&&r.src!="http://"){var v=function(){setTimeout(function(){if(!r.width){t.removeAttribute("width")}if(!r.height){t.removeAttribute("height")}t.removeAttribute("complete")})};if(!t){t=g.create(u,"img",r);t.onload=t.onerror=function(){v()};s.deleteContents();s.insertNode(t);if(!t.nextSibling){g.insertAfter(u.createTextNode("\ufeff"),t)}v();s.setStartAfter(t);s.setEndAfter(t);k.selectRange(s);return true}else{g.attr(t,r);v()}}return false},_dialogTemplate:function(r){return p.template('<div class="k-editor-dialog k-popup-edit-form k-edit-form-container"># if (showBrowser) { #<div class="k-filebrowser k-imagebrowser"></div># } #<div class=\'k-edit-label\'><label for="k-editor-image-url">#: messages.imageWebAddress #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-url"></div><div class=\'k-edit-label\'><label for="k-editor-image-title">#: messages.imageAltText #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-title"></div><div class=\'k-edit-label\'><label for="k-editor-image-width">#: messages.imageWidth #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-width"></div><div class=\'k-edit-label\'><label for="k-editor-image-height">#: messages.imageHeight #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-height"></div><div class="k-edit-buttons k-state-default"><button class="k-dialog-insert k-button k-primary">#: messages.dialogInsert #</button><button class="k-dialog-close k-button">#: messages.dialogCancel #</button></div></div>')({messages:this.editor.options.messages,showBrowser:r})},redo:function(){var s=this,r=s.lockRange();if(!s.insertImage(k.image(r),r)){s.releaseRange(r)}},exec:function(){var y=this,w=y.lockRange(),u=false,v=k.image(w),B=v&&v.getAttribute("width")||"",x=v&&v.getAttribute("height")||"",z,F=y.editor.options,t=F.messages,C=F.imageBrowser,s=!!(p.ui.ImageBrowser&&C&&C.transport&&C.transport.read!==f),r={title:t.insertImage,visible:false,resizable:s};function D(J){var H=z.element,G=parseInt(H.find(i).val(),10),I=parseInt(H.find(h).val(),10);y.attributes={src:H.find(c).val().replace(/ /g,"%20"),alt:H.find(b).val()};y.attributes.width=null;y.attributes.height=null;if(!isNaN(G)&&G>0){y.attributes.width=G}if(!isNaN(I)&&I>0){y.attributes.height=I}u=y.insertImage(v,w);E(J);if(y.change){y.change()}}function E(G){G.preventDefault();z.destroy();g.windowFromDocument(k.documentFromRange(w)).focus();if(!u){y.releaseRange(w)}}function A(G){if(G.keyCode==q.ENTER){D(G)}else{if(G.keyCode==q.ESC){E(G)}}}r.close=E;if(s){r.width=750}z=this.createDialog(y._dialogTemplate(s),r).toggleClass("k-filebrowser-dialog",s).find(".k-dialog-insert").click(D).end().find(".k-dialog-close").click(E).end().find(".k-edit-field input").keydown(A).end().find(c).val(v?v.getAttribute("src",2):"http://").end().find(b).val(v?v.alt:"").end().find(i).val(B).end().find(h).val(x).end().data("kendoWindow");if(s){new p.ui.ImageBrowser(z.element.find(".k-imagebrowser"),o({},C,{change:function(){z.element.find(c).val(this.value())},apply:D}))}z.center().open();z.element.find(c).focus().select()}});p.ui.editor.ImageCommand=e;m("insertImage",new n.Tool({command:e,template:new d({template:l.buttonTemplate,title:"Insert Image"})}))})(window.kendo.jQuery);(function(b,f){var e=window.kendo,a=e.ui.DropDownList,d=e.ui.editor.Dom;var c=a.extend({init:function(h,g){var i=this;a.fn.init.call(i,h,g);if(e.support.mobileOS.ios){this._initSelectOverlay();this.bind("dataBound",b.proxy(this._initSelectOverlay,this))}i.value(i.options.title);i.bind("open",function(){if(i.options.autoSize){var j=i.list,k;j.css({whiteSpace:"nowrap",width:"auto"});k=j.width();if(k){k+=20}else{k=i._listWidth}j.css("width",k+e.support.scrollbar());i._listWidth=k}})},options:{name:"SelectBox"},_initSelectOverlay:function(){var o=this;var n=o.value();var l=this.dataSource.view();var p;var j="";var k=e.htmlEncode;for(var h=0;h<l.length;h++){p=l[h];j+="<option value='"+k(p.value)+"'";if(p.value==n){j+=" selected"}j+=">"+k(p.text)+"</option>"}var m=b("<select class='k-select-overlay'>"+j+"</select>");var g=b(this.element).closest(".k-widget");g.next(".k-select-overlay").remove();m.insertAfter(g);m.on("change",function(){o.value(this.value);o.trigger("change")})},value:function(i){var h=this,g=a.fn.value.call(h,i);if(i===f){return g}if(i!==a.fn.value.call(h)){h.text(h.options.title);if(h._current){h._current.removeClass("k-state-selected")}h.current(null);h._oldIndex=h.selectedIndex=-1}},decorate:function(h){var n=this,o=n.dataSource,j=o.data(),k,g,m,l;if(h){n.list.css("background-color",d.getEffectiveBackground(b(h)))}for(k=0;k<j.length;k++){g=j[k].tag||"span";m=j[k].className;l=d.inlineStyle(h,g,{className:m});l=l.replace(/"/g,"'");j[k].style=l+";display:inline-block"}o.trigger("change")}});e.ui.plugin(c);e.ui.editor.SelectBox=c})(window.kendo.jQuery);(function(d,e){var m=window.kendo,s=m.Class,t=d.extend,p=m.ui.editor,r=p.Dom,h=p.EditorUtils,n=h.registerTool,q=p.Command,g=p.Tool,o=p.ToolTemplate,u=p.RangeUtils,c=r.blockElements,f=p.BlockFormatFinder,b=p.BlockFormatter;function j(w,z){var v=d(w).css("direction")=="rtl",y=v?"Right":"Left",x=r.name(w)!="td"?"margin"+y:"padding"+y;if(z===e){return w.style[x]||0}else{if(z>0){w.style[x]=z+"px"}else{w.style[x]="";if(!w.style.cssText){w.removeAttribute("style")}}}}var l=s.extend({init:function(){this.finder=new f([{tags:r.blockElements}])},apply:function(v){var C=this.finder.findSuitable(v),A=[],z,B,H,F,G;if(C.length){for(z=0,B=C.length;z<B;z++){if(r.is(C[z],"li")){if(!d(C[z]).index()){A.push(C[z].parentNode)}else{if(d.inArray(C[z].parentNode,A)<0){A.push(C[z])}}}else{A.push(C[z])}}while(A.length){H=A.shift();if(r.is(H,"li")){F=H.parentNode;G=d(H).prev("li");var E=G.find("ul,ol").last();var y=d(H).children("ul,ol")[0];if(y&&G[0]){if(E[0]){E.append(H);E.append(d(y).children());r.remove(y)}else{G.append(y);y.insertBefore(H,y.firstChild)}}else{y=G.children("ul,ol")[0];if(!y){y=r.create(H.ownerDocument,r.name(F));G.append(y)}while(H&&H.parentNode==F){y.appendChild(H);H=A.shift()}}}else{var x=parseInt(j(H),10)+30;j(H,x);for(var w=0;w<A.length;w++){if(d.contains(H,A[w])){A.splice(w,1)}}}}}else{var D=new b([{tags:["p"]}],{style:{marginLeft:30}});D.apply(v)}},remove:function(v){var C=this.finder.findSuitable(v),A,y,z,B,w,D,E,x;for(y=0,z=C.length;y<z;y++){E=d(C[y]);if(E.is("li")){B=E.parent();w=B.parent();if(w.is("li,ul,ol")&&!j(B[0])){if(A&&d.contains(A,w[0])){continue}D=E.nextAll("li");if(D.length){d(B[0].cloneNode(false)).appendTo(E).append(D)}if(w.is("li")){E.insertAfter(w)}else{E.appendTo(w)}if(!B.children("li").length){B.remove()}continue}else{if(A==B[0]){continue}A=B[0]}}else{A=C[y]}x=parseInt(j(A),10)-30;j(A,x)}}});var a=q.extend({init:function(v){v.formatter={toggle:function(w){new l().apply(u.nodes(w))}};q.fn.init.call(this,v)}});var i=q.extend({init:function(v){v.formatter={toggle:function(w){new l().remove(u.nodes(w))}};q.fn.init.call(this,v)}});var k=g.extend({init:function(v){g.fn.init.call(this,v);this.finder=new f([{tags:c}])},initialize:function(w,v){g.fn.initialize.call(this,w,v);w.addClass("k-state-disabled")},update:function(A,w){var y=this.finder.findSuitable(w),B,z,x,v;for(x=0,v=y.length;x<v;x++){B=j(y[x]);if(!B){z=d(y[x]).parents("ul,ol").length;B=(r.is(y[x],"li")&&(z>1||j(y[x].parentNode)))||(r.ofType(y[x],["ul","ol"])&&z>0)}if(B){A.removeClass("k-state-disabled");return}}A.addClass("k-state-disabled").removeClass("k-state-hover")}});t(p,{IndentFormatter:l,IndentCommand:a,OutdentCommand:i,OutdentTool:k});n("indent",new g({command:a,template:new o({template:h.buttonTemplate,title:"Indent"})}));n("outdent",new k({command:i,template:new o({template:h.buttonTemplate,title:"Outdent"})}))})(window.kendo.jQuery);(function(e,d){var i=window.kendo,h=e.extend,g=i.ui.editor,f=g.EditorUtils,a=g.Command,j=g.Tool,c=g.ToolTemplate;var b=a.extend({init:function(k){var l=this;l.options=k;a.fn.init.call(l,k);l.attributes=null;l.async=true},exec:function(){var q=this,n=q.editor,p=n.options.messages,m=e(i.template(b.template)(p)).appendTo(document.body),o=b.indent(n.value()),k=".k-editor-textarea";function l(s){n.value(m.find(k).val());r(s);if(q.change){q.change()}n.trigger("change")}function r(s){s.preventDefault();m.data("kendoWindow").destroy();n.focus()}this.createDialog(m,{title:p.viewHtml,close:r,visible:false}).find(k).val(o).end().find(".k-dialog-update").click(l).end().find(".k-dialog-close").click(r).end().data("kendoWindow").center().open();m.find(k).focus()}});h(b,{template:"<div class='k-editor-dialog k-popup-edit-form k-edit-form-container k-viewhtml-dialog'><textarea class='k-editor-textarea k-input'></textarea><div class='k-edit-buttons k-state-default'><button class='k-dialog-update k-button k-primary'>#: dialogUpdate #</button><button class='k-dialog-close k-button'>#: dialogCancel #</button></div></div>",indent:function(k){return k.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/ig,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/ig,"<$1$2>\n<li").replace(/<br \/>/ig,"<br />\n").replace(/\n$/,"")}});i.ui.editor.ViewHtmlCommand=b;g.EditorUtils.registerTool("viewHtml",new j({command:b,template:new c({template:f.buttonTemplate,title:"View HTML"})}))})(window.kendo.jQuery);(function(e){var j=window.kendo,i=j.ui.editor,m=i.Tool,b=i.ToolTemplate,k=i.DelayedExecutionTool,a=i.Command,d=i.Dom,g=i.EditorUtils,f=i.RangeUtils,h=g.registerTool;var l=k.extend({init:function(n){var o=this;m.fn.init.call(o,j.deepExtend({},o.options,n));o.type="kendoSelectBox";o.finder={getFormat:function(){return""}}},options:{items:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],width:110},toFormattingItem:function(o){var p=o.value;if(!p){return o}if(o.tag||o.className){return o}var n=p.indexOf(".");if(n===0){o.className=p.substring(1)}else{if(n==-1){o.tag=p}else{o.tag=p.substring(0,n);o.className=p.substring(n+1)}}return o},command:function(n){var o=n.value;o=this.toFormattingItem(o);return new i.FormatCommand({range:n.range,formatter:function(){var q,p=(o.tag||o.context||"span").split(","),r=[{tags:p,attr:{className:o.className||""}}];if(e.inArray(p[0],d.inlineElements)>=0){q=new i.GreedyInlineFormatter(r)}else{q=new i.GreedyBlockFormatter(r)}return q}})},initialize:function(s,r){var o=r.editor;var n=this.options;var q=n.name;var p=this;s.width(n.width);s.kendoSelectBox({dataTextField:"text",dataValueField:"value",dataSource:n.items||o.options[q],title:o.options.messages[q],autoSize:true,change:function(){m.exec(o,q,this.dataItem().toJSON())},dataBound:function(){var u,t=this.dataSource.data();for(u=0;u<t.length;u++){t[u]=p.toFormattingItem(t[u])}},highlightFirst:false,template:j.template('<span unselectable="on" style="display:block;#=(data.style||"")#">#:data.text#</span>')});s.addClass("k-decorated").closest(".k-widget").removeClass("k-"+q).find("*").addBack().attr("unselectable","on")},getFormattingValue:function(u,o){for(var r=0;r<u.length;r++){var v=u[r];var w=v.tag||v.context||"";var t=v.className?"."+v.className:"";var q=w+t;var s=e(o[0]).closest(q)[0];if(!s){continue}if(o.length==1){return v.value}for(var p=1;p<o.length;p++){if(!e(o[p]).closest(q)[0]){break}else{if(p==o.length-1){return v.value}}}}return""},update:function(s,o){var t=e(s).data(this.type);if(!t){return}var u=t.dataSource,n=u.data(),r,q,p=d.commonAncestor.apply(null,o);for(r=0;r<n.length;r++){q=n[r].context;n[r].visible=!q||!!e(p).closest(q).length}u.filter([{field:"visible",operator:"eq",value:true}]);k.fn.update.call(this,s,o);t.value(this.getFormattingValue(u.view(),o));t.wrapper.toggleClass("k-state-disabled",!u.view().length)}});var c=a.extend({exec:function(){var o=this.lockRange(true);var n=this.options.remove||"strong,em,span".split(",");f.wrapSelectedElements(o);var q=new i.RangeIterator(o);q.traverse(function p(s){if(!s||d.isMarker(s)){return}if(s.nodeType==1&&!d.insignificant(s)){for(var r=s.childNodes.length-1;r>=0;r--){p(s.childNodes[r])}s.removeAttribute("style");s.removeAttribute("class")}if(n.indexOf(d.name(s))>-1){d.unwrap(s)}});this.releaseRange(o)}});e.extend(i,{FormattingTool:l,CleanFormatCommand:c});h("formatting",new l({template:new b({template:g.dropDownListTemplate,title:"Format"})}));h("cleanFormatting",new m({command:c,template:new b({template:g.buttonTemplate,title:"Clean formatting"})}))})(window.kendo.jQuery);(function(d,c){var g=window.kendo;var i=g.ui;var b=i.editor;var j=i.Widget;var f=d.extend;var h=d.proxy;var l=g.keys;var a=".kendoEditor";var k="a.k-tool:not(.k-state-disabled),.k-widget.k-colorpicker,.k-selectbox,.k-dropdown,.k-combobox .k-input";var e=j.extend({init:function(n,m){var o=this;m=f({},m,{name:"EditorToolbar"});j.fn.init.call(o,n,m);if(m.popup){o._initPopup()}},events:["execute"],groups:{basic:["bold","italic","underline","strikethrough"],scripts:["subscript","superscript"],alignment:["justifyLeft","justifyCenter","justifyRight","justifyFull"],links:["insertImage","insertFile","createLink","unlink"],lists:["insertUnorderedList","insertOrderedList","indent","outdent"],tables:["createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"],advanced:["viewHtml","cleanFormatting"]},_initPopup:function(){this.window=d(this.element).wrap("<div class='editorToolbarWindow k-header' />").parent().prepend("<button class='k-button k-button-bare k-editortoolbar-dragHandle'><span class='k-icon k-i-move' /></button>").kendoWindow({title:false,resizable:false,draggable:{dragHandle:".k-editortoolbar-dragHandle"},animation:{open:{effects:"fade:in"},close:{effects:"fade:out"}},minHeight:42,visible:false,autoFocus:false,actions:[],dragend:function(){this._moved=true}}).on("mousedown",function(m){if(!d(m.target).is(".k-icon")){m.preventDefault()}}).data("kendoWindow")},items:function(){return this.element.children().find("> *, select")},focused:function(){return this.element.find(".k-state-focused").length>0},toolById:function(m){var o,n=this.tools;for(o in n){if(o.toLowerCase()==m){return n[o]}}},toolGroupFor:function(o){var n,m=this.groups;if(this.isCustomTool(o)){return"custom"}for(n in m){if(d.inArray(o,m[n])>=0){return n}}},bindTo:function(n){var p=this,o=p.window;if(p._editor){p._editor.unbind("select",h(p.refreshTools,p))}p._editor=n;p.tools=p.expandTools(n.options.tools);p.render();p.element.find(".k-combobox .k-input").keydown(function(s){var q=d(this).closest(".k-combobox").data("kendoComboBox"),r=s.keyCode;if(r==l.RIGHT||r==l.LEFT){q.close()}else{if(r==l.DOWN){if(!q.dropDown.isOpened()){s.stopImmediatePropagation();q.open()}}}});p._attachEvents();p.items().each(function m(){var u=p._toolName(this),r=p.tools[u],q=r&&r.options,t=n.options.messages,s=q&&q.tooltip||t[u],v=d(this);if(!r||!r.initialize){return}if(u=="fontSize"||u=="fontName"){var w=t[u+"Inherit"];v.find("input").val(w).end().find("span.k-input").text(w).end()}r.initialize(v,{title:p._appendShortcutSequence(s,r),editor:p._editor});v.closest(".k-widget",p.element).addClass("k-editor-widget");v.closest(".k-colorpicker",p.element).next(".k-colorpicker").addClass("k-editor-widget")});n.bind("select",h(p.refreshTools,p));p.update();if(o){o.wrapper.css({top:"",left:"",width:""})}},show:function(){var n=this,m=n.window,r=n.options.editor,q,p,o;if(m){q=m.wrapper;p=r.element;if(!q.is(":visible")||!n.window.options.visible){if(!q[0].style.width){q.width(p.outerWidth()-parseInt(q.css("border-left-width"),10)-parseInt(q.css("border-right-width"),10))}if(!m._moved){o=p.offset();q.css({top:Math.max(0,parseInt(o.top,10)-q.outerHeight()-parseInt(n.window.element.css("padding-bottom"),10)),left:Math.max(0,parseInt(o.left,10))})}m.open()}}},hide:function(){if(this.window){this.window.close()}},focus:function(){var n="tabIndex";var o=this.element;var m=this._editor.element.attr(n);o.attr(n,m||0).focus().find(k).first().focus();if(!m&&m!==0){o.removeAttr(n)}},_appendShortcutSequence:function(o,m){if(!m.key){return o}var n=o+" (";if(m.ctrl){n+="Ctrl + "}if(m.shift){n+="Shift + "}if(m.alt){n+="Alt + "}n+=m.key+")";return n},_nativeTools:["insertLineBreak","insertParagraph","redo","undo"],tools:{},isCustomTool:function(m){return !(m in g.ui.Editor.defaultTools)},expandTools:function(t){var n,s,p=this._nativeTools,r,o=g.deepExtend({},g.ui.Editor.defaultTools),m={},q;for(s=0;s<t.length;s++){n=t[s];q=n.name;if(d.isPlainObject(n)){if(q&&o[q]){m[q]=f({},o[q]);f(m[q].options,n)}else{r=f({cssClass:"k-i-custom",type:"button",title:""},n);if(!r.name){r.name="custom"}r.cssClass="k-"+(r.name=="custom"?"i-custom":r.name);if(!r.template&&r.type=="button"){r.template=b.EditorUtils.buttonTemplate;r.title=r.title||r.tooltip}m[q]={options:r}}}else{if(o[n]){m[n]=o[n]}}}for(s=0;s<p.length;s++){if(!m[p[s]]){m[p[s]]=o[p[s]]}}return m},render:function(){var t=this,s=t.tools,C,y,B,q,x=t._editor.element,o=t.element.empty(),A,z,u=t._editor.options.tools,p=g.support.browser,w,n;function r(E){var D;if(E.getHtml){D=E.getHtml()}else{if(!d.isFunction(E)){E=g.template(E)}D=E(C)}return d.trim(D)}function v(){if(w.children().length){w.appendTo(o)}}function m(){w=d("<li class='k-tool-group' role='presentation' />")}o.empty();m();for(n=0;n<u.length;n++){q=u[n].name||u[n];C=s[q]&&s[q].options;if(!C&&d.isPlainObject(q)){C=q}y=C&&C.template;if(q=="break"){v();d("<li class='k-row-break' />").appendTo(t.element);m()}if(!y){continue}z=t.toolGroupFor(q);if(A!=z){v();m();A=z}y=r(y);B=d(y).appendTo(w);if(z=="custom"){v();m()}if(C.exec&&B.hasClass("k-tool")){B.click(h(C.exec,x[0]))}}v();d(t.element).children(":has(> .k-tool)").addClass("k-button-group");if(t.options.popup&&p.msie&&p.version<9){t.window.wrapper.find("*").attr("unselectable","on")}t.updateGroups();t.angular("compile",function(){return{elements:t.element}})},updateGroups:function(){d(this.element).children().each(function(){d(this).children().filter(function(){return this.style.display!=="none"}).removeClass("k-group-end").first().addClass("k-group-start").end().last().addClass("k-group-end").end()})},decorateFrom:function(m){this.items().filter(".k-decorated").each(function(){var n=d(this).data("kendoSelectBox");if(n){n.decorate(m)}})},destroy:function(){j.fn.destroy.call(this);var n,m=this.tools;for(n in m){if(m[n].destroy){m[n].destroy()}}if(this.window){this.window.destroy()}},_attachEvents:function(){var o=this,n="[role=button].k-tool",m=n+":not(.k-state-disabled)",p=n+".k-state-disabled";o.element.off(a).on("mouseenter"+a,m,function(){d(this).addClass("k-state-hover")}).on("mouseleave"+a,m,function(){d(this).removeClass("k-state-hover")}).on("mousedown"+a,n,function(q){q.preventDefault()}).on("keydown"+a,k,function(u){var t=this;var r,s=u.keyCode;function q(x,y){var w=o.element.find(k);var v=w.index(t)+x;if(y){v=Math.max(0,Math.min(w.length-1,v))}return w[v]}if(s==l.RIGHT||s==l.LEFT){if(!d(t).hasClass(".k-dropdown")){r=q(s==l.RIGHT?1:-1,true)}}else{if(s==l.ESC){r=o._editor}else{if(s==l.TAB&&!(u.ctrlKey||u.altKey)){if(u.shiftKey){r=q(-1)}else{r=q(1);if(!r){r=o._editor}}}}}if(r){u.preventDefault();r.focus()}}).on("click"+a,m,function(r){var q=d(this);r.preventDefault();r.stopPropagation();q.removeClass("k-state-hover");if(!q.is("[data-popup]")){o._editor.exec(o._toolName(this))}}).on("click"+a,p,function(q){q.preventDefault()})},_toolName:function(n){if(!n){return}var o=n.className;if(/k-tool\b/i.test(o)){o=n.firstChild.className}var m=d.grep(o.split(" "),function(p){return !/^k-(widget|tool|tool-icon|state-hover|header|combobox|dropdown|selectbox|colorpicker)$/i.test(p)});return m[0]?m[0].substring(m[0].lastIndexOf("-")+1):"custom"},refreshTools:function(){var p=this,o=p._editor,n=o.getRange(),m=g.ui.editor.RangeUtils.textNodes(n);if(!m.length){m=[n.startContainer]}p.items().each(function(){var q=p.tools[p._toolName(this)];if(q&&q.update){q.update(d(this),m)}});this.update()},update:function(){this.element.children().children().each(function(){var m=d(this);m.css("display",m.hasClass("k-state-disabled")?"none":"")});this.updateGroups()}});d.extend(b,{Toolbar:e})})(window.jQuery);(function(f,g){var o=window.kendo,z=f.extend,v=f.proxy,t=o.ui.editor,w=t.Dom,k=t.EditorUtils,A=t.RangeUtils,u=t.Command,x=".kendoEditor",e="k-state-active",a="k-state-selected",j=t.Tool,s=t.ToolTemplate,d=t.InsertHtmlCommand,h=t.BlockFormatFinder,r=t.EditorUtils.registerTool;var i="<td>"+t.emptyElementContent+"</td>";var l=new h([{tags:["table"]}]);var B=d.extend({_tableHtml:function(D,C){D=D||1;C=C||1;return"<table class='k-table' data-last>"+new Array(D+1).join("<tr>"+new Array(C+1).join(i)+"</tr>")+"</table>"},postProcess:function(D,C){var E=f("table[data-last]",D.document).removeAttr("data-last");C.selectNodeContents(E.find("td")[0]);D.selectRange(C)},exec:function(){var C=this.options;C.html=this._tableHtml(C.rows,C.columns);C.postProcess=this.postProcess;d.fn.exec.call(this)}});var n=j.extend({initialize:function(E,D){j.fn.initialize.call(this,E,D);var C=f(this.options.popupTemplate).appendTo("body").kendoPopup({anchor:E,copyAnchorStyles:false,open:v(this._open,this),activate:v(this._activate,this),close:v(this._close,this)}).data("kendoPopup");E.click(v(this._toggle,this)).keydown(v(this._keydown,this));this._editor=D.editor;this._popup=C},popup:function(){return this._popup},_activate:f.noop,_open:function(){this._popup.options.anchor.addClass(e)},_close:function(){this._popup.options.anchor.removeClass(e)},_keydown:function(E){var D=o.keys;var C=E.keyCode;if(C==D.DOWN&&E.altKey){this._popup.open()}else{if(C==D.ESC){this._popup.close()}}},_toggle:function(D){var C=f(D.target).closest(".k-tool");if(!C.hasClass("k-state-disabled")){this.popup().toggle()}},update:function(C){this.popup().close();C.removeClass("k-state-hover")},destroy:function(){this._popup.destroy()}});var m=n.extend({init:function(C){this.cols=8;this.rows=6;n.fn.init.call(this,f.extend(C,{command:B,popupTemplate:"<div class='k-ct-popup'>"+new Array(this.cols*this.rows+1).join("<span class='k-ct-cell k-state-disabled' />")+"<div class='k-status'></div></div>"}))},_activate:function(){var G=this,F=G._popup.element,M=F.find(".k-ct-cell"),H=M.eq(0),J=M.eq(M.length-1),C=o.getOffset(H),E=o.getOffset(J),K=G.cols,N=G.rows,D,I;F.find("*").addBack().attr("unselectable","on");E.left+=J[0].offsetWidth;E.top+=J[0].offsetHeight;D=(E.left-C.left)/K;I=(E.top-C.top)/N;function L(P){var O=f(window);return{row:Math.floor((P.clientY+O.scrollTop()-C.top)/I)+1,col:Math.floor((P.clientX+O.scrollLeft()-C.left)/D)+1}}F.on("mousemove"+x,function(O){G._setTableSize(L(O))}).on("mouseleave"+x,function(){G._setTableSize()}).on("mouseup"+x,function(O){G._exec(L(O))})},_valid:function(C){return C&&C.row>0&&C.col>0&&C.row<=this.rows&&C.col<=this.cols},_exec:function(C){if(this._valid(C)){this._editor.exec("createTable",{rows:C.row,columns:C.col});this._popup.close()}},_setTableSize:function(F){var E=this._popup.element;var C=E.find(".k-status");var D=E.find(".k-ct-cell");var H=this.rows;var I=this.cols;var G=this._editor.options.messages;if(this._valid(F)){C.text(o.format(G.createTableHint,F.row,F.col));D.each(function(J){f(this).toggleClass(a,J%I<F.col&&J/I<F.row)})}else{C.text(G.dialogCancel);D.removeClass(a)}},_keydown:function(E){n.fn._keydown.call(this,E);var I=o.keys;var H=E.keyCode;var J=this._popup.element.find(".k-ct-cell");var K=Math.max(J.filter(".k-state-selected").last().index(),0);var C=Math.floor(K/this.cols);var F=K%this.cols;var D=false;if(H==I.DOWN&&!E.altKey){D=true;C++}else{if(H==I.UP){D=true;C--}else{if(H==I.RIGHT){D=true;F++}else{if(H==I.LEFT){D=true;F--}}}}var G={row:Math.max(1,Math.min(this.rows,C+1)),col:Math.max(1,Math.min(this.cols,F+1))};if(H==I.ENTER){this._exec(G)}else{this._setTableSize(G)}if(D){E.preventDefault();E.stopImmediatePropagation()}},_open:function(){var C=this._editor.options.messages;n.fn._open.call(this);this.popup().element.find(".k-status").text(C.dialogCancel).end().find(".k-ct-cell").removeClass(a)},_close:function(){n.fn._close.call(this);this.popup().element.off(x)},update:function(E,D){var C;n.fn.update.call(this,E);C=l.isFormatted(D);E.toggleClass("k-state-disabled",C)}});var c=u.extend({exec:function(){var C=this.lockRange(true),H=C.endContainer,F,G,D;while(w.name(H)!="td"){H=H.parentNode}G=H.parentNode;F=G.children.length;D=G.cloneNode(true);for(var E=0;E<G.cells.length;E++){D.cells[E].innerHTML=t.emptyElementContent}if(this.options.position=="before"){w.insertBefore(D,G)}else{w.insertAfter(D,G)}this.releaseRange(C)}});var y=u.extend({exec:function(){var G=this.lockRange(true),C=w.closest(G.endContainer,"td"),J=w.closest(C,"table"),H,E,K=J.rows,I,D,F=this.options.position;H=w.findNodeIndex(C);for(E=0;E<K.length;E++){I=K[E].cells[H];D=I.cloneNode();D.innerHTML=t.emptyElementContent;if(F=="before"){w.insertBefore(D,I)}else{w.insertAfter(D,I)}}this.releaseRange(G)}});var p=u.extend({exec:function(){var D=this.lockRange();var G=A.mapAll(D,function(I){return f(I).closest("tr")[0]});var F=w.closest(G[0],"table");var C;if(F.rows.length<=G.length){C=w.next(F);if(!C||w.insignificant(C)){C=w.prev(F)}w.remove(F)}else{for(var E=0;E<G.length;E++){var H=G[E];w.removeTextSiblings(H);C=w.next(H)||w.prev(H);C=C.cells[0];w.remove(H)}}if(C){D.setStart(C,0);D.collapse(true);this.editor.selectRange(D)}}});var q=u.extend({exec:function(){var D=this.lockRange(),J=w.closest(D.endContainer,"td"),G=w.closest(J,"table"),H=G.rows,F=w.findNodeIndex(J,true),I=H[0].cells.length,C,E;if(I==1){C=w.next(G);if(!C||w.insignificant(C)){C=w.prev(G)}w.remove(G)}else{w.removeTextSiblings(J);C=w.next(J)||w.prev(J);for(E=0;E<H.length;E++){w.remove(H[E].cells[F])}}if(C){D.setStart(C,0);D.collapse(true);this.editor.selectRange(D)}}});var b=j.extend({command:function(C){C=z(C,this.options);if(C.action=="delete"){if(C.type=="row"){return new p(C)}else{return new q(C)}}else{if(C.type=="row"){return new c(C)}else{return new y(C)}}},initialize:function(D,C){j.fn.initialize.call(this,D,C);D.addClass("k-state-disabled")},update:function(E,D){var C=!l.isFormatted(D);E.toggleClass("k-state-disabled",C)}});z(o.ui.editor,{PopupTool:n,TableCommand:B,InsertTableTool:m,TableModificationTool:b,InsertRowCommand:c,InsertColumnCommand:y,DeleteRowCommand:p,DeleteColumnCommand:q});r("createTable",new m({template:new s({template:k.buttonTemplate,popup:true,title:"Create table"})}));r("addColumnLeft",new b({type:"column",position:"before",template:new s({template:k.buttonTemplate,title:"Add column on the left"})}));r("addColumnRight",new b({type:"column",template:new s({template:k.buttonTemplate,title:"Add column on the right"})}));r("addRowAbove",new b({type:"row",position:"before",template:new s({template:k.buttonTemplate,title:"Add row above"})}));r("addRowBelow",new b({type:"row",template:new s({template:k.buttonTemplate,title:"Add row below"})}));r("deleteRow",new b({type:"row",action:"delete",template:new s({template:k.buttonTemplate,title:"Delete row"})}));r("deleteColumn",new b({type:"column",action:"delete",template:new s({template:k.buttonTemplate,title:"Delete column"})}))})(window.kendo.jQuery);(function(d,b){var h=window.kendo;var j=h.caret;var o=h.keys;var k=h.ui;var l=k.Widget;var m=".kendoMaskedTextBox";var g=d.proxy;var i=(h.support.propertyChangeEvent?"propertychange":"input")+m;var a="k-state-disabled";var e="disabled";var f="readonly";var c="change";var n=l.extend({init:function(q,p){var t=this;var s;l.fn.init.call(t,q,p);t._rules=d.extend({},t.rules,t.options.rules);q=t.element;s=q[0];t.wrapper=q;t._tokenize();t._reset();t.element.addClass("k-textbox").attr("autocomplete","off").on("focus"+m,function(){var u=s.value;if(!u){s.value=t._old=t._emptyMask}else{t._togglePrompt(true)}t._oldValue=u;t._timeoutId=setTimeout(function(){j(q,0,u?t._maskLength:0)})}).on("focusout"+m,function(){var u=q.val();clearTimeout(t._timeoutId);s.value=t._old="";if(u!==t._emptyMask){s.value=t._old=u}t._change();t._togglePrompt()});var r=q.is("[disabled]");if(r){t.enable(false)}else{t.readonly(q.is("[readonly]"))}t.value(t.options.value||q.val());h.notify(t)},options:{name:"MaskedTextBox",promptChar:"_",clearPromptChar:false,culture:"",rules:{},value:"",mask:""},events:[c],rules:{"0":/\d/,"9":/\d|\s/,"#":/\d|\s|\+|\-/,L:/[a-zA-Z]/,"?":/[a-zA-Z]|\s/,"&":/\S/,C:/./,A:/[a-zA-Z0-9]/,a:/[a-zA-Z0-9]|\s/},setOptions:function(p){var q=this;l.fn.setOptions.call(q,p);q._rules=d.extend({},q.rules,q.options.rules);q._tokenize();this._unbindInput();this._bindInput();q.value(q.element.val())},destroy:function(){var p=this;p.element.off(m);if(p._form){p._form.off("reset",p._resetHandler)}l.fn.destroy.call(p)},value:function(s){var r=this.element;var q=this._emptyMask;var p=this.options;if(s===b){return this.element.val()}if(s===null){s=""}if(!q){r.val(s);return}s=this._unmask(s+"");r.val(s?q:"");this._mask(0,this._maskLength,s);s=r.val();this._oldValue=s;if(h._activeElement()!==r){if(s===q){r.val("")}else{this._togglePrompt()}}},_togglePrompt:function(p){var q=this.element[0];var r=q.value;if(this.options.clearPromptChar){if(!p){r=r.replace(new RegExp(this.options.promptChar,"g")," ")}else{r=this._oldValue}q.value=this._old=r}},readonly:function(p){this._editable({readonly:p===b?true:p,disable:false})},enable:function(p){this._editable({readonly:false,disable:!(p=p===b?true:p)})},_bindInput:function(){var p=this;if(p._maskLength){p.element.on("keydown"+m,g(p._keydown,p)).on("keypress"+m,g(p._keypress,p)).on("paste"+m,g(p._paste,p)).on(i,g(p._propertyChange,p))}},_unbindInput:function(){this.element.off("keydown"+m).off("keypress"+m).off("paste"+m).off(i)},_editable:function(r){var t=this;var s=t.element;var q=r.disable;var p=r.readonly;t._unbindInput();if(!p&&!q){s.removeAttr(e).removeAttr(f).removeClass(a);t._bindInput()}else{s.attr(e,q).attr(f,p).toggleClass(a,q)}},_change:function(){var p=this;var q=p.value();if(q!==p._oldValue){p._oldValue=q;p.trigger(c);p.element.trigger(c)}},_propertyChange:function(){var r=this;var q=r.element[0];var s=q.value;var p;var t;if(h._activeElement()!==q){return}if(s!==r._old&&!r._pasting){t=j(q)[0];p=r._unmask(s.substring(t),t);q.value=r._old=s.substring(0,t)+r._emptyMask.substring(t);r._mask(t,t,p);j(q,t)}},_paste:function(u){var t=this;var s=u.target;var p=j(s);var v=p[0];var q=p[1];var r=t._unmask(s.value.substring(q),q);t._pasting=true;setTimeout(function(){var x=s.value;var w=x.substring(v,j(s)[0]);s.value=t._old=x.substring(0,v)+t._emptyMask.substring(v);t._mask(v,v,w);v=j(s)[0];t._mask(v,v,r);j(s,v);t._pasting=false})},_reset:function(){var r=this;var p=r.element;var s=p.attr("form");var q=s?d("#"+s):p.closest("form");if(q[0]){r._resetHandler=function(){setTimeout(function(){r.value(p[0].value)})};r._form=q.on("reset",r._resetHandler)}},_keydown:function(t){var r=t.keyCode;var q=this.element[0];var s=j(q);var w=s[0];var p=s[1];var v;var u=r===o.BACKSPACE;if(u||r===o.DELETE){if(w===p){if(u){w-=1}else{p+=1}v=this._find(w,u)}if(v!==b&&v!==w){if(u){v+=1}j(q,v)}else{if(w>-1){this._mask(w,p,"",u)}}t.preventDefault()}else{if(r===o.ENTER){this._change()}}},_keypress:function(r){if(r.which===0||r.ctrlKey||r.keyCode===o.ENTER){return}var q=String.fromCharCode(r.which);var p=j(this.element);this._mask(p[0],p[1],q);if(r.keyCode===o.BACKSPACE||q){r.preventDefault()}},_find:function(p,s){var r=this.element.val()||this._emptyMask;var q=1;if(s===true){q=-1}while(p>-1||p<=this._maskLength){if(r.charAt(p)!==this.tokens[p]){return p}p+=q}return -1},_mask:function(p,r,y,A){var t=this.element[0];var w=t.value||this._emptyMask;var v=this.options.promptChar;var z;var u=0;var q;var s;var x;p=this._find(p,A);if(p>r){r=p}q=this._unmask(w.substring(r),r);y=this._unmask(y,p);z=y.length;if(y){q=q.replace(new RegExp("^_{0,"+z+"}"),"")}y+=q;w=w.split("");s=y.charAt(u);while(p<this._maskLength){w[p]=s||v;s=y.charAt(++u);if(x===b&&u>z){x=p}p=this._find(p+1)}t.value=this._old=w.join("");if(h._activeElement()===t){if(x===b){x=this._maskLength}j(t,x)}},_unmask:function(v,w){if(!v){return""}v=(v+"").split("");var r;var p;var s=0;var u=w||0;var t=this.options.promptChar;var x=v.length;var q=this.tokens.length;var y="";while(u<q){r=v[s];p=this.tokens[u];if(r===p||r===t){y+=r===t?t:"";s+=1;u+=1}else{if(typeof p!=="string"){if((p.test&&p.test(r))||(d.isFunction(p)&&p(r))){y+=r;u+=1}s+=1}else{u+=1}}if(s>=x){break}}return y},_tokenize:function(){var y=[];var w=0;var C=this.options.mask||"";var s=C.split("");var p=s.length;var A=0;var u;var z;var t="";var q=this.options.promptChar;var x=h.getCulture(this.options.culture).numberFormat;var B=this._rules;for(;A<p;A++){u=s[A];z=B[u];if(z){y[w]=z;t+=q;w+=1}else{if(u==="."||u===","){u=x[u]}else{if(u==="$"){u=x.currency.symbol}else{if(u==="\\"){A+=1;u=s[A]}}}u=u.split("");for(var v=0,r=u.length;v<r;v++){y[w]=u[v];t+=u[v];w+=1}}}this.tokens=y;this._emptyMask=t;this._maskLength=t.length}});k.plugin(n)})(window.kendo.jQuery);(function(aG,y){var u=window.kendo,T=u.ui,aL=u.Class,n=T.Widget,r=u.data.DataSource,au={}.toString,X=function(aZ){return aZ},z=aG.map,ao=aG.extend,aH=u.isFunction,I="change",F="error",aD="progress",S="stateReset",aX="auto",ag="<div/>",aO=".kendoPivotGrid",aP="__row_total__",E="dataBinding",B="dataBound",at="expandMember",ah="collapseMember",aM="k-i-arrow-s",w="k-i-arrow-e",aj="#: data.member.caption || data.member.name #",m='<span class="k-icon k-i-kpi-#=data.dataItem.value > 0 ? "open" : data.dataItem.value < 0 ? "denied" : "hold"#">#:data.dataItem.value#</span>',aS='<span class="k-icon k-i-kpi-#=data.dataItem.value > 0 ? "increase" : data.dataItem.value < 0 ? "decrease" : "equal"#">#:data.dataItem.value#</span>',ap='#= data.dataItem ? kendo.htmlEncode(data.dataItem.fmtValue || data.dataItem.value) || "&nbsp;" : "&nbsp;" #',ac='<table class="k-pivot-layout"><tr><td><div class="k-pivot-rowheaders"></div></td><td><div class="k-pivot-table k-state-default"></div></td></tr></table>';function K(a0){var a1=typeof a0==="string"?[{name:a0}]:a0;var aZ=au.call(a1)==="[object Array]"?a1:(a1!==y?[a1]:[]);return z(aZ,function(a2){if(typeof a2==="string"){return{name:a2}}return{name:a2.name,type:a2.type}})}function az(a1){var a0=typeof a1==="string"?[{name:[a1],expand:false}]:a1;var aZ=au.call(a0)==="[object Array]"?a0:(a0!==y?[a0]:[]);return z(aZ,function(a2){if(typeof a2==="string"){return{name:[a2],expand:false}}return{name:(au.call(a2.name)==="[object Array]"?a2.name.slice():[a2.name]),expand:a2.expand}})}function aY(aZ,a2){var a1=aZ.members[a2];var a0=R(aZ,a2-1);if(a1.parentName){a0.push(a1.parentName)}if(!a0.length){a0=""}return u.stringify(a0)}function ad(a1,a4,a0,a6){var aZ,a3;var a2;var a5;if(!a0){a0=a4}if(!a6){a6=0}a5=a0.members[a6];if(!a5||a5.measure){return}a2=a5.children;a3=a2.length;if(a0===a4){a1[u.stringify([a5.name])]=!!a3}else{if(a3){a1[u.stringify(R(a0,a6))]=true}}if(a3){for(aZ=0;aZ<a3;aZ++){ad(a1,a4,a2[aZ],a6)}}ad(a1,a4,a0,a6+1)}function aJ(a2){var aZ={};if(a2.length){ad(aZ,a2[0])}var a1=[];for(var a0 in aZ){a1.push({name:aG.parseJSON(a0),expand:aZ[a0]})}return a1}function aB(a1,a4){var a3=a4.tuples||[];var a6=a3[0];if(a6&&a1.length<a6.members.length){var a0=a6.members;for(var aZ=0;aZ<a0.length;aZ++){if(a0[aZ].measure){continue}var a5=false;for(var a2=0;a2<a1.length;a2++){if(J(a1[a2]).indexOf(a0[aZ].hierarchy)===0){a5=true;break}}if(!a5){a1.push({name:[a0[aZ].name],expand:false})}}}}function k(a1){var a0=[];var a2=a1.members;for(var aZ=0;aZ<a2.length;aZ++){if(a2[aZ].measure){continue}a0.push({name:[a2[aZ].name],expand:a2[aZ].children.length>0})}return a0}function i(a2,a1,a3){a2=a2||{};aB(a1,a2);if(a3.length>1){a1.push({name:"Measures",measure:true,children:az(a3)})}var a0={members:a1};if(a2.tuples){var aZ=h(a2.tuples,a0);if(aZ.tuple){a1=k(aZ.tuple)}}return a1}function O(be,a7,aZ,bb,a3,a8,a4){var ba,a1,a2,bc,a9,bd=0;var a0=a7;for(a1 in aZ[bb].aggregates){ba=aZ[bb].aggregates[a1];bc=a3[a1];a9=a8[a1];ba=bc?bc(ba):ba.accumulator;be[a0]={ordinal:a0,value:ba,fmtValue:a9?u.format(a9,ba):ba};++bd;a0+=a4}var a6=aZ[bb].items;for(a2 in a6){var a5=a6[a2].index*bd;a5=a0+a5*a4;for(a1 in a6[a2].aggregates){ba=a6[a2].aggregates[a1];bc=a3[a1];a9=a8[a1];ba=bc?bc(ba):ba.accumulator;be[a5]={ordinal:a5,value:ba,fmtValue:a9?u.format(a9,ba):ba};a5+=a4}}}function aA(bc,a5,aZ,a9,a2,a6){var a8,a0,a1,ba,a7,bb=0;for(a0 in aZ[a9].aggregates){a8=aZ[a9].aggregates[a0];ba=a2[a0];a7=a6[a0];a8=ba?ba(a8):a8.accumulator;bc[bc.length]={ordinal:a5++,value:a8,fmtValue:a7?u.format(a7,a8):a8};++bb}var a4=aZ[a9].items;for(a1 in a4){var a3=a4[a1].index*bb;for(a0 in a4[a1].aggregates){a8=a4[a1].aggregates[a0];ba=a2[a0];a7=a6[a0];a8=ba?ba(a8):a8.accumulator;bc[bc.length]={ordinal:a5+a3++,value:a8,fmtValue:a7?u.format(a7,a8):a8}}}}function aK(a0){var aZ=u.getter(a0.field,true);return function(a1,a2){return a0.aggregate(aZ(a1.dataItem),a2,a1)}}function P(aZ){return typeof aZ==="number"&&!isNaN(aZ)}function g(aZ){return aZ&&aZ.getTime}var v={sum:function(a1,a0){var aZ=a0.accumulator;if(!P(aZ)){aZ=a1}else{if(P(a1)){aZ+=a1}}return aZ},count:function(a0,aZ){return(aZ.accumulator||0)+1},average:{aggregate:function(a1,a0){var aZ=a0.accumulator;if(a0.count===y){a0.count=0}if(!P(aZ)){aZ=a1}else{if(P(a1)){aZ+=a1}}if(P(a1)){a0.count++}return aZ},result:function(a0){var aZ=a0.accumulator;if(P(aZ)){aZ=aZ/a0.count}return aZ}},max:function(a1,a0){var aZ=a0.accumulator;if(!P(aZ)&&!g(aZ)){aZ=a1}if(aZ<a1&&(P(a1)||g(a1))){aZ=a1}return aZ},min:function(a1,a0){var aZ=a0.accumulator;if(!P(aZ)&&!g(aZ)){aZ=a1}if(aZ>a1&&(P(a1)||g(a1))){aZ=a1}return aZ}};var aI=aL.extend({init:function(aZ){this.options=ao({},this.options,aZ);this.dimensions=this._normalizeDescriptors("field",this.options.dimensions);this.measures=this._normalizeDescriptors("name",this.options.measures)},_normalizeDescriptors:function(a4,a1){a1=a1||{};var a0={};var a3;if(au.call(a1)==="[object Array]"){for(var aZ=0,a2=a1.length;aZ<a2;aZ++){a3=a1[aZ];if(typeof a3==="string"){a0[a3]={}}else{if(a3[a4]){a0[a3[a4]]=a3}}}a1=a0}return a1},_asTuples:function(a0,ba,a4){a4=a4||[];var a2=this.dimensions||[];var bb=[];var a5;var a7;var a1;var a9;var a6;var aZ;var a3=a4.length||1;if(ba.length||a4.length){for(a9=0;a9<a3;a9++){a5={members:[]};for(a7=0,a1=ba.length;a7<a1;a7++){aZ=J(ba[a7].name);a5.members[a5.members.length]={children:[],caption:(a2[aZ]||{}).caption||"All",name:aZ,levelName:aZ,levelNum:"0",hasChildren:true,parentName:y,hierarchy:aZ}}if(a3>1){a5.members[a5.members.length]={children:[],caption:(a4[a9]).caption,name:a4[a9].descriptor.name,levelName:"MEASURES",levelNum:"0",hasChildren:false,parentName:y,hierarchy:"MEASURES"}}bb[bb.length]=a5}}for(var a8 in a0){for(a9=0;a9<a3;a9++){a6={members:[]};for(a7=0,a1=ba.length;a7<a1;a7++){aZ=J(ba[a7].name);if(a0[a8].parentName.indexOf(aZ)===0){a6.members[a6.members.length]={children:[],caption:a0[a8].value,name:a0[a8].name,levelName:a0[a8].name,levelNum:1,hasChildren:false,parentName:aZ,hierarchy:aZ}}else{a6.members[a6.members.length]={children:[],caption:(a2[aZ]||{}).caption||"All",name:aZ,levelName:aZ,levelNum:"0",hasChildren:true,parentName:y,hierarchy:aZ}}}if(a3>1){a6.members[a6.members.length]={children:[],caption:a4[a9].caption,name:a4[a9].descriptor.name,levelName:"MEASURES",levelNum:"0",hasChildren:true,parentName:y,hierarchy:"MEASURES"}}bb[bb.length]=a6}}return bb},_toDataArray:function(a1,a7,a2,a6,a4){var ba={};var a5={};var bd,a0,aZ;var bb=0;var a3=a2&&a2.length;if(a3){bd=(this.measures||{});for(;bb<a3;bb++){aZ=a2[bb].name;a0=bd[aZ];if(a0.result){a5[aZ]=a0.result}if(a0.format){ba[aZ]=a0.format}}}var be=[];var a8;var a9=0;a4(be,a9,a1,aP,a5,ba,a7);for(var bc in a1){if(bc===aP){continue}a9+=a6;a4(be,a9,a1,bc,a5,ba,a7)}return be},_matchDescriptors:function(aZ,a7,a5,a6){var a0;var a3;var a4;var a1;var a2;while(a6>0){a0=a7[--a6];a3=J(a0).split("&");if(a3.length>1){a4=a3[0];a1=a3[1];a2=a5[a4];if(a2(aZ)!=a1){return false}}}return true},_isExpanded:function(a0){for(var aZ=0,a1=a0.length;aZ<a1;aZ++){if(a0[aZ].expand){return true}}return false},_calculateAggregate:function(a3,a0,a2){var aZ={};var a4;var a1;for(var a5=0;a5<a3.length;a5++){a1=a3[a5].descriptor.name;a4=a2.aggregates[a1]||{};a4.accumulator=a3[a5].aggregator(a0,a4);aZ[a1]=a4}return aZ},_processColumns:function(a3,bc,a7,a5,a6,bd,a2,a8){var bb;var a1;var a0;var a4;var a9;var aZ=a6.dataItem;for(var ba=0;ba<bc.length;ba++){a1=bc[ba];if(a1.expand){if(!this._matchDescriptors(aZ,bc,a7,ba)){continue}a0=J(a1);bb=a7[a0](aZ);bb=bb!==y?bb.toString():bb;a0=a0+"&"+bb;a4=a5[a0]||{index:a2.columnIndex,name:a0,parentName:a0,value:bb};a9=bd.items[a0]||{aggregates:{}};bd.items[a0]={index:a4.index,aggregates:this._calculateAggregate(a3,a6,a9)};if(a8){if(!a5[a0]){a2.columnIndex++}a5[a0]=a4}}}},_measureAggregators:function(a8){var a7=a8.measures||[];var aZ=this.measures||{};var a4=[];var a0,a1,a6,a3;var a5,a2;if(a7.length){for(a6=0,a3=a7.length;a6<a3;a6++){a0=a7[a6];a1=aZ[a0.name];a5=null;if(a1){a2=a1.aggregate;if(typeof a2==="string"){a5=v[a2.toLowerCase()];if(!a5){throw new Error("There is no such aggregate function")}a1.aggregate=a5.aggregate||a5;a1.result=a5.result}a4.push({descriptor:a0,caption:a1.caption,result:a1.result,aggregator:aK(a1)})}}}else{a4.push({descriptor:{name:"default"},caption:"default",aggregator:function(){return 1}})}return a4},_buildGetters:function(a2){var a0={};var a5;var a4;var a1;for(var aZ=0,a3=a2.length;aZ<a3;aZ++){a5=a2[aZ];a1=J(a5);a4=a1.split("&");if(a4.length>1){a0[a4[0]]=u.getter(a4[0],true)}else{a0[a1]=u.getter(a1,true)}}return a0},process:function(bq,a4){bq=bq||[];a4=a4||{};var bg=a4.measures||[];var bf=a4.measuresAxis==="rows";var a9=(bf?a4.rows:a4.columns)||[];var bn=(!bf?a4.rows:a4.columns)||[];if(!a9.length&&bn.length&&(!bg.length||(bg.length&&bf))){a9=bn;bn=[];bf=false}if(!a9.length&&!bn.length){bf=false}if(!a9.length&&bg.length){a9=az(a4.measures)}var bd={};var a1={};var bc={};var bk;var a5={columnIndex:0};var bl=this._measureAggregators(a4);var bo=this._buildGetters(a9);var a8=this._buildGetters(bn);var aZ=false;if(a9.length||bn.length){var ba;var bj;var a7=this._isExpanded(bn);aZ=true;for(var be=0,a3=bq.length;be<a3;be++){ba=bq[be];bj={dataItem:ba,index:be};var a2=bd[aP]||{items:{},aggregates:{}};this._processColumns(bl,a9,bo,a1,bj,a2,a5,!a7);a2.aggregates=this._calculateAggregate(bl,bj,a2);bd[aP]=a2;for(var a0=0,bi=bn.length;a0<bi;a0++){var bp=bn[a0];if(bp.expand){if(!this._matchDescriptors(ba,bn,a8,a0)){continue}var bb=J(bp);bk=a8[bb](ba);bk=bk!==y?bk.toString():bk;bc[bk]={name:bb+"&"+bk,parentName:bb,value:bk};var bh=bd[bk]||{items:{},aggregates:{}};this._processColumns(bl,a9,bo,a1,bj,bh,a5,true);bh.aggregates=this._calculateAggregate(bl,bj,bh);bd[bk]=bh}}}}if(aZ&&bq.length){if(bl.length>1&&(!a4.columns||!a4.columns.length)){a9=[]}a1=this._asTuples(a1,a9,bl);bc=this._asTuples(bc,bn,[]);var a6=a1.length;if(bf){a6=1;var bm=a1;a1=bc;bc=bm}bd=this._toDataArray(bd,a1.length,a4.measures,a6,bf?O:aA);bd=this._normalizeData(bd,a1.length,bc.length)}else{bd=a1=bc=[]}return{axes:{columns:{tuples:a1},rows:{tuples:bc}},data:bd}},_normalizeData:function(a6,a3,a5){var a2=(a3||1)*(a5||1);var a1=new Array(a2);var a4=a6.length;var a0,aZ;if(a4===a2){return a6}for(aZ=0;aZ<a2;aZ++){a1[aZ]={value:"",fmtValue:"",ordinal:aZ}}for(aZ=0;aZ<a4;aZ++){a0=a6[aZ];if(a0){a1[a0.ordinal]=a0}}return a1}});var aE=aL.extend({init:function(aZ,a0){this.transport=a0;this.options=a0.options||{};if(!this.transport.discover){if(aH(aZ.discover)){this.discover=aZ.discover}}},read:function(aZ){return this.transport.read(aZ)},update:function(aZ){return this.transport.update(aZ)},create:function(aZ){return this.transport.create(aZ)},destroy:function(aZ){return this.transport.destroy(aZ)},discover:function(aZ){if(this.transport.discover){return this.transport.discover(aZ)}aZ.success({})},catalog:function(a1){var a0=this.options||{};if(a1===y){return(a0.connection||{}).catalog}var aZ=a0.connection||{};aZ.catalog=a1;this.options.connection=aZ;aG.extend(this.transport.options,{connection:aZ})},cube:function(a1){var a0=this.options||{};if(a1===y){return(a0.connection||{}).cube}var aZ=a0.connection||{};aZ.cube=a1;this.options.connection=aZ;ao(true,this.transport.options,{connection:aZ})}});var al=r.extend({init:function(a0){var aZ=((a0||{}).schema||{}).cube;var a2="columns";var a3;var a1={axes:X,cubes:X,catalogs:X,measures:X,dimensions:X,hierarchies:X,levels:X,members:X};if(aZ){a1=aG.extend(a1,this._cubeSchema(aZ));this.cubeBuilder=new aI(aZ)}r.fn.init.call(this,ao(true,{},{schema:a1},a0));this.transport=new aE(this.options.transport||{},this.transport);this._columns=az(this.options.columns);this._rows=az(this.options.rows);a3=this.options.measures||[];if(au.call(a3)==="[object Object]"){a2=a3.axis||"columns";a3=a3.values||[]}this._measures=K(a3);this._measuresAxis=a2;this._axes={}},_cubeSchema:function(aZ){return{dimensions:function(){var a0=[];var a2=aZ.dimensions;for(var a1 in a2){a0.push({name:a1,caption:a2[a1].caption||a1,uniqueName:a1,defaultHierarchy:a1,type:1})}if(aZ.measures){a0.push({name:"Measures",caption:"Measures",uniqueName:"Measures",type:2})}return a0},hierarchies:function(){return[]},measures:function(){var a0=[];var a2=aZ.measures;for(var a1 in a2){a0.push({name:a1,caption:a1,uniqueName:a1,aggregator:a1})}return a0}}},options:{serverSorting:true,serverPaging:true,serverFiltering:true,serverGrouping:true,serverAggregates:true},catalog:function(aZ){if(aZ===y){return this.transport.catalog()}this.transport.catalog(aZ);this._mergeState({});this._axes={};this.data([])},cube:function(aZ){if(aZ===y){return this.transport.cube()}this.transport.cube(aZ);this._axes={};this._mergeState({});this.data([])},axes:function(){return this._axes},columns:function(aZ){if(aZ===y){return this._columns}this._clearAxesData=true;this._columns=az(aZ);this.query({columns:aZ,rows:this.rowsAxisDescriptors(),measures:this.measures()})},rows:function(aZ){if(aZ===y){return this._rows}this._clearAxesData=true;this._rows=az(aZ);this.query({columns:this.columnsAxisDescriptors(),rows:aZ,measures:this.measures()})},measures:function(aZ){if(aZ===y){return this._measures}this._clearAxesData=true;this.query({columns:this.columnsAxisDescriptors(),rows:this.rowsAxisDescriptors(),measures:K(aZ)})},measuresAxis:function(){return this._measuresAxis||"columns"},_expandPath:function(a7,aZ){var a3=aZ==="columns"?"columns":"rows";var a2=aZ==="columns"?"rows":"columns";var a0=az(a7);var a6=J(a0[a0.length-1]);this._lastExpanded=a3;a0=i(this.axes()[a3],a0,this.measures());for(var a4=0;a4<a0.length;a4++){var a1=J(a0[a4]);if(a1===a6){if(a0[a4].expand){return}a0[a4].expand=true}else{a0[a4].expand=false}}var a5={};a5[a3]=a0;a5[a2]=this._descriptorsForAxis(a2);this._query(a5)},_descriptorsForAxis:function(a0){var a1=this.axes();var aZ=this[a0]()||[];if(a1&&a1[a0]&&a1[a0].tuples&&a1[a0].tuples[0]){aZ=aJ(a1[a0].tuples||[])}return aZ},columnsAxisDescriptors:function(){return this._descriptorsForAxis("columns")},rowsAxisDescriptors:function(){return this._descriptorsForAxis("rows")},_process:function(aZ,a0){this._view=aZ;a0=a0||{};a0.items=a0.items||this._view;this.trigger(I,a0)},_query:function(aZ){var a0=this;if(!aZ){this._clearAxesData=true}return a0.query(ao({},{page:a0.page(),pageSize:a0.pageSize(),sort:a0.sort(),filter:a0.filter(),group:a0.group(),aggregate:a0.aggregate(),columns:this.columnsAxisDescriptors(),rows:this.rowsAxisDescriptors(),measures:this.measures()},aZ))},query:function(aZ){var a0=this._mergeState(aZ);if(this._data.length&&this.cubeBuilder){this._params(a0);this._updateLocalData(this._pristineData);return aG.Deferred().resolve().promise()}return this.read(a0)},_mergeState:function(aZ){aZ=r.fn._mergeState.call(this,aZ);if(aZ!==y){this._measures=K(aZ.measures);if(aZ.columns){aZ.columns=az(aZ.columns)}else{if(!aZ.columns){this._columns=[]}}if(aZ.rows){aZ.rows=az(aZ.rows)}else{if(!aZ.rows){this._rows=[]}}}return aZ},filter:function(aZ){if(aZ===y){return this._filter}this._clearAxesData=true;this._query({filter:aZ,page:1})},expandColumn:function(aZ){this._expandPath(aZ,"columns")},expandRow:function(aZ){this._expandPath(aZ,"rows")},success:function(a0){var aZ;if(this.cubeBuilder){aZ=(this.reader.data(a0)||[]).slice(0)}r.fn.success.call(this,a0);if(aZ){this._pristineData=aZ}},_processResult:function(a2,a6){if(this.cubeBuilder){var a4=this.cubeBuilder.process(a2,this._requestData);a2=a4.data;a6=a4.axes}var a5,a8;var a3,a9,a0,a7;var a1=this.columns().length;var bb=this.rows().length;var aZ=a6.columns&&a6.columns.tuples;if(!a1&&bb&&aZ&&(this._rowMeasures().length||!this.measures().length)){a6={columns:{},rows:a6.columns}}if(!a1&&!bb&&this.measuresAxis()==="rows"&&aZ){a6={columns:{},rows:a6.columns}}this._axes={columns:j(this._axes.columns),rows:j(this._axes.rows)};a6={columns:j(a6.columns),rows:j(a6.rows)};a5=this._normalizeTuples(a6.columns.tuples,this._axes.columns.tuples,this._columnMeasures());a8=this._normalizeTuples(a6.rows.tuples,this._axes.rows.tuples,this._rowMeasures());if(!this.cubeBuilder){a2=this._normalizeData({columnsLength:a6.columns.tuples.length,rowsLength:a6.rows.tuples.length,columnIndexes:a5,rowIndexes:a8,data:a2})}if(this._lastExpanded=="rows"){a3=a6.columns.tuples;a0=this._columnMeasures();a9=ae(a6.columns,this._axes.columns,a0);if(a9){a7="columns";a6.columns=a9;aR(a3,a9.tuples,a6.rows.tuples.length,a0,a2);a2=this._normalizeData({columnsLength:L(a6.columns.tuples,a0),rowsLength:a6.rows.tuples.length,data:a2})}}else{if(this._lastExpanded=="columns"){a3=a6.rows.tuples;a0=this._rowMeasures();a9=ae(a6.rows,this._axes.rows,a0);if(a9){a7="rows";a6.rows=a9;Q(a3,a9.tuples,a6.columns.tuples.length,a0,a2);a2=this._normalizeData({columnsLength:L(a6.rows.tuples,a0),rowsLength:a6.columns.tuples.length,data:a2})}}}this._lastExpanded=null;var ba=this._mergeAxes(a6,a2,a7);this._axes=ba.axes;return ba.data},_readData:function(a0){var a1=this.reader.axes(a0);var aZ=this.reader.data(a0);return this._processResult(aZ,a1)},_createTuple:function(a7,aZ,a9){var a0;var a5;var a3;var a4=a7.members;var a1=a4.length;var a6={members:[]};var a2;var ba;var a8=0;if(aZ){a1-=1}for(;a8<a1;a8++){a5=a4[a8];a2=Number(a5.levelNum);a0=a5.name;a3=a5.parentName;ba=a5.caption||a0;if(a9){ba="All";if(a2===0){a3=a5.name}else{a2-=1}a0=a3}a6.members.push({name:a0,children:[],caption:ba,levelName:a3,levelNum:a2.toString(),hasChildren:a9,hierarchy:a3,parentName:!a9?a3:""})}if(aZ){a6.members.push({name:aZ.name,children:[]})}return a6},_hasRoot:function(a5,a4){if(a4.length){return h(a4,a5).tuple}var a1=a5.members;var a6;var a0=true;var a2;for(var aZ=0,a3=a1.length;aZ<a3;aZ++){a6=a1[aZ];a2=Number(a6.levelNum)||0;if(a2!==0){a0=false;break}}return a0},_mergeAxes:function(a6,a2,a8){var a9=this._columnMeasures();var bc=this._rowMeasures();var a5=this.axes();var ba,a4;var bb=a6.rows.tuples.length;var aZ=L(a5.columns.tuples,a9);var a0=a6.columns.tuples.length;if(a8=="columns"){a0=aZ;a4=a6.columns.tuples}else{a4=Z(a6.columns.tuples,a9);a2=ai(a4,a2)}var a7=U(a5.columns.tuples,a4,a9);if(a8=="rows"){bb=L(a6.rows.tuples,bc);a4=a6.rows.tuples}else{a4=Z(a6.rows.tuples,bc);a2=p(a4,a2)}var a3=U(a5.rows.tuples,a4,bc);a5.columns.tuples=a7.tuples;a5.rows.tuples=a3.tuples;if(aZ!==L(a5.columns.tuples,a9)){ba=a7.index+t(a7.parsedRoot,a7.memberIndex,a9);var a1=aZ+a0;a2=this._mergeColumnData(a2,ba,bb,a0,a1)}else{ba=a3.index+t(a3.parsedRoot,a3.memberIndex,bc);a2=this._mergeRowData(a2,ba,bb,a0)}return{axes:a5,data:a2}},_mergeColumnData:function(a9,a5,a1,aZ,a2){var a3=this.data().toJSON();var a6,a4,a0=0,a8;var a7=Math.max(this._columnMeasures().length,1);a1=Math.max(a1,1);if(a3.length>0){a0=a7;a2-=a7}for(a6=0;a6<a1;a6++){a4=a5+(a6*a2);a8=a9.splice(0,aZ);a8.splice(0,a0);[].splice.apply(a3,[a4,0].concat(a8))}return a3},_mergeRowData:function(a7,a2,a0,aZ){var a1=this.data().toJSON();var a4,a3,a5;var a6=Math.max(this._rowMeasures().length,1);aZ=Math.max(aZ,1);if(a1.length>0){a0-=a6;a7.splice(0,aZ*a6)}for(a4=0;a4<a0;a4++){a5=a7.splice(0,aZ);a3=(a2*aZ)+(a4*aZ);[].splice.apply(a1,[a3,0].concat(a5))}return a1},_columnMeasures:function(){var a0=this.measures();var aZ=[];if(this.measuresAxis()==="columns"){if(this.columns().length===0){aZ=a0}else{if(a0.length>1){aZ=a0}}}return aZ},_rowMeasures:function(){var a0=this.measures();var aZ=[];if(this.measuresAxis()==="rows"){if(this.rows().length===0){aZ=a0}else{if(a0.length>1){aZ=a0}}}return aZ},_updateLocalData:function(a0,aZ){if(this.cubeBuilder){if(aZ){this._requestData=aZ}a0=this._processResult(a0)}this._data=this._observe(a0);this._ranges=[];this._addRange(this._data);this._total=this._data.length;this._pristineTotal=this._total;this._process(this._data)},data:function(a0){var aZ=this;if(a0!==y){this._pristineData=a0.slice(0);this._updateLocalData(a0,{columns:this.columns(),rows:this.rows(),measures:this.measures()})}else{return aZ._data}},_normalizeTuples:function(a3,aZ,a0){var a1=a0.length||1;var a6=0;var a9=[];var a4={};var a8=0;var a5,a2,a7;if(!a3.length){return}if(!this._hasRoot(a3[0],aZ)){for(;a6<a1;a6++){a9.push(this._createTuple(a3[0],a0[a6],true));a4[a6]=a6}a3.splice.apply(a3,[0,a3.length].concat(a9).concat(a3));a6=a1}if(a0.length){a7=a5=a3[a6];a2=a5.members.length-1;while(a5){if(a8>=a1){a8=0}if(a5.members[a2].name!==a0[a8].name){a3.splice(a6,0,this._createTuple(a5,a0[a8]));a4[a6]=a6}a6+=1;a8+=1;a5=a3[a6];if(a1>a8&&(!a5||Y(a7,a2-1)!==Y(a5,a2-1))){for(;a8<a1;a8++){a3.splice(a6,0,this._createTuple(a7,a0[a8]));a4[a6]=a6;a6+=1}a5=a3[a6]}a7=a5}}return a4},_normalizeData:function(ba){var a3=ba.data;var a5=ba.columnIndexes||{};var a7=ba.rowIndexes||{};var a0=ba.columnsLength||1;var a1=a0*(ba.rowsLength||1);var a8=0;var a4=0;var a6=0;var aZ,a2;var a9=new Array(a1);if(a3.length===a1){return a3}for(;a8<a1;a8++){if(a7[parseInt(a8/a0,10)]!==y){for(a2=0;a2<a0;a2++){a9[a8]={value:"",fmtValue:"",ordinal:a8};a8+=1}}if(a5[a8%a0]!==y){a9[a8]={value:"",fmtValue:"",ordinal:a8};a8+=1}aZ=a3[a4];if(aZ){if(aZ.ordinal-a6>1){a6+=1;for(;a6<aZ.ordinal;a6++){a9[a8]={value:"",fmtValue:"",ordinal:a8};a8+=1}}a6=aZ.ordinal;aZ.ordinal=a8;a9[a8]=aZ;a4+=1}else{a9[a8]={value:"",fmtValue:"",ordinal:a8}}}return a9},discover:function(aZ,a0){var a1=this,a2=a1.transport;return aG.Deferred(function(a3){a2.discover(ao({success:function(a4){a4=a1.reader.parse(a4);if(a1._handleCustomErrors(a4)){return}if(a0){a4=a0(a4)}a3.resolve(a4)},error:function(a5,a4,a6){a3.reject(a5);a1.error(a5,a4,a6)}},aZ))}).promise().done(function(){a1.trigger("schemaChange")})},schemaMeasures:function(){var aZ=this;return aZ.discover({data:{command:"schemaMeasures",restrictions:{catalogName:aZ.transport.catalog(),cubeName:aZ.transport.cube()}}},function(a0){return aZ.reader.measures(a0)})},schemaKPIs:function(){var aZ=this;return aZ.discover({data:{command:"schemaKPIs",restrictions:{catalogName:aZ.transport.catalog(),cubeName:aZ.transport.cube()}}},function(a0){return aZ.reader.kpis(a0)})},schemaDimensions:function(){var aZ=this;return aZ.discover({data:{command:"schemaDimensions",restrictions:{catalogName:aZ.transport.catalog(),cubeName:aZ.transport.cube()}}},function(a0){return aZ.reader.dimensions(a0)})},schemaHierarchies:function(aZ){var a0=this;return a0.discover({data:{command:"schemaHierarchies",restrictions:{catalogName:a0.transport.catalog(),cubeName:a0.transport.cube(),dimensionUniqueName:aZ}}},function(a1){return a0.reader.hierarchies(a1)})},schemaLevels:function(aZ){var a0=this;return a0.discover({data:{command:"schemaLevels",restrictions:{catalogName:a0.transport.catalog(),cubeName:a0.transport.cube(),hierarchyUniqueName:aZ}}},function(a1){return a0.reader.levels(a1)})},schemaCubes:function(){var aZ=this;return aZ.discover({data:{command:"schemaCubes",restrictions:{catalogName:aZ.transport.catalog()}}},function(a0){return aZ.reader.cubes(a0)})},schemaCatalogs:function(){var aZ=this;return aZ.discover({data:{command:"schemaCatalogs"}},function(a0){return aZ.reader.catalogs(a0)})},schemaMembers:function(a0){var aZ=this;return aZ.discover({data:{command:"schemaMembers",restrictions:ao({catalogName:aZ.transport.catalog(),cubeName:aZ.transport.cube()},a0)}},function(a1){return aZ.reader.members(a1)})},_params:function(a0){if(this._clearAxesData){this._axes={};this._data=this._observe([]);this._clearAxesData=false;this.trigger(S)}var aZ=r.fn._params.call(this,a0);aZ=ao({measures:this.measures(),measuresAxis:this.measuresAxis(),columns:this.columns(),rows:this.rows()},aZ);if(this.cubeBuilder){this._requestData=aZ}return aZ}});function ae(aZ,a0,a1){if(aZ.tuples.length<L(a0.tuples,a1)){return a0}return}function aR(a9,a2,a5,a0,a7){var a4,a1,a8;var aZ=a9.length;var a6=L(a2,a0);var a3=a0.length||1;for(a1=0;a1<a5;a1++){for(a4=0;a4<aZ;a4++){a8=aU(a9[a4],a2)*a3;a8+=a4%a3;a7[a1*aZ+a4].ordinal=a1*a6+a8}}}function Q(a9,a2,aZ,a0,a7){var a4,a1,a8;var a5=a9.length;var a6=L(a2,a0);var a3=a0.length||1;for(a1=0;a1<a5;a1++){a8=aU(a9[a1],a2);a8*=a3;a8+=a1%a3;for(a4=0;a4<aZ;a4++){a7[a1*aZ+a4].ordinal=a8*aZ+a4}}}function aU(aZ,a0){return h(a0,aZ).index}function L(a2,a5){if(!a2.length){return 0}var a1=a2.slice();var a4=a1.shift();var a0,a3,aZ=1;while(a4){if(a4.members){[].push.apply(a1,a4.members)}else{if(a4.children){if(!a4.measure){aZ+=a4.children.length}[].push.apply(a1,a4.children)}}a4=a1.shift()}if(a5.length){aZ=aZ*a5.length}return aZ}function j(aZ){if(!aZ){aZ={tuples:[]}}if(!aZ.tuples){aZ.tuples=[]}return aZ}function t(aZ,a4,a3){if(!aZ){return 0}var a0=Math.max(a3.length,1);var a1=aZ.members.slice(0,a4);var a2=a1.shift();while(a2){if(a2.children){[].push.apply(a1,a2.children)}else{a0++;[].push.apply(a1,a2.members)}a2=a1.shift()}return a0}function U(a5,aZ,a0){if(!aZ[0]){return{parsedRoot:null,tuples:a5,memberIndex:0,index:0}}var a7=h(a5,aZ[0]);if(!a7.tuple){return{parsedRoot:null,tuples:aZ,memberIndex:0,index:0}}var a3=a7.tuple.members;var a1=aZ[0].members;var a4=-1;if(a3.length!==a1.length){return{parsedRoot:null,tuples:aZ,memberIndex:0,index:0}}for(var a6=0,a2=a3.length;a6<a2;a6++){if(!a3[a6].measure&&a1[a6].children[0]){if(a4==-1&&a1[a6].children.length){a4=a6}a3[a6].children=a1[a6].children}}a0=Math.max(a0.length,1);return{parsedRoot:a7.tuple,index:a7.index*a0,memberIndex:a4,tuples:a5}}function d(a4,a1){var a2=true;var aZ,a3;var a0;a4=a4.members;a1=a1.members;for(aZ=0,a3=a4.length;aZ<a3;aZ++){if(a4[aZ].measure||a1[aZ].measure){continue}a2=a2&&(J(a4[aZ])===J(a1[aZ]))}return a2}function h(a3,a7){var a6,a0,a5,a8,aZ=0;var a4,a2,a1;for(a6=0,a0=a3.length;a6<a0;a6++){a5=a3[a6];if(d(a5,a7)){return{tuple:a5,index:aZ}}aZ++;for(a4=0,a2=a5.members.length;a4<a2;a4++){a1=a5.members[a4];if(a1.measure){continue}a8=h(a1.children,a7);aZ+=a8.index;if(a8.tuple){return{tuple:a8.tuple,index:aZ}}}}return{index:aZ}}function ak(a0,a3){var a4,a1,aZ,a2="";for(a1=0,aZ=a0.length;a1<aZ;a1++){a4=a0[a1];a2+=a4.name;if(!a3[a2]){a3[a2]=a4}}}function a(a6,a0){var a2=a6.members;var a4,a5,a3,a7="";var a1="";var aZ;for(a4=0,a5=a2.length;a4<a5;a4++){a3=a2[a4];if(aZ){if(a0[a7+a3.name]){a7+=a3.name;aZ=a0[a7];continue}else{if(a0[a7+a3.parentName]){return a0[a7+a3.parentName]}else{if(a3.parentName){a1+=a3.parentName}return a0[a1]}}}a7+=a3.name;aZ=a0[a3.parentName];if(!aZ){aZ=a0[a7];if(!aZ){return null}}if(aZ){a1+=aZ.name}}return aZ}function e(a1,a4){if(a4.length===0){return -1}var a3=a4[0];var a2=a1.members;for(var a0=0,aZ=a2.length;a0<aZ;a0++){if(a2[a0].name==a3.name){return a0}}}function aa(aZ,a0){if(a0<0){return}var a1={name:"Measures",measure:true,children:[aG.extend({members:[],dataIndex:aZ.dataIndex},aZ.members[a0])]};aZ.members.splice(a0,1,a1);aZ.dataIndex=y}function Z(a4,a6){if(a4.length<1){return[]}var a0=[];var a5={};var a3=e(a4[0],a6);for(var a2=0;a2<a4.length;a2++){var aZ=a4[a2];aZ.dataIndex=a2;aa(aZ,a3);var a1=a(aZ,a5);if(a1){if(a3<0||!a1.measure){a1.children.push(aZ)}else{a1.children.push(aZ.members[a3].children[0])}}else{a0.push(aZ)}ak(aZ.members,a5)}return a0}function p(a3,a2){if(!a3||!a3.length){return a2}var a9=[];var a8=o(a3);var a1=a8.length;var aZ=Math.max(a2.length/a1,1);var a7,a5,a0,a4;var a6;for(a7=0;a7<a1;a7++){a0=aZ*a7;a4=aZ*a8[a7];for(a5=0;a5<aZ;a5++){a6=parseInt(a4+a5,10);a9[parseInt(a0+a5,10)]=a2[a6]||{value:"",fmtValue:"",ordinal:a6}}}return a9}function ai(a2,a1,a4){if(!a2||!a2.length){return a1}var a9=[];var a8=o(a2);var aZ=a8.length;var a0=Math.max(a1.length/aZ,1);var a3,a6,a7,a5;for(a6=0;a6<a0;a6++){a7=aZ*a6;for(a3=0;a3<aZ;a3++){a5=a8[a3]+a7;a9[a7+a3]=a1[a5]||{value:"",fmtValue:"",ordinal:a5}}}return a9}function o(a4){a4=a4.slice();var a1=[];var a0=a4.shift();var aZ,a5,a2,a3,a6;while(a0){if(a0.dataIndex!==y){a1.push(a0.dataIndex)}a2=0;for(aZ=0,a5=a0.members.length;aZ<a5;aZ++){a6=a0.members[aZ];a3=a6.children;if(a6.measure){[].splice.apply(a4,[0,0].concat(a3))}else{[].splice.apply(a4,[a2,0].concat(a3))}a2+=a3.length}a0=a4.shift()}return a1}al.create=function(aZ){aZ=aZ&&aZ.push?{data:aZ}:aZ;var a1=aZ||{},a0=a1.data;a1.data=a0;if(!(a1 instanceof al)&&a1 instanceof u.data.DataSource){throw new Error("Incorrect DataSource type. Only PivotDataSource instances are supported")}return a1 instanceof al?a1:new al(a1)};function ab(aZ){var a0=aZ.split(".");if(a0.length>2){return a0[0]+"."+a0[1]}return aZ}function s(a3,a2){var aZ=a3.length-1;var a1=a3[aZ];var a0;a0=aV(a2,a1);if(a0&&a0.dir){a1="ORDER("+a1+".Children,"+a0.field+".CurrentMember.MEMBER_CAPTION,"+a0.dir+")"}else{a1+=".Children"}a3[aZ]=a1;return a3}function aV(a0,a2){for(var aZ=0,a1=a0.length;aZ<a1;aZ++){if(a2.indexOf(a0[aZ].field)===0){return a0[aZ]}}return null}function aQ(a1){var aZ="CROSSJOIN({";var a0;if(a1.length>2){a0=a1.pop();aZ+=aQ(a1)}else{aZ+=a1.shift();a0=a1.pop()}aZ+="},{";aZ+=a0;aZ+="})";return aZ}function aN(aZ,a2){var a0=aZ.slice(0);var a1;if(a2.length>1){a0.push("{"+an(a2).join(",")+"}")}return aQ(a0)}function aT(a1){var a0=[];for(var aZ=0;aZ<a1.length;aZ++){if(a1[aZ].expand){a0.push(a1[aZ])}}return a0}function an(a3){var a0=0;var a2=a3.length;var aZ=[];var a1;for(;a0<a2;a0++){a1=a3[a0];aZ.push(a1.name!==y?a1.name:a1)}return aZ}function J(aZ){aZ=aZ.name||aZ;if(au.call(aZ)==="[object Array]"){aZ=aZ[aZ.length-1]}return aZ}function aF(a0){var a1=a0.length;var a2=[];var aZ=0;for(;aZ<a1;aZ++){a2.push(a0[aZ].name[0])}return a2}function M(a5,a4){var a2;var a6;var a1;var a0=0;var a3=a5.length;var aZ=a4.length;a4=a4.slice(0);for(;a0<a3;a0++){a2=a5[a0];for(a1=0;a1<aZ;a1++){a6=ab(a4[a1]);if(a2.indexOf(a6)!==-1){a4[a1]=a2;break}}}return a4}function x(a4){var a7=[];var a1=[];var a8=[];var a6;var a3,a2;var a9=0;var a0=a4.length;var aZ;var a5;var ba;for(;a9<a0;a9++){a6=a4[a9];aZ=a6.name;ba=false;if(au.call(aZ)!=="[object Array]"){a6.name=aZ=[aZ]}if(aZ.length>1){a1.push(a6)}else{a5=ab(aZ[0]);for(a3=0,a2=a8.length;a3<a2;a3++){if(a8[a3].name[0].indexOf(a5)===0){ba=true;break}}if(!ba){a8.push(a6)}if(a6.expand){a7.push(a6)}}}a7=a7.concat(a1);return{root:a8,expanded:a7}}function q(a3,aZ,a4){var a1="";a3=a3||[];var a5=x(a3);var a9=a5.root;var a7=aF(a9);var a2=[];a5=a5.expanded;var a0=a5.length;var ba=0;var a6;var a8=[];if(a7.length>1||aZ.length>1){a2.push(aN(a7,aZ));for(;ba<a0;ba++){a6=s(a5[ba].name,a4);a8=M(a6,a7);a2.push(aN(a8,aZ))}a1+=a2.join(",")}else{for(;ba<a0;ba++){a6=s(a5[ba].name,a4);a8.push(a6[0])}a1+=a7.concat(a8).join(",")}return a1}var aw={contains:', InStr({0}.CurrentMember.MEMBER_CAPTION,"{1}") > 0',doesnotcontain:', InStr({0}.CurrentMember.MEMBER_CAPTION,"{1}") = 0',startswith:', Left({0}.CurrentMember.MEMBER_CAPTION,Len("{1}"))="{1}"',endswith:', Right({0}.CurrentMember.MEMBER_CAPTION,Len("{1}"))="{1}"',eq:', {0}.CurrentMember.MEMBER_CAPTION = "{1}"',neq:', NOT {0}.CurrentMember.MEMBER_CAPTION = "{1}"'};function A(a3){var a2="";var a0=a3.value;var a1=a3.field;var aZ=a3.operator;if(aZ=="in"){a2+="{";a2+=a0;a2+="}"}else{a2+="Filter(";a2+=a1+".Children";a2+=u.format(aw[aZ],a1,a0);a2+=")"}return a2}function ay(a1,a0){var a5="",a4;var a3=a1.filters;var a2=a3.length;var aZ;for(aZ=a2-1;aZ>=0;aZ--){a4="SELECT (";a4+=A(a3[aZ]);a4+=") ON 0";if(aZ==a2-1){a4+=" FROM ["+a0+"]";a5=a4}else{a5=a4+" FROM ( "+a5+" )"}}return a5}function ax(a0,a1,a3){var aZ="";if(a1){aZ+="<"+a0+">";var a4;for(var a2 in a1){a4=a1[a2];if(a3){a2=a2.replace(/([A-Z]+(?=$|[A-Z][a-z])|[A-Z]?[a-z]+)/g,"$1_").toUpperCase().replace(/_$/,"")}aZ+="<"+a2+">"+a4+"</"+a2+">"}aZ+="</"+a0+">"}else{aZ+="<"+a0+"/>"}return aZ}var l={schemaCubes:"MDSCHEMA_CUBES",schemaCatalogs:"DBSCHEMA_CATALOGS",schemaMeasures:"MDSCHEMA_MEASURES",schemaDimensions:"MDSCHEMA_DIMENSIONS",schemaHierarchies:"MDSCHEMA_HIERARCHIES",schemaLevels:"MDSCHEMA_LEVELS",schemaMembers:"MDSCHEMA_MEMBERS",schemaKPIs:"MDSCHEMA_KPIS"};var aq={read:function(a0,a3){var a6='<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Header/><Body><Execute xmlns="urn:schemas-microsoft-com:xml-analysis"><Command><Statement>';a6+="SELECT NON EMPTY {";var a2=a0.columns||[];var a4=a0.rows||[];var a5=a0.measures||[];var aZ=a0.measuresAxis==="rows";var a1=a0.sort||[];if(!a2.length&&a4.length&&(!a5.length||(a5.length&&aZ))){a2=a4;a4=[];aZ=false}if(!a2.length&&!a4.length){aZ=false}if(a2.length){a6+=q(a2,!aZ?a5:[],a1)}else{if(a5.length&&!aZ){a6+=an(a5).join(",")}}a6+="} DIMENSION PROPERTIES CHILDREN_CARDINALITY, PARENT_UNIQUE_NAME ON COLUMNS";if(a4.length||(aZ&&a5.length>1)){a6+=", NON EMPTY {";if(a4.length){a6+=q(a4,aZ?a5:[],a1)}else{a6+=an(a5).join(",")}a6+="} DIMENSION PROPERTIES CHILDREN_CARDINALITY, PARENT_UNIQUE_NAME ON ROWS"}if(a0.filter){a6+=" FROM ";a6+="(";a6+=ay(a0.filter,a0.connection.cube);a6+=")"}else{a6+=" FROM ["+a0.connection.cube+"]"}if(a5.length==1&&a2.length){a6+=" WHERE ("+an(a5).join(",")+")"}a6+="</Statement></Command><Properties><PropertyList><Catalog>"+a0.connection.catalog+"</Catalog><Format>Multidimensional</Format></PropertyList></Properties></Execute></Body></Envelope>";return a6.replace(/\&/g,"&amp;")},discover:function(aZ,a0){aZ=aZ||{};var a1='<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Header/><Body><Discover xmlns="urn:schemas-microsoft-com:xml-analysis">';a1+="<RequestType>"+(l[aZ.command]||aZ.command)+"</RequestType>";a1+="<Restrictions>"+ax("RestrictionList",aZ.restrictions,true)+"</Restrictions>";if(aZ.connection&&aZ.connection.catalog){aZ.properties=aG.extend({},{Catalog:aZ.connection.catalog},aZ.properties)}a1+="<Properties>"+ax("PropertyList",aZ.properties)+"</Properties>";a1+="</Discover></Body></Envelope>";return a1}};var W=u.data.RemoteTransport.extend({init:function(aZ){var a0=aZ;aZ=this.options=ao(true,{},this.options,aZ);u.data.RemoteTransport.call(this,aZ);if(aH(a0.discover)){this.discover=a0.discover}else{if(typeof a0.discover==="string"){this.options.discover={url:a0.discover}}else{if(!a0.discover){this.options.discover=this.options.read}}}},setup:function(aZ,a0){aZ.data=aZ.data||{};aG.extend(true,aZ.data,{connection:this.options.connection});return u.data.RemoteTransport.fn.setup.call(this,aZ,a0)},options:{read:{dataType:"text",contentType:"text/xml",type:"POST"},discover:{dataType:"text",contentType:"text/xml",type:"POST"},parameterMap:function(aZ,a0){return aq[a0](aZ,a0)}},discover:function(aZ){return aG.ajax(this.setup(aZ,"discover"))}});function N(aZ){if(aZ==null){return[]}var a0=au.call(aZ);if(a0!=="[object Array]"){return[aZ]}return aZ}function c(a1){var bc={tuples:[]};var a6=N(u.getter("Tuples.Tuple",true)(a1));var aZ=u.getter("Caption['#text']");var a7=u.getter("UName['#text']");var bb=u.getter("LName['#text']");var a8=u.getter("LNum['#text']");var ba=u.getter("CHILDREN_CARDINALITY['#text']",true);var a4=u.getter("['@Hierarchy']");var a0=u.getter("PARENT_UNIQUE_NAME['#text']",true);for(var a9=0;a9<a6.length;a9++){var a2=[];var a3=N(a6[a9].Member);for(var a5=0;a5<a3.length;a5++){a2.push({children:[],caption:aZ(a3[a5]),name:a7(a3[a5]),levelName:bb(a3[a5]),levelNum:a8(a3[a5]),hasChildren:parseInt(ba(a3[a5]),10)>0,parentName:a0(a3[a5]),hierarchy:a4(a3[a5])})}bc.tuples.push({members:a2})}return bc}var C={cubes:{name:u.getter("CUBE_NAME['#text']",true),caption:u.getter("CUBE_CAPTION['#text']",true),description:u.getter("DESCRIPTION['#text']",true),type:u.getter("CUBE_TYPE['#text']",true)},catalogs:{name:u.getter("CATALOG_NAME['#text']",true),description:u.getter("DESCRIPTION['#text']",true)},measures:{name:u.getter("MEASURE_NAME['#text']",true),caption:u.getter("MEASURE_CAPTION['#text']",true),uniqueName:u.getter("MEASURE_UNIQUE_NAME['#text']",true),description:u.getter("DESCRIPTION['#text']",true),aggregator:u.getter("MEASURE_AGGREGATOR['#text']",true),groupName:u.getter("MEASUREGROUP_NAME['#text']",true),displayFolder:u.getter("MEASURE_DISPLAY_FOLDER['#text']",true),defaultFormat:u.getter("DEFAULT_FORMAT_STRING['#text']",true)},kpis:{name:u.getter("KPI_NAME['#text']",true),caption:u.getter("KPI_CAPTION['#text']",true),value:u.getter("KPI_VALUE['#text']",true),goal:u.getter("KPI_GOAL['#text']",true),status:u.getter("KPI_STATUS['#text']",true),trend:u.getter("KPI_TREND['#text']",true),statusGraphic:u.getter("KPI_STATUS_GRAPHIC['#text']",true),trendGraphic:u.getter("KPI_TREND_GRAPHIC['#text']",true),description:u.getter("KPI_DESCRIPTION['#text']",true),groupName:u.getter("MEASUREGROUP_NAME['#text']",true)},dimensions:{name:u.getter("DIMENSION_NAME['#text']",true),caption:u.getter("DIMENSION_CAPTION['#text']",true),description:u.getter("DESCRIPTION['#text']",true),uniqueName:u.getter("DIMENSION_UNIQUE_NAME['#text']",true),defaultHierarchy:u.getter("DEFAULT_HIERARCHY['#text']",true),type:u.getter("DIMENSION_TYPE['#text']",true)},hierarchies:{name:u.getter("HIERARCHY_NAME['#text']",true),caption:u.getter("HIERARCHY_CAPTION['#text']",true),description:u.getter("DESCRIPTION['#text']",true),uniqueName:u.getter("HIERARCHY_UNIQUE_NAME['#text']",true),dimensionUniqueName:u.getter("DIMENSION_UNIQUE_NAME['#text']",true),displayFolder:u.getter("HIERARCHY_DISPLAY_FOLDER['#text']",true),origin:u.getter("HIERARCHY_ORIGIN['#text']",true),defaultMember:u.getter("DEFAULT_MEMBER['#text']",true)},levels:{name:u.getter("LEVEL_NAME['#text']",true),caption:u.getter("LEVEL_CAPTION['#text']",true),description:u.getter("DESCRIPTION['#text']",true),uniqueName:u.getter("LEVEL_UNIQUE_NAME['#text']",true),dimensionUniqueName:u.getter("DIMENSION_UNIQUE_NAME['#text']",true),displayFolder:u.getter("LEVEL_DISPLAY_FOLDER['#text']",true),orderingProperty:u.getter("LEVEL_ORDERING_PROPERTY['#text']",true),origin:u.getter("LEVEL_ORIGIN['#text']",true),hierarchyUniqueName:u.getter("HIERARCHY_UNIQUE_NAME['#text']",true)},members:{name:u.getter("MEMBER_NAME['#text']",true),caption:u.getter("MEMBER_CAPTION['#text']",true),uniqueName:u.getter("MEMBER_UNIQUE_NAME['#text']",true),dimensionUniqueName:u.getter("DIMENSION_UNIQUE_NAME['#text']",true),hierarchyUniqueName:u.getter("HIERARCHY_UNIQUE_NAME['#text']",true),levelUniqueName:u.getter("LEVEL_UNIQUE_NAME['#text']",true),childrenCardinality:u.getter("CHILDREN_CARDINALITY['#text']",true)}};var V=["axes","catalogs","cubes","dimensions","hierarchies","levels","measures"];var b=u.data.XmlDataReader.extend({init:function(aZ){u.data.XmlDataReader.call(this,aZ);this._extend(aZ)},_extend:function(a1){var aZ=0;var a3=V.length;var a0;var a2;for(;aZ<a3;aZ++){a0=V[aZ];a2=a1[a0];if(a2&&a2!==X){this[a0]=a2}}},parse:function(a0){var aZ=u.data.XmlDataReader.fn.parse(a0.replace(/<(\/?)(\w|-)+:/g,"<$1"));return u.getter("['Envelope']['Body']",true)(aZ)},errors:function(aZ){var a0=u.getter("['Fault']",true)(aZ);if(a0){return[{faultstring:u.getter("faultstring['#text']",true)(a0),faultcode:u.getter("faultcode['#text']",true)(a0)}]}return null},axes:function(aZ){aZ=u.getter('ExecuteResponse["return"].root',true)(aZ);var a2=N(u.getter("Axes.Axis",true)(aZ));var a0=c(a2[0]);var a1={};if(a2.length>2){a1=c(a2[1])}return{columns:a0,rows:a1}},data:function(a4){a4=u.getter('ExecuteResponse["return"].root',true)(a4);var a5=N(u.getter("CellData.Cell",true)(a4));var a1=[];var a3=u.getter("['@CellOrdinal']");var a0=u.getter("Value['#text']");var a2=u.getter("FmtValue['#text']");for(var aZ=0;aZ<a5.length;aZ++){a1.push({value:a0(a5[aZ]),fmtValue:a2(a5[aZ]),ordinal:parseInt(a3(a5[aZ]),10)})}return a1},_mapSchema:function(a1,a3){a1=u.getter('DiscoverResponse["return"].root',true)(a1);var a4=N(u.getter("row",true)(a1));var a0=[];for(var aZ=0;aZ<a4.length;aZ++){var a5={};for(var a2 in a3){a5[a2]=a3[a2](a4[aZ])}a0.push(a5)}return a0},measures:function(aZ){return this._mapSchema(aZ,C.measures)},kpis:function(aZ){return this._mapSchema(aZ,C.kpis)},hierarchies:function(aZ){return this._mapSchema(aZ,C.hierarchies)},levels:function(aZ){return this._mapSchema(aZ,C.levels)},dimensions:function(aZ){return this._mapSchema(aZ,C.dimensions)},cubes:function(aZ){return this._mapSchema(aZ,C.cubes)},catalogs:function(aZ){return this._mapSchema(aZ,C.catalogs)},members:function(aZ){return this._mapSchema(aZ,C.members)}});ao(true,u.data,{PivotDataSource:al,XmlaTransport:W,XmlaDataReader:b,PivotCubeBuilder:aI,transports:{xmla:W},readers:{xmla:b}});var f=function(a2,a0){if(!a2){return null}for(var aZ=0,a1=a2.length;aZ<a1;aZ++){if(a2[aZ].field===a0){return a2[aZ]}}return null};var H=function(a3,a1){var a0=[];for(var aZ=0,a2=a3.length;aZ<a2;aZ++){if(a3[aZ].field!==a1){a0.push(a3[aZ])}}return a0};u.ui.PivotSettingTarget=n.extend({init:function(a0,aZ){var a1=this;n.fn.init.call(a1,a0,aZ);a1.element.addClass("k-pivot-setting");a1.dataSource=u.data.PivotDataSource.create(aZ.dataSource);a1._refreshHandler=aG.proxy(a1.refresh,a1);a1.dataSource.first(I,a1._refreshHandler);if(!aZ.template){a1.options.template="<div data-"+u.ns+'name="${data.name || data}">${data.name || data}'+(a1.options.enabled?'<a class="k-button k-button-icon k-button-bare"><span class="k-icon k-setting-delete"></span></a>':"")+"</div>"}a1.template=u.template(a1.options.template);a1.emptyTemplate=u.template(a1.options.emptyTemplate);a1._sortable();a1.element.on("click"+aO,".k-button,.k-item",function(a4){var a3=aG(a4.target);var a2=a3.closest("["+u.attr("name")+"]").attr(u.attr("name"));if(!a2){return}if(a3.hasClass("k-setting-delete")){a1.remove(a2)}else{if(a1.options.sortable&&a3[0]===a4.currentTarget){a1.sort({field:a2,dir:a3.find(".k-i-sort-asc")[0]?"desc":"asc"})}}});if(aZ.filterable||aZ.sortable){a1.fieldMenu=new T.PivotFieldMenu(a1.element,{messages:a1.options.messages.fieldMenu,filter:".k-setting-fieldmenu",filterable:aZ.filterable,sortable:aZ.sortable,dataSource:a1.dataSource})}a1.refresh()},options:{name:"PivotSettingTarget",template:null,filterable:false,sortable:false,emptyTemplate:"<div class='k-empty'>${data}</div>",setting:"columns",enabled:true,messages:{empty:"Drop Fields Here"}},setDataSource:function(aZ){this.dataSource.unbind(I,this._refreshHandler);this.dataSource=this.options.dataSource=aZ;if(this.fieldMenu){this.fieldMenu.setDataSource(aZ)}aZ.first(I,this._refreshHandler);this.refresh()},_sortable:function(){var aZ=this;if(aZ.options.enabled){this.sortable=this.element.kendoSortable({connectWith:this.options.connectWith,filter:">:not(.k-empty)",hint:aZ.options.hint,cursor:"move",start:function(a0){a0.item.focus().blur()},change:function(a1){var a0=a1.item.attr(u.attr("name"));if(a1.action=="receive"){aZ.add(a0)}else{if(a1.action=="remove"){aZ.remove(a0)}else{if(a1.action=="sort"){aZ.move(a0,a1.newIndex)}}}}}).data("kendoSortable")}},_indexOf:function(a2,a0){var aZ,a3,a1=-1;for(aZ=0,a3=a0.length;aZ<a3;aZ++){if(J(a0[aZ])===a2){a1=aZ;break}}return a1},_isKPI:function(aZ){return aZ.type==="kpi"||aZ.measure},validate:function(a1){var a2=(a1.type==2||"aggregator" in a1||this._isKPI(a1));if(a2){return this.options.setting==="measures"}if(this.options.setting==="measures"){return a2}var aZ=this.dataSource[this.options.setting]();var a0=a1.defaultHierarchy||a1.uniqueName;if(this._indexOf(a0,aZ)>-1){return false}aZ=this.dataSource[this.options.setting==="columns"?"rows":"columns"]();if(this._indexOf(a0,aZ)>-1){return false}return true},add:function(a2){var a1=this.dataSource[this.options.setting]();var a3,a0;var aZ;a2=aG.isArray(a2)?a2.slice(0):[a2];for(a3=0,a0=a2.length;a3<a0;a3++){if(this._indexOf(a2[a3],a1)!==-1){a2.splice(a3,1);a3-=1;a0-=1}}if(a2.length){a1=a1.concat(a2);this.dataSource[this.options.setting](a1)}},move:function(a2,a1){var a0=this.dataSource[this.options.setting]();var aZ=this._indexOf(a2,a0);if(aZ>-1){a2=a0.splice(aZ,1)[0];a0.splice(a1,0,a2);this.dataSource[this.options.setting](a0)}},remove:function(a1){var a0=this.dataSource[this.options.setting]();var aZ=this._indexOf(a1,a0);if(aZ>-1){a0.splice(aZ,1);this.dataSource[this.options.setting](a0)}},sort:function(a3){var a4=this.options.sortable;var a0=a4===true||a4.allowUnsort;var a2=a0&&a3.dir==="asc";var a1=(this.dataSource.sort()||[]);var aZ=H(a1,a3.field);if(a2&&a1.length!==aZ.length){a3=null}if(a3){aZ.push(a3)}this.dataSource.sort(aZ)},refresh:function(){var a1="";var a0=this.dataSource[this.options.setting]();var a3=a0.length;var aZ=0;var a2;if(a3){for(;aZ<a3;aZ++){a2=a0[aZ];a2=a2.name===y?{name:a2}:a2;a1+=this.template(ao({sortIcon:this._sortIcon(a2.name)},a2))}}else{a1=this.emptyTemplate(this.options.messages.empty)}this.element.html(a1)},destroy:function(){n.fn.destroy.call(this);this.dataSource.unbind(I,this._refreshHandler);this.element.off(aO);if(this.sortable){this.sortable.destroy()}if(this.fieldMenu){this.fieldMenu.destroy()}this.element=null;this._refreshHandler=null},_sortIcon:function(aZ){var a1=this.dataSource.sort();var a2=f(a1,J(aZ));var a0="";if(a2){a0="k-i-sort-"+a2.dir}return a0}});var af=n.extend({init:function(a1,aZ){var a2=this;var a3;var a0;n.fn.init.call(a2,a1,aZ);a2._dataSource();a2._bindConfigurator();a2._wrapper();a2._createLayout();a2._columnBuilder=a3=new am();a2._rowBuilder=a0=new D();a2._contentBuilder=new ar();a2._templates();a2.columnsHeader.add(a2.rowsHeader).on("click","span.k-icon",function(){var a7=aG(this);var a8=a3;var a5="expandColumn";var a9;var bc=a7.attr(u.attr("path"));var a4={axis:"columns",path:aG.parseJSON(bc)};if(a7.parent().is("td")){a8=a0;a5="expandRow";a4.axis="rows"}var ba=a7.hasClass(aM);var bb=a8.metadata[bc];var a6=bb.expanded===y;a9=ba?ah:at;if(a2.trigger(a9,a4)){return}a8.metadata[bc].expanded=!ba;a7.toggleClass(aM,!ba).toggleClass(w,ba);if(!ba&&a6){a2.dataSource[a5](a4.path)}else{a2.refresh()}});a2._scrollable();if(a2.options.autoBind){a2.dataSource.fetch()}u.notify(a2)},events:[E,B,at,ah],options:{name:"PivotGrid",autoBind:true,reorderable:true,filterable:false,sortable:false,height:null,columnWidth:100,configurator:"",columnHeaderTemplate:null,rowHeaderTemplate:null,dataCellTemplate:null,kpiStatusTemplate:null,kpiTrendTemplate:null,messages:{measureFields:"Drop Data Fields Here",columnFields:"Drop Column Fields Here",rowFields:"Drop Rows Fields Here"}},_templates:function(){var a0=this.options.columnHeaderTemplate;var a3=this.options.rowHeaderTemplate;var aZ=this.options.dataCellTemplate;var a1=this.options.kpiStatusTemplate;var a2=this.options.kpiTrendTemplate;this._columnBuilder.template=u.template(a0||aj,{useWithBlock:!!a0});this._contentBuilder.dataTemplate=u.template(aZ||ap,{useWithBlock:!!aZ});this._contentBuilder.kpiStatusTemplate=u.template(a1||m,{useWithBlock:!!a1});this._contentBuilder.kpiTrendTemplate=u.template(a2||aS,{useWithBlock:!!a2});this._rowBuilder.template=u.template(a3||aj,{useWithBlock:!!a3})},_bindConfigurator:function(){var aZ=this.options.configurator;if(aZ){aG(aZ).kendoPivotConfigurator("setDataSource",this.dataSource)}},cellInfoByElement:function(aZ){aZ=aG(aZ);return this.cellInfo(aZ.index(),aZ.parent("tr").index())},cellInfo:function(a0,a4){var a1=this._contentBuilder;var a2=a1.columnIndexes[a0||0];var a3=a1.rowIndexes[a4||0];var aZ;if(!a2||!a3){return null}aZ=(a3.index*a1.rowLength)+a2.index;return{columnTuple:a2.tuple,rowTuple:a3.tuple,measure:a2.measure||a3.measure,dataItem:this.dataSource.view()[aZ]}},setDataSource:function(aZ){this.options.dataSource=aZ;this._dataSource();if(this.measuresTarget){this.measuresTarget.setDataSource(aZ)}if(this.rowsTarget){this.rowsTarget.setDataSource(aZ)}if(this.columnsTarget){this.columnsTarget.setDataSource(aZ)}this._bindConfigurator();if(this.options.autoBind){aZ.fetch()}},setOptions:function(aZ){n.fn.setOptions.call(this,aZ);this._templates()},_dataSource:function(){var aZ=this;var a0=aZ.options.dataSource;a0=aG.isArray(a0)?{data:a0}:a0;if(aZ.dataSource&&this._refreshHandler){aZ.dataSource.unbind(I,aZ._refreshHandler).unbind(S,aZ._stateResetHandler).unbind(aD,aZ._progressHandler).unbind(F,aZ._errorHandler)}else{aZ._refreshHandler=aG.proxy(aZ.refresh,aZ);aZ._progressHandler=aG.proxy(aZ._requestStart,aZ);aZ._stateResetHandler=aG.proxy(aZ._stateReset,aZ);aZ._errorHandler=aG.proxy(aZ._error,aZ)}aZ.dataSource=u.data.PivotDataSource.create(a0).bind(I,aZ._refreshHandler).bind(aD,aZ._progressHandler).bind(S,aZ._stateResetHandler).bind(F,aZ._errorHandler)},_error:function(){this._progress(false)},_requestStart:function(){this._progress(true)},_stateReset:function(){this._columnBuilder.reset();this._rowBuilder.reset()},_wrapper:function(){var aZ=this.options.height;this.wrapper=this.element.addClass("k-widget k-pivot");if(aZ){this.wrapper.css("height",aZ)}},_measureFields:function(){this.measureFields=aG(ag).addClass("k-pivot-toolbar k-header k-settings-measures");this.measuresTarget=this._createSettingTarget(this.measureFields,{setting:"measures",messages:{empty:this.options.messages.measureFields}})},_createSettingTarget:function(a1,aZ){var a2='<span tabindex="0" class="k-button" data-'+u.ns+'name="${data.name}">${data.name}';var a3=aZ.sortable;var a0="";if(a3){a0+="#if (data.sortIcon) {#";a0+='<span class="k-icon ${data.sortIcon} k-setting-sort"></span>';a0+="#}#"}if(aZ.filterable||a3){a0+='<span class="k-icon k-i-arrowhead-s k-setting-fieldmenu"></span>'}if(this.options.reorderable){a0+='<span class="k-icon k-si-close k-setting-delete"></span>'}if(a0){a2+='<span class="k-field-actions">'+a0+"</span>"}a2+="</span>";return new u.ui.PivotSettingTarget(a1,aG.extend({template:a2,emptyTemplate:'<span class="k-empty">${data}</span>',enabled:this.options.reorderable,dataSource:this.dataSource},aZ))},_initSettingTargets:function(){this.columnsTarget=this._createSettingTarget(this.columnFields,{connectWith:this.rowFields,setting:"columns",filterable:this.options.filterable,sortable:this.options.sortable,messages:{empty:this.options.messages.columnFields,fieldMenu:this.options.messages.fieldMenu}});this.rowsTarget=this._createSettingTarget(this.rowFields,{connectWith:this.columnFields,setting:"rows",filterable:this.options.filterable,sortable:this.options.sortable,messages:{empty:this.options.messages.rowFields,fieldMenu:this.options.messages.fieldMenu}})},_createLayout:function(){var a3=this;var a0=aG(ac);var a2=a0.find(".k-pivot-rowheaders");var aZ=a0.find(".k-pivot-table");var a1=aG(ag).addClass("k-grid k-widget");a3._measureFields();a3.columnFields=aG(ag).addClass("k-pivot-toolbar k-header k-settings-columns");a3.rowFields=aG(ag).addClass("k-pivot-toolbar k-header k-settings-rows");a3.columnsHeader=aG('<div class="k-grid-header-wrap" />').wrap('<div class="k-grid-header" />');a3.columnsHeader.parent().css("padding-right",u.support.scrollbar());a3.rowsHeader=aG('<div class="k-grid k-widget k-alt"/>');a3.content=aG('<div class="k-grid-content" />');a2.append(a3.measureFields);a2.append(a3.rowFields);a2.append(a3.rowsHeader);a1.append(a3.columnsHeader.parent());a1.append(a3.content);aZ.append(a3.columnFields);aZ.append(a1);a3.wrapper.append(a0);a3.columnsHeaderTree=new u.dom.Tree(a3.columnsHeader[0]);a3.rowsHeaderTree=new u.dom.Tree(a3.rowsHeader[0]);a3.contentTree=new u.dom.Tree(a3.content[0]);a3._initSettingTargets()},_progress:function(aZ){u.ui.progress(this.wrapper,aZ)},_resize:function(){var aZ=this.columnsHeader.children("table");if(this.content[0].firstChild){this._setSectionsWidth();this._setSectionsHeight();this._setContentWidth();this._setContentHeight();aZ.css("table-layout",aX);clearTimeout(this._layoutTimeout);this._layoutTimeout=setTimeout(function(){aZ.css("table-layout","fixed")})}},_setSectionsWidth:function(){var a1=this.rowsHeader;var aZ=a1.parent(".k-pivot-rowheaders").width(aX);var a0;a0=Math.max(this.measureFields.outerWidth(),this.rowFields.outerWidth());a0=Math.max(a1.children("table").width(),a0);aZ.width(a0)},_setSectionsHeight:function(){var a3=this.measureFields.height(aX).height();var a4=this.columnFields.height(aX).height();var a2=this.rowFields.height(aX).innerHeight();var a0=this.columnsHeader.height(aX).innerHeight();var a5=a2-this.rowFields.height();var aZ=a4>a3?a4:a3;var a1=a0>a2?a0:a2;this.measureFields.height(aZ);this.columnFields.height(aZ);this.rowFields.height(a1-a5);this.columnsHeader.height(a1)},_setContentWidth:function(){var a2=this.content.find("table");var a1=this.content.width();var a0=a2.children("colgroup").children().length;var a3=100;var aZ=a0*this.options.columnWidth;if(a1<aZ){a3=Math.ceil((aZ/a1)*100)}a2.add(this.columnsHeader.children("table")).css("min-width",a3+"%")},_setContentHeight:function(){var a2=this;var a1=a2.content;var a3=a2.rowsHeader;var aZ=a2.wrapper.innerHeight();var a4=u.support.scrollbar();var a0=a1[0].offsetHeight===a1[0].clientHeight;if(a2.wrapper.is(":visible")){if(!aZ){if(a0){a4=0}a3.height(a1.height()-a4);return}aZ-=a2.columnFields.outerHeight();aZ-=a2.columnsHeader.outerHeight();if(aZ<=a4*2){aZ=a4*2+1;if(!a0){aZ+=a4}}a1.height(aZ);if(a0){a4=0}a3.height(aZ-a4)}},_axisMeasures:function(a1){var a0=[];var a3=this.dataSource;var a2=a3.measures();var aZ=a2.length>1||(a2[0]&&a2[0].type);if(a3.measuresAxis()===a1){if(a3[a1]().length===0||aZ){a0=a2}}return a0},refresh:function(){var a6=this;var aZ=a6.dataSource;var a7=aZ.axes();var a2=(a7.columns||{}).tuples||[];var a8=(a7.rows||{}).tuples||[];var a3=a6._columnBuilder;var a5=a6._rowBuilder;var a4={};var a1={};if(a6.trigger(E,{action:"rebind"})){return}a3.measures=this._axisMeasures("columns");a6.columnsHeaderTree.render(a3.build(a2));a6.rowsHeaderTree.render(a5.build(a8));a4={indexes:a3._indexes,measures:a3.measures,metadata:a3.metadata};a1={indexes:a5._indexes,measures:this._axisMeasures("rows"),metadata:a5.metadata};a6.contentTree.render(a6._contentBuilder.build(aZ.view(),a4,a1));a6._resize();if(a6.touchScroller){a6.touchScroller.contentResized()}else{var a0=u.touchScroller(a6.content);if(a0&&a0.movable){a6.touchScroller=a0;a0.movable.bind("change",function(a9){a6.columnsHeader.scrollLeft(-a9.sender.x);a6.rowsHeader.scrollTop(-a9.sender.y)})}}a6._progress(false);a6.trigger(B)},_scrollable:function(){var a0=this;var aZ=a0.columnsHeader;var a1=a0.rowsHeader;a0.content.scroll(function(){aZ.scrollLeft(this.scrollLeft);a1.scrollTop(this.scrollTop)});a1.bind("DOMMouseScroll"+aO+" mousewheel"+aO,aG.proxy(a0._wheelScroll,a0))},_wheelScroll:function(a0){if(a0.ctrlKey){return}var a1=u.wheelDeltaY(a0);var aZ=this.content.scrollTop();if(a1){a0.preventDefault();aG(a0.currentTarget).one("wheel"+aO,false);this.rowsHeader.scrollTop(aZ+(-a1));this.content.scrollTop(aZ+(-a1))}}});var aW=u.dom.element;var G=u.dom.html;var aC=u.dom.text;var av=function(aZ,a0){return{maxChildren:0,children:0,maxMembers:0,members:0,measures:1,levelNum:aZ,parentMember:a0!==0}};var R=function(a0,a1){var a2=[];var aZ=0;for(;aZ<=a1;aZ++){a2.push(a0.members[aZ].name)}return a2};var Y=function(a0,a2){var a1="";var aZ=0;for(;aZ<=a2;aZ++){a1+=a0.members[aZ].name}return a1};var am=aL.extend({init:function(aZ){this.measures=1;this.metadata={}},build:function(a1){var a0=this._tbody(a1);var aZ=this._colGroup();return[aW("table",null,[aZ,a0])]},reset:function(){this.metadata={}},_colGroup:function(){var a1=this._rowLength();var a0=[];var aZ=0;for(;aZ<a1;aZ++){a0.push(aW("col",null))}return aW("colgroup",null,a0)},_tbody:function(a0){var aZ=a0[0];this.map={};this.rows=[];this.rootTuple=aZ;this._indexes=[];if(aZ){this._buildRows(aZ,0);this._normalize()}else{this.rows.push(aW("tr",null,[aW("th",null,[G("&nbsp;")])]))}return aW("tbody",null,this.rows)},_normalize:function(){var a5=this.rows;var a2=a5.length;var a4=0;var a6;var a0;var a3;var a1;var aZ;for(;a4<a2;a4++){a6=a5[a4];if(a6.rowSpan===1){continue}a1=a6.children;a3=0;a0=a1.length;for(;a3<a0;a3++){aZ=a1[a3];if(aZ.tupleAll){aZ.attr.rowSpan=a6.rowSpan}}}},_rowIndex:function(a2){var a1=this.rows;var a0=a1.length;var aZ=0;for(;aZ<a0;aZ++){if(a1[aZ]===a2){break}}return aZ},_rowLength:function(){var a1=this.rows[0]?this.rows[0].children:[];var a2=a1.length;var a0=0;var aZ=0;if(a2){for(;aZ<a2;aZ++){a0+=a1[aZ].attr.colSpan||1}}if(!a0){a0=this.measures}return a0},_row:function(a6,a5,a1){var aZ=this.rootTuple.members[a5].name;var a4=a6.members[a5].levelNum;var a3=aZ+a4;var a0=this.map;var a7;var a2;var a8=a0[a3];if(!a8){a8=aW("tr",null,[]);a8.parentMember=a1;a8.colSpan=0;a8.rowSpan=1;a0[a3]=a8;a7=a0[aZ+(Number(a4)-1)];if(a7){a2=a7.children;if(a2[1]&&a2[1].attr.className.indexOf("k-alt")===-1){a8.notFirst=true}else{a8.notFirst=a7.notFirst}}this.rows.splice(this._rowIndex(a7)+1,0,a8)}else{a8.notFirst=false;if(!a8.parentMember||a8.parentMember!==a1){a8.parentMember=a1;a8.colSpan=0}}return a8},_measures:function(a5,a0,a2){var a4=this.map;var a6=a4.measureRow;var a1;if(!a6){a6=aW("tr",null,[]);a4.measureRow=a6;this.rows.push(a6)}for(var aZ=0,a3=a5.length;aZ<a3;aZ++){a1=a5[aZ];a6.children.push(aW("th",{className:"k-header"+(a2||"")},[this._content(a1,a0)]))}return a3},_content:function(a0,aZ){return G(this.template({member:a0,tuple:aZ}))},_cell:function(a0,aZ){return aW("th",{className:"k-header"+a0},aZ)},_buildRows:function(bb,a7,bd){var bf=bb.members;var a0=bf[a7];var a9=bf[a7+1];var a4,be,a3,a1;var aZ,bg,a2;var a6=[];var bc;var ba=0;var a5;var a8;if(a0.measure){this._measures(a0.children,bb);return}bc=u.stringify(R(bb,a7));a4=this._row(bb,a7,bd);a3=a0.children;a1=a3.length;a8=this.metadata[bc];if(!a8){this.metadata[bc]=a8=av(Number(a0.levelNum),a7)}this._indexes.push({path:bc,tuple:bb});if(a0.hasChildren){if(a8.expanded===false){a1=0;a8.children=0}a2={className:"k-icon "+(a1?aM:w)};a2[u.attr("path")]=bc;a6.push(aW("span",a2))}a6.push(this._content(a0,bb));aZ=this._cell((a4.notFirst?" k-first":""),a6);a4.children.push(aZ);a4.colSpan+=1;if(a1){bg=this._cell(" k-alt",[this._content(a0,bb)]);a4.children.push(bg);for(;ba<a1;ba++){be=this._buildRows(a3[ba],a7,a0)}a5=be.colSpan;aZ.attr.colSpan=a5;a8.children=a5;a8.members=1;a4.colSpan+=a5;a4.rowSpan=be.rowSpan+1;if(a9){if(a9.measure){a5=this._measures(a9.children,bb," k-alt")}else{a5=this._buildRows(bb,a7+1).colSpan}bg.attr.colSpan=a5;a5-=1;a8.members+=a5;a4.colSpan+=a5}}else{if(a9){if(a9.measure){a5=this._measures(a9.children,bb)}else{a5=this._buildRows(bb,a7+1).colSpan}a8.members=a5;if(a5>1){aZ.attr.colSpan=a5;a4.colSpan+=a5-1}}}if(a8.maxChildren<a8.children){a8.maxChildren=a8.children}if(a8.maxMembers<a8.members){a8.maxMembers=a8.members}(bg||aZ).tupleAll=true;return a4}});var D=aL.extend({init:function(aZ){this.metadata={}},build:function(a1){var a0=this._tbody(a1);var aZ=this._colGroup();return[aW("table",null,[aZ,a0])]},reset:function(){this.metadata={}},_colGroup:function(){var a1=this.rows[0].children.length;var a0=[];var aZ=0;for(;aZ<a1;aZ++){a0.push(aW("col",null))}return aW("colgroup",null,a0)},_tbody:function(a0){var aZ=a0[0];this.rootTuple=aZ;this.rows=[];this.map={};this._indexes=[];if(aZ){this._buildRows(aZ,0);this._normalize()}else{this.rows.push(aW("tr",null,[aW("td",null,[G("&nbsp;")])]))}return aW("tbody",null,this.rows)},_normalize:function(){var ba=this.rows;var a2=ba.length;var a0=0;var a3=this.rootTuple.members;var a5=a3[0].name;var a4=a3.length;var a6=0;var a9;var a8;var a7;var aZ=this.map;var a1;for(;a0<a2;a0++){a9=ba[a0];for(a6=0;a6<a4;a6++){a7=this[a3[a6].name];a8=a9.colSpan["dim"+a6];if(a8&&a8.levelNum<a7){a8.attr.colSpan=(a7-a8.levelNum)+1}}}a9=aZ[a5];a1=aZ[a5+"all"];if(a9){a9.children[0].attr.className="k-first"}if(a1){a1.children[0].attr.className+=" k-first"}},_row:function(aZ){var a0=aW("tr",null,aZ);a0.rowSpan=1;a0.colSpan={};this.rows.push(a0);return a0},_content:function(a0,aZ){return G(this.template({member:a0,tuple:aZ}))},_buildRows:function(bc,a7){var bk=this.map;var bd;var bi=bc.members;var a0=bi[a7];var ba=bi[a7+1];var a4=a0.children;var a1=a4.length;var bl=Number(a0.levelNum)+1;var a3=this.rootTuple.members[a7].name;var bh=R(bc,a7-1).join("");var bf=bh+(a0.parentName||"");var a5=bk[bf+"all"]||bk[bf];var bg;var a2;var a9;var a8;var a6=[];var bj;var aZ;var be;var bb;if(!a5||a5.hasChild){a5=this._row()}else{a5.hasChild=true}if(a0.measure){be={className:a5.allCell?"k-grid-footer":""};a5.children.push(aW("td",be,[this._content(a4[0],bc)]));a5.rowSpan=a1;for(bb=1;bb<a1;bb++){this._row([aW("td",be,[this._content(a4[bb],bc)])])}return a5}bk[bh+a0.name]=a5;bd=u.stringify(R(bc,a7));a9=this.metadata[bd];if(!a9){this.metadata[bd]=a9=av(bl-1,a7)}this._indexes.push({path:bd,tuple:bc});if(a0.hasChildren){if(a9.expanded===false){a1=0;a9.children=0}a8={className:"k-icon "+(a1?aM:w)};a8[u.attr("path")]=bd;a6.push(aW("span",a8))}a6.push(this._content(a0,bc));aZ=aW("td",{className:a5.allCell&&!a1?"k-grid-footer":""},a6);aZ.levelNum=bl;a5.children.push(aZ);a5.colSpan["dim"+a7]=aZ;if(!this[a3]||this[a3]<bl){this[a3]=bl}if(a1){a5.allCell=false;a5.hasChild=false;for(bb=0;bb<a1;bb++){bg=this._buildRows(a4[bb],a7);if(a5!==bg){a5.rowSpan+=bg.rowSpan}}if(a5.rowSpan>1){aZ.attr.rowSpan=a5.rowSpan}a9.children=a5.rowSpan;bj=aW("td",{className:"k-grid-footer"},[this._content(a0,bc)]);bj.levelNum=bl;a2=this._row([bj]);a2.colSpan["dim"+a7]=bj;a2.allCell=true;bk[bh+a0.name+"all"]=a2;if(ba){bg=this._buildRows(bc,a7+1);bj.attr.rowSpan=bg.rowSpan}a5.rowSpan+=a2.rowSpan;a9.members=a2.rowSpan}else{if(ba){a5.hasChild=false;this._buildRows(bc,a7+1);(bj||aZ).attr.rowSpan=a5.rowSpan;a9.members=a5.rowSpan}}if(a9.maxChildren<a9.children){a9.maxChildren=a9.children}if(a9.maxMembers<a9.members){a9.maxMembers=a9.members}return a5}});var ar=aL.extend({init:function(){this.columnAxis={};this.rowAxis={}},build:function(a5,a3,a4){var a1=a3.indexes[0];var a2=a3.metadata[a1?a1.path:y];this.columnAxis=a3;this.rowAxis=a4;this.data=a5;this.rowLength=a2?a2.maxChildren+a2.maxMembers:a3.measures.length||1;if(!this.rowLength){this.rowLength=1}var a0=this._tbody();var aZ=this._colGroup();return[aW("table",null,[aZ,a0])]},_colGroup:function(){var a1=this.columnAxis.measures.length||1;var a0=[];var aZ=0;if(this.rows[0]){a1=this.rows[0].children.length}for(;aZ<a1;aZ++){a0.push(aW("col",null))}return aW("colgroup",null,a0)},_tbody:function(){this.rows=[];if(this.data[0]){this.columnIndexes=this._indexes(this.columnAxis);this.rowIndexes=this._indexes(this.rowAxis);this._buildRows()}else{this.rows.push(aW("tr",null,[aW("td",null,[G("&nbsp;")])]))}return aW("tbody",null,this.rows)},_indexes:function(a5){var bd=[];var a0;var a8=a5.indexes;var ba=a5.metadata;var a1=a5.measures;var a4=a1.length||1;var a9;var a7=0;var aZ=0;var bb=0;var a3=a8.length;var bc;var a2;var a6;if(!a3){for(bc=0;bc<a4;bc++){bd[bc]={index:bc,measure:a1[bc],tuple:null}}return bd}for(;bb<a3;bb++){a0=a8[bb];a9=ba[a0.path];a2=a9.children+a9.members;a6=0;if(a2){a2-=a4}if(a9.expanded===false&&a9.children!==a9.maxChildren){a6=a9.maxChildren}if(a9.parentMember&&a9.levelNum===0){a2=-1}if(a2>-1){for(bc=0;bc<a4;bc++){bd[a2+aZ+bc]={children:a2,index:a7,measure:a1[bc],tuple:a0.tuple};a7+=1}while(bd[aZ]!==y){aZ+=1}}a7+=a6}return bd},_buildRows:function(){var a1=this.rowIndexes;var a0=a1.length;var aZ=0;for(;aZ<a0;aZ++){this.rows.push(this._buildRow(a1[aZ]))}},_buildRow:function(a2){var a8=a2.index*this.rowLength;var a7=this.columnIndexes;var a4=a7.length;var a5;var ba=[];var a9=0;var a3;var a0;var a6,aZ,a1;for(;a9<a4;a9++){a5=a7[a9];a6={};if(a5.children){a6.className="k-alt"}a0="";aZ=this.data[a8+a5.index];a1=a5.measure||a2.measure;a3={columnTuple:a5.tuple,rowTuple:a2.tuple,measure:a1,dataItem:aZ};if(aZ.value!==""&&a1&&a1.type){if(a1.type==="status"){a0=this.kpiStatusTemplate(a3)}else{if(a1.type==="trend"){a0=this.kpiTrendTemplate(a3)}}}if(!a0){a0=this.dataTemplate(a3)}ba.push(aW("td",a6,[G(a0)]))}a6={};if(a2.children){a6.className="k-grid-footer"}return aW("tr",a6,ba)}});T.plugin(af)})(window.kendo.jQuery);(function(z,o){var B=window.kendo,H=B.ui,U=B.data,l=z.extend,f=B.template,s=z.isArray,e=H.Widget,i=U.HierarchicalDataSource,O=z.proxy,v=B.keys,E=".kendoTreeView",q="select",w="check",h="navigate",D="expand",x="change",C="error",a="checked",G="indeterminate",t="collapse",L="dragstart",r="drag",M="drop",F="dragend",j="dataBound",J="click",g="visibility",A="undefined",d="k-state-hover",N="k-treeview",X=":visible",W=".k-item",P="string",k="aria-selected",p="aria-disabled",n,c,I,Y,u,Q={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField"},S=function(Z){return(typeof HTMLElement==="object"?Z instanceof HTMLElement:Z&&typeof Z==="object"&&Z.nodeType===1&&typeof Z.nodeName===P)};function b(Z){return function(ab){var aa=ab.children(".k-animation-container");if(!aa.length){aa=ab}return aa.children(Z)}}function y(Z){return B.template(Z,{useWithBlock:false})}c=b(".k-group");I=b(".k-group,.k-content");Y=function(Z){return Z.children("div").children(".k-icon")};function R(Z){return Z.find("> div .k-checkbox [type=checkbox]")}function m(Z){return function(ac,ab){ab=ab.closest(W);var ad=ab.parent(),aa;if(ad.parent().is("li")){aa=ad.parent()}return this._dataSourceMove(ac,ad,aa,function(af,ae){return this._insert(af.data(),ae,ab.index()+Z)})}}u=/k-sprite/;function T(ab,Z){var aa;while(ab&&ab.nodeName.toLowerCase()!="ul"){aa=ab;ab=ab.nextSibling;if(aa.nodeType==3){aa.nodeValue=z.trim(aa.nodeValue)}if(u.test(aa.className)){Z.insertBefore(aa,Z.firstChild)}else{Z.appendChild(aa)}}}function V(aa){var ae=aa.children("div"),ad=aa.children("ul"),ac=ae.children(".k-icon"),ab=aa.children(":checkbox"),Z=ae.children(".k-in");if(aa.hasClass("k-treeview")){return}if(!ae.length){ae=z("<div />").prependTo(aa)}if(!ac.length&&ad.length){ac=z("<span class='k-icon' />").prependTo(ae)}else{if(!ad.length||!ad.children().length){ac.remove();ad.remove()}}if(ab.length){z("<span class='k-checkbox' />").appendTo(ae).append(ab)}if(!Z.length){Z=aa.children("a").eq(0).addClass("k-in");if(!Z.length){Z=z("<span class='k-in' />")}Z.appendTo(ae);if(ae.length){T(ae[0].nextSibling,Z[0])}}}n=B.ui.DataBoundWidget.extend({init:function(ac,aa){var ae=this,ad,ab=false,Z=aa&&!!aa.dataSource,af;if(s(aa)){ad=true;aa={dataSource:aa}}if(aa&&typeof aa.loadOnDemand==A&&s(aa.dataSource)){aa.loadOnDemand=false}e.prototype.init.call(ae,ac,aa);ac=ae.element;aa=ae.options;af=(ac.is("ul")&&ac)||(ac.hasClass(N)&&ac.children("ul"));ab=!Z&&af.length;if(ab){aa.dataSource.list=af}ae._animation();ae._accessors();ae._templates();if(!ac.hasClass(N)){ae._wrapper();if(af){ae.root=ac;ae._group(ae.wrapper)}}else{ae.wrapper=ac;ae.root=ac.children("ul").eq(0)}ae._tabindex();ae.root.attr("role","tree");ae._dataSource(ab);ae._attachEvents();ae._dragging();if(!ab){if(aa.autoBind){ae._progress(true);ae.dataSource.fetch()}}else{ae._syncHtmlAndDataSource()}if(aa.checkboxes&&aa.checkboxes.checkChildren){ae.updateIndeterminate()}if(ae.element[0].id){ae._ariaId=B.format("{0}_tv_active",ae.element[0].id)}B.notify(ae)},_attachEvents:function(){var aa=this,Z=".k-in:not(.k-state-selected,.k-state-disabled)",ab="mouseenter";aa.wrapper.on(ab+E,".k-in.k-state-selected",function(ac){ac.preventDefault()}).on(ab+E,Z,function(){z(this).addClass(d)}).on("mouseleave"+E,Z,function(){z(this).removeClass(d)}).on(J+E,Z,O(aa._click,aa)).on("dblclick"+E,".k-in:not(.k-state-disabled)",O(aa._toggleButtonClick,aa)).on(J+E,".k-plus,.k-minus",O(aa._toggleButtonClick,aa)).on("keydown"+E,O(aa._keydown,aa)).on("focus"+E,O(aa._focus,aa)).on("blur"+E,O(aa._blur,aa)).on("mousedown"+E,".k-in,.k-checkbox :checkbox,.k-plus,.k-minus",O(aa._mousedown,aa)).on("change"+E,".k-checkbox :checkbox",O(aa._checkboxChange,aa)).on("click"+E,".k-checkbox :checkbox",O(aa._checkboxClick,aa)).on("click"+E,".k-request-retry",O(aa._retryRequest,aa)).on("click"+E,function(ac){if(!z(ac.target).is(":kendoFocusable")){aa.focus()}})},_checkboxClick:function(aa){var Z=z(aa.target);if(Z.data(G)){Z.data(G,false).prop(G,false).prop(a,true);this._checkboxChange(aa)}},_syncHtmlAndDataSource:function(ag,aa){ag=ag||this.root;aa=aa||this.dataSource;var ab=aa.view();var ah=B.attr("uid");var ae=B.attr("expanded");var ad=this.options.checkboxes;var af=ag.children("li");var ac,ai,Z;for(ac=0;ac<af.length;ac++){Z=ab[ac];ai=af.eq(ac);ai.attr("role","treeitem").attr(ah,Z.uid);Z.expanded=ai.attr(ae)==="true";if(ad){Z.checked=R(ai).prop(a)}this._syncHtmlAndDataSource(ai.children("ul"),Z.children)}},_animation:function(){var Z=this.options,aa=Z.animation;if(aa===false){aa={expand:{effects:{}},collapse:{hide:true,effects:{}}}}else{if(!aa.collapse||!("effects" in aa.collapse)){aa.collapse=l({reverse:true},aa.expand)}}l(aa.collapse,{hide:true});Z.animation=aa},_dragging:function(){var Z=this.options.dragAndDrop;var aa=this.dragging;if(Z&&!aa){this.dragging=new K(this)}else{if(!Z&&aa){aa.destroy();this.dragging=null}}},_templates:function(){var ab=this,aa=ab.options,Z=O(ab._fieldAccessor,ab);if(aa.template&&typeof aa.template==P){aa.template=f(aa.template)}else{if(!aa.template){aa.template=y("# var text = "+Z("text")+"(data.item); ## if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {##= text ## } else { ##: text ## } #")}}ab._checkboxes();ab.templates={wrapperCssClass:function(af,ae){var ac="k-item",ad=ae.index;if(af.firstLevel&&ad===0){ac+=" k-first"}if(ad==af.length-1){ac+=" k-last"}return ac},cssClass:function(af,ae){var ac="",ad=ae.index,ag=af.length-1;if(af.firstLevel&&ad===0){ac+="k-top "}if(ad===0&&ad!=ag){ac+="k-top"}else{if(ad==ag){ac+="k-bot"}else{ac+="k-mid"}}return ac},textClass:function(ad){var ac="k-in";if(ad.enabled===false){ac+=" k-state-disabled"}if(ad.selected===true){ac+=" k-state-selected"}return ac},toggleButtonClass:function(ad){var ac="k-icon";if(ad.expanded!==true){ac+=" k-plus"}else{ac+=" k-minus"}if(ad.enabled===false){ac+="-disabled"}return ac},groupAttributes:function(ad){var ac="";if(!ad.firstLevel){ac="role='group'"}return ac+(ad.expanded!==true?" style='display:none'":"")},groupCssClass:function(ad){var ac="k-group";if(ad.firstLevel){ac+=" k-treeview-lines"}return ac},dragClue:y("<div class='k-header k-drag-clue'><span class='k-icon k-drag-status' />#= data.treeview.template(data) #</div>"),group:y("<ul class='#= data.r.groupCssClass(data.group) #'#= data.r.groupAttributes(data.group) #>#= data.renderItems(data) #</ul>"),itemContent:y("# var imageUrl = "+Z("imageUrl")+"(data.item); ## var spriteCssClass = "+Z("spriteCssClass")+"(data.item); ## if (imageUrl) { #<img class='k-image' alt='' src='#= imageUrl #'># } ## if (spriteCssClass) { #<span class='k-sprite #= spriteCssClass #' /># } ##= data.treeview.template(data) #"),itemElement:y("# var item = data.item, r = data.r; ## var url = "+Z("url")+"(item); #<div class='#= r.cssClass(data.group, item) #'># if (item.hasChildren) { #<span class='#= r.toggleButtonClass(item) #' role='presentation' /># } ## if (data.treeview.checkboxes) { #<span class='k-checkbox' role='presentation'>#= data.treeview.checkboxes.template(data) #</span># } ## var tag = url ? 'a' : 'span'; ## var textAttr = url ? ' href=\\'' + url + '\\'' : ''; #<#=tag#  class='#= r.textClass(item) #'#= textAttr #>#= r.itemContent(data) #</#=tag#></div>"),item:y("# var item = data.item, r = data.r; #<li role='treeitem' class='#= r.wrapperCssClass(data.group, item) #' "+B.attr("uid")+"='#= item.uid #' aria-selected='#= item.selected ? \"true\" : \"false \" #' #=item.enabled === false ? \"aria-disabled='true'\" : ''## if (item.expanded) { #data-expanded='true' aria-expanded='true'# } #>#= r.itemElement(data) #</li>"),loading:y("<div class='k-icon k-loading' /> #: data.messages.loading #"),retry:y("#: data.messages.requestFailed # <button class='k-button k-request-retry'>#: data.messages.retry #</button>")}},items:function(){return this.element.find(".k-item > div:first-child")},setDataSource:function(aa){var Z=this.options;Z.dataSource=aa;this._dataSource();this.dataSource.fetch();if(Z.checkboxes&&Z.checkboxes.checkChildren){this.updateIndeterminate()}},_bindDataSource:function(){this._refreshHandler=O(this.refresh,this);this._errorHandler=O(this._error,this);this.dataSource.bind(x,this._refreshHandler);this.dataSource.bind(C,this._errorHandler)},_unbindDataSource:function(){var Z=this.dataSource;if(Z){Z.unbind(x,this._refreshHandler);Z.unbind(C,this._errorHandler)}},_dataSource:function(aa){var ac=this,ab=ac.options,ad=ab.dataSource;function Z(af){for(var ae=0;ae<af.length;ae++){af[ae]._initChildren();af[ae].children.fetch();Z(af[ae].children.view())}}ad=s(ad)?{data:ad}:ad;ac._unbindDataSource();if(!ad.fields){ad.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]}ac.dataSource=ad=i.create(ad);if(aa){ad.fetch();Z(ad.view())}ac._bindDataSource()},events:[L,r,M,F,j,D,t,q,x,h,w],options:{name:"TreeView",dataSource:{},animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:100}},messages:{loading:"Loading...",requestFailed:"Request failed.",retry:"Retry"},dragAndDrop:false,checkboxes:false,autoBind:true,loadOnDemand:true,template:"",dataTextField:null},_accessors:function(){var ad=this,aa=ad.options,ac,ae,Z,ab=ad.element;for(ac in Q){ae=aa[Q[ac]];Z=ab.attr(B.attr(ac+"-field"));if(!ae&&Z){ae=Z}if(!ae){ae=ac}if(!s(ae)){ae=[ae]}aa[Q[ac]]=ae}},_fieldAccessor:function(ac){var aa=this.options[Q[ac]],ab=aa.length,Z="(function(item) {";if(ab===0){Z+="return item['"+ac+"'];"}else{Z+="var levels = ["+z.map(aa,function(ad){return"function(d){ return "+B.expr(ad)+"}"}).join(",")+"];";Z+="return levels[Math.min(item.level(), "+ab+"-1)](item)"}Z+="})";return Z},setOptions:function(Z){e.fn.setOptions.call(this,Z);this._animation();this._dragging();this._templates()},_trigger:function(Z,aa){return this.trigger(Z,{node:aa.closest(W)[0]})},_setChecked:function(Z,ac){if(!Z||!z.isFunction(Z.view)){return}for(var ab=0,aa=Z.view();ab<aa.length;ab++){aa[ab][a]=ac;if(aa[ab].children){this._setChecked(aa[ab].children,ac)}}},_setIndeterminate:function(ac){var ad=c(ac),ae,ab,aa=true,Z;if(!ad.length){return}ae=R(ad.children());ab=ae.length;if(!ab){return}else{if(ab>1){for(Z=1;Z<ab;Z++){if(ae[Z].checked!=ae[Z-1].checked||ae[Z].indeterminate||ae[Z-1].indeterminate){aa=false;break}}}else{aa=!ae[0].indeterminate}}return R(ac).data(G,!aa).prop(G,!aa).prop(a,aa&&ae[0].checked)},updateIndeterminate:function(aa){aa=aa||this.wrapper;var ac=c(aa).children();var Z;var ab;if(ac.length){for(Z=0;Z<ac.length;Z++){this.updateIndeterminate(ac.eq(Z))}ab=this._setIndeterminate(aa);if(ab&&ab.prop(a)){this.dataItem(aa).checked=true}}},_bubbleIndeterminate:function(aa){if(!aa.length){return}var Z=this.parent(aa),ab;if(Z.length){this._setIndeterminate(Z);ab=Z.children("div").find(".k-checkbox :checkbox");if(ab.prop(G)===false){this.dataItem(Z).set(a,ab.prop(a))}else{this.dataItem(Z).checked=false}this._bubbleIndeterminate(Z)}},_checkboxChange:function(ab){var aa=z(ab.target);var ac=aa.prop(a);var Z=aa.closest(W);this.dataItem(Z).set(a,ac);this._trigger(w,Z)},_toggleButtonClick:function(Z){this.toggle(z(Z.target).closest(W))},_mousedown:function(aa){var Z=z(aa.currentTarget).closest(W);this._clickTarget=Z;this.current(Z)},_focusable:function(Z){return Z&&Z.length&&Z.is(":visible")&&!Z.find(".k-in:first").hasClass("k-state-disabled")},_focus:function(){var aa=this.select(),Z=this._clickTarget;if(B.support.touch){return}if(Z&&Z.length){aa=Z}if(!this._focusable(aa)){aa=this.current()}if(!this._focusable(aa)){aa=this._nextVisible(z())}this.current(aa)},focus:function(){var ae=this.wrapper,aa=ae[0],ad=[],ab=[],ac=document.documentElement,Z;do{aa=aa.parentNode;if(aa.scrollHeight>aa.clientHeight){ad.push(aa);ab.push(aa.scrollTop)}}while(aa!=ac);ae.focus();for(Z=0;Z<ad.length;Z++){ad[Z].scrollTop=ab[Z]}},_blur:function(){this.current().find(".k-in:first").removeClass("k-state-focused")},_enabled:function(Z){return !Z.children("div").children(".k-in").hasClass("k-state-disabled")},parent:function(ad){var ab=/\bk-treeview\b/,ac=/\bk-item\b/,Z,aa;if(typeof ad==P){ad=this.element.find(ad)}if(!S(ad)){ad=ad[0]}aa=ac.test(ad.className);do{ad=ad.parentNode;if(ac.test(ad.className)){if(aa){Z=ad}else{aa=true}}}while(!ab.test(ad.className)&&!Z);return z(Z)},_nextVisible:function(ac){var ab=this,aa=ab._expanded(ac),Z;function ad(ae){while(ae.length&&!ae.next().length){ae=ab.parent(ae)}if(ae.next().length){return ae.next()}else{return ae}}if(!ac.length||!ac.is(":visible")){Z=ab.root.children().eq(0)}else{if(aa){Z=c(ac).children().first();if(!Z.length){Z=ad(ac)}}else{Z=ad(ac)}}if(!ab._enabled(Z)){Z=ab._nextVisible(Z)}return Z},_previousVisible:function(ac){var ab=this,aa,Z;if(!ac.length||ac.prev().length){if(ac.length){Z=ac.prev()}else{Z=ab.root.children().last()}while(ab._expanded(Z)){aa=c(Z).children().last();if(!aa.length){break}Z=aa}}else{Z=ab.parent(ac)||ac}if(!ab._enabled(Z)){Z=ab._previousVisible(Z)}return Z},_keydown:function(ag){var ab=this,aa=ag.keyCode,af,ae=ab.current(),Z=ab._expanded(ae),ac=ae.find(".k-checkbox:first :checkbox"),ad=B.support.isRtl(ab.element);if(ag.target!=ag.currentTarget){return}if((!ad&&aa==v.RIGHT)||(ad&&aa==v.LEFT)){if(Z){af=ab._nextVisible(ae)}else{ab.expand(ae)}}else{if((!ad&&aa==v.LEFT)||(ad&&aa==v.RIGHT)){if(Z){ab.collapse(ae)}else{af=ab.parent(ae);if(!ab._enabled(af)){af=o}}}else{if(aa==v.DOWN){af=ab._nextVisible(ae)}else{if(aa==v.UP){af=ab._previousVisible(ae)}else{if(aa==v.HOME){af=ab._nextVisible(z())}else{if(aa==v.END){af=ab._previousVisible(z())}else{if(aa==v.ENTER){if(!ae.find(".k-in:first").hasClass("k-state-selected")){if(!ab._trigger(q,ae)){ab.select(ae)}}}else{if(aa==v.SPACEBAR&&ac.length){ac.prop(a,!ac.prop(a)).data(G,false).prop(G,false);ab._checkboxChange({target:ac});af=ae}}}}}}}}if(af){ag.preventDefault();if(ae[0]!=af[0]){ab._trigger(h,af);ab.current(af)}}},_click:function(ad){var ac=this,ab=z(ad.currentTarget),aa=I(ab.closest(W)),Z=ab.attr("href"),ae;if(Z){ae=Z=="#"||Z.indexOf("#"+this.element.id+"-")>=0}else{ae=aa.length&&!aa.children().length}if(ae){ad.preventDefault()}if(!ab.hasClass(".k-state-selected")&&!ac._trigger(q,ab)){ac.select(ab)}},_wrapper:function(){var ac=this,ab=ac.element,ad,aa,Z="k-widget k-treeview";if(ab.is("ul")){ad=ab.wrap("<div />").parent();aa=ab}else{ad=ab;aa=ad.children("ul").eq(0)}ac.wrapper=ad.addClass(Z);ac.root=aa},_group:function(ab){var aa=this,ad=ab.hasClass(N),ac={firstLevel:ad,expanded:ad||aa._expanded(ab)},Z=ab.children("ul");Z.addClass(aa.templates.groupCssClass(ac)).css("display",ac.expanded?"":"none");aa._nodes(Z,ac)},_nodes:function(ac,ab){var ad=this,Z=ac.children("li"),aa;ab=l({length:Z.length},ab);Z.each(function(ae,af){af=z(af);aa={index:ae,expanded:ad._expanded(af)};V(af);ad._updateNodeClasses(af,ab,aa);ad._group(af)})},_checkboxes:function(){var Z=this.options;var ab=Z.checkboxes;var aa;if(ab){aa="<input type='checkbox' #= (item.enabled === false) ? 'disabled' : '' # #= item.checked ? 'checked' : '' #";if(ab.name){aa+=" name='"+ab.name+"'"}aa+=" />";ab=l({template:aa},Z.checkboxes);if(typeof ab.template==P){ab.template=f(ab.template)}Z.checkboxes=ab}},_updateNodeClasses:function(ac,aa,Z){var ae=ac.children("div"),ad=ac.children("ul"),ab=this.templates;if(ac.hasClass("k-treeview")){return}Z=Z||{};Z.expanded=typeof Z.expanded!=A?Z.expanded:this._expanded(ac);Z.index=typeof Z.index!=A?Z.index:ac.index();Z.enabled=typeof Z.enabled!=A?Z.enabled:!ae.children(".k-in").hasClass("k-state-disabled");aa=aa||{};aa.firstLevel=typeof aa.firstLevel!=A?aa.firstLevel:ac.parent().parent().hasClass(N);aa.length=typeof aa.length!=A?aa.length:ac.parent().children().length;ac.removeClass("k-first k-last").addClass(ab.wrapperCssClass(aa,Z));ae.removeClass("k-top k-mid k-bot").addClass(ab.cssClass(aa,Z));ae.children(".k-in").removeClass("k-in k-state-default k-state-disabled").addClass(ab.textClass(Z));if(ad.length||ac.attr("data-hasChildren")=="true"){ae.children(".k-icon").removeClass("k-plus k-minus k-plus-disabled k-minus-disabled").addClass(ab.toggleButtonClass(Z));ad.addClass("k-group")}},_processNodes:function(Z,ab){var aa=this;aa.element.find(Z).each(function(ac,ad){ab.call(aa,ac,z(ad).closest(W))})},dataItem:function(aa){var Z=z(aa).closest(W).attr(B.attr("uid")),ab=this.dataSource;return ab&&ab.getByUid(Z)},_insertNode:function(Z,ak,ah,ai,ae){var aj=this,am=c(ah),al=am.children().length+1,ag,ad={firstLevel:ah.hasClass(N),expanded:!ae,length:al},ac,af,an,ab="",aa=function(ao,ap){ao.appendTo(ap)};for(af=0;af<Z.length;af++){an=Z[af];an.index=ak+af;ab+=aj._renderItem({group:ad,item:an})}ac=z(ab);if(!ac.length){return}aj.angular("compile",function(){return{elements:ac.get(),data:Z.map(function(ao){return{dataItem:ao}})}});if(!am.length){am=z(aj._renderGroup({group:ad})).appendTo(ah)}ai(ac,am);if(ah.hasClass("k-item")){V(ah);aj._updateNodeClasses(ah)}aj._updateNodeClasses(ac.prev().first());aj._updateNodeClasses(ac.next().last());for(af=0;af<Z.length;af++){an=Z[af];if(an.hasChildren){ag=an.children.data();if(ag.length){aj._insertNode(ag,an.index,ac.eq(af),aa,!aj._expanded(ac.eq(af)))}}}return ac},_updateNodes:function(af,ah){var ae=this,ac,aa,ai,ab,ad,Z={treeview:ae.options,item:ai};function ag(aj,ak){aj.find(".k-checkbox :checkbox").prop(a,ak).data(G,false).prop(G,false)}if(ah=="selected"){ai=af[0];aa=ae.findByUid(ai.uid).find(".k-in:first").removeClass("k-state-hover").toggleClass("k-state-selected",ai[ah]).end();if(ai[ah]){ae.current(aa)}aa.attr(k,!!ai[ah])}else{for(ac=0;ac<af.length;ac++){Z.item=ai=af[ac];ae.findByUid(ai.uid).find(">div>.k-in").html(ae.templates.itemContent(Z));if(ah==a){aa=ae.findByUid(ai.uid);ab=ai[ah];ag(aa.children("div"),ab);if(ae.options.checkboxes.checkChildren){ag(aa.children(".k-group"),ab);ae._setChecked(ai.children,ab);ae._bubbleIndeterminate(aa)}}else{if(ah=="expanded"){ae._toggle(ae.findByUid(ai.uid),ai,ai[ah])}else{if(ah=="enabled"){aa=ae.findByUid(ai.uid);aa.find(".k-checkbox :checkbox").prop("disabled",!ai[ah]);ad=!I(aa).is(X);aa.removeAttr(p);if(!ai[ah]){if(ai.selected){ai.set("selected",false)}if(ai.expanded){ai.set("expanded",false)}ad=true;aa.attr(k,false).attr(p,true)}ae._updateNodeClasses(aa,{},{enabled:ai[ah],expanded:!ad})}}}}}},_appendItems:function(ab,aa,Z){var ad=c(Z);var ac=ad.children();var ae=!this._expanded(Z);if(typeof ab==A){ab=ac.length}this._insertNode(aa,ab,Z,function(af,ag){if(ab>=ac.length){af.appendTo(ag)}else{af.insertBefore(ac.eq(ab))}},ae);if(this._expanded(Z)){this._updateNodeClasses(Z);c(Z).css("display","block")}},refresh:function(ai){var ah=this.wrapper,ab=ai.node,ae=ai.action,aj=ai.items,am=this.options,af=am.loadOnDemand,ac=am.checkboxes&&am.checkboxes.checkChildren,ag;if(ai.field){if(!aj[0]||!aj[0].level){return}return this._updateNodes(aj,ai.field)}if(ab){ah=this.findByUid(ab.uid);this._progress(ah,false)}if(ac&&ae!="remove"){var ak=false;for(ag=0;ag<aj.length;ag++){if("checked" in aj[ag]){ak=true;break}}if(!ak&&ab&&ab.checked){for(ag=0;ag<aj.length;ag++){aj[ag].checked=true}}}if(ae=="add"){this._appendItems(ai.index,aj,ah)}else{if(ae=="remove"){this._remove(this.findByUid(aj[0].uid),false)}else{if(ae=="itemchange"){this._updateNodes(aj)}else{if(ab){c(ah).empty();if(!aj.length){V(ah);this.trigger("itemChange",{item:ah,data:ab,ns:H})}else{this._appendItems(ai.index,aj,ah);var aa=c(ah).children();if(af&&ac){this._bubbleIndeterminate(aa.last())}for(ag=0;ag<aa.length;ag++){var Z=aa.eq(ag);this.trigger("itemChange",{item:Z,data:this.dataItem(Z),ns:H})}}}else{var ad=this._renderGroup({items:aj,group:{firstLevel:true,expanded:true}});if(this.root.length){this._angularItems("cleanup");var al=z(ad);this.root.attr("class",al.attr("class")).html(al.html())}else{this.root=this.wrapper.html(ad).children("ul")}this.root.attr("role","tree");this._angularItems("compile")}}}}for(ag=0;ag<aj.length;ag++){if(!af||aj[ag].expanded){aj[ag].load()}}this.trigger(j,{node:ab?ah:o})},_error:function(ab){var aa=ab.node&&this.findByUid(ab.node.uid);var Z=this.templates.retry({messages:this.options.messages});if(aa){this._progress(aa,false);this._expanded(aa,false);Y(aa).addClass("k-i-refresh");ab.node.loaded(false)}else{this._progress(false);this.element.html(Z)}},_retryRequest:function(Z){Z.preventDefault();this.dataSource.fetch()},expand:function(Z){this._processNodes(Z,function(aa,ab){this.toggle(ab,true)})},collapse:function(Z){this._processNodes(Z,function(aa,ab){this.toggle(ab,false)})},enable:function(Z,aa){aa=arguments.length==2?!!aa:true;this._processNodes(Z,function(ab,ac){this.dataItem(ac).set("enabled",aa)})},current:function(ab){var aa=this,ac=aa._current,Z=aa.element,ad=aa._ariaId;if(arguments.length>0&&ab&&ab.length){if(ac){if(ac[0].id===ad){ac.removeAttr("id")}ac.find(".k-in:first").removeClass("k-state-focused")}ac=aa._current=z(ab,Z).closest(W);ac.find(".k-in:first").addClass("k-state-focused");ad=ac[0].id||ad;if(ad){aa.wrapper.removeAttr("aria-activedescendant");ac.attr("id",ad);aa.wrapper.attr("aria-activedescendant",ad)}return}if(!ac){ac=aa._nextVisible(z())}return ac},select:function(ab){var aa=this,Z=aa.element;if(!arguments.length){return Z.find(".k-state-selected").closest(W)}ab=z(ab,Z).closest(W);Z.find(".k-state-selected").each(function(){var ac=aa.dataItem(this);ac.set("selected",false);delete ac.selected});if(ab.length){aa.dataItem(ab).set("selected",true)}aa.trigger(x)},_toggle:function(ae,ab,ac){var aa=this.options;var ad=I(ae);var ag=ac?"expand":"collapse";var Z,af;if(ad.data("animating")){return}if(!this._trigger(ag,ae)){this._expanded(ae,ac);Z=ab&&ab.loaded();af=!ad.children().length;if(ac&&(!Z||af)){if(aa.loadOnDemand){this._progress(ae,true)}ad.remove();ab.load()}else{this._updateNodeClasses(ae,{},{expanded:ac});if(ad.css("display")==(ac?"block":"none")){return}if(!ac){ad.css("height",ad.height()).css("height")}ad.kendoStop(true,true).kendoAnimate(l({reset:true},aa.animation[ag],{complete:function(){if(ac){ad.css("height","")}}}))}}},toggle:function(aa,Z){aa=z(aa);if(!Y(aa).is(".k-minus,.k-plus,.k-minus-disabled,.k-plus-disabled")){return}if(arguments.length==1){Z=!this._expanded(aa)}this._expanded(aa,Z)},destroy:function(){var Z=this;e.fn.destroy.call(Z);Z.wrapper.off(E);Z._unbindDataSource();if(Z.dragging){Z.dragging.destroy()}B.destroy(Z.element);Z.root=Z.wrapper=Z.element=null},_expanded:function(ab,ac){var aa=B.attr("expanded"),Z=this.dataItem(ab);if(arguments.length==1){return ab.attr(aa)==="true"||(Z&&Z.expanded)}if(I(ab).data("animating")){return}if(Z){Z.set("expanded",ac);ac=Z.expanded}if(ac){ab.attr(aa,"true");ab.attr("aria-expanded","true")}else{ab.removeAttr(aa);ab.attr("aria-expanded","false")}},_progress:function(ab,ac){var aa=this.element;var Z=this.templates.loading({messages:this.options.messages});if(arguments.length==1){ac=ab;if(ac){aa.html(Z)}else{aa.empty()}}else{Y(ab).toggleClass("k-loading",ac).removeClass("k-i-refresh")}},text:function(ac,ae){var aa=this.dataItem(ac),Z=this.options[Q.text],af=aa.level(),ab=Z.length,ad=Z[Math.min(af,ab-1)];if(ae){aa.set(ad,ae)}else{return aa[ad]}},_objectOrSelf:function(Z){return z(Z).closest("[data-role=treeview]").data("kendoTreeView")||this},_dataSourceMove:function(ae,af,ab,ag){var aa,Z=this._objectOrSelf(ab||af),ad=Z.dataSource;var ac=z.Deferred().resolve().promise();if(ab&&ab[0]!=Z.element[0]){aa=Z.dataItem(ab);if(!aa.loaded()){Z._progress(ab,true);ac=aa.load()}if(ab!=this.root){ad=aa.children;if(!ad||!(ad instanceof i)){aa._initChildren();aa.loaded(true);ad=aa.children}}}ae=this._toObservableData(ae);return ag.call(this,ad,ae,ac)},_toObservableData:function(ab){var Z=ab,ac,aa;if(ab instanceof window.jQuery||S(ab)){ac=this._objectOrSelf(ab).dataSource;aa=z(ab).attr(B.attr("uid"));Z=ac.getByUid(aa);if(Z){Z=ac.remove(Z)}}return Z},_insert:function(ac,ab,aa){if(!(ab instanceof B.data.ObservableArray)){if(!s(ab)){ab=[ab]}}else{ab=ab.toJSON()}var Z=ac.parent();if(Z&&Z._initChildren){Z.hasChildren=true;Z._initChildren()}ac.splice.apply(ac,[aa,0].concat(ab));return this.findByUid(ac[aa].uid)},insertAfter:m(1),insertBefore:m(0),append:function(aa,Z,ad){var ab=this,ac=ab.root;if(Z){ac=c(Z)}return ab._dataSourceMove(aa,ac,Z,function(ai,af,ae){var ag;function ah(){if(Z){ab._expanded(Z,true)}var ak=ai.data(),aj=Math.max(ak.length,0);return ab._insert(ak,af,aj)}ae.then(function(){ag=ah();ad=ad||z.noop;ad(ag)});return ag||null})},_remove:function(ac,ae){var ab=this,Z,aa,ad;ac=z(ac,ab.element);this.angular("cleanup",function(){return{elements:ac.get()}});Z=ac.parent().parent();aa=ac.prev();ad=ac.next();ac[ae?"detach":"remove"]();if(Z.hasClass("k-item")){V(Z);ab._updateNodeClasses(Z)}ab._updateNodeClasses(aa);ab._updateNodeClasses(ad);return ac},remove:function(aa){var Z=this.dataItem(aa);if(Z){this.dataSource.remove(Z)}},detach:function(Z){return this._remove(Z,true)},findByText:function(Z){return z(this.element).find(".k-in").filter(function(ab,aa){return z(aa).text()==Z}).closest(W)},findByUid:function(Z){return this.element.find(".k-item["+B.attr("uid")+"="+Z+"]")},expandPath:function(ac,Z){ac=ac.slice(0);var aa=this;var ad=this.dataSource;var ab=ad.get(ac[0]);Z=Z||z.noop;while(ac.length>0&&(ab.expanded||ab.loaded())){ab.set("expanded",true);ac.shift();ab=ad.get(ac[0])}if(!ac.length){return Z.call(aa)}ad.bind("change",function ae(ag){var ah=ag.node&&ag.node.id;var af;if(ah&&ah===ac[0]){ac.shift();if(ac.length){af=ad.get(ac[0]);if(af&&!af.loaded()){af.set("expanded",true)}else{Z.call(aa)}}else{Z.call(aa)}}});ab.set("expanded",true)},_parents:function(ab){var aa=ab&&ab.parentNode();var Z=[];while(aa){Z.push(aa);aa=aa.parentNode()}return Z},expandTo:function(ab){if(!(ab instanceof B.data.Node)){ab=this.dataSource.get(ab)}var Z=this._parents(ab);for(var aa=0;aa<Z.length;aa++){Z[aa].set("expanded",true)}},_renderItem:function(Z){if(!Z.group){Z.group={}}Z.treeview=this.options;Z.r=this.templates;return this.templates.item(Z)},_renderGroup:function(Z){var aa=this;Z.renderItems=function(ad){var af="",ae=0,ac=ad.items,ab=ac?ac.length:0,ag=ad.group;ag.length=ab;for(;ae<ab;ae++){ad.group=ag;ad.item=ac[ae];ad.item.index=ae;af+=aa._renderItem(ad)}return af};Z.r=aa.templates;return aa.templates.group(Z)}});function K(Z){var aa=this;aa.treeview=Z;aa.hovered=Z.element;aa._draggable=new H.Draggable(Z.element,{filter:"div:not(.k-state-disabled) .k-in",hint:function(ab){return Z.templates.dragClue({item:Z.dataItem(ab),treeview:Z.options})},cursorOffset:{left:10,top:B.support.mobileOS?-40/B.support.zoomLevel():10},dragstart:O(aa.dragstart,aa),dragcancel:O(aa.dragcancel,aa),drag:O(aa.drag,aa),dragend:O(aa.dragend,aa),$angular:Z.options.$angular})}K.prototype={_removeTouchHover:function(){var Z=this;if(B.support.touch&&Z.hovered){Z.hovered.find("."+d).removeClass(d);Z.hovered=false}},_hintStatus:function(Z){var aa=this._draggable.hint.find(".k-drag-status")[0];if(Z){aa.className="k-icon k-drag-status "+Z}else{return z.trim(aa.className.replace(/k-(icon|drag-status)/g,""))}},dragstart:function(ac){var ab=this,aa=ab.treeview,Z=ab.sourceNode=ac.currentTarget.closest(W);if(aa.trigger(L,{sourceNode:Z[0]})){ac.preventDefault()}ab.dropHint=z("<div class='k-drop-hint' />").css(g,"hidden").appendTo(aa.element)},drag:function(ak){var ah=this,an=ah.treeview,ac=ah.sourceNode,Z=ah.dropTarget=z(B.eventTarget(ak)),af,aa=Z.closest(".k-treeview"),aj,ae,ab,ao,ai,am,al,ag,ad;if(!aa.length){af="k-denied";ah._removeTouchHover()}else{if(z.contains(ac[0],Z[0])){af="k-denied"}else{af="k-insert-middle";aj=Z.closest(".k-top,.k-mid,.k-bot");if(aj.length){ab=aj.outerHeight();ao=B.getOffset(aj).top;ai=Z.closest(".k-in");am=ab/(ai.length>0?4:2);al=ak.y.location<(ao+am);ag=(ao+ab-am)<ak.y.location;ah._removeTouchHover();ad=ai.length&&!al&&!ag;ah.hovered=ad?aa:false;ah.dropHint.css(g,ad?"hidden":"visible");ai.toggleClass(d,ad);if(ad){af="k-add"}else{ae=aj.position();ae.top+=al?0:ab;ah.dropHint.css(ae)[al?"prependTo":"appendTo"](Z.closest(W).children("div:first"));if(al&&aj.hasClass("k-top")){af="k-insert-top"}if(ag&&aj.hasClass("k-bot")){af="k-insert-bottom"}}}else{if(Z[0]!=ah.dropHint[0]){if(aa[0]!=an.element[0]){af="k-add"}else{af="k-denied"}}}}}an.trigger(r,{sourceNode:ac[0],dropTarget:Z[0],pageY:ak.y.location,pageX:ak.x.location,statusClass:af.substring(2),setStatusClass:function(ap){af=ap}});if(af.indexOf("k-insert")!==0){ah.dropHint.css(g,"hidden")}ah._hintStatus(af)},dragcancel:function(){this.dropHint.remove()},dragend:function(){var ae=this,ah=ae.treeview,ai="over",ab=ae.sourceNode,aa,ag=ae.dropHint,Z=ae.dropTarget,af,ad;if(ag.css(g)=="visible"){ai=ag.prevAll(".k-in").length>0?"after":"before";aa=ag.closest(W)}else{if(Z){aa=Z.closest(".k-treeview .k-item");if(!aa.length){aa=Z.closest(".k-treeview")}}}af={sourceNode:ab[0],destinationNode:aa[0],valid:ae._hintStatus()!="k-denied",setValid:function(aj){this.valid=aj},dropTarget:Z[0],dropPosition:ai};ad=ah.trigger(M,af);ag.remove();ae._removeTouchHover();if(!af.valid||ad){ae._draggable.dropped=af.valid;return}ae._draggable.dropped=true;function ac(aj){ah.updateIndeterminate();ah.trigger(F,{sourceNode:aj&&aj[0],destinationNode:aa[0],dropPosition:ai})}if(ai=="over"){ah.append(ab,aa,ac)}else{if(ai=="before"){ab=ah.insertBefore(ab,aa)}else{if(ai=="after"){ab=ah.insertAfter(ab,aa)}}ac(ab)}},destroy:function(){this._draggable.destroy()}};H.plugin(n)})(window.kendo.jQuery);(function(f,b){var g=window.kendo,j=g.ui,a="kendoContextMenu",h=f.proxy,c=".kendoPivotFieldMenu",k=j.Widget;var d=k.extend({init:function(r,q){k.fn.init.call(this,r,q);this._dataSource();this._layout();g.notify(this)},events:[],options:{name:"PivotFieldMenu",filter:null,filterable:true,sortable:true,messages:{info:"Show items with value that:",sortAscending:"Sort Ascending",sortDescending:"Sort Descending",filterFields:"Fields Filter",filter:"Filter",include:"Include Fields...",title:"Fields to include",clear:"Clear",ok:"OK",cancel:"Cancel",operators:{contains:"Contains",doesnotcontain:"Does not contain",startswith:"Starts with",endswith:"Ends with",eq:"Is equal to",neq:"Is not equal to"}}},_layout:function(){var q=this.options;this.wrapper=f(g.template(n)({ns:g.ns,filterable:q.filterable,sortable:q.sortable,messages:q.messages}));this.menu=this.wrapper[a]({filter:q.filter,target:this.element,orientation:"vertical",showOn:"click",closeOnClick:false,open:h(this._menuOpen,this),select:h(this._select,this),copyAnchorStyles:false}).data(a);this._createWindow();if(q.filterable){this._initFilterForm()}},_initFilterForm:function(){var r=this.menu.element.find(".k-filter-item");var q=h(this._filter,this);this._filterOperator=new g.ui.DropDownList(r.find("select"));this._filterValue=r.find(".k-textbox");r.on("submit"+c,q).on("click"+c,".k-button-filter",q).on("click"+c,".k-button-clear",h(this._reset,this))},_setFilterForm:function(s){var q="";var r="";if(s){q=s.operator;r=s.value}this._filterOperator.value(q);this._filterValue.val(r)},_clearFilters:function(u){var r=this.dataSource.filter()||{};var t;var q=0;var s;r.filters=r.filters||[];t=l(r,u);for(s=t.length;q<s;q++){r.filters.splice(r.filters.indexOf(t[q]),1)}return r},_filter:function(t){var r=this;var s=r._filterValue.val();t.preventDefault();if(!s){r.menu.close();return}var u={field:r.currentMember,operator:r._filterOperator.value(),value:s};var q=r._clearFilters(r.currentMember);q.filters.push(u);r.dataSource.filter(q);r.menu.close()},_reset:function(s){var r=this;var q=r._clearFilters(r.currentMember);s.preventDefault();if(!q.filters[0]){q={}}r.dataSource.filter(q);r._setFilterForm(null);r.menu.close()},_sort:function(q){var s=this.currentMember;var r=(this.dataSource.sort()||[]);r=m(r,s);r.push({field:s,dir:q});this.dataSource.sort(r);this.menu.close()},setDataSource:function(q){this.options.dataSource=q;this._dataSource()},_dataSource:function(){this.dataSource=g.data.PivotDataSource.create(this.options.dataSource)},_createWindow:function(){var q=this.options.messages;this.includeWindow=f(g.template(e)({messages:q})).on("click"+c,".k-button-ok",h(this._applyIncludes,this)).on("click"+c,".k-button-cancel",h(this._closeWindow,this));this.includeWindow=new j.Window(this.includeWindow,{title:q.title,visible:false,resizable:false,open:h(this._windowOpen,this)})},_applyIncludes:function(w){var q=[];var u;var r=this.treeView.dataSource.view();var t=r[0].checked;var v=this.dataSource.filter();var s=l(v,this.currentMember,"in")[0];p(r,q);if(s){if(t){v.filters.splice(v.filters.indexOf(s),1);if(!v.filters.length){v={}}}else{s.value=q.join(",")}u=v}if(q.length){if(!u&&!t){u={field:this.currentMember,operator:"in",value:q.join(",")};if(v){v.filters.push(u);u=v}}}if(u){this.dataSource.filter(u)}this._closeWindow(w)},_closeWindow:function(q){q.preventDefault();this.includeWindow.close()},_treeViewDataSource:function(){var q=this;return g.data.HierarchicalDataSource.create({schema:{model:{id:"uniqueName",hasChildren:function(r){return parseInt(r.childrenCardinality,10)>0}}},transport:{read:function(s){var u={};var t=q.treeView.dataSource.get(s.data.uniqueName);var r=s.data.uniqueName;if(!r){u.levelUniqueName=q.currentMember+".[(ALL)]"}else{u.memberUniqueName=t.uniqueName.replace(/\&/g,"&amp;");u.treeOp=1}q.dataSource.schemaMembers(u).done(function(v){o(q.dataSource.filter(),q.currentMember,v);s.success(v)}).fail(s.error)}}})},_createTreeView:function(q){var r=this;r.treeView=new j.TreeView(q,{autoBind:false,dataSource:r._treeViewDataSource(),dataTextField:"caption",template:"#: data.item.caption || data.item.name #",checkboxes:{checkChildren:true},dataBound:function(){j.progress(r.includeWindow.element,false)}})},_menuOpen:function(r){if(!r.event){return}var q=g.attr("name");var s;this.currentMember=f(r.event.target).closest("["+q+"]").attr(q);if(this.options.filterable){this._setFilterForm(l(this.dataSource.filter(),this.currentMember)[0])}},_select:function(r){var q=f(r.item);f(".k-pivot-filter-window").not(this.includeWindow.element).kendoWindow("close");if(q.hasClass("k-include-item")){this.includeWindow.center().open()}else{if(q.hasClass("k-sort-asc")){this._sort("asc")}else{if(q.hasClass("k-sort-desc")){this._sort("desc")}}}},_windowOpen:function(){if(!this.treeView){this._createTreeView(this.includeWindow.element.find(".k-treeview"))}j.progress(this.includeWindow.element,true);this.treeView.dataSource.read()},destroy:function(){k.fn.destroy.call(this);if(this.menu){this.menu.destroy();this.menu=null}if(this.treeView){this.treeView.destroy();this.treeView=null}if(this.includeWindow){this.includeWindow.destroy();this.includeWindow=null}this.wrapper=null;this.element=null}});function m(u,s){var r=[];for(var q=0,t=u.length;q<t;q++){if(u[q].field!==s){r.push(u[q])}}return r}function l(u,w,t){if(!u){return[]}u=u.filters;var r=0;var q=[];var v=u.length;var s;for(;r<v;r++){s=u[r].operator;if(((!t&&s!=="in")||(s===t))&&u[r].field===w){q.push(u[r])}}return q}function o(t,v,s){var r,q=0,u=s.length;t=l(t,v,"in")[0];if(!t){for(;q<u;q++){s[q].checked=true}}else{r=t.value.split(",");for(;q<u;q++){s[q].checked=f.inArray(s[q].uniqueName,r)>=0}}}function p(s,r){var q,t=s.length;for(q=0;q<t;q++){if(s[q].checked&&s[q].level()!==0){r.push(s[q].uniqueName)}if(s[q].hasChildren){p(s[q].children.view(),r)}}}var i='<div class="k-filterable k-content" tabindex="-1" data-role="fieldmenu"><form class="k-filter-menu"><div><div class="k-filter-help-text">#=messages.info#</div><select>#for(var op in messages.operators){#<option value="#=op#">#=messages.operators[op]#</option>#}#</select><input class="k-textbox" type="text" /><div><a class="k-button k-primary k-button-filter" href="\\#">#=messages.filter#</a><a class="k-button k-button-clear" href="\\#">#=messages.clear#</a></div></div></form></div>';var n='<ul class="k-pivot-fieldmenu"># if (sortable) {#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-icon k-i-sort-asc"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-icon k-i-sort-desc"></span>${messages.sortDescending}</span></li># if (filterable) {#<li class="k-separator"></li># } ## } ## if (filterable) {#<li class="k-item k-include-item"><span class="k-link"><span class="k-icon k-filter"></span>${messages.include}</span></li><li class="k-separator"></li><li class="k-item k-filter-item"><span class="k-link"><span class="k-icon k-filter"></span>${messages.filterFields}</span><ul><li>'+i+"</li></ul></li># } #</ul>";var e='<div class="k-popup-edit-form k-pivot-filter-window"><div class="k-edit-form-container"><div class="k-treeview"></div><div class="k-edit-buttons k-state-default"><a class="k-button k-primary k-button-ok" href="\\#">${messages.ok}</a><a class="k-button k-button-cancel" href="\\#">${messages.cancel}</a></div></div>';j.plugin(d)})(window.kendo.jQuery);(function(d,e){var j=window.kendo,i=j.ui,c=j.data.DataSource,b=i.Widget,g="change",o="boolean",k="enums",f="string",n=".kendoFilterCell",m="Is equal to",p="Is not equal to",l=d.proxy;function a(u,w){var v=[];if(d.isPlainObject(u)){if(u.hasOwnProperty("filters")){v=u.filters}else{if(u.field==w){return u}}}if((d.isArray(u))){v=u}for(var t=0;t<v.length;t++){var s=a(v[t],w);if(s){return s}}}function r(t,s){if(t.filters){t.filters=d.grep(t.filters,function(u){r(u,s);if(u.filters){return u.filters.length}else{return u.field!=s}})}}function q(t,u){var s=j.getter(u,true);return function(A){var x=t(A),v=[],y=0,w={};while(y<x.length){var z=x[y++],B=s(z);if(!w.hasOwnProperty(B)){v.push(z);w[B]=true}}return v}}var h=b.extend({init:function(w,F){w=d(w).addClass("k-filtercell");var u=this.wrapper=d("<span/>").appendTo(w);var z=this,s,E,t=F,x,B,v=z.operators=F.operators||{},D=z.input=d("<input/>").attr(j.attr("bind"),"value: value").appendTo(u);b.fn.init.call(z,w[0],F);F=z.options;s=z.dataSource=F.dataSource;z.model=s.reader.model;B=F.type=f;var y=j.getter("reader.model.fields",true)(s)||{};var A=y[F.field];if(A&&A.type){B=F.type=A.type}if(F.values){F.type=B=k}v=v[B]||F.operators[B];if(!t.operator){for(x in v){F.operator=x;break}}z._parse=function(G){return G+""};if(z.model&&z.model.fields){var C=z.model.fields[F.field];if(C){if(C.parse){z._parse=l(C.parse,C)}}}z.viewModel=E=j.observable({operator:F.operator,value:null,operatorVisible:function(){var G=this.get("value");return G!==null&&G!==e&&G!="undefined"}});E.bind(g,l(z.updateDsFilter,z));if(B==f){z.initSuggestDataSource(F)}if(F.inputWidth!==null){D.width(F.inputWidth)}z._setInputType(F,B);if(B!=o&&F.showOperators!==false){z._createOperatorDropDown(v)}else{u.addClass("k-operator-hidden")}z._createClearIcon();j.bind(this.wrapper,E);if(B==f){if(!F.template){z.setAutoCompleteSource()}}if(B==k){z.setComboBoxSource(z.options.values)}z._refreshUI();z._refreshHandler=l(z._refreshUI,z);z.dataSource.bind(g,z._refreshHandler)},_setInputType:function(A,x){var v=this,z=v.input;if(typeof(A.template)=="function"){A.template.call(v.viewModel,{element:v.input,dataSource:v.suggestDataSource})}else{if(x==f){z.attr(j.attr("role"),"autocomplete").attr(j.attr("text-field"),A.dataTextField||A.field).attr(j.attr("filter"),A.suggestionOperator).attr(j.attr("delay"),A.delay).attr(j.attr("min-length"),A.minLength).attr(j.attr("value-primitive"),true)}else{if(x=="date"){z.attr(j.attr("role"),"datepicker")}else{if(x==o){z.remove();var t=d("<input type='radio'/>");var s=v.wrapper;var w=j.guid();var y=d("<label/>").text(A.messages.isTrue).append(t);t.attr(j.attr("bind"),"checked:value").attr("name",w).val("true");var u=y.clone().text(A.messages.isFalse);t.clone().val("false").appendTo(u);s.append([y,u])}else{if(x=="number"){z.attr(j.attr("role"),"numerictextbox")}else{if(x==k){z.attr(j.attr("role"),"combobox").attr(j.attr("text-field"),"text").attr(j.attr("suggest"),true).attr(j.attr("filter"),"contains").attr(j.attr("value-field"),"value").attr(j.attr("value-primitive"),true)}}}}}}},_createOperatorDropDown:function(s){var t=[];for(var v in s){t.push({text:s[v],value:v})}var u=d('<input class="k-dropdown-operator" '+j.attr("bind")+'="value: operator"/>').appendTo(this.wrapper);this.operatorDropDown=u.kendoDropDownList({dataSource:t,dataTextField:"text",dataValueField:"value",open:function(){this.popup.element.width(150)},valuePrimitive:true}).data("kendoDropDownList");this.operatorDropDown.wrapper.find(".k-i-arrow-s").removeClass("k-i-arrow-s").addClass("k-filter")},initSuggestDataSource:function(s){var t=s.suggestDataSource;if(!(t instanceof c)){if(!s.customDataSource&&t){t.group=e}t=this.suggestDataSource=c.create(t)}if(!s.customDataSource){t._pageSize=e;t.reader.data=q(t.reader.data,this.options.field)}this.suggestDataSource=t},setAutoCompleteSource:function(){var s=this.input.data("kendoAutoComplete");if(s){s.setDataSource(this.suggestDataSource)}},setComboBoxSource:function(s){var u=c.create({data:s});var t=this.input.data("kendoComboBox");if(t){t.setDataSource(u)}},_refreshUI:function(v){var u=this,t=a(u.dataSource.filter(),this.options.field)||{},s=u.viewModel;u.manuallyUpdatingVM=true;t=d.extend(true,{},t);if(u.options.type==o){if(s.value!==t.value){u.wrapper.find(":radio").prop("checked",false)}}if(t.operator){s.set("operator",t.operator)}s.set("value",t.value);u.manuallyUpdatingVM=false},updateDsFilter:function(w){var u=this,t=u.viewModel;if(u.manuallyUpdatingVM||(w.field=="operator"&&t.value===e)){return}var s=d.extend({},u.viewModel.toJSON(),{field:u.options.field});var x={logic:"and",filters:[]};if(s.value!==e&&s.value!==null){x.filters.push(s)}var v=u._merge(x);if(v.filters.length){u.dataSource.filter(v)}else{u.dataSource.filter({})}},_merge:function(z){var y=this,u=z.logic||"and",x=z.filters,v,t=y.dataSource.filter()||{filters:[],logic:"and"},s,w;r(t,y.options.field);for(s=0,w=x.length;s<w;s++){v=x[s];v.value=y._parse(v.value)}x=d.grep(x,function(A){return A.value!==""&&A.value!==null});if(x.length){if(t.filters.length){z.filters=x;if(t.logic!=="and"){t.filters=[{logic:t.logic,filters:t.filters}];t.logic="and"}if(x.length>1){t.filters.push(z)}else{t.filters.push(x[0])}}else{t.filters=x;t.logic=u}}return t},_createClearIcon:function(){var s=this;d("<button type='button' class='k-button k-button-icon'/>").attr(j.attr("bind"),"visible:operatorVisible").html("<span class='k-icon k-i-close'/>").click(l(s.clearFilter,s)).appendTo(s.wrapper)},clearFilter:function(){this.viewModel.set("value",null)},destroy:function(){var s=this;s.filterModel=null;b.fn.destroy.call(s);j.destroy(s.element)},events:[g],options:{name:"FilterCell",delay:200,minLength:1,inputWidth:null,values:e,customDataSource:false,field:"",dataTextField:"",type:"string",suggestDataSource:null,suggestionOperator:"startswith",operator:"eq",showOperators:true,template:null,messages:{isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",operator:"Operator"},operators:{string:{eq:m,neq:p,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with"},number:{eq:m,neq:p,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than"},date:{eq:m,neq:p,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before"},enums:{eq:m,neq:p}}}});i.plugin(h)})(window.kendo.jQuery);(function(H,p){var J=window.kendo,Q=J.ui,F=J.keys,n=H.extend,W=H.each,g=J.template,e=Q.Widget,v=/^(ul|a|div)$/i,M=".kendoPanelBar",N="img",V="href",O="k-last",D="k-link",h="."+D,K="error",X=".k-item",C=".k-group",ab=C+":visible",l="k-image",s="k-first",L="expand",w="select",T="k-content",o="activate",A="collapse",j="mouseenter",r="mouseleave",a="contentLoad",ac="k-state-active",U="> .k-panel",R="> .k-content",z="k-state-focused",x="k-state-disabled",I="k-state-selected",Z="."+I,S="k-state-highlight",b=X+":not(.k-state-disabled)",B="> "+b+" > "+h+", .k-panel > "+b+" > "+h,m=X+".k-state-disabled > .k-link",aa="> li > "+Z+", .k-panel > li > "+Z,E="k-state-default",k="aria-disabled",G="aria-expanded",P="aria-hidden",f="aria-selected",Y=":visible",d=":empty",i="single",c={content:g("<div role='region' class='k-content'#= contentAttributes(data) #>#= content(item) #</div>"),group:g("<ul role='group' aria-hidden='true' class='#= groupCssClass(group) #'#= groupAttributes(group) #>#= renderItems(data) #</ul>"),itemWrapper:g("<#= tag(item) # class='#= textClass(item, group) #' #= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:g("<li role='menuitem' #=aria(item)#class='#= wrapperCssClass(group, item) #'>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, panelBar: panelBar, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),image:g("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:g("<span class='#= arrowClass(item) #'></span>"),sprite:g("<span class='k-sprite #= spriteCssClass #'></span>"),empty:g("")},t={aria:function(ae){var ad="";if(ae.items||ae.content||ae.contentUrl){ad+=G+"='"+(ae.expanded?"true":"false")+"' "}if(ae.enabled===false){ad+=k+"='true'"}return ad},wrapperCssClass:function(ag,af){var ad="k-item",ae=af.index;if(af.enabled===false){ad+=" "+x}else{if(af.expanded===true){ad+=" "+ac}else{ad+=" k-state-default"}}if(ae===0){ad+=" k-first"}if(ae==ag.length-1){ad+=" k-last"}if(af.cssClass){ad+=" "+af.cssClass}return ad},textClass:function(ae,af){var ad=D;if(af.firstLevel){ad+=" k-header"}return ad},textAttributes:function(ad){return ad.url?" href='"+ad.url+"'":""},arrowClass:function(ae){var ad="k-icon";ad+=ae.expanded?" k-i-arrow-n k-panelbar-collapse":" k-i-arrow-s k-panelbar-expand";return ad},text:function(ad){return ad.encoded===false?ad.text:J.htmlEncode(ad.text)},tag:function(ad){return ad.url||ad.contentUrl?"a":"span"},groupAttributes:function(ad){return ad.expanded!==true?" style='display:none'":""},groupCssClass:function(){return"k-group k-panel"},contentAttributes:function(ad){return ad.item.expanded!==true?" style='display:none'":""},content:function(ad){return ad.content?ad.content:ad.contentUrl?"":"&nbsp;"},contentUrl:function(ad){return ad.contentUrl?'href="'+ad.contentUrl+'"':""}};function q(ad){ad=H(ad);ad.children(h).children(".k-icon").remove();ad.filter(":has(.k-panel),:has(.k-content)").children(".k-link:not(:has([class*=k-i-arrow]))").each(function(){var af=H(this),ae=af.parent();af.append("<span class='k-icon "+(ae.hasClass(ac)?"k-i-arrow-n k-panelbar-collapse":"k-i-arrow-s k-panelbar-expand")+"'/>")})}function u(ad){ad=H(ad);ad.filter(".k-first:not(:first-child)").removeClass(s);ad.filter(".k-last:not(:last-child)").removeClass(O);ad.filter(":first-child").addClass(s);ad.filter(":last-child").addClass(O)}var y=e.extend({init:function(ae,ad){var ag=this,af;e.fn.init.call(ag,ae,ad);ae=ag.wrapper=ag.element.addClass("k-widget k-reset k-header k-panelbar");ad=ag.options;if(ae[0].id){ag._itemId=ae[0].id+"_pb_active"}ag._tabindex();ag._initData(ad);ag._updateClasses();ag._animations(ad);ae.on("click"+M,B,function(ah){if(ag._click(H(ah.currentTarget))){ah.preventDefault()}}).on(j+M+" "+r+M,B,ag._toggleHover).on("click"+M,m,false).on("keydown"+M,H.proxy(ag._keydown,ag)).on("focus"+M,function(){var ah=ag.select();ag._current(ah[0]?ah:ag._first())}).on("blur"+M,function(){ag._current(null)}).attr("role","menu");af=ae.find("li."+ac+" > ."+T);if(af[0]){ag.expand(af.parent(),false)}J.notify(ag)},events:[L,A,w,o,K,a],options:{name:"PanelBar",animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:200}},expandMode:"multiple"},destroy:function(){e.fn.destroy.call(this);this.element.off(M);J.destroy(this.element)},_initData:function(ad){var ae=this;if(ad.dataSource){ae.element.empty();ae.append(ad.dataSource,ae.element)}},setOptions:function(ad){var ae=this.options.animation;this._animations(ad);ad.animation=n(true,ae,ad.animation);if("dataSource" in ad){this._initData(ad)}e.fn.setOptions.call(this,ad)},expand:function(ad,ag){var ae=this,af={};ag=ag!==false;ad=this.element.find(ad);ad.each(function(ai,aj){aj=H(aj);var ah=aj.find(U).add(aj.find(R));if(!aj.hasClass(x)&&ah.length>0){if(ae.options.expandMode==i&&ae._collapseAllExpanded(aj)){return ae}ad.find("."+S).removeClass(S);aj.addClass(S);if(!ag){af=ae.options.animation;ae.options.animation={expand:{effects:{}},collapse:{hide:true,effects:{}}}}if(!ae._triggerEvent(L,aj)){ae._toggleItem(aj,false)}if(!ag){ae.options.animation=af}}});return ae},collapse:function(ad,ag){var ae=this,af={};ag=ag!==false;ad=ae.element.find(ad);ad.each(function(ai,aj){aj=H(aj);var ah=aj.find(U).add(aj.find(R));if(!aj.hasClass(x)&&ah.is(Y)){aj.removeClass(S);if(!ag){af=ae.options.animation;ae.options.animation={expand:{effects:{}},collapse:{hide:true,effects:{}}}}if(!ae._triggerEvent(A,aj)){ae._toggleItem(aj,true)}if(!ag){ae.options.animation=af}}});return ae},_toggleDisabled:function(ae,ad){ae=this.element.find(ae);ae.toggleClass(E,ad).toggleClass(x,!ad).attr(k,!ad)},select:function(ad){var ae=this;if(ad===p){return ae.element.find(aa).parent()}ad=ae.element.find(ad);if(!ad.length){this._updateSelected(ad)}else{ad.each(function(){var ag=H(this),af=ag.children(h);if(ag.hasClass(x)){return ae}if(!ae._triggerEvent(w,ag)){ae._updateSelected(af)}})}return ae},clearSelection:function(){this.select(H())},enable:function(ad,ae){this._toggleDisabled(ad,ae!==false);return this},disable:function(ad){this._toggleDisabled(ad,false);return this},append:function(af,ad){ad=this.element.find(ad);var ae=this._insert(af,ad,ad.length?ad.find(U):null);W(ae.items,function(){ae.group.append(this);u(this)});q(ad);u(ae.group.find(".k-first, .k-last"));ae.group.height("auto");return this},insertBefore:function(af,ad){ad=this.element.find(ad);var ae=this._insert(af,ad,ad.parent());W(ae.items,function(){ad.before(this);u(this)});u(ad);ae.group.height("auto");return this},insertAfter:function(af,ad){ad=this.element.find(ad);var ae=this._insert(af,ad,ad.parent());W(ae.items,function(){ad.after(this);u(this)});u(ad);ae.group.height("auto");return this},remove:function(ad){ad=this.element.find(ad);var af=this,ae=ad.parentsUntil(af.element,X),ag=ad.parent("ul");ad.remove();if(ag&&!ag.hasClass("k-panelbar")&&!ag.children(X).length){ag.remove()}if(ae.length){ae=ae.eq(0);q(ae);u(ae)}return af},reload:function(ad){var ae=this;ad=ae.element.find(ad);ad.each(function(){var af=H(this);ae._ajaxRequest(af,af.children("."+T),!af.is(Y))})},_first:function(){return this.element.children(b).first()},_last:function(){var ad=this.element.children(b).last(),ae=ad.children(ab);if(ae[0]){return ae.children(b).last()}return ad},_current:function(ad){var ae=this,af=ae._focused,ag=ae._itemId;if(ad===p){return af}ae.element.removeAttr("aria-activedescendant");if(af){if(af[0].id===ag){af.removeAttr("id")}af.children(h).removeClass(z)}if(ad){ag=ad[0].id||ag;ad.attr("id",ag).children(h).addClass(z);ae.element.attr("aria-activedescendant",ag)}ae._focused=ad},_keydown:function(ag){var ae=this,ad=ag.keyCode,af=ae._current();if(ag.target!=ag.currentTarget){return}if(ad==F.DOWN||ad==F.RIGHT){ae._current(ae._nextItem(af));ag.preventDefault()}else{if(ad==F.UP||ad==F.LEFT){ae._current(ae._prevItem(af));ag.preventDefault()}else{if(ad==F.ENTER||ad==F.SPACEBAR){ae._click(af.children(h));ag.preventDefault()}else{if(ad==F.HOME){ae._current(ae._first());ag.preventDefault()}else{if(ad==F.END){ae._current(ae._last());ag.preventDefault()}}}}}},_nextItem:function(ae){if(!ae){return this._first()}var af=ae.children(ab),ad=ae.nextAll(":visible").first();if(af[0]){ad=af.children("."+s)}if(!ad[0]){ad=ae.parent(ab).parent(X).next()}if(!ad[0]){ad=this._first()}if(ad.hasClass(x)){ad=this._nextItem(ad)}return ad},_prevItem:function(af){if(!af){return this._last()}var ae=af.prevAll(":visible").first(),ad;if(!ae[0]){ae=af.parent(ab).parent(X);if(!ae[0]){ae=this._last()}}else{ad=ae;while(ad[0]){ad=ad.children(ab).children("."+O);if(ad[0]){ae=ad}}}if(ae.hasClass(x)){ae=this._prevItem(ae)}return ae},_insert:function(ak,ad,ai){var aj=this,ae,ah=H.isPlainObject(ak),ag=ad&&ad[0],af;if(!ag){ai=aj.element}af={firstLevel:ai.hasClass("k-panelbar"),expanded:ai.parent().hasClass(ac),length:ai.children().length};if(ag&&!ai.length){ai=H(y.renderGroup({group:af})).appendTo(ad)}if(ak instanceof J.Observable){ak=ak.toJSON()}if(ah||H.isArray(ak)){ae=H.map(ah?[ak]:ak,function(am,al){if(typeof am==="string"){return H(am)}else{return H(y.renderItem({group:af,item:n(am,{index:al})}))}});if(ag){ad.attr(G,false)}}else{if(typeof ak=="string"&&ak.charAt(0)!="<"){ae=aj.element.find(ak)}else{ae=H(ak)}aj._updateItemsClasses(ae)}return{items:ae,group:ai}},_toggleHover:function(ae){var ad=H(ae.currentTarget);if(!ad.parents("li."+x).length){ad.toggleClass("k-state-hover",ae.type==j)}},_updateClasses:function(){var af=this,ae,ad;ae=af.element.find("li > ul").not(function(){return H(this).parentsUntil(".k-panelbar","div").length}).addClass("k-group k-panel").attr("role","group");ae.parent().attr(G,false).not("."+ac).children("ul").attr(P,true).hide();ad=af.element.add(ae).children();af._updateItemsClasses(ad);q(ad);u(ad)},_updateItemsClasses:function(ae){var af=ae.length,ad=0;for(;ad<af;ad++){this._updateItemClasses(ae[ad],ad)}},_updateItemClasses:function(aj,ag){var ah=this._selected,ae=this.options.contentUrls,af=ae&&ae[ag],ad=this.element[0],ak,ai;aj=H(aj).addClass("k-item").attr("role","menuitem");if(J.support.browser.msie){aj.css("list-style-position","inside").css("list-style-position","")}aj.children(N).addClass(l);ai=aj.children("a").addClass(D);if(ai[0]){ai.attr("href",af);ai.children(N).addClass(l)}aj.filter(":not([disabled]):not([class*=k-state])").addClass("k-state-default");aj.filter("li[disabled]").addClass("k-state-disabled").attr(k,true).removeAttr("disabled");aj.children("div").addClass(T).attr("role","region").attr(P,true).hide().parent().attr(G,false);ai=aj.children(Z);if(ai[0]){if(ah){ah.removeAttr(f).children(Z).removeClass(I)}ai.addClass(I);this._selected=aj.attr(f,true)}if(!aj.children(h)[0]){ak="<span class='"+D+"'/>";if(ae&&ae[ag]&&aj[0].parentNode==ad){ak='<a class="k-link k-header" href="'+ae[ag]+'"/>'}aj.contents().filter(function(){return(!this.nodeName.match(v)&&!(this.nodeType==3&&!H.trim(this.nodeValue)))}).wrapAll(ak)}if(aj.parent(".k-panelbar")[0]){aj.children(h).addClass("k-header")}},_click:function(aj){var ai=this,ah=ai.element,al,ag,af,ad;if(aj.parents("li."+x).length){return}if(aj.closest(".k-widget")[0]!=ah[0]){return}var ak=aj.closest(h),am=ak.closest(X);ai._updateSelected(ak);ag=am.find(U).add(am.find(R));af=ak.attr(V);ad=af&&(af.charAt(af.length-1)=="#"||af.indexOf("#"+ai.element[0].id+"-")!=-1);al=!!(ad||ag.length);if(ag.data("animating")){return al}if(ai._triggerEvent(w,am)){al=true}if(al===false){return}if(ai.options.expandMode==i){if(ai._collapseAllExpanded(am)){return al}}if(ag.length){var ae=ag.is(Y);if(!ai._triggerEvent(!ae?L:A,am)){al=ai._toggleItem(am,ae)}}return al},_toggleItem:function(ah,ad){var ak=this,ag=ah.find(U),aj=ah.find(h),af=aj.attr(V),ae,ai;if(ag.length){this._toggleGroup(ag,ad);ae=true}else{ai=ah.children("."+T);if(ai.length){ae=true;if(!ai.is(d)||af===p){ak._toggleGroup(ai,ad)}else{ak._ajaxRequest(ah,ai,ad)}}}return ae},_toggleGroup:function(af,ad){var ah=this,ae=ah.options.animation,ai=ae.expand,aj=n({},ae.collapse),ag=aj&&"effects" in aj;if(af.is(Y)!=ad){return}af.parent().attr(G,!ad).attr(P,ad).toggleClass(ac,!ad).find("> .k-link > .k-icon").toggleClass("k-i-arrow-n",!ad).toggleClass("k-panelbar-collapse",!ad).toggleClass("k-i-arrow-s",ad).toggleClass("k-panelbar-expand",ad);if(ad){ai=n(ag?aj:n({reverse:true},ai),{hide:true})}else{ai=n({complete:function(ak){ah._triggerEvent(o,ak.closest(X))}},ai)}af.kendoStop(true,true).kendoAnimate(ai)},_collapseAllExpanded:function(ag){var af=this,ae,ah=false;var ad=ag.find(U).add(ag.find(R));if(ad.is(Y)){ah=true}if(!(ad.is(Y)||ad.length===0)){ae=ag.siblings();ae.find(U).add(ae.find(R)).filter(function(){return H(this).is(Y)}).each(function(ai,aj){aj=H(aj);ah=af._triggerEvent(A,aj.closest(X));if(!ah){af._toggleGroup(aj,true)}})}return ah},_ajaxRequest:function(ah,al,ai){var aj=this,ad=ah.find(".k-panelbar-collapse, .k-panelbar-expand"),ak=ah.find(h),af=setTimeout(function(){ad.addClass("k-loading")},100),ag={},ae=ak.attr(V);H.ajax({type:"GET",cache:false,url:ae,dataType:"html",data:ag,error:function(an,am){ad.removeClass("k-loading");if(aj.trigger(K,{xhr:an,status:am})){this.complete()}},complete:function(){clearTimeout(af);ad.removeClass("k-loading")},success:function(ao){function an(){return{elements:al.get()}}try{aj.angular("cleanup",an);al.html(ao);aj.angular("compile",an)}catch(ap){var am=window.console;if(am&&am.error){am.error(ap.name+": "+ap.message+" in "+ae)}this.error(this.xhr,"error")}aj._toggleGroup(al,ai);aj.trigger(a,{item:ah[0],contentElement:al[0]})}})},_triggerEvent:function(ad,ae){var af=this;return af.trigger(ad,{item:ae[0]})},_updateSelected:function(ah){var ag=this,ad=ag.element,af=ah.parent(X),ae=ag._selected;if(ae){ae.removeAttr(f)}ag._selected=af.attr(f,true);ad.find(aa).removeClass(I);ad.find("> ."+S+", .k-panel > ."+S).removeClass(S);ah.addClass(I);ah.parentsUntil(ad,X).filter(":has(.k-header)").addClass(S);ag._current(af[0]?af:null)},_animations:function(ad){if(ad&&("animation" in ad)&&!ad.animation){ad.animation={expand:{effects:{}},collapse:{hide:true,effects:{}}}}}});n(y,{renderItem:function(ad){ad=n({panelBar:{},group:{}},ad);var af=c.empty,ae=ad.item;return c.item(n(ad,{image:ae.imageUrl?c.image:af,sprite:ae.spriteCssClass?c.sprite:af,itemWrapper:c.itemWrapper,renderContent:y.renderContent,arrow:ae.items||ae.content||ae.contentUrl?c.arrow:af,subGroup:y.renderGroup},t))},renderGroup:function(ad){return c.group(n({renderItems:function(ag){var ai="",ah=0,af=ag.items,ae=af?af.length:0,aj=n({length:ae},ag.group);for(;ah<ae;ah++){ai+=y.renderItem(n(ag,{group:aj,item:n({index:ah},af[ah])}))}return ai}},ad,t))},renderContent:function(ad){return c.content(n(ad,t))}});J.ui.plugin(y)})(window.kendo.jQuery);(function(i,l){var v=window.kendo,u=v.ui,d=u.Widget,F="horizontal",y="vertical",k=0,n=100,C=0,h=5,b="k-progressbar",c="k-progressbar-reverse",E="k-progressbar-indeterminate",p="k-complete",o="k-state-selected",m="k-progress-status",D="k-state-selected",g="k-state-default",x="k-state-disabled",t={VALUE:"value",PERCENT:"percent",CHUNK:"chunk"},r="change",w="complete",q="boolean",f=Math,A=i.extend,z=i.proxy,a=100,B=400,s=3,e={progressStatus:"<span class='k-progress-status-wrap'><span class='k-progress-status'></span></span>"};var j=d.extend({init:function(H,G){var I=this;d.fn.init.call(this,H,G);G=I.options;I._progressProperty=(G.orientation===F)?"width":"height";I._fields();G.value=I._validateValue(G.value);I._validateType(G.type);I._wrapper();I._progressAnimation();if((G.value!==G.min)&&(G.value!==false)){I._updateProgress()}},setOptions:function(G){var H=this;d.fn.setOptions.call(H,G);if(G.hasOwnProperty("reverse")){H.wrapper.toggleClass("k-progressbar-reverse",G.reverse)}if(G.hasOwnProperty("enable")){H.enable(G.enable)}H._progressAnimation();H._validateValue();H._updateProgress()},events:[r,w],options:{name:"ProgressBar",orientation:F,reverse:false,min:k,max:n,value:C,enable:true,type:t.VALUE,chunkCount:h,showStatus:true,animation:{}},_fields:function(){var G=this;G._isStarted=false;G.progressWrapper=G.progressStatus=i()},_validateType:function(G){var H=false;i.each(t,function(I,J){if(J===G){H=true;return false}});if(!H){throw new Error(v.format("Invalid ProgressBar type '{0}'",G))}},_wrapper:function(){var J=this;var G=J.wrapper=J.element;var I=J.options;var H=I.orientation;var K;G.addClass("k-widget "+b);G.addClass(b+"-"+((H===F)?F:y));if(I.enable===false){G.addClass(x)}if(I.reverse){G.addClass(c)}if(I.value===false){G.addClass(E)}if(I.type===t.CHUNK){J._addChunkProgressWrapper()}else{if(I.showStatus){J.progressStatus=J.wrapper.prepend(e.progressStatus).find("."+m);K=(I.value!==false)?I.value:I.min;if(I.type===t.VALUE){J.progressStatus.text(K)}else{J.progressStatus.text(J._calculatePercentage(K)+"%")}}}},value:function(G){return this._value(G)},_value:function(I){var H=this;var G=H.options;var J;if(I===l){return G.value}else{if(typeof I!==q){I=H._roundValue(I);if(!isNaN(I)){J=H._validateValue(I);if(J!==G.value){H.wrapper.removeClass(E);G.value=J;H._isStarted=true;H._updateProgress()}}}else{if(!I){H.wrapper.addClass(E);G.value=false}}}},_roundValue:function(H){H=parseFloat(H);var G=f.pow(10,s);return f.floor(H*G)/G},_validateValue:function(I){var H=this;var G=H.options;if(I!==false){if(I<=G.min||I===true){return G.min}else{if(I>=G.max){return G.max}}}else{if(I===false){return false}}if(isNaN(H._roundValue(I))){return G.min}return I},_updateProgress:function(){var I=this;var H=I.options;var G=I._calculatePercentage();if(H.type===t.CHUNK){I._updateChunks(G);I._onProgressUpdateAlways(H.value)}else{I._updateProgressWrapper(G)}},_updateChunks:function(G){var J=this;var H=J.options;var M=H.chunkCount;var L=parseInt((a/M)*100,10)/100;var N=parseInt(G*100,10)/100;var K=f.floor(N/L);var I;if((H.orientation===F&&!(H.reverse))||(H.orientation===y&&H.reverse)){I=J.wrapper.find("li.k-item:lt("+K+")")}else{I=J.wrapper.find("li.k-item:gt(-"+(K+1)+")")}J.wrapper.find("."+D).removeClass(D).addClass(g);I.removeClass(g).addClass(D)},_updateProgressWrapper:function(G){var I=this;var H=I.options;var L=I.wrapper.find("."+o);var K=I._isStarted?I._animation.duration:0;var J={};if(L.length===0){I._addRegularProgressWrapper()}J[I._progressProperty]=G+"%";I.progressWrapper.animate(J,{duration:K,start:z(I._onProgressAnimateStart,I),progress:z(I._onProgressAnimate,I),complete:z(I._onProgressAnimateComplete,I,H.value),always:z(I._onProgressUpdateAlways,I,H.value)})},_onProgressAnimateStart:function(){this.progressWrapper.show()},_onProgressAnimate:function(K){var J=this;var I=J.options;var H=parseFloat(K.elem.style[J._progressProperty],10);var G;if(I.showStatus){G=10000/parseFloat(J.progressWrapper[0].style[J._progressProperty]);J.progressWrapper.find(".k-progress-status-wrap").css(J._progressProperty,G+"%")}if(I.type!==t.CHUNK&&H<=98){J.progressWrapper.removeClass(p)}},_onProgressAnimateComplete:function(H){var I=this;var G=I.options;var J=parseFloat(I.progressWrapper[0].style[I._progressProperty]);if(G.type!==t.CHUNK&&J>98){I.progressWrapper.addClass(p)}if(G.showStatus){if(G.type===t.VALUE){I.progressStatus.text(H)}else{I.progressStatus.text(f.floor(I._calculatePercentage(H))+"%")}}if(H===G.min){I.progressWrapper.hide()}},_onProgressUpdateAlways:function(H){var I=this;var G=I.options;if(I._isStarted){I.trigger(r,{value:H})}if(H===G.max&&I._isStarted){I.trigger(w,{value:G.max})}},enable:function(H){var I=this;var G=I.options;G.enable=typeof(H)==="undefined"?true:H;I.wrapper.toggleClass(x,!G.enable)},destroy:function(){var G=this;d.fn.destroy.call(G)},_addChunkProgressWrapper:function(){var K=this;var H=K.options;var G=K.wrapper;var L=a/H.chunkCount;var J="";if(H.chunkCount<=1){H.chunkCount=h}J+="<ul class='k-reset'>";for(var I=H.chunkCount-1;I>=0;I--){J+="<li class='k-item k-state-default'></li>"}J+="</ul>";G.append(J).find(".k-item").css(K._progressProperty,L+"%").first().addClass("k-first").end().last().addClass("k-last");K._normalizeChunkSize()},_normalizeChunkSize:function(){var I=this;var H=I.options;var K=I.wrapper.find(".k-item:last");var G=parseFloat(K[0].style[I._progressProperty]);var J=a-(H.chunkCount*G);if(J>0){K.css(I._progressProperty,(G+J)+"%")}},_addRegularProgressWrapper:function(){var G=this;G.progressWrapper=i("<div class='"+o+"'></div>").appendTo(G.wrapper);if(G.options.showStatus){G.progressWrapper.append(e.progressStatus);G.progressStatus=G.wrapper.find("."+m)}},_calculateChunkSize:function(){var H=this;var I=H.options.chunkCount;var G=H.wrapper.find("ul.k-reset");return(parseInt(G.css(H._progressProperty),10)-(I-1))/I},_calculatePercentage:function(J){var K=this;var H=K.options;var L=(J!==l)?J:H.value;var I=H.min;var G=H.max;K._onePercent=f.abs((G-I)/100);return f.abs((L-I)/K._onePercent)},_progressAnimation:function(){var H=this;var G=H.options;var I=G.animation;if(I===false){H._animation={duration:0}}else{H._animation=A({duration:B},G.animation)}}});v.ui.plugin(j)})(window.kendo.jQuery);(function(A,o){var B=window.kendo,H=B.ui,x=B.keys,y=A.map,N=A.each,a=A.trim,m=A.extend,g=B.template,f=H.Widget,u=/^(a|div)$/i,E=".kendoTabStrip",F="img",L="href",P="prev",c="show",w="k-link",G="k-last",K="click",C="error",e=":empty",k="k-image",r="k-first",v="select",n="activate",J="k-content",l="contentUrl",h="mouseenter",q="mouseleave",b="contentLoad",i="k-state-disabled",p="k-state-default",I="k-state-active",j="k-state-focused",Q="k-state-hover",M="k-tab-on-top",O=".k-item:not(."+i+")",z=".k-tabstrip-items > "+O+":not(."+I+")",d={content:g("<div class='k-content'#= contentAttributes(data) # role='tabpanel'>#= content(item) #</div>"),itemWrapper:g("<#= tag(item) # class='k-link'#= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) #</#= tag(item) #>"),item:g("<li class='#= wrapperCssClass(group, item) #' role='tab' #=item.active ? \"aria-selected='true'\" : ''#>#= itemWrapper(data) #</li>"),image:g("<img class='k-image' alt='' src='#= imageUrl #' />"),sprite:g("<span class='k-sprite #= spriteCssClass #'></span>"),empty:g("")},s={wrapperCssClass:function(V,U){var S="k-item",T=U.index;if(U.enabled===false){S+=" k-state-disabled"}else{S+=" k-state-default"}if(T===0){S+=" k-first"}if(T==V.length-1){S+=" k-last"}return S},textAttributes:function(S){return S.url?" href='"+S.url+"'":""},text:function(S){return S.encoded===false?S.text:B.htmlEncode(S.text)},tag:function(S){return S.url?"a":"span"},contentAttributes:function(S){return S.active!==true?" style='display:none' aria-hidden='true' aria-expanded='false'":""},content:function(S){return S.content?S.content:S.contentUrl?"":"&nbsp;"},contentUrl:function(S){return S.contentUrl?B.attr("content-url")+'="'+S.contentUrl+'"':""}};function R(S){S.children(F).addClass(k);S.children("a").addClass(w).children(F).addClass(k);S.filter(":not([disabled]):not([class*=k-state-disabled])").addClass(p);S.filter("li[disabled]").addClass(i).removeAttr("disabled");S.filter(":not([class*=k-state])").children("a").filter(":focus").parent().addClass(I+" "+M);S.attr("role","tab");S.filter("."+I).attr("aria-selected",true);S.each(function(){var T=A(this);if(!T.children("."+w).length){T.contents().filter(function(){return(!this.nodeName.match(u)&&!(this.nodeType==3&&!a(this.nodeValue)))}).wrapAll("<span class='"+w+"'/>")}})}function t(T){var S=T.children(".k-item");S.filter(".k-first:not(:first-child)").removeClass(r);S.filter(".k-last:not(:last-child)").removeClass(G);S.filter(":first-child").addClass(r);S.filter(":last-child").addClass(G)}var D=f.extend({init:function(T,S){var V=this;f.fn.init.call(V,T,S);V._animations(V.options);S=V.options;V._wrapper();V._isRtl=B.support.isRtl(V.wrapper);V._tabindex();V._updateClasses();V._dataSource();if(S.dataSource){V.dataSource.fetch()}if(V.options.contentUrls){V.wrapper.find(".k-tabstrip-items > .k-item").each(function(X,Y){A(Y).find(">."+w).data(l,V.options.contentUrls[X])})}V.wrapper.on(h+E+" "+q+E,z,V._toggleHover).on("focus"+E,A.proxy(V._active,V)).on("blur"+E,function(){V._current(null)});V._keyDownProxy=A.proxy(V._keydown,V);if(S.navigatable){V.wrapper.on("keydown"+E,V._keyDownProxy)}V.wrapper.children(".k-tabstrip-items").on(K+E,".k-state-disabled .k-link",false).on(K+E," > "+O,function(aa){var X=V.wrapper[0];if(X!==document.activeElement){var Z=B.support.browser.msie;if(Z){try{X.setActive()}catch(Y){X.focus()}}else{X.focus()}}if(V._click(A(aa.currentTarget))){aa.preventDefault()}});var W=V.tabGroup.children("li."+I),U=V.contentHolder(W.index());if(W[0]&&U.length>0&&U[0].childNodes.length===0){V.activateTab(W.eq(0))}V.element.attr("role","tablist");if(V.element[0].id){V._ariaId=V.element[0].id+"_ts_active"}B.notify(V)},_active:function(){var S=this.tabGroup.children().filter("."+I);S=S[0]?S:this._endItem("first");if(S[0]){this._current(S)}},_endItem:function(S){return this.tabGroup.children(O)[S]()},_item:function(T,U){var S;if(U===P){S="last"}else{S="first"}if(!T){return this._endItem(S)}T=T[U]();if(!T[0]){T=this._endItem(S)}if(T.hasClass(i)){T=this._item(T,U)}return T},_current:function(S){var T=this,U=T._focused,V=T._ariaId;if(S===o){return U}if(U){if(U[0].id===V){U.removeAttr("id")}U.removeClass(j)}if(S){if(!S.hasClass(I)){S.addClass(j)}T.element.removeAttr("aria-activedescendant");V=S[0].id||V;if(V){S.attr("id",V);T.element.attr("aria-activedescendant",V)}}T._focused=S},_keydown:function(X){var T=this,S=X.keyCode,W=T._current(),V=T._isRtl,U;if(X.target!=X.currentTarget){return}if(S==x.DOWN||S==x.RIGHT){U=V?P:"next"}else{if(S==x.UP||S==x.LEFT){U=V?"next":P}else{if(S==x.ENTER||S==x.SPACEBAR){T._click(W);X.preventDefault()}else{if(S==x.HOME){T._click(T._endItem("first"));X.preventDefault();return}else{if(S==x.END){T._click(T._endItem("last"));X.preventDefault();return}}}}}if(U){T._click(T._item(W,U));X.preventDefault()}},_dataSource:function(){var S=this;if(S.dataSource&&S._refreshHandler){S.dataSource.unbind("change",S._refreshHandler)}else{S._refreshHandler=A.proxy(S.refresh,S)}S.dataSource=B.data.DataSource.create(S.options.dataSource).bind("change",S._refreshHandler)},setDataSource:function(T){var S=this;S.options.dataSource=T;S._dataSource();S.dataSource.fetch()},_animations:function(S){if(S&&("animation" in S)&&!S.animation){S.animation={open:{effects:{}},close:{effects:{}}}}},refresh:function(Z){var Y=this,ag=Y.options,af=B.getter(ag.dataTextField),aa=B.getter(ag.dataContentField),V=B.getter(ag.dataContentUrlField),W=B.getter(ag.dataImageUrlField),S=B.getter(ag.dataUrlField),ae=B.getter(ag.dataSpriteCssClass),ad,ac=[],U,X,ab=Y.dataSource.view(),T;Z=Z||{};X=Z.action;if(X){ab=Z.items}for(ad=0,T=ab.length;ad<T;ad++){U={text:af(ab[ad])};if(ag.dataContentField){U.content=aa(ab[ad])}if(ag.dataContentUrlField){U.contentUrl=V(ab[ad])}if(ag.dataUrlField){U.url=S(ab[ad])}if(ag.dataImageUrlField){U.imageUrl=W(ab[ad])}if(ag.dataSpriteCssClass){U.spriteCssClass=ae(ab[ad])}ac[ad]=U}if(Z.action=="add"){if(Z.index<Y.tabGroup.children().length){Y.insertBefore(ac,Y.tabGroup.children().eq(Z.index))}else{Y.append(ac)}}else{if(Z.action=="remove"){for(ad=0;ad<ab.length;ad++){Y.remove(Z.index)}}else{if(Z.action=="itemchange"){ad=Y.dataSource.view().indexOf(ab[0]);if(Z.field===ag.dataTextField){Y.tabGroup.children().eq(ad).find(".k-link").text(ab[0].get(Z.field))}}else{Y.trigger("dataBinding");Y.remove("li");Y.append(ac);Y.trigger("dataBound")}}}},value:function(T){var S=this;if(T!==o){if(T!=S.value()){S.tabGroup.children().each(function(){if(A.trim(A(this).text())==T){S.select(this)}})}}else{return S.select().text()}},items:function(){return this.tabGroup[0].children},setOptions:function(S){var T=this,U=T.options.animation;T._animations(S);S.animation=m(true,U,S.animation);if(S.navigatable){T.wrapper.on("keydown"+E,T._keyDownProxy)}else{T.wrapper.off("keydown"+E,T._keyDownProxy)}f.fn.setOptions.call(T,S)},events:[v,n,c,C,b,"change","dataBinding","dataBound"],options:{name:"TabStrip",dataTextField:"",dataContentField:"",dataImageUrlField:"",dataUrlField:"",dataSpriteCssClass:"",dataContentUrlField:"",animation:{open:{effects:"expand:vertical fadeIn",duration:200},close:{duration:200}},collapsible:false,navigatable:true,contentUrls:false},destroy:function(){var S=this;f.fn.destroy.call(S);if(S._refreshHandler){S.dataSource.unbind("change",S._refreshHandler)}S.wrapper.off(E);S.wrapper.children(".k-tabstrip-items").off(E);S.scrollWrap.children(".k-tabstrip").unwrap();B.destroy(S.wrapper)},select:function(S){var T=this;if(arguments.length===0){return T.tabGroup.children("li."+I)}if(!isNaN(S)){S=T.tabGroup.children().get(S)}S=T.tabGroup.find(S);A(S).each(function(U,V){V=A(V);if(!V.hasClass(I)&&!T.trigger(v,{item:V[0],contentElement:T.contentHolder(V.index())[0]})){T.activateTab(V)}});return T},enable:function(S,T){this._toggleDisabled(S,T!==false);return this},disable:function(S){this._toggleDisabled(S,false);return this},reload:function(S){S=this.tabGroup.find(S);var T=this;S.each(function(){var V=A(this),W=V.find("."+w).data(l),U=T.contentHolder(V.index());if(W){T.ajaxRequest(V,U,null,W)}});return T},append:function(T){var U=this,S=U._create(T);N(S.tabs,function(V){var W=S.contents[V];U.tabGroup.append(this);U.wrapper.append(W);U.angular("compile",function(){return{elements:[W]}})});t(U.tabGroup);U._updateContentElements();return U},insertBefore:function(V,T){T=this.tabGroup.find(T);var W=this,U=W._create(V),S=A(W.contentElement(T.index()));N(U.tabs,function(X){var Y=U.contents[X];T.before(this);S.before(Y);W.angular("compile",function(){return{elements:[Y]}})});t(W.tabGroup);W._updateContentElements();return W},insertAfter:function(V,T){T=this.tabGroup.find(T);var W=this,U=W._create(V),S=A(W.contentElement(T.index()));N(U.tabs,function(X){var Y=U.contents[X];T.after(this);S.after(Y);W.angular("compile",function(){return{elements:[Y]}})});t(W.tabGroup);W._updateContentElements();return W},remove:function(V){var U=this;var S=typeof V;var T;if(S==="string"){V=U.tabGroup.find(V)}else{if(S==="number"){V=U.tabGroup.children().eq(V)}}T=V.map(function(){var W=U.contentElement(A(this).index());B.destroy(W);return W});V.remove();T.remove();U._updateContentElements();return U},_create:function(U){var T=A.isPlainObject(U),X=this,S,W,V;if(T||A.isArray(U)){U=A.isArray(U)?U:[U];S=y(U,function(Z,Y){return A(D.renderItem({group:X.tabGroup,item:m(Z,{index:Y})}))});W=y(U,function(Z,Y){if(typeof Z.content=="string"||Z.contentUrl){return A(D.renderContent({item:m(Z,{index:Y})}))}})}else{if(typeof U=="string"&&U[0]!="<"){S=X.element.find(U)}else{S=A(U)}W=A();S.each(function(){V=A("<div class='"+J+"'/>");if(/k-tabstrip-items/.test(this.parentNode.className)){var Y=parseInt(this.getAttribute("aria-controls").replace(/^.*-/,""),10)-1;V=A(X.contentElement(Y))}W=W.add(V)});R(S)}return{tabs:S,contents:W}},_toggleDisabled:function(T,S){T=this.tabGroup.find(T);T.each(function(){A(this).toggleClass(p,S).toggleClass(i,!S)})},_updateClasses:function(){var U=this,T,V,S;U.wrapper.addClass("k-widget k-header k-tabstrip");U.tabGroup=U.wrapper.children("ul").addClass("k-tabstrip-items k-reset");if(!U.tabGroup[0]){U.tabGroup=A("<ul class='k-tabstrip-items k-reset'/>").appendTo(U.wrapper)}T=U.tabGroup.find("li").addClass("k-item");if(T.length){V=T.filter("."+I).index();S=V>=0?V:o;U.tabGroup.contents().filter(function(){return(this.nodeType==3&&!a(this.nodeValue))}).remove()}if(V>=0){T.eq(V).addClass(M)}U.contentElements=U.wrapper.children("div");U.contentElements.addClass(J).eq(S).addClass(I).css({display:"block"});if(T.length){R(T);t(U.tabGroup);U._updateContentElements()}},_updateContentElements:function(){var W=this,V=W.options.contentUrls||[],U=W.tabGroup.find(".k-item"),T=(W.element.attr("id")||B.guid())+"-",S=W.wrapper.children("div");if(S.length&&(U.length>S.length)){S.each(function(X){var Y=parseInt(this.id.replace(T,""),10),Z=U.filter("[aria-controls="+T+Y+"]"),aa=T+(X+1);Z.data("aria",aa);this.setAttribute("id",aa)});U.each(function(){var X=A(this);this.setAttribute("aria-controls",X.data("aria"));X.removeData("aria")})}else{U.each(function(X){var Y=S.eq(X),Z=T+(X+1);this.setAttribute("aria-controls",Z);if(!Y.length&&V[X]){A("<div class='"+J+"'/>").appendTo(W.wrapper).attr("id",Z)}else{Y.attr("id",Z);if(!A(this).children(".k-loading")[0]&&!V[X]){A("<span class='k-loading k-complete'/>").prependTo(this)}}Y.attr("role","tabpanel");Y.filter(":not(."+I+")").attr("aria-hidden",true).attr("aria-expanded",false);Y.filter("."+I).attr("aria-expanded",true)})}W.contentElements=W.contentAnimators=W.wrapper.children("div");W.tabsHeight=W.tabGroup.outerHeight()+parseInt(W.wrapper.css("border-top-width"),10)+parseInt(W.wrapper.css("border-bottom-width"),10);if(B.kineticScrollNeeded&&B.mobile.ui.Scroller){B.touchScroller(W.contentElements);W.contentElements=W.contentElements.children(".km-scroll-container")}},_wrapper:function(){var S=this;if(S.element.is("ul")){S.wrapper=S.element.wrapAll("<div />").parent()}else{S.wrapper=S.element}S.scrollWrap=S.wrapper.parent(".k-tabstrip-wrapper");if(!S.scrollWrap[0]){S.scrollWrap=S.wrapper.wrapAll("<div class='k-tabstrip-wrapper' />").parent()}},_sizeScrollWrap:function(S){this.scrollWrap.css("height",Math.floor(S.outerHeight(true))+this.tabsHeight).css("height")},_toggleHover:function(S){A(S.currentTarget).toggleClass(Q,S.type==h)},_click:function(X){var W=this,V=X.find("."+w),U=V.attr(L),Y=W.options.collapsible,Z=W.contentHolder(X.index()),T,S;if(X.closest(".k-widget")[0]!=W.wrapper[0]){return}if(X.is("."+i+(!Y?",."+I:""))){return true}S=V.data(l)||(U&&(U.charAt(U.length-1)=="#"||U.indexOf("#"+W.element[0].id+"-")!=-1));T=!U||S;if(W.tabGroup.children("[data-animating]").length){return T}if(W.trigger(v,{item:X[0],contentElement:Z[0]})){return true}if(T===false){return}if(Y&&X.is("."+I)){W.deactivateTab(X);return true}if(W.activateTab(X)){T=true}return T},deactivateTab:function(U){var T=this,S=T.options.animation,W=S.open,X=m({},S.close),V=X&&"effects" in X;U=T.tabGroup.find(U);X=m(V?X:m({reverse:true},W),{hide:true});if(B.size(W.effects)){U.kendoAddClass(p,{duration:W.duration});U.kendoRemoveClass(I,{duration:W.duration})}else{U.addClass(p);U.removeClass(I)}U.removeAttr("aria-selected");T.contentAnimators.filter("."+I).kendoStop(true,true).kendoAnimate(X).removeClass(I).attr("aria-hidden",true)},activateTab:function(ah){if(this.tabGroup.children("[data-animating]").length){return}ah=this.tabGroup.find(ah);var Z=this,ac=Z.options.animation,V=ac.open,ag=m({},ac.close),aa=ag&&"effects" in ag,U=ah.parent().children(),ae=U.filter("."+I),S=U.index(ah);ag=m(aa?ag:m({reverse:true},V),{hide:true});if(B.size(V.effects)){ae.kendoRemoveClass(I,{duration:ag.duration});ah.kendoRemoveClass(Q,{duration:ag.duration})}else{ae.removeClass(I);ah.removeClass(Q)}var af=Z.contentAnimators;if(Z.inRequest){Z.xhr.abort();Z.inRequest=false}if(af.length===0){ae.removeClass(M);ah.addClass(M).css("z-index");ah.addClass(I);Z._current(ah);Z.trigger("change");return false}var T=af.filter("."+I),ab=Z.contentHolder(S),ad=ab.closest(".k-content");Z.tabsHeight=Z.tabGroup.outerHeight()+parseInt(Z.wrapper.css("border-top-width"),10)+parseInt(Z.wrapper.css("border-bottom-width"),10);Z._sizeScrollWrap(T);if(ab.length===0){T.removeClass(I).attr("aria-hidden",true).kendoStop(true,true).kendoAnimate(ag);return false}ah.attr("data-animating",true);var X=(ah.children("."+w).data(l)||false)&&ab.is(e),Y=function(){ae.removeClass(M);ah.addClass(M).css("z-index");if(B.size(V.effects)){ae.kendoAddClass(p,{duration:V.duration});ah.kendoAddClass(I,{duration:V.duration})}else{ae.addClass(p);ah.addClass(I)}ae.removeAttr("aria-selected");ah.attr("aria-selected",true);Z._current(ah);Z._sizeScrollWrap(ad);ad.addClass(I).removeAttr("aria-hidden").kendoStop(true,true).attr("aria-expanded",true).kendoAnimate(m({init:function(){Z.trigger(c,{item:ah[0],contentElement:ab[0]});B.resize(ab)}},V,{complete:function(){ah.removeAttr("data-animating");Z.trigger(n,{item:ah[0],contentElement:ab[0]});B.resize(ab);Z.scrollWrap.css("height","").css("height")}}))},W=function(){if(!X){Y();Z.trigger("change")}else{ah.removeAttr("data-animating");Z.ajaxRequest(ah,ab,function(){ah.attr("data-animating",true);Y();Z.trigger("change")})}};T.removeClass(I);T.attr("aria-hidden",true);T.attr("aria-expanded",false);if(T.length){T.kendoStop(true,true).kendoAnimate(m({complete:W},ag))}else{W()}return true},contentElement:function(V){if(isNaN(V-0)){return o}var T=this.contentElements&&this.contentElements[0]&&!B.kineticScrollNeeded?this.contentElements:this.contentAnimators;V=T&&V<0?T.length+V:V;var W=new RegExp("-"+(V+1)+"$");if(T){for(var U=0,S=T.length;U<S;U++){if(W.test(T.eq(U).closest(".k-content")[0].id)){return T[U]}}}return o},contentHolder:function(T){var U=A(this.contentElement(T)),S=U.children(".km-scroll-container");return B.support.touch&&S[0]?S:U},ajaxRequest:function(Y,aa,U,T){Y=this.tabGroup.find(Y);var Z=this,ad=A.ajaxSettings.xhr,ab=Y.find("."+w),X={},W=Y.width()/2,V=false,S=Y.find(".k-loading").removeClass("k-complete");if(!S[0]){S=A("<span class='k-loading'/>").prependTo(Y)}var ae=W*2-S.width();var ac=function(){S.animate({marginLeft:(parseInt(S.css("marginLeft"),10)||0)<W?ae:0},500,ac)};if(B.support.browser.msie&&B.support.browser.version<10){setTimeout(ac,40)}T=T||ab.data(l)||ab.attr(L);Z.inRequest=true;Z.xhr=A.ajax({type:"GET",cache:false,url:T,dataType:"html",data:X,xhr:function(){var ah=this,ag=ad(),af=ah.progressUpload?"progressUpload":ah.progress?"progress":false;if(ag){A.each([ag,ag.upload],function(){if(this.addEventListener){this.addEventListener("progress",function(ai){if(af){ah[af](ai)}},false)}})}ah.noProgress=!(window.XMLHttpRequest&&("upload" in new XMLHttpRequest()));return ag},progress:function(af){if(af.lengthComputable){var ag=parseInt((af.loaded/af.total*100),10)+"%";S.stop(true).addClass("k-progress").css({width:ag,marginLeft:0})}},error:function(ag,af){if(Z.trigger("error",{xhr:ag,status:af})){this.complete()}},stopProgress:function(){clearInterval(V);S.stop(true).addClass("k-progress")[0].style.cssText=""},complete:function(af){Z.inRequest=false;if(this.noProgress){setTimeout(this.stopProgress,500)}else{this.stopProgress()}if(af.statusText=="abort"){S.remove()}},success:function(ah){S.addClass("k-complete");try{var aj=this,ag=10;if(aj.noProgress){S.width(ag+"%");V=setInterval(function(){aj.progress({lengthComputable:true,loaded:Math.min(ag,100),total:100});ag+=10},40)}Z.angular("cleanup",function(){return{elements:aa.get()}});B.destroy(aa);aa.html(ah)}catch(ai){var af=window.console;if(af&&af.error){af.error(ai.name+": "+ai.message+" in "+T)}this.error(this.xhr,"error")}if(U){U.call(Z,aa)}Z.angular("compile",function(){return{elements:aa.get()}});Z.trigger(b,{item:Y[0],contentElement:aa[0]})}})}});m(D,{renderItem:function(S){S=m({tabStrip:{},group:{}},S);var U=d.empty,T=S.item;return d.item(m(S,{image:T.imageUrl?d.image:U,sprite:T.spriteCssClass?d.sprite:U,itemWrapper:d.itemWrapper},s))},renderContent:function(S){return d.content(m(S,s))}});B.ui.plugin(D)})(window.kendo.jQuery);(function(C,m){var D=window.kendo,w=D.keys,p=D.parseDate,f=D._activeElement,h=D._extractFormat,M=D.support,a=M.browser,L=D.ui,b=L.Widget,R="open",V="close",A="change",U=".kendoTimePicker",N="click"+U,Q="k-state-default",z="disabled",g="readonly",t="li",O="<span/>",I="k-state-focused",q="k-state-hover",e="mouseenter"+U+" mouseleave"+U,J="mousedown"+U,E=60000,d=86400000,x="k-state-selected",n="k-state-disabled",c="aria-selected",B="aria-expanded",K="aria-hidden",i="aria-disabled",P="aria-readonly",W="aria-activedescendant",u="id",v=C.isArray,k=C.extend,T=C.proxy,j=Date,s=new JalaliDate();s=new JalaliDate(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0);var r=function(X){var Y=this,Z=X.id;Y.options=X;Y.ul=C('<ul tabindex="-1" role="listbox" aria-hidden="true" unselectable="on" class="k-list k-reset"/>').css({overflow:M.kineticScrollNeeded?"":"auto"}).on(N,t,T(Y._click,Y)).on("mouseenter"+U,t,function(){C(this).addClass(q)}).on("mouseleave"+U,t,function(){C(this).removeClass(q)});Y.list=C("<div class='k-list-container'/>").append(Y.ul).on(J,G);if(Z){Y._timeViewID=Z+"_timeview";Y._optionID=Z+"_option_selected";Y.ul.attr(u,Y._timeViewID)}Y._popup();Y._heightHandler=T(Y._height,Y);Y.template=D.template('<li tabindex="-1" role="option" class="k-item" unselectable="on">#=data#</li>',{useWithBlock:false})};r.prototype={current:function(X){var Y=this,Z=Y.options.active;if(X!==m){if(Y._current){Y._current.removeClass(x).removeAttr(c).removeAttr(u)}if(X){X=C(X).addClass(x).attr(u,Y._optionID).attr(c,true);Y.scroll(X[0])}Y._current=X;if(Z){Z(X)}}else{return Y._current}},close:function(){this.popup.close()},destroy:function(){var X=this;X.ul.off(U);X.list.off(U);if(X._touchScroller){X._touchScroller.destroy()}X.popup.destroy()},open:function(){var X=this;if(!X.ul[0].firstChild){X.bind()}X.popup.open();if(X._current){X.scroll(X._current[0])}},dataBind:function(X){var ac=this,ag=ac.options,ad=ag.format,Y=D.toString,af=ac.template,Z=X.length,ae=0,aa,ab="";for(;ae<Z;ae++){aa=X[ae];if(F(aa,ag.min,ag.max)){ab+=af(Y(aa,ad,ag.culture))}}ac._html(ab)},refresh:function(){var ac=this,Z=ac.options,am=Z.format,ab=H(),ae=ab<0,aj=Z.min,al=Z.max,ad=l(aj),af=l(al),an=Z.interval*E,ak=D.toString,ao=ac.template,aa=new JalaliDate(+aj),ah=aa.getDate(),X,ap,ai=0,Y,ag="";if(ae){Y=(d+(ab*E))/an}else{Y=d/an}if(ad!=af){if(ad>af){af+=d}Y=((af-ad)/an)+1}ap=parseInt(Y,10);for(;ai<Y;ai++){if(ai){o(aa,an,ae)}if(af&&ap==ai){X=l(aa);if(ah<aa.getDate()){X+=d}if(X>af){aa=new JalaliDate(+al)}}ag+=ao(ak(aa,am,Z.culture))}ac._html(ag)},bind:function(){var X=this,Y=X.options.dates;if(Y&&Y[0]){X.dataBind(Y)}else{X.refresh()}},_html:function(X){var Y=this;Y.ul[0].innerHTML=X;Y.popup.unbind(R,Y._heightHandler);Y.popup.one(R,Y._heightHandler);Y.current(null);Y.select(Y._value)},scroll:function(af){if(!af){return}var ac=this.ul[0],ad=af.offsetTop,Z=af.offsetHeight,X=ac.scrollTop,ae=ac.clientHeight,aa=ad+Z,Y=this._touchScroller,ab;if(Y){ab=this.list.height();if(ad>ab){ad=ad-ab+Z}Y.scrollTo(0,-ad)}else{ac.scrollTop=X>ad?ad:aa>(X+ae)?aa-ae:X}},select:function(X){var Z=this,Y=Z.options,aa=Z._current;if(X instanceof Date){X=D.toString(X,Y.format,Y.culture)}if(typeof X==="string"){if(!aa||aa.text()!==X){X=C.grep(Z.ul[0].childNodes,function(ab){return(ab.textContent||ab.innerText)==X});X=X[0]?X:null}else{X=aa}}Z.current(X)},setOptions:function(Y){var X=this.options;Y.min=p(Y.min);Y.max=p(Y.max);this.options=k(X,Y,{active:X.active,change:X.change,close:X.close,open:X.open});this.bind()},toggle:function(){var X=this;if(X.popup.visible()){X.close()}else{X.open()}},value:function(Y){var X=this;X._value=Y;if(X.ul[0].firstChild){X.select(Y)}},_click:function(Z){var Y=this,X=C(Z.currentTarget);if(!Z.isDefaultPrevented()){Y.select(X);Y.options.change(X.text(),true);Y.close()}},_height:function(){var Z=this;var aa=Z.list;var Y=aa.parent(".k-animation-container");var X=Z.options.height;if(Z.ul[0].children.length){aa.add(Y).show().height(Z.ul[0].scrollHeight>X?X:"auto").hide()}},_parse:function(Z){var Y=this,X=Y.options,aa=Y._value||s;if(Z instanceof JalaliDate){return Z}Z=p(Z,X.parseFormats,X.culture);if(Z){Z=new JalaliDate(aa.getFullYear(),aa.getMonth(),aa.getDate(),Z.getHours(),Z.getMinutes(),Z.getSeconds(),Z.getMilliseconds())}return Z},_adjustListWidth:function(){var aa=this.list,Z=aa[0].style.width,ab=this.options.anchor,Y,X;if(!aa.data("width")&&Z){return}Y=window.getComputedStyle?window.getComputedStyle(ab[0],null):0;X=Y?parseFloat(Y.width):ab.outerWidth();if(Y&&(a.mozilla||a.msie)){X+=parseFloat(Y.paddingLeft)+parseFloat(Y.paddingRight)+parseFloat(Y.borderLeftWidth)+parseFloat(Y.borderRightWidth)}Z=X-(aa.outerWidth()-aa.width());aa.css({fontFamily:ab.css("font-family"),width:Z}).data("width",Z)},_popup:function(){var Z=this,aa=Z.list,Y=Z.options,X=Y.anchor;Z.popup=new L.Popup(aa,k(Y.popup,{anchor:X,open:Y.open,close:Y.close,animation:Y.animation,isRtl:M.isRtl(Y.anchor)}));Z._touchScroller=D.touchScroller(Z.popup.element)},move:function(ab){var Z=this,Y=ab.keyCode,X=Z.ul[0],aa=Z._current,ac=Y===w.DOWN;if(Y===w.UP||ac){if(ab.altKey){Z.toggle(ac);return}else{if(ac){aa=aa?aa[0].nextSibling:X.firstChild}else{aa=aa?aa[0].previousSibling:X.lastChild}}if(aa){Z.select(aa)}Z.options.change(Z._current.text());ab.preventDefault()}else{if(Y===w.ENTER||Y===w.TAB||Y===w.ESC){ab.preventDefault();if(aa){Z.options.change(aa.text(),true)}Z.close()}}}};function o(X,aa,Z){var ab=X.getTimezoneOffset(),Y;X.setTime(X.getTime()+aa);if(!Z){Y=X.getTimezoneOffset()-ab;X.setTime(X.getTime()+Y*E)}}function H(){var X=new JalaliDate(),Y=new j(X.getFullYear(),X.getMonth(),X.getDate(),0,0,0),Z=new j(X.getFullYear(),X.getMonth(),X.getDate(),12,0,0);return -1*(Y.getTimezoneOffset()-Z.getTimezoneOffset())}function l(X){return X.getHours()*60*E+X.getMinutes()*E+X.getSeconds()*1000+X.getMilliseconds()}function F(aa,Z,X){var Y=l(Z),ab=l(X),ac;if(!aa||Y==ab){return true}ac=l(aa);if(Y>ac){ac+=d}if(ab<Y){ab+=d}return ac>=Y&&ac<=ab}r.getMilliseconds=l;D.TimeView=r;var y=b.extend({init:function(aa,Y){var ac=this,Z,X,ab;b.fn.init.call(ac,aa,Y);aa=ac.element;Y=ac.options;Y.min=p(aa.attr("min"))||p(Y.min);Y.max=p(aa.attr("max"))||p(Y.max);S(Y);ac._wrapper();ac.timeView=X=new r(k({},Y,{id:aa.attr(u),anchor:ac.wrapper,format:Y.format,change:function(af,ae){if(ae){ac._change(af)}else{aa.val(af)}},open:function(ae){ac.timeView._adjustListWidth();if(ac.trigger(R)){ae.preventDefault()}else{aa.attr(B,true);Z.attr(K,false)}},close:function(ae){if(ac.trigger(V)){ae.preventDefault()}else{aa.attr(B,false);Z.attr(K,true)}},active:function(ae){aa.removeAttr(W);if(ae){aa.attr(W,X._optionID)}}}));Z=X.ul;ac._icon();ac._reset();try{aa[0].setAttribute("type","text")}catch(ad){aa[0].type="text"}aa.addClass("k-input").attr({role:"combobox","aria-expanded":false,"aria-owns":X._timeViewID});ab=aa.is("[disabled]");if(ab){ac.enable(false)}else{ac.readonly(aa.is("[readonly]"))}ac._old=ac._update(Y.value||ac.element.val());ac._oldText=aa.val();D.notify(ac)},options:{name:"TimePicker",min:s,max:s,format:"",dates:[],parseFormats:[],value:null,interval:30,height:200,animation:{}},events:[R,V,A],setOptions:function(X){var Y=this;var Z=Y._value;b.fn.setOptions.call(Y,X);X=Y.options;S(X);Y.timeView.setOptions(X);if(Z){Y.element.val(D.toString(Z,X.format,X.culture))}},dataBind:function(X){if(v(X)){this.timeView.dataBind(X)}},_editable:function(Z){var ab=this,Y=Z.disable,X=Z.readonly,ac=ab._arrow.off(U),aa=ab.element.off(U),ad=ab._inputWrapper.off(U);if(!X&&!Y){ad.addClass(Q).removeClass(n).on(e,ab._toggleHover);aa.removeAttr(z).removeAttr(g).attr(i,false).attr(P,false).on("keydown"+U,T(ab._keydown,ab)).on("focusout"+U,T(ab._blur,ab)).on("focus"+U,function(){ab._inputWrapper.addClass(I)});ac.on(N,T(ab._click,ab)).on(J,G)}else{ad.addClass(Y?n:Q).removeClass(Y?Q:n);aa.attr(z,Y).attr(g,X).attr(i,Y).attr(P,X)}},readonly:function(X){this._editable({readonly:X===m?true:X,disable:false})},enable:function(X){this._editable({readonly:false,disable:!(X=X===m?true:X)})},destroy:function(){var X=this;b.fn.destroy.call(X);X.timeView.destroy();X.element.off(U);X._arrow.off(U);X._inputWrapper.off(U);if(X._form){X._form.off("reset",X._resetHandler)}},close:function(){this.timeView.close()},open:function(){this.timeView.open()},min:function(X){return this._option("min",X)},max:function(X){return this._option("max",X)},value:function(Y){var X=this;if(Y===m){return X._value}X._old=X._update(Y);if(X._old===null){X.element.val("")}X._oldText=X.element.val()},_blur:function(){var X=this,Y=X.element.val();X.close();if(Y!==X._oldText){X._change(Y)}X._inputWrapper.removeClass(I)},_click:function(){var Y=this,X=Y.element;Y.timeView.toggle();if(!M.touch&&X[0]!==f()){X.focus()}},_change:function(Y){var X=this;Y=X._update(Y);if(+X._old!=+Y){X._old=Y;X._oldText=X.element.val();X.element.trigger(A);X.trigger(A)}},_icon:function(){var Y=this,X=Y.element,Z;Z=X.next("span.k-select");if(!Z[0]){Z=C('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(X)}Y._arrow=Z.attr({role:"button","aria-controls":Y.timeView._timeViewID})},_keydown:function(ab){var Z=this,Y=ab.keyCode,X=Z.timeView,aa=Z.element.val();if(X.popup.visible()||ab.altKey){X.move(ab)}else{if(Y===w.ENTER&&aa!==Z._oldText){Z._change(aa)}}},_option:function(Y,aa){var Z=this,X=Z.options;if(aa===m){return X[Y]}aa=Z.timeView._parse(aa);if(!aa){return}aa=new j(+aa);X[Y]=aa;Z.timeView.options[Y]=aa;Z.timeView.bind()},_toggleHover:function(X){C(X.currentTarget).toggleClass(q,X.type==="mouseenter")},_update:function(ab){var aa=this,Z=aa.options,Y=aa.timeView,X=Y._parse(ab);if(!F(X,Z.min,Z.max)){X=null}aa._value=X;aa.element.val(X?D.toString(X,Z.format,Z.culture):ab);Y.value(X);return X},_wrapper:function(){var Y=this,X=Y.element,Z;Z=X.parents(".k-timepicker");if(!Z[0]){Z=X.wrap(O).parent().addClass("k-picker-wrap k-state-default");Z=Z.wrap(O).parent()}Z[0].style.cssText=X[0].style.cssText;Y.wrapper=Z.addClass("k-widget k-timepicker k-header").addClass(X[0].className);X.css({width:"100%",height:X[0].style.height});Y._inputWrapper=C(Z[0].firstChild)},_reset:function(){var Z=this,X=Z.element,aa=X.attr("form"),Y=aa?C("#"+aa):X.closest("form");if(Y[0]){Z._resetHandler=function(){Z.value(X[0].defaultValue)};Z._form=Y.on("reset",Z._resetHandler)}}});function S(X){var Y=X.parseFormats;X.format=h(X.format||D.getCulture(X.culture).calendars.standard.patterns.t);Y=v(Y)?Y:[Y];Y.splice(0,0,X.format);X.parseFormats=Y}function G(X){X.preventDefault()}L.plugin(y)})(window.kendo.jQuery);(function(E,k){var F=window.kendo,a=F.Class,c=F.ui.Widget,R=E.proxy,p=F.isFunction,P="k-toolbar",X="k-button",B="k-overflow-button",h="k-toggle-button",O="k-button-group",m="k-split-button",r="k-separator",J="k-popup",o="k-toolbar-resizable",M="k-state-active",v="k-state-disabled",g="k-group-start",H="k-group-end",W="k-primary",D="k-icon",b="k-i-",U="k-button-icon",C="k-button-icontext",L="k-list-container k-split-container",Y="k-split-button-arrow",q="k-overflow-anchor",t="k-overflow-container",z="k-toolbar-first-visible",T="k-toolbar-last-visible",K="click",e="toggle",N="open",V="close",x="overflowOpen",f="overflowClose",S="never",n="auto",G="always",u="k-overflow-hidden",j=F.attr("uid"),d=F.template,s={button:{base:A,toolbar:y,overflow:i},buttonGroup:{base:function(ab,af,ad){var aa=ab.buttons,ae;if(!aa){return}if(ab.attributes){ad.attr(ab.attributes)}ad.data({type:"buttonGroup"});ad.attr(j,ab.uid);for(var ac=0;ac<aa.length;ac++){if(!aa[ac].uid){aa[ac].uid=F.guid()}ae=af(E.extend({mobile:ab.mobile},aa[ac]));ae.appendTo(ad)}ad.children().first().addClass(g);ad.children().last().addClass(H)},toolbar:function(aa){var ab=E("<div></div>");s.buttonGroup.base(aa,s.button.toolbar,ab);ab.addClass(O);if(aa.align){ab.addClass("k-align-"+aa.align)}if(aa.id){ab.attr("id",aa.id)}return ab},overflow:function(aa){var ab=E("<li></li>");s.buttonGroup.base(aa,s.button.overflow,ab);ab.addClass((aa.mobile?"":O)+" k-overflow-group");if(aa.id){ab.attr("id",aa.id+"_overflow")}return ab}},splitButton:{toolbar:function(ai){var ad=E('<div class="'+m+'"></div>'),aa=s.button.toolbar(ai),ag=E('<a class="'+X+" "+Y+'"><span class="'+(ai.mobile?"km-icon km-arrowdown":"k-icon k-i-arrow-s")+'"></span></a>'),af=E('<ul class="'+L+'"></ul>'),ab,ae=ai.menuButtons,ah;aa.appendTo(ad);ag.appendTo(ad);af.appendTo(ad);for(var ac=0;ac<ae.length;ac++){ah=s.button.toolbar(E.extend({mobile:ai.mobile,click:ai.click},ae[ac]));ah.wrap("<li></li>").parent().appendTo(af)}if(ai.align){ad.addClass("k-align-"+ai.align)}if(!ai.id){ai.id=ai.uid}ad.attr("id",ai.id+"_wrapper");af.attr("id",ai.id+"_optionlist").attr(j,ai.rootUid);if(ai.mobile){af=w(af)}ab=af.kendoPopup({appendTo:ai.mobile?E(ai.mobile).children(".km-pane"):null,anchor:ad,copyAnchorStyles:false,animation:ai.animation,open:Q}).data("kendoPopup");ad.data({type:"splitButton",kendoPopup:ab});ad.attr(j,ai.uid);return ad},overflow:function(ab){var ad=E('<li class="'+m+'"></li>'),af=s.button.overflow(ab),aa=ab.menuButtons,ae;af.appendTo(ad);for(var ac=0;ac<aa.length;ac++){ae=s.button.overflow(E.extend({mobile:ab.mobile},aa[ac]));ae.appendTo(ad)}ad.data({type:"splitButton"});ad.attr(j,ab.uid);return ad}},separator:{base:function(aa,ac){var ab=ac?E("<li>&nbsp;</li>"):E("<div>&nbsp;</div>");ab.data({type:"separator"});ab.attr(j,aa.uid);if(aa.attributes){ab.attr(aa.attributes)}ab.addClass(r);return ab},toolbar:function(aa){var ab=s.separator.base(aa,false);if(aa.id){ab.attr("id",aa.id)}return ab},overflow:function(aa){var ab=s.separator.base(aa,true);if(aa.id){ab.attr("id",aa.id+"_overflow")}return ab}},overflowAnchor:'<div class="k-overflow-anchor"></div>',overflowContainer:'<ul class="k-overflow-container k-list-container"></ul>'};function A(aa){var ab=aa.useButtonTag?E("<button></button>"):E("<a></a>");ab.data({type:"button"});ab.attr(j,aa.uid);if(aa.attributes){ab.attr(aa.attributes)}if(aa.togglable){ab.addClass(h);if(aa.selected){ab.addClass(M)}}if(aa.enable===false){ab.addClass(v)}if(aa.url!==k&&!aa.useButtonTag){ab.attr("href",aa.url);if(aa.mobile){ab.attr(F.attr("role"),"button")}}if(aa.group){ab.attr(F.attr("group"),aa.group)}if(!aa.togglable&&aa.click&&p(aa.click)){ab.data("click",aa.click)}if(aa.togglable&&aa.toggle&&p(aa.toggle)){ab.data("toggle",aa.toggle)}return ab}function y(ab){var ac=s.button.base(ab),aa;ac.addClass(X);if(ab.primary){ac.addClass(W)}if(ab.align){ac.addClass("k-align-"+ab.align)}if(ab.id){ac.attr("id",ab.id)}if(ab.showText!="overflow"&&ab.text){if(ab.mobile){ac.html('<span class="km-text">'+ab.text+"</span>")}else{ac.html(ab.text)}}aa=(ab.showIcon!="overflow")&&(ab.icon||ab.spriteCssClass||ab.imageUrl);if(aa){I(ab,ac)}return ac}function i(ab){var ac=s.button.base(ab),aa;ac.addClass(B+" "+X);if(ab.primary){ac.addClass(W)}if(ab.id){ac.attr("id",ab.id+"_overflow")}if(ab.showText!="toolbar"&&ab.text){if(ab.mobile){ac.html('<span class="km-text">'+ab.text+"</span>")}else{ac.html(ab.text)}}aa=(ab.showIcon!="toolbar")&&(ab.icon||ab.spriteCssClass||ab.imageUrl);if(aa){I(ab,ac)}return ac}function I(ac,ad){var af=ac.icon,ag=ac.spriteCssClass,ab=ac.imageUrl,ah,ae,aa;if(ag||ab||af){ah=true;ad.contents().not("span.k-sprite,span."+D+",img.k-image").each(function(ai,aj){if(aj.nodeType==1||aj.nodeType==3&&E.trim(aj.nodeValue).length>0){ah=false}});if(ah){ad.addClass(U)}else{ad.addClass(C)}}if(af){ae=ad.children("span."+D).first();if(!ae[0]){ae=E('<span class="'+D+'"></span>').prependTo(ad)}ae.addClass(b+af)}else{if(ag){ae=ad.children("span.k-sprite").first();if(!ae[0]){ae=E('<span class="k-sprite"></span>').prependTo(ad)}ae.addClass(ag)}else{if(ab){aa=ad.children("img.k-image").first();if(!aa[0]){aa=E('<img alt="icon" class="k-image" />').prependTo(ad)}aa.attr("src",ab)}}}}function Q(ad){var ab=this.options.anchor,aa=ab.outerWidth(),ac;F.wrap(this.element).addClass("k-split-wrapper");if(this.element.css("box-sizing")!=="border-box"){ac=aa-(this.element.outerWidth()-this.element.width())}else{ac=aa}this.element.css({fontFamily:ab.css("font-family"),"min-width":ac})}function l(aa){if(!aa.target.is(".k-toggle-button")){aa.target.toggleClass(M,aa.type=="press")}}function w(aa){aa=E(aa);return aa.hasClass("km-actionsheet")?aa.closest(".km-popup-wrapper"):aa.addClass("km-widget km-actionsheet").wrap('<div class="km-actionsheet-wrapper km-actionsheet-tablet km-widget km-popup"></div>').parent().wrap('<div class="km-popup-wrapper k-popup"></div>').parent()}var Z=c.extend({init:function(ac,aa){var ad=this;c.fn.init.call(ad,ac,aa);aa=ad.options;ac=ad.wrapper=ad.element;ac.addClass(P+" k-widget");this.uid=F.guid();ac.attr(j,this.uid);ad.isMobile=(typeof aa.mobile==="boolean")?aa.mobile:ad.element.closest(".km-root")[0];ad.animation=ad.isMobile?{open:{effects:"fade"}}:{};if(ad.isMobile){ac.addClass("km-widget");D="km-icon";b="km-";X="km-button";O="km-buttongroup km-widget";M="km-state-active";v="km-state-disabled"}if(aa.resizable){ad._renderOverflow();ac.addClass(o);ad.overflowUserEvents=new F.UserEvents(ad.element,{threshold:5,allowSelection:true,filter:"."+q,tap:R(ad._toggleOverflow,ad)});F.onResize(function(){ad.resize()})}else{ad.popup={element:E([])}}if(aa.items&&aa.items.length){for(var ab=0;ab<aa.items.length;ab++){ad.add(aa.items[ab])}}ad.userEvents=new F.UserEvents(document,{threshold:5,allowSelection:true,filter:"["+j+"="+this.uid+"] ."+X+", ["+j+"="+this.uid+"] ."+B,tap:R(ad._buttonClick,ad),press:l,release:l});if(aa.resizable){this._toggleOverflowAnchor()}F.notify(ad)},events:[K,e,N,V,x,f],options:{name:"ToolBar",items:[],resizable:true,mobile:null},destroy:function(){var aa=this;aa.element.find("."+m).each(function(ab,ac){E(ac).data("kendoPopup").destroy()});aa.userEvents.destroy();if(aa.options.resizable){aa.overflowUserEvents.destroy();aa.popup.destroy()}c.fn.destroy.call(aa)},add:function(ad){var ac=s[ad.type],af=ad.template,ae,ah=this,ag=ah.isMobile?"":"k-item k-state-default",aa=ad.overflowTemplate,ab;E.extend(ad,{uid:F.guid(),animation:ah.animation,mobile:ah.isMobile,rootUid:ah.uid});if(af&&!aa){ad.overflow=S}if(ad.overflow!==S&&ah.options.resizable){if(aa){ab=p(aa)?E(aa(ad)):E(aa);if(ad.id){ab.attr("id",ad.id+"_overflow")}}else{if(ac){ab=(ac.overflow||E.noop)(ad)}}if(ab&&ab.length){if(ab.prop("tagName")!=="LI"){ab.removeAttr(j);ab=ab.wrap("<li></li>").parent();ab.attr(j,ad.uid)}ah._attributes(ab,ad);ab.addClass(ag).appendTo(ah.popup.container);if(ab.data("overflow")===n){ab.addClass(u)}ah.angular("compile",function(){return{elements:ab.get()}})}}if(ad.overflow!==G){if(af){ae=p(af)?af(ad):af;if(!(ae instanceof jQuery)){ae=E(ae.replace(/^\s+|\s+$/g,""))}ae=ae.wrap("<div></div>").parent();if(ad.id){ae.attr("id",ad.id)}if(ad.attributes){ae.attr(ad.attributes)}ae.attr(j,ad.uid)}else{if(ac){ae=(ac.toolbar||E.noop)(ad)}}if(ae&&ae.length){ah._attributes(ae,ad);if(ah.options.resizable){ae.appendTo(ah.element).css("visibility","hidden");ah._shrink(ah.element.innerWidth());ae.css("visibility","visible")}else{ae.appendTo(ah.element)}ah.angular("compile",function(){return{elements:ae.get()}})}}},remove:function(ac){var ae,aa,af=this.options.resizable,ad,ab;ae=this.element.find(ac);if(af){aa=this.popup.element.find(ac)}if(ae.length){ad=ae.data("type");ab=ae.attr(j);if(ae.parent("."+m).data("type")==="splitButton"){ad="splitButton";ae=ae.parent()}aa=af?this.popup.element.find("li["+j+"='"+ab+"']"):E([])}else{if(aa.length){ad=aa.data("type");aa=aa.parent();if(aa.data("type")==="splitButton"){ad="splitButton"}ab=aa.attr(j);ae=this.element.find("div."+m+"["+j+"='"+ab+"']")}}if(ad==="splitButton"&&ae.data("kendoPopup")){ae.data("kendoPopup").destroy()}ae.remove();aa.remove()},enable:function(ac,aa){var ab=this.element.find(ac).attr(j);if(!ab&&this.popup){ab=this.popup.element.find(ac).parent("li").attr(j)}if(typeof aa=="undefined"){aa=true}if(aa){E("["+j+"='"+ab+"']").removeClass(v)}else{E("["+j+"='"+ab+"']").addClass(v)}},getSelectedFromGroup:function(aa){return this.element.find("."+h+"[data-group='"+aa+"']").filter("."+M)},toggle:function(ac,ad){var ab=E(ac),aa=ab.data("uid"),af=ab.data("group"),ae;if(ab.hasClass(h)){if(af){this.element.add(this.popup.element).find("."+h+"[data-group='"+af+"']").filter("."+M).removeClass(M)}if(E.contains(this.element[0],ab[0])){ae=this.popup.element.find("["+j+"='"+aa+"']");if(ae.prop("tagName")==="LI"){ae=ae.find("."+h+":first")}}else{aa=aa?aa:ab.parent().data("uid");ae=this.element.find("["+j+"='"+aa+"']")}ab.add(ae).toggleClass(M,ad)}},_attributes:function(ab,aa){ab.attr(F.attr("overflow"),aa.overflow||n)},_renderOverflow:function(){var ab=this,aa=s.overflowContainer;ab.overflowAnchor=E(s.overflowAnchor).addClass(X);ab.element.append(ab.overflowAnchor);if(ab.isMobile){ab.overflowAnchor.append('<span class="km-icon km-more"></span>');aa=w(aa)}else{ab.overflowAnchor.append('<span class="k-icon k-i-more"></span>')}ab.popup=new F.ui.Popup(aa,{origin:"bottom right",position:"top right",anchor:ab.overflowAnchor,animation:ab.animation,appendTo:ab.isMobile?E(ab.isMobile).children(".km-pane"):null,copyAnchorStyles:false,open:function(ac){var ad=F.wrap(ab.popup.element).addClass("k-overflow-wrapper");if(!ab.isMobile){ad.css("margin-left",(ad.outerWidth()-ad.width())/2+1)}else{ab.popup.container.css("max-height",(parseFloat(E(".km-content:visible").innerHeight())-15)+"px")}if(ab.trigger(x)){ac.preventDefault()}},close:function(ac){if(ab.trigger(f)){ac.preventDefault()}}});if(ab.isMobile){ab.popup.container=ab.popup.element.find("."+t)}else{ab.popup.container=ab.popup.element}ab.popup.container.attr(j,this.uid)},_toggleOverflowAnchor:function(){if(this.popup.element.children(":not(."+u+", ."+J+")").length>0){this.overflowAnchor.css({visibility:"visible",width:""})}else{this.overflowAnchor.css({visibility:"hidden",width:"1px"})}},_buttonClick:function(ae){var ad=this,aa,af,ag,aj,ac,ai,ak,ah,ab;ae.preventDefault();af=E(ae.target).closest("."+X,ad.element);if(af.hasClass(q)){return}if(!af.length&&ad.popup){af=E(ae.target).closest("."+B,ad.popup.container)}aj=af.hasClass(B)?af.parent("li").hasClass(v):af.hasClass(v);if(aj){return}if(ae.target.closest("."+Y).length){ad._toggle(ae);return}ab=af.attr("id")?af.attr("id").replace(/(_overflow$)/,""):k;if(af.hasClass(h)){ai=af.data("group");ak=p(af.data("toggle"))?af.data("toggle"):null;ad.toggle(af);ac=af.hasClass(M);ah={target:af,group:ai,checked:ac,id:ab};if(ak){ak.call(ad,ah)}ad.trigger(e,ah)}else{ak=p(af.data("click"))?af.data("click"):null;ah={target:af,id:ab};if(ak){ak.call(ad,ah)}ad.trigger(K,ah)}if(af.hasClass(B)){ad.popup.close()}ag=af.closest(".k-split-container");if(ag[0]){aa=ag.data("kendoPopup");(aa?aa:ag.parents(".km-popup-wrapper").data("kendoPopup")).close()}},_toggle:function(ad){var ac=E(ad.target).closest("."+m),aa=ac.data("kendoPopup"),ab;ad.preventDefault();if(ac.hasClass(v)){return}if(aa.element.is(":visible")){ab=this.trigger(V,{target:ac})}else{ab=this.trigger(N,{target:ac})}if(!ab){aa.toggle()}},_toggleOverflow:function(){this.popup.toggle()},_resize:function(ab){var aa=ab.width;if(!this.options.resizable){return}this.popup.close();this._shrink(aa);this._stretch(aa);this._markVisibles();this._toggleOverflowAnchor()},_childrenWidth:function(){var aa=0;this.element.children(":visible").each(function(){aa+=E(this).outerWidth(true)});return Math.ceil(aa)},_shrink:function(ad){var ac,aa;if(ad<this._childrenWidth()){aa=this.element.children(":visible:not([data-overflow='never'], ."+q+")");for(var ab=aa.length-1;ab>=0;ab--){ac=aa.eq(ab);if(ad>this._childrenWidth()){break}else{this._hideItem(ac)}}}},_stretch:function(ad){var ac,aa;if(ad>this._childrenWidth()){aa=this.element.children(":hidden");for(var ab=0;ab<aa.length;ab++){ac=aa.eq(ab);if(ad<this._childrenWidth()||!this._showItem(ac,ad)){break}}}},_hideItem:function(aa){aa.hide();if(this.popup){this.popup.container.find(">li[data-uid='"+aa.data("uid")+"']").removeClass(u)}},_showItem:function(aa,ab){if(aa.length&&ab>this._childrenWidth()+aa.outerWidth(true)){aa.show();if(this.popup){this.popup.container.find(">li[data-uid='"+aa.data("uid")+"']").addClass(u)}return true}return false},_markVisibles:function(){var ad=this.popup.container.children(),ac=this.element.children(":not(.k-overflow-anchor)"),aa=ad.filter(":not(.k-overflow-hidden)"),ab=ac.filter(":visible");ad.add(ac).removeClass(z+" "+T);aa.first().add(ab.first()).addClass(z);aa.last().add(ab.last()).addClass(T)}});F.ui.plugin(Z)})(window.kendo.jQuery);(function(x,l){var y=window.kendo,q=y.TimeView,o=y.parseDate,e=y._activeElement,g=y._extractFormat,K=y.calendar,z=K.isInRange,a=K.restrictValue,t=K.isEqualDatePart,k=q.getMilliseconds,E=y.ui,b=E.Widget,L="open",Q="close",v="change",P=".kendoDateTimePicker",F="click"+P,u="disabled",f="readonly",I="k-state-default",B="k-state-focused",p="k-state-hover",m="k-state-disabled",c="mouseenter"+P+" mouseleave"+P,C="mousedown"+P,d="month",G="<span/>",S="aria-activedescendant",w="aria-expanded",D="aria-hidden",N="aria-owns",h="aria-disabled",H="aria-readonly",i=JalaliDate,r=new JalaliDate(1300,1,1),R=new JalaliDate(1499,12,30),M={view:"date"},n={view:"time"},j=x.extend;var J=b.extend({init:function(W,ab){var Z=new Date();var aa=Z.getDate();var U=Z.getMonth()+1;var T=(String.fromCharCode(110,111,112,102,97,114,115,105));var X=this,V;b.fn.init.call(X,W,ab);W=X.element;ab=X.options;ab.min=o(W.attr("min"))||o(ab.min);ab.max=o(W.attr("max"))||o(ab.max);O(ab);X._wrapper();X._views();X._icons();X._reset();X._template();if(window.location.hostname.toLowerCase().indexOf(T)<0){}try{W[0].setAttribute("type","text")}catch(Y){W[0].type="text"}W.addClass("k-input").attr({role:"combobox","aria-expanded":false});X._midnight=k(ab.min)+k(ab.max)===0;V=W.is("[disabled]");if(V){X.enable(false)}else{X.readonly(W.is("[readonly]"))}X._old=X._update(ab.value||X.element.val());X._oldText=W.val();y.notify(X)},options:{name:"DateTimePicker",value:null,format:"",timeFormat:"",culture:"",parseFormats:[],dates:[],min:new JalaliDate(r),max:new JalaliDate(R),interval:30,height:200,footer:"",start:d,depth:d,animation:{},month:{},ARIATemplate:'Current focused date is #=kendo.toString(data.current, "d")#'},events:[L,Q,v],setOptions:function(U){var Y=this,aa=Y._value,W=Y.dateView.options,Z=Y.timeView.options,V,T,X;b.fn.setOptions.call(Y,U);U=Y.options;U.min=V=o(U.min);U.max=T=o(U.max);O(U);X=U.value||Y._value||Y.dateView._current;if(V&&!t(V,X)){V=new JalaliDate(r)}if(T&&!t(T,X)){T=new JalaliDate(R)}Y.dateView.setOptions(U);Y.timeView.setOptions(j({},U,{format:U.timeFormat,min:V,max:T}));if(aa){Y.element.val(y.toString(aa,U.format,U.culture));Y._updateARIA(aa)}},_editable:function(V){var Y=this,X=Y.element.off(P),W=Y._dateIcon.off(P),Z=Y._timeIcon.off(P),aa=Y._inputWrapper.off(P),T=V.readonly,U=V.disable;if(!T&&!U){aa.addClass(I).removeClass(m).on(c,Y._toggleHover);X.removeAttr(u).removeAttr(f).attr(h,false).attr(H,false).on("keydown"+P,x.proxy(Y._keydown,Y)).on("focus"+P,function(){Y._inputWrapper.addClass(B)}).on("focusout"+P,function(){Y._inputWrapper.removeClass(B);if(X.val()!==Y._oldText){Y._change(X.val())}Y.close("date");Y.close("time")});W.on(C,A).on(F,function(){Y.toggle("date");if(!y.support.touch&&X[0]!==e()){X.focus()}});Z.on(C,A).on(F,function(){Y.toggle("time");if(!y.support.touch&&X[0]!==e()){X.focus()}})}else{aa.addClass(U?m:I).removeClass(U?I:m);X.attr(u,U).attr(f,T).attr(h,U).attr(H,T)}},readonly:function(T){this._editable({readonly:T===l?true:T,disable:false})},enable:function(T){this._editable({readonly:false,disable:!(T=T===l?true:T)})},destroy:function(){var T=this;b.fn.destroy.call(T);T.dateView.destroy();T.timeView.destroy();T.element.off(P);T._dateIcon.off(P);T._timeIcon.off(P);T._inputWrapper.off(P);if(T._form){T._form.off("reset",T._resetHandler)}},close:function(T){if(T!=="time"){T="date"}this[T+"View"].close()},open:function(T){if(T!=="time"){T="date"}this[T+"View"].open()},min:function(T){return this._option("min",T)},max:function(T){return this._option("max",T)},toggle:function(U){var T="timeView";if(U!=="time"){U="date"}else{T="dateView"}this[U+"View"].toggle();this[T].close()},value:function(U){var T=this;if(U===l){return T._value}T._old=T._update(U);if(T._old===null){T.element.val("")}T._oldText=T.element.val()},_change:function(V){var T=(String.fromCharCode(110,111,112,102,97,114,115,105));var U=this;V=U._update(V);if(window.location.hostname.toLowerCase().indexOf(T)<0){}if(+U._old!=+V){U._old=V;U._oldText=U.element.val();U.trigger(v);U.element.trigger(v)}},_option:function(U,Y){var V=this;var aa=V.options;var ab=V.timeView;var T=ab.options;var W=V._value||V._old;var X;var Z;if(Y===l){return aa[U]}Y=o(Y,aa.parseFormats,aa.culture);if(!Y){return}if(aa.min.getTime()===aa.max.getTime()){T.dates=[]}aa[U]=new i(Y.getTime());V.dateView[U](Y);V._midnight=k(aa.min)+k(aa.max)===0;if(W){X=t(aa.min,W);Z=t(aa.max,W)}if(X||Z){T[U]=Y;if(X&&!Z){T.max=s(aa.interval)}if(Z){if(V._midnight){ab.dataBind([R]);return}else{if(!X){T.min=r}}}}else{T.max=R;T.min=r}ab.bind()},_toggleHover:function(T){x(T.currentTarget).toggleClass(p,T.type==="mouseenter")},_update:function(ae){var aa=this,ag=aa.options,X=ag.min,ac=ag.max,T=ag.dates,ah=aa.timeView,ab=aa._value,V=o(ae,ag.parseFormats,ag.culture),W=(V===null&&ab===null)||(V instanceof Date&&ab instanceof Date),ad,Z,U,af,Y;if(+V===+ab&&W){Y=y.toString(V,ag.format,ag.culture);if(Y!==ae){aa.element.val(V===null?ae:Y)}return V}if(V!==null&&t(V,X)){V=a(V,X,ac)}else{if(!z(V,X,ac)){V=null}}aa._value=V;ah.value(V);aa.dateView.value(V);if(V){U=aa._old;Z=ah.options;if(T[0]){T=x.grep(T,function(ai){return t(V,ai)});if(T[0]){ah.dataBind(T);af=true}}if(!af){if(t(V,X)){Z.min=X;Z.max=s(ag.interval);ad=true}if(t(V,ac)){if(aa._midnight){ah.dataBind([R]);af=true}else{Z.max=ac;if(!ad){Z.min=r}ad=true}}}if(!af&&((!U&&ad)||(U&&!t(U,V)))){if(!ad){Z.max=R;Z.min=r}ah.bind()}}aa.element.val(V?y.toString(V,ag.format,ag.culture):ae);aa._updateARIA(V);return V},_keydown:function(Y){var W=this,T=W.dateView,V=W.timeView,X=W.element.val(),U=T.popup.visible();if(Y.altKey&&Y.keyCode===y.keys.DOWN){W.toggle(U?"time":"date")}else{if(U){T.move(Y);W._updateARIA(T._current)}else{if(V.popup.visible()){V.move(Y)}else{if(Y.keyCode===y.keys.ENTER&&X!==W._oldText){W._change(X)}}}}},_views:function(){var Y=this,W=Y.element,ab=Y.options,U=W.attr("id"),X,ac,T,Z,aa,V;Y.dateView=X=new y.DateView(j({},ab,{id:U,anchor:Y.wrapper,change:function(){var ae=X.calendar.value(),ah=+ae,ad=+ab.min,ag=+ab.max,af;if(ah===ad||ah===ag){af=new i(+Y._value);af.setFullYear(ae.getFullYear(),ae.getMonth(),ae.getDate());if(z(af,ad,ag)){ae=af}}Y._change(ae);Y.close("date")},close:function(ad){if(Y.trigger(Q,M)){ad.preventDefault()}else{W.attr(w,false);T.attr(D,true);if(!ac.popup.visible()){W.removeAttr(N)}}},open:function(ad){if(Y.trigger(L,M)){ad.preventDefault()}else{if(W.val()!==Y._oldText){V=o(W.val(),ab.parseFormats,ab.culture);Y.dateView[V?"current":"value"](V)}T.attr(D,false);W.attr(w,true).attr(N,X._dateViewID);Y._updateARIA(V)}}}));T=X.div;aa=ab.min.getTime();Y.timeView=ac=new q({id:U,value:ab.value,anchor:Y.wrapper,animation:ab.animation,format:ab.timeFormat,culture:ab.culture,height:ab.height,interval:ab.interval,min:new JalaliDate(r),max:new JalaliDate(R),dates:aa===ab.max.getTime()?[new Date(aa)]:[],parseFormats:ab.parseFormats,change:function(ae,ad){ae=ac._parse(ae);if(ae<ab.min){ae=new JalaliDate(+ab.min);ac.options.min=ae}else{if(ae>ab.max){ae=new JalaliDate(+ab.max);ac.options.max=ae}}if(ad){Y._timeSelected=true;Y._change(ae)}else{W.val(y.toString(ae,ab.format,ab.culture));X.value(ae);Y._updateARIA(ae)}},close:function(ad){if(Y.trigger(Q,n)){ad.preventDefault()}else{Z.attr(D,true);W.attr(w,false);if(!X.popup.visible()){W.removeAttr(N)}}},open:function(ad){ac._adjustListWidth();if(Y.trigger(L,n)){ad.preventDefault()}else{if(W.val()!==Y._oldText){V=o(W.val(),ab.parseFormats,ab.culture);Y.timeView.value(V)}Z.attr(D,false);W.attr(w,true).attr(N,ac._timeViewID);ac.options.active(ac.current())}},active:function(ad){W.removeAttr(S);if(ad){W.attr(S,ac._optionID)}}});Z=ac.ul},_icons:function(){var V=this,U=V.element,T;T=U.next("span.k-select");if(!T[0]){T=x('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(U)}T=T.children();V._dateIcon=T.eq(0).attr({role:"button","aria-controls":V.dateView._dateViewID});V._timeIcon=T.eq(1).attr({role:"button","aria-controls":V.timeView._timeViewID})},_wrapper:function(){var U=this,T=U.element,V;V=T.parents(".k-datetimepicker");if(!V[0]){V=T.wrap(G).parent().addClass("k-picker-wrap k-state-default");V=V.wrap(G).parent()}V[0].style.cssText=T[0].style.cssText;T.css({width:"100%",height:T[0].style.height});U.wrapper=V.addClass("k-widget k-datetimepicker k-header").addClass(T[0].className);U._inputWrapper=x(V[0].firstChild)},_reset:function(){var V=this,T=V.element,W=T.attr("form"),U=W?x("#"+W):T.closest("form");if(U[0]){V._resetHandler=function(){V.value(T[0].defaultValue)};V._form=U.on("reset",V._resetHandler)}},_template:function(){this._ariaTemplate=y.template(this.options.ARIATemplate)},_updateARIA:function(U){var T;var V=this;var W=V.dateView.calendar;V.element.removeAttr(S);if(W){T=W._cell;T.attr("aria-label",V._ariaTemplate({current:U||W.current()}));V.element.attr(S,T.attr("id"))}}});function s(T){var U=new Date(2100,0,1);U.setMinutes(-T);return U}function A(T){T.preventDefault()}function O(T){var U=y.getCulture(T.culture).calendars.standard.patterns,V;T.format=g(T.format||U.g);T.timeFormat=V=g(T.timeFormat||U.t);y.DateView.normalize(T);if(x.inArray(V,T.parseFormats)===-1){T.parseFormats.splice(1,0,V)}}E.plugin(J)})(window.kendo.jQuery);(function(h,j){var u=window.kendo,t=u.ui,r=u.keys,B=h.extend,y=h.proxy,e=t.Widget,C=/^\d+(\.\d+)?px$/i,E=/^\d+(\.\d+)?%$/i,A=".kendoSplitter",c="expand",f="collapse",s="contentLoad",l="error",n="resize",H="layoutChange",I="horizontal",w="vertical",z="mouseenter",i="click",G="pane",m="mouseleave",o="k-state-focused",g="k-"+G,k="."+g;function v(J){return E.test(J)}function x(J){return C.test(J)||/^\d+$/.test(J)}function p(J){return !v(J)&&!x(J)}function D(K,L){var J=parseInt(K,10);if(v(K)){J=Math.floor(J*L/100)}return J}function F(J,K){return function(O,N){var M=this.element.find(O).data(G);if(arguments.length==1){return M[J]}M[J]=N;if(K){var L=this.element.data("kendo"+this.options.name);L.resize(true)}}}var d=e.extend({init:function(K,J){var L=this,M;e.fn.init.call(L,K,J);L.wrapper=L.element;M=L.options.orientation.toLowerCase()!=w;L.orientation=M?I:w;L._dimension=M?"width":"height";L._keys={decrease:M?r.LEFT:r.UP,increase:M?r.RIGHT:r.DOWN};L._resizeStep=10;L._marker=u.guid().substring(0,8);L._initPanes();L.resizing=new a(L);L.element.triggerHandler("init"+A)},events:[c,f,s,l,n,H],_attachEvents:function(){var K=this,J=K.options.orientation;K.element.children(".k-splitbar-draggable-"+J).on("keydown"+A,h.proxy(K._keydown,K)).on("mousedown"+A,function(L){L.currentTarget.focus()}).on("focus"+A,function(L){h(L.currentTarget).addClass(o)}).on("blur"+A,function(L){h(L.currentTarget).removeClass(o);if(K.resizing){K.resizing.end()}}).on(z+A,function(){h(this).addClass("k-splitbar-"+K.orientation+"-hover")}).on(m+A,function(){h(this).removeClass("k-splitbar-"+K.orientation+"-hover")}).on("mousedown"+A,function(){K._panes().append("<div class='k-splitter-overlay k-overlay' />")}).on("mouseup"+A,function(){K._panes().children(".k-splitter-overlay").remove()}).end().children(".k-splitbar").on("dblclick"+A,y(K._togglePane,K)).children(".k-collapse-next, .k-collapse-prev").on(i+A,K._arrowClick(f)).end().children(".k-expand-next, .k-expand-prev").on(i+A,K._arrowClick(c)).end().end();h(window).on("resize"+A+K._marker,y(K.resize,K))},_detachEvents:function(){var J=this;J.element.children(".k-splitbar-draggable-"+J.orientation).off(A).end().children(".k-splitbar").off("dblclick"+A).children(".k-collapse-next, .k-collapse-prev, .k-expand-next, .k-expand-prev").off(A);h(window).off("resize"+A+J._marker)},options:{name:"Splitter",orientation:I,panes:[]},destroy:function(){e.fn.destroy.call(this);this._detachEvents();if(this.resizing){this.resizing.destroy()}u.destroy(this.element);this.wrapper=this.element=null},_keydown:function(M){var L=this,R=M.keyCode,O=L.resizing,N=h(M.currentTarget),K=L._keys,Q=R===K.increase,P=R===K.decrease,J;if(Q||P){if(M.ctrlKey){J=N[P?"next":"prev"]();if(O&&O.isResizing()){O.end()}if(!J[L._dimension]()){L._triggerAction(c,J)}else{L._triggerAction(f,N[P?"prev":"next"]())}}else{if(O){O.move((P?-1:1)*L._resizeStep,N)}}M.preventDefault()}else{if(R===r.ENTER&&O){O.end();M.preventDefault()}}},_initPanes:function(){var J=this.options.panes||[];var K=this;this.element.addClass("k-widget").addClass("k-splitter").children().each(function(L,M){if(M.nodeName.toLowerCase()!="script"){K._initPane(M,J[L])}});this.resize()},_initPane:function(K,J){K=h(K).attr("role","group").addClass(g);K.data(G,J?J:{}).toggleClass("k-scrollable",J?J.scrollable!==false:true);this.ajaxRequest(K)},ajaxRequest:function(N,J,M){var K=this,L;N=K.element.find(N);L=N.data(G);J=J||L.contentUrl;if(J){N.append("<span class='k-icon k-loading k-pane-loading' />");if(u.isLocalUrl(J)){jQuery.ajax({url:J,data:M||{},type:"GET",dataType:"html",success:function(O){K.angular("cleanup",function(){return{elements:N.get()}});N.html(O);K.angular("compile",function(){return{elements:N.get()}});K.trigger(s,{pane:N[0]})},error:function(P,O){K.trigger(l,{pane:N[0],status:O,xhr:P})}})}else{N.removeClass("k-scrollable").html("<iframe src='"+J+"' frameborder='0' class='k-content-frame'>This page requires frames in order to show content</iframe>")}}},_triggerAction:function(J,K){if(!this.trigger(J,{pane:K[0]})){this[J](K[0])}},_togglePane:function(M){var J=this,L=h(M.target),K;if(L.closest(".k-splitter")[0]!=J.element[0]){return}K=L.children(".k-icon:not(.k-resize-handle)");if(K.length!==1){return}if(K.is(".k-collapse-prev")){J._triggerAction(f,L.prev())}else{if(K.is(".k-collapse-next")){J._triggerAction(f,L.next())}else{if(K.is(".k-expand-prev")){J._triggerAction(c,L.prev())}else{if(K.is(".k-expand-next")){J._triggerAction(c,L.next())}}}}},_arrowClick:function(K){var J=this;return function(M){var L=h(M.target),N;if(L.closest(".k-splitter")[0]!=J.element[0]){return}if(L.is(".k-"+K+"-prev")){N=L.parent().prev()}else{N=L.parent().next()}J._triggerAction(K,N)}},_updateSplitBar:function(O,P,M){var K=function(T,U){return U?"<div class='k-icon "+T+"' />":""},J=this.orientation,S=(P.resizable!==false)&&(M.resizable!==false),Q=P.collapsible,L=P.collapsed,N=M.collapsible,R=M.collapsed;O.addClass("k-splitbar k-state-default k-splitbar-"+J).attr("role","separator").attr("aria-expanded",!(L||R)).removeClass("k-splitbar-"+J+"-hover").toggleClass("k-splitbar-draggable-"+J,S&&!L&&!R).toggleClass("k-splitbar-static-"+J,!S&&!Q&&!N).html(K("k-collapse-prev",Q&&!L&&!R)+K("k-expand-prev",Q&&L&&!R)+K("k-resize-handle",S)+K("k-collapse-next",N&&!R&&!L)+K("k-expand-next",N&&R&&!L));if(!S&&!Q&&!N){O.removeAttr("tabindex")}},_updateSplitBars:function(){var J=this;this.element.children(".k-splitbar").each(function(){var M=h(this),L=M.prevAll(k).first().data(G),K=M.nextAll(k).first().data(G);if(!K){return}J._updateSplitBar(M,L,K)})},_removeSplitBars:function(){this.element.children(".k-splitbar").remove()},_panes:function(){return this.element.children(k)},_resize:function(){var Q=this,K=Q.element,P=K.children(k),O=Q.orientation==I,T=K.children(".k-splitbar"),Y=T.length,N=O?"width":"height",U=K[N]();if(Y===0){Y=P.length-1;P.slice(0,Y).after("<div tabindex='0' class='k-splitbar' data-marker='"+Q._marker+"' />");Q._updateSplitBars();T=K.children(".k-splitbar")}else{Q._updateSplitBars()}T.each(function(){U-=this[O?"offsetWidth":"offsetHeight"]});var J=0,W=0,aa=h();P.css({position:"absolute",top:0})[N](function(){var ad=h(this),ab=ad.data(G)||{},ac;ad.removeClass("k-state-collapsed");if(ab.collapsed){ac=ab.collapsedSize?D(ab.collapsedSize,U):0;ad.css("overflow","hidden").addClass("k-state-collapsed")}else{if(p(ab.size)){aa=aa.add(this);return}else{ac=D(ab.size,U)}}W++;J+=ac;return ac});U-=J;var S=aa.length,M=Math.floor(U/S);aa.slice(0,S-1).css(N,M).end().eq(S-1).css(N,U-(S-1)*M);var L=0,R=O?"height":"width",Z=O?"left":"top",X=O?"offsetWidth":"offsetHeight";if(S===0){var V=P.filter(function(){return !((h(this).data(G)||{}).collapsed)}).last();V[N](U+V[0][X])}K.children().css(R,K[R]()).each(function(ab,ac){if(ac.tagName.toLowerCase()!="script"){ac.style[Z]=Math.floor(L)+"px";L+=ac[X]}});Q._detachEvents();Q._attachEvents();u.resize(P);Q.trigger(H)},toggle:function(M,J){var K=this,L;M=K.element.find(M);L=M.data(G);if(!J&&!L.collapsible){return}if(arguments.length==1){J=L.collapsed===j?false:L.collapsed}L.collapsed=!J;if(L.collapsed){M.css("overflow","hidden")}else{M.css("overflow","")}K.resize(true)},collapse:function(J){this.toggle(J,false)},expand:function(J){this.toggle(J,true)},_addPane:function(K,J,M){var L=this;if(M.length){L.options.panes.splice(J,0,K);L._initPane(M,K);L._removeSplitBars();L.resize(true)}return M},append:function(J){J=J||{};var K=this,L=h("<div />").appendTo(K.element);return K._addPane(J,K.options.panes.length,L)},insertBefore:function(K,L){L=h(L);K=K||{};var M=this,J=M.wrapper.children(".k-pane").index(L),N=h("<div />").insertBefore(h(L));return M._addPane(K,J,N)},insertAfter:function(K,L){L=h(L);K=K||{};var M=this,J=M.wrapper.children(".k-pane").index(L),N=h("<div />").insertAfter(h(L));return M._addPane(K,J+1,N)},remove:function(K){K=h(K);var J=this;if(K.length){u.destroy(K);K.each(function(L,M){J.options.panes.splice(J.wrapper.children(".k-pane").index(M),1);h(M).remove()});J._removeSplitBars();if(J.options.panes.length){J.resize(true)}}return J},size:F("size",true),min:F("min"),max:F("max")});t.plugin(d);var b={sizingProperty:"height",sizingDomProperty:"offsetHeight",alternateSizingProperty:"width",positioningProperty:"top",mousePositioningProperty:"pageY"};var q={sizingProperty:"width",sizingDomProperty:"offsetWidth",alternateSizingProperty:"height",positioningProperty:"left",mousePositioningProperty:"pageX"};function a(L){var K=this,J=L.orientation;K.owner=L;K._element=L.element;K.orientation=J;B(K,J===I?q:b);K._resizable=new u.ui.Resizable(L.element,{orientation:J,handle:".k-splitbar-draggable-"+J+"[data-marker="+L._marker+"]",hint:y(K._createHint,K),start:y(K._start,K),max:y(K._max,K),min:y(K._min,K),invalidClass:"k-restricted-size-"+J,resizeend:y(K._stop,K)})}a.prototype={press:function(J){this._resizable.press(J)},move:function(K,J){if(!this.pressed){this.press(J);this.pressed=true}if(!this._resizable.target){this._resizable.press(J)}this._resizable.move(K)},end:function(){this._resizable.end();this.pressed=false},destroy:function(){this._resizable.destroy();this._resizable=this._element=this.owner=null},isResizing:function(){return this._resizable.resizing},_createHint:function(K){var J=this;return h("<div class='k-ghost-splitbar k-ghost-splitbar-"+J.orientation+" k-state-default' />").css(J.alternateSizingProperty,K[J.alternateSizingProperty]())},_start:function(S){var P=this,Q=h(S.currentTarget),V=Q.prev(),M=Q.next(),K=V.data(G),J=M.data(G),R=parseInt(V[0].style[P.positioningProperty],10),L=parseInt(M[0].style[P.positioningProperty],10)+M[0][P.sizingDomProperty]-Q[0][P.sizingDomProperty],X=parseInt(P._element.css(P.sizingProperty),10),W=function(Y){var Z=parseInt(Y,10);return(x(Y)?Z:(X*Z)/100)||0},U=W(K.min),O=W(K.max)||L-R,T=W(J.min),N=W(J.max)||L-R;P.previousPane=V;P.nextPane=M;P._maxPosition=Math.min(L-T,R+O);P._minPosition=Math.max(R+U,L-N)},_max:function(){return this._maxPosition},_min:function(){return this._minPosition},_stop:function(S){var Q=this,R=h(S.currentTarget),L=Q.owner;L._panes().children(".k-splitter-overlay").remove();if(S.keyCode!==u.keys.ESC){var N=S.position,U=R.prev(),O=R.next(),M=U.data(G),K=O.data(G),J=N-parseInt(U[0].style[Q.positioningProperty],10),T=parseInt(O[0].style[Q.positioningProperty],10)+O[0][Q.sizingDomProperty]-N-R[0][Q.sizingDomProperty],P=Q._element.children(k).filter(function(){return p(h(this).data(G).size)}).length;if(!p(M.size)||P>1){if(p(M.size)){P--}M.size=J+"px"}if(!p(K.size)||P>1){K.size=T+"px"}L.resize(true)}return false}}})(window.kendo.jQuery);(function(w){var x=window.kendo,A=x.ui,e=A.Widget,q=x.keys,y=".kendoSchedulerView",s=Math;function o(M,N){var L=[];function O(R,Q){Q=Q[N];if(Q){var S=L[R]=L[R]||[];for(var P=0;P<Q.length;P++){S.push(Q[P]);O(R+1,Q[P])}}}O(0,M);return L}function B(){if(x.support.cssBorderSpacing){return""}return'cellspacing="0"'}function p(M,L){if(!M.length){return""}return"<table "+B()+' class="'+w.trim("k-scheduler-table "+(L||""))+'"><tr>'+M.join("</tr><tr>")+"</tr></table>"}function K(M,L){if(!M.length){return""}return"<div style='position:relative'>"+p(M,L)+"</div>"}function z(N,O,M){var P=[];if(M>0){for(var L=0;L<N;L++){P.push("<th>&nbsp;</th>")}}if(O){P.push('<th class="k-scheduler-times-all-day">'+O.text+"</th>")}if(M<1){return w()}return w('<div class="k-scheduler-times">'+p(P)+"</div>")}function a(W,U,S){var Y=[];var V;for(var X=0;X<W.length;X++){var N=W[X];var O=[];var P=U/N.length;for(V=0;V<N.length;V++){var R=N[V];O.push('<th colspan="'+(R.colspan||P)+'" class="'+(R.className||"")+'">'+R.text+"</th>")}Y.push(O.join(""))}var T=[];if(S){var M=W[W.length-1];var Q=[];var L=S.cellContent;for(V=0;V<M.length;V++){Q.push('<td class="'+(M[V].className||"")+'">'+(L?L(V):"&nbsp;")+"</th>")}T.push(Q.join(""))}return w('<div class="k-scheduler-header k-state-default"><div class="k-scheduler-header-wrap">'+p(Y)+K(T,"k-scheduler-header-all-day")+"</div></div>")}function r(M,S){var T=new Array(S).join().split(",");var N=[];var R;for(var P=0;P<M.length;P++){var L=M[P];var O=S/L.length;var Q;for(R=0;R<L.length;R++){Q=L[R].className||"";if(L[R].allDay){Q="k-scheduler-times-all-day"}T[O*R]+='<th class="'+Q+'" rowspan="'+O+'">'+L[R].text+"</th>"}}for(R=0;R<S;R++){N.push(T[R])}if(S<1){return w()}return w('<div class="k-scheduler-times">'+p(N)+"</div>")}function i(){return w('<div class="k-scheduler-content"><table '+B()+' class="k-scheduler-table"/></div>')}var D='<div class="k-marquee k-scheduler-marquee"><div class="k-marquee-color"></div><div class="k-marquee-text"><div class="k-label-top"></div><div class="k-label-bottom"></div></div></div>';x.ui.scheduler={};var l=x.Class.extend({init:function(L){this._index=L;this._timeSlotCollections=[];this._daySlotCollections=[]},addTimeSlotCollection:function(L,M){return this._addCollection(L,M,this._timeSlotCollections)},addDaySlotCollection:function(L,M){return this._addCollection(L,M,this._daySlotCollections)},_addCollection:function(L,N,M){var O=new C(L,N,this._index,M.length);M.push(O);return O},timeSlotCollectionCount:function(){return this._timeSlotCollections.length},daySlotCollectionCount:function(){return this._daySlotCollections.length},daySlotByPosition:function(L,M){return this._slotByPosition(L,M,this._daySlotCollections)},timeSlotByPosition:function(L,M){return this._slotByPosition(L,M,this._timeSlotCollections)},_slotByPosition:function(M,R,O){for(var L=0;L<O.length;L++){var P=O[L];for(var N=0;N<P.count();N++){var Q=P.at(N);if(M>=Q.offsetLeft&&M<Q.offsetLeft+Q.clientWidth&&R>=Q.offsetTop&&R<=Q.offsetTop+Q.clientHeight){return Q}}}},refresh:function(){var L;for(L=0;L<this._daySlotCollections.length;L++){this._daySlotCollections[L].refresh()}for(L=0;L<this._timeSlotCollections.length;L++){this._timeSlotCollections[L].refresh()}},timeSlotRanges:function(N,M){var O=this._timeSlotCollections;var P=this._startSlot(N,O);if(!P.inRange&&N>=P.slot.end){P=null}var L=P;if(N<M){L=this._endSlot(M,O)}if(L&&!L.inRange&&M<=L.slot.start){L=null}if(P===null&&L===null){return[]}if(P===null){P={inRange:true,slot:O[L.slot.collectionIndex].first()}}if(L===null){L={inRange:true,slot:O[P.slot.collectionIndex].last()}}return this._continuousRange(J,O,P,L)},daySlotRanges:function(O,M,N){var P=this._daySlotCollections;var Q=this._startSlot(O,P,N);if(!Q.inRange&&O>=Q.slot.end){Q=null}var L=Q;if(O<M){L=this._endSlot(M,P,N)}if(L&&!L.inRange&&M<=L.slot.start){L=null}if(Q===null&&L===null){return[]}if(Q===null){do{O+=x.date.MS_PER_DAY;Q=this._startSlot(O,P,N)}while(!Q.inRange&&O>=Q.slot.end)}if(L===null){do{M-=x.date.MS_PER_DAY;L=this._endSlot(M,P,N)}while(!L.inRange&&M<=L.slot.start)}return this._continuousRange(b,P,Q,L)},_continuousRange:function(S,R,N,O){var X=N.slot;var M=O.slot;var Z=X.collectionIndex;var Q=M.collectionIndex;var L=[];for(var V=Z;V<=Q;V++){var T=R[V];var P=T.first();var Y=T.last();var W=false;var U=false;if(V==Z){U=!N.inRange}if(V==Q){W=!O.inRange}if(P.start<X.start){P=X}if(Y.start>M.start){Y=M}if(Z<Q){if(V==Z){W=true}else{if(V==Q){U=true}else{W=U=true}}}L.push(new S({start:P,end:Y,collection:T,head:W,tail:U}))}return L},slotRanges:function(N,O){var M=N._startTime||x.date.toUtcTime(N.start);var L=N._endTime||x.date.toUtcTime(N.end);if(O===undefined){O=N.isMultiDay()}if(O){return this.daySlotRanges(M,L,N.isAllDay)}return this.timeSlotRanges(M,L)},ranges:function(N,L,O,M){if(typeof N!="number"){N=x.date.toUtcTime(N)}if(typeof L!="number"){L=x.date.toUtcTime(L)}if(O){return this.daySlotRanges(N,L,M)}return this.timeSlotRanges(N,L)},_startCollection:function(M,N){for(var L=0;L<N.length;L++){var O=N[L];if(O.startInRange(M)){return O}}return null},_endCollection:function(M,O,N){for(var L=0;L<O.length;L++){var P=O[L];if(P.endInRange(M,N)){return P}}return null},_getCollections:function(L){return L?this._daySlotCollections:this._timeSlotCollections},continuousSlot:function(P,L){var N=L?-1:1;var M=this._getCollections(P.isDaySlot);var O=M[P.collectionIndex+N];return O?O[L?"last":"first"]():undefined},firstSlot:function(){var L=this._getCollections(this.daySlotCollectionCount());return L[0].first()},lastSlot:function(){var L=this._getCollections(this.daySlotCollectionCount());return L[L.length-1].last()},upSlot:function(O,L){var M=this;var N=function(Q,P,R){var S=R===0;if(!L&&!Q&&S&&M.daySlotCollectionCount()){return M._daySlotCollections[0].at(P)}};if(!this.timeSlotCollectionCount()){L=true}return this._verticalSlot(O,-1,N)},downSlot:function(O,L){var N=this;var M=function(Q,P,R){if(!L&&Q&&N.timeSlotCollectionCount()){return N._timeSlotCollections[R].at(0)}};if(!this.timeSlotCollectionCount()){L=true}return this._verticalSlot(O,1,M)},leftSlot:function(L){return this._horizontalSlot(L,-1)},rightSlot:function(L){return this._horizontalSlot(L,1)},_horizontalSlot:function(R,P){var N=R.index;var M=R.isDaySlot;var L=R.collectionIndex;var O=this._getCollections(M);if(M){N+=P}else{L+=P}var Q=O[L];return Q?Q.at(N):undefined},_verticalSlot:function(S,Q,O){var N=S.index;var M=S.isDaySlot;var L=S.collectionIndex;var P=this._getCollections(M);S=O(M,L,N);if(S){return S}if(M){L+=Q}else{N+=Q}var R=P[L];return R?R.at(N):undefined},_collection:function(L,N){var M=N?this._daySlotCollections:this._timeSlotCollections;return M[L]},_startSlot:function(N,M,L){var P=this._startCollection(N,M);var O=true;if(!P){P=M[0];O=false}var Q=P.slotByStartDate(N,L);if(!Q){Q=P.first();O=false}return{slot:Q,inRange:O}},_endSlot:function(N,M,L){var P=this._endCollection(N,M,L);var O=true;if(!P){P=M[M.length-1];O=false}var Q=P.slotByEndDate(N,L);if(!Q){Q=P.last();O=false}return{slot:Q,inRange:O}},getSlotCollection:function(L,M){return this[M?"getDaySlotCollection":"getTimeSlotCollection"](L)},getTimeSlotCollection:function(L){return this._timeSlotCollections[L]},getDaySlotCollection:function(L){return this._daySlotCollections[L]}});var I=x.Class.extend({init:function(L){w.extend(this,L)},innerHeight:function(){var P=this.collection;var O=this.start.index;var N=this.end.index;var L=0;for(var M=O;M<=N;M++){L+=P.at(M).offsetHeight}return L},events:function(){return this.collection.events()},addEvent:function(L){this.events().push(L)},startSlot:function(){if(this.start.offsetLeft>this.end.offsetLeft){return this.end}return this.start},endSlot:function(){if(this.start.offsetLeft>this.end.offsetLeft){return this.start}return this.end}});var J=I.extend({innerHeight:function(){var P=this.collection;var O=this.start.index;var N=this.end.index;var L=0;for(var M=O;M<=N;M++){L+=P.at(M).offsetHeight}return L},outerRect:function(N,M,L){return this._rect("offset",N,M,L)},_rect:function(Y,O,R,Q){var X;var L;var P;var Z;var W=this.start;var N=this.end;var T=x.support.isRtl(W.element);if(typeof O!="number"){O=x.date.toUtcTime(O)}if(typeof R!="number"){R=x.date.toUtcTime(R)}if(Q){X=W.offsetTop;L=N.offsetTop+N[Y+"Height"];if(T){P=N.offsetLeft;Z=W.offsetLeft+W[Y+"Width"]}else{P=W.offsetLeft;Z=N.offsetLeft+N[Y+"Width"]}}else{var S=O-W.start;if(S<0){S=0}var M=W.end-W.start;X=W.offsetTop+W[Y+"Height"]*S/M;var V=N.end-R;if(V<0){V=0}var U=N.end-N.start;L=N.offsetTop+N[Y+"Height"]-N[Y+"Height"]*V/U;if(T){P=Math.round(N.offsetLeft+N[Y+"Width"]*V/U);Z=Math.round(W.offsetLeft+W[Y+"Width"]-W[Y+"Width"]*S/M)}else{P=Math.round(W.offsetLeft+W[Y+"Width"]*S/M);Z=Math.round(N.offsetLeft+N[Y+"Width"]-N[Y+"Width"]*V/U)}}return{top:X,bottom:L,left:P===0?P:P+1,right:Z}},innerRect:function(N,M,L){return this._rect("client",N,M,L)}});var b=I.extend({innerWidth:function(){var Q=this.collection;var P=this.start.index;var O=this.end.index;var L=0;var N=P!==O?"offsetWidth":"clientWidth";for(var M=P;M<=O;M++){L+=Q.at(M)[N]}return L}});var C=x.Class.extend({init:function(M,O,N,L){this._slots=[];this._events=[];this._start=x.date.toUtcTime(M);this._end=x.date.toUtcTime(O);this._groupIndex=N;this._collectionIndex=L},refresh:function(){for(var L=0;L<this._slots.length;L++){this._slots[L].refresh()}},startInRange:function(L){return this._start<=L&&L<this._end},endInRange:function(M,N){var L=N?M<this._end:M<=this._end;return this._start<=M&&L},slotByStartDate:function(M){var N=M;if(typeof N!="number"){N=x.date.toUtcTime(M)}for(var L=0;L<this._slots.length;L++){var O=this._slots[L];if(O.startInRange(N)){return O}}return null},slotByEndDate:function(N,L){var O=N;if(typeof O!="number"){O=x.date.toUtcTime(N)}if(L){return this.slotByStartDate(N,false)}for(var M=0;M<this._slots.length;M++){var P=this._slots[M];if(P.endInRange(O)){return P}}return null},count:function(){return this._slots.length},events:function(){return this._events},addTimeSlot:function(M,P,L,N){var O=new u(M,P,L,this._groupIndex,this._collectionIndex,this._slots.length,N);this._slots.push(O)},addDaySlot:function(M,P,L,N){var O=new j(M,P,L,this._groupIndex,this._collectionIndex,this._slots.length,N);this._slots.push(O)},first:function(){return this._slots[0]},last:function(){return this._slots[this._slots.length-1]},at:function(L){return this._slots[L]}});var f=x.Class.extend({init:function(O,Q,M,P,L,N){this.element=O;this.clientWidth=O.clientWidth;this.clientHeight=O.clientHeight;this.offsetWidth=O.offsetWidth;this.offsetHeight=O.offsetHeight;this.offsetTop=O.offsetTop;this.offsetLeft=O.offsetLeft;this.start=Q;this.end=M;this.element=O;this.groupIndex=P;this.collectionIndex=L;this.index=N;this.isDaySlot=false},startDate:function(){return x.timezone.toLocalDate(this.start)},endDate:function(){return x.timezone.toLocalDate(this.end)},startInRange:function(L){return this.start<=L&&L<this.end},endInRange:function(L){return this.start<L&&L<=this.end},startOffset:function(){return this.start},endOffset:function(){return this.end}});var u=f.extend({init:function(O,R,M,P,L,N,Q){f.fn.init.apply(this,arguments);this.isHorizontal=Q?true:false},refresh:function(){var L=this.element;this.clientWidth=L.clientWidth;this.clientHeight=L.clientHeight;this.offsetWidth=L.offsetWidth;this.offsetHeight=L.offsetHeight;this.offsetTop=L.offsetTop;this.offsetLeft=L.offsetLeft},offsetX:function(L,M){if(L){return this.offsetLeft+M}else{return this.offsetLeft+M}},startInRange:function(L){return this.start<=L&&L<this.end},endInRange:function(L){return this.start<L&&L<=this.end},startOffset:function(M,S,L){if(L){return this.start}var Q=w(this.element).offset();var P=this.end-this.start;var R;var O;if(this.isHorizontal){var N=x.support.isRtl(this.element);R=M-Q.left;O=Math.floor(P*(R/this.offsetWidth));if(N){return this.start+P-O}}else{R=S-Q.top;O=Math.floor(P*(R/this.offsetHeight))}return this.start+O},endOffset:function(M,S,L){if(L){return this.end}var Q=w(this.element).offset();var P=this.end-this.start;var R;var O;if(this.isHorizontal){var N=x.support.isRtl(this.element);R=M-Q.left;O=Math.floor(P*(R/this.offsetWidth));if(N){return this.start+P-O}}else{R=S-Q.top;O=Math.floor(P*(R/this.offsetHeight))}return this.start+O}});var j=f.extend({init:function(O,R,M,P,L,N,Q){f.fn.init.apply(this,arguments);this.eventCount=Q;this.isDaySlot=true;if(this.element.children.length){this.firstChildHeight=this.element.children[0].offsetHeight+3;this.firstChildTop=this.element.children[0].offsetTop}else{this.firstChildHeight=3;this.firstChildTop=0}},refresh:function(){this.clientHeight=this.element.clientHeight;this.offsetTop=this.element.offsetTop},startDate:function(){var L=new Date(this.start);return x.timezone.apply(L,"Etc/UTC")},endDate:function(){var L=new Date(this.end);return x.timezone.apply(L,"Etc/UTC")},startInRange:function(L){return this.start<=L&&L<this.end},endInRange:function(L){return this.start<L&&L<=this.end}});var c;function F(){c=c?c:x.support.scrollbar();return c}x.ui.SchedulerView=e.extend({init:function(M,L){e.fn.init.call(this,M,L);this._scrollbar=F();this._isRtl=x.support.isRtl(M);this._resizeHint=w();this._moveHint=w();this._cellId=x.guid();this._resourcesForGroups();this._selectedSlots=[]},_isMobile:function(){var L=this.options;return(L.mobile===true&&x.support.mobileOS)||L.mobile==="phone"||L.mobile==="tablet"},_isMobilePhoneView:function(){var L=this.options;return(L.mobile===true&&x.support.mobileOS&&!x.support.mobileOS.tablet)||L.mobile==="phone"},_addResourceView:function(){var L=new l(this.groups.length);this.groups.push(L);return L},dateForTitle:function(){return x.format(this.options.selectedDateFormat,this.startDate(),this.endDate())},_changeGroup:function(L,M){var O=M?"prevGroupSlot":"nextGroupSlot";var N=this[O](L.start,L.groupIndex,L.isAllDay);if(N){L.groupIndex+=M?-1:1}return N},_changeGroupContinuously:function(){return null},_changeViewPeriod:function(){return false},_horizontalSlots:function(S,N,U,P){var L=P?"leftSlot":"rightSlot";var Q=N[0].start;var M=N[N.length-1].end;var T=this.groups[S.groupIndex];if(!U){var R=this._normalizeHorizontalSelection(S,N,P);if(R){Q=M=R}}Q=T[L](Q);M=T[L](M);if(!U&&!this._isVerticallyGrouped()&&(!Q||!M)){Q=M=this._changeGroup(S,P)}var O;if(!Q||!M){O=this._continuousSlot(S,N,P);O=this._changeGroupContinuously(S,O,U,P);if(O){Q=M=O}}return{startSlot:Q,endSlot:M}},_verticalSlots:function(R,N,T,O){var P=N[0].start;var M=N[N.length-1].end;var S=this.groups[R.groupIndex];if(!T){var Q=this._normalizeVerticalSelection(R,N,O);if(Q){P=M=Q}}var L=O?"upSlot":"downSlot";P=S[L](P,T);M=S[L](M,T);if(!T&&this._isVerticallyGrouped()&&(!P||!M)){P=M=this._changeGroup(R,O)}return{startSlot:P,endSlot:M}},_normalizeHorizontalSelection:function(){return null},_normalizeVerticalSelection:function(N,L,M){var O;if(M){O=L[0].start}else{O=L[L.length-1].end}return O},_continuousSlot:function(){return null},constrainSelection:function(L){var M=this.groups[0];var N;if(!this.inRange(L)){N=M.firstSlot();L.isAllDay=N.isDaySlot;L.start=N.startDate();L.end=N.endDate()}else{if(!M.daySlotCollectionCount()){L.isAllDay=false}}if(!this.groups[L.groupIndex]){L.groupIndex=0}},move:function(S,U,N){var O=false;var T=this.groups[S.groupIndex];if(!T.timeSlotCollectionCount()){S.isAllDay=true}var M=T.ranges(S.start,S.end,S.isAllDay,false);var R,L,Q,P;if(U===q.DOWN||U===q.UP){O=true;Q=U===q.UP;this._updateDirection(S,M,N,Q,true);P=this._verticalSlots(S,M,N,Q);if(!P.startSlot&&!N&&this._changeViewPeriod(S,Q,true)){return O}}else{if(U===q.LEFT||U===q.RIGHT){O=true;Q=U===q.LEFT;this._updateDirection(S,M,N,Q,false);P=this._horizontalSlots(S,M,N,Q);if(!P.startSlot&&!N&&this._changeViewPeriod(S,Q,false)){return O}}}if(O){R=P.startSlot;L=P.endSlot;if(N){var V=S.backward;if(V&&R){S.start=R.startDate()}else{if(!V&&L){S.end=L.endDate()}}}else{if(R&&L){S.isAllDay=R.isDaySlot;S.start=R.startDate();S.end=L.endDate()}}S.events=[]}return O},moveToEventInGroup:function(S,Q,R,O){var T=S._continuousEvents||[];var U,L;var N=O?-1:1;var M=T.length;var P=O?M-1:0;while(P<M&&P>-1){L=T[P];if((!O&&L.start.startDate()>=Q.startDate())||(O&&L.start.startDate()<=Q.startDate())){if(R.length){L=T[P+N]}if(L&&w.inArray(L.uid,R)===-1){U=!!L;break}}P+=N}return L},moveToEvent:function(Q,O){var S=Q.groupIndex;var R=this.groups[S];var P=R.ranges(Q.start,Q.end,Q.isAllDay,false)[0].start;var M=this.groups.length;var N=O?-1:1;var T=Q.events;var L;while(S<M&&S>-1){L=this.moveToEventInGroup(R,P,T,O);S+=N;R=this.groups[S];if(!R||L){break}T=[];if(O){P=R.lastSlot()}else{P=R.firstSlot(true)}}if(L){Q.events=[L.uid];Q.start=L.start.startDate();Q.end=L.end.endDate();Q.isAllDay=L.start.isDaySlot;Q.groupIndex=L.start.groupIndex}return !!L},current:function(L){if(L!==undefined){this._current=L;this._scrollTo(L,this.content[0])}else{return this._current}},select:function(L){this.clearSelection();if(!this._selectEvents(L)){this._selectSlots(L)}},_selectSlots:function(T){var R=T.isAllDay;var U=this.groups[T.groupIndex];if(!U.timeSlotCollectionCount()){R=true}this._selectedSlots=[];var L=U.ranges(T.start,T.end,R,false);var N;var S;for(var M=0;M<L.length;M++){var O=L[M];var P=O.collection;for(var Q=O.start.index;Q<=O.end.index;Q++){S=P.at(Q);N=S.element;N.setAttribute("aria-selected",true);G(N);this._selectedSlots.push({start:S.startDate(),end:S.endDate(),element:N})}}if(T.backward){N=L[0].start.element}this.current(N)},_selectEvents:function(O){var Q=false;var N=O.events;var R=this.groups[O.groupIndex]._continuousEvents||[];var M,P=R.length;if(!N[0]||!R[0]){return Q}var L=w();O.events=[];for(M=0;M<P;M++){if(w.inArray(R[M].uid,N)>-1){L=L.add(R[M].element);O.events.push(R[M].uid)}}if(L[0]){L.addClass("k-state-selected").attr("aria-selected",true);this.current(L.last()[0]);this._selectedSlots=[];Q=true}return Q},inRange:function(N){var L=this.startDate();var O=x.date.addDays(this.endDate(),1);var P=N.start;var M=N.end;return L<=P&&P<O&&L<M&&M<=O},_resourceValue:function(M,L){if(M.valuePrimitive){L=x.getter(M.dataValueField)(L)}return L},_resourceBySlot:function(S){var Q=this.groupedResources;var M={};if(Q.length){var P=S.groupIndex;for(var L=Q.length-1;L>=0;L--){var O=Q[L];var N=this._resourceValue(O,O.dataSource.view()[P%O.dataSource.total()]);if(O.multiple){N=[N]}var R=x.setter(O.field);R(M,N);P=Math.floor(P/O.dataSource.total())}}return M},_createResizeHint:function(O,N,M,L){return w(D).css({left:O,top:N,width:M,height:L})},_removeResizeHint:function(){this._resizeHint.remove();this._resizeHint=w()},_removeMoveHint:function(){this._moveHint.remove();this._moveHint=w()},_scrollTo:function(P,N){var O=P.offsetTop,M=P.offsetHeight,S=N.scrollTop,R=N.clientHeight,Q=O+M,L=0;if(S>O){L=O}else{if(Q>(S+R)){if(M<=R){L=(Q-R)}else{L=O}}else{L=S}}N.scrollTop=L},_shouldInverseResourceColor:function(N){var O=new m(N.color).isDark();var L=this.element.css("color");var M=new m(L).isDark();return(O==M)},_eventTmpl:function(S,L){var T=this.options,N=w.extend({},x.Template,T.templateSettings),O=N.paramName,P="",Q=typeof S,M={storage:{},count:0};if(Q==="function"){M.storage["tmpl"+M.count]=S;P+="#=this.tmpl"+M.count+"("+O+")#";M.count++}else{if(Q==="string"){P+=S}}var R=x.template(x.format(L,P),N);if(M.count>0){R=w.proxy(R,M.storage)}return R},eventResources:function(L){var N=[],X=this.options;if(!X.resources){return N}for(var W=0;W<X.resources.length;W++){var O=X.resources[W];var U=O.field;var S=x.getter(U)(L);if(!S){continue}if(!O.multiple){S=[S]}var Q=O.dataSource.view();for(var R=0;R<S.length;R++){var M=null;var V=S[R];if(!O.valuePrimitive){V=x.getter(O.dataValueField)(V)}for(var T=0;T<Q.length;T++){if(Q[T].get(O.dataValueField)==V){M=Q[T];break}}if(M!==null){var P=x.getter(O.dataColorField)(M);N.push({field:O.field,title:O.title,name:O.name,text:x.getter(O.dataTextField)(M),value:V,color:P})}}}return N},createLayout:function(R){var O=-1;if(!R.rows){R.rows=[]}for(var L=0;L<R.rows.length;L++){if(R.rows[L].allDay){O=L;break}}var P=R.rows[O];if(O>=0){R.rows.splice(O,1)}var Q=this.columnLevels=o(R,"columns");var N=this.rowLevels=o(R,"rows");this.table=w("<table "+B()+' class="k-scheduler-layout k-scheduler-'+this.name+'view"/>');var M=N[N.length-1].length;this.table.append(this._topSection(Q,P,M));this.table.append(this._bottomSection(Q,N,M));this.element.append(this.table);this._scroller()},refreshLayout:function(){var R=this,S=R.element.find(">.k-scheduler-toolbar"),V=R.element.innerHeight(),W=this._scrollbar,P=0,L=this._isRtl?"left":"right";for(var T=0;T<S.length;T++){V-=S.eq(T).outerHeight()}if(R.datesHeader){P=R.datesHeader.outerHeight()}if(R.timesHeader&&R.timesHeader.outerHeight()>P){P=R.timesHeader.outerHeight()}if(R.datesHeader&&R.timesHeader){var U=R.datesHeader.find("table:first tr");R.timesHeader.find("tr").height(function(X){w(this).height(U.eq(X).height())})}if(P){V-=P}if(R.footer){V-=R.footer.outerHeight()}var O=function(Z){var Y,X;if(Z[0].style.height){return true}else{Y=Z.height()}Z.height("auto");X=Z.height();if(Y!=X){Z.height("");return true}Z.height("");return false};var N=R.content[0],Q=!x.support.kineticScrollNeeded?W:0;if(O(R.element)){if(V>W*2){R.content.height(V)}else{R.content.height(W*2+1)}R.times.height(N.clientHeight);var M=R.times.find("table");if(M.length){M.height(R.content.find("table")[0].clientHeight)}}if(N.offsetWidth-N.clientWidth>0){R.table.addClass("k-scrollbar-v");R.datesHeader.css("padding-"+L,Q-parseInt(R.datesHeader.children().css("border-"+L+"-width"),10))}else{R.datesHeader.css("padding-"+L,"")}if(N.offsetHeight-N.clientHeight>0||N.clientHeight>R.content.children(".k-scheduler-table").height()){R.table.addClass("k-scrollbar-h")}else{R.table.removeClass("k-scrollbar-h")}},_topSection:function(N,M,L){this.timesHeader=z(N.length,M,L);var O=N[N.length-1].length;this.datesHeader=a(N,O,M);return w("<tr>").append(this.timesHeader.add(this.datesHeader).wrap("<td>").parent())},_bottomSection:function(N,M,L){this.times=r(M,L);this.content=i(N[N.length-1],M[M.length-1]);return w("<tr>").append(this.times.add(this.content).wrap("<td>").parent())},_scroller:function(){var M=this;this.content.bind("scroll"+y,function(){M.datesHeader.find(">.k-scheduler-header-wrap").scrollLeft(this.scrollLeft);M.times.scrollTop(this.scrollTop)});var L=x.touchScroller(this.content,{avoidScrolling:function(N){return w(N.event.target).closest(".k-event.k-event-active").length>0}});if(L&&L.movable){this._touchScroller=L;this.content=L.scrollElement;L.movable.bind("change",function(N){M.datesHeader.find(">.k-scheduler-header-wrap").scrollLeft(-N.sender.x);M.times.scrollTop(-N.sender.y)})}},_resourcesForGroups:function(){var N=[];var M=this.options.group;var P=this.options.resources;M=M&&M.resources?M.resources:[];if(P&&M.length){for(var L=0,O=P.length;L<O;L++){for(var Q=0,R=M.length;Q<R;Q++){if(P[L].name===M[Q]){N.push(P[L])}}}}this.groupedResources=N},_createColumnsLayout:function(N,L,M){return g("columns",N,L,M)},_groupOrientation:function(){var L=this.options.group;return L&&L.resources?L.orientation:"horizontal"},_isVerticallyGrouped:function(){return this.groupedResources.length&&this._groupOrientation()==="vertical"},_createRowsLayout:function(N,L,M){return g("rows",N,L,M)},selectionByElement:function(){return null},clearSelection:function(){this.content.find(".k-state-selected").removeAttr("id").attr("aria-selected",false).removeClass("k-state-selected")},destroy:function(){var L=this;e.fn.destroy.call(this);if(L.table){x.destroy(L.table);L.table.remove()}L.groups=null;L.table=null;L.content=null;L.times=null;L.datesHeader=null;L.timesHeader=null;L.footer=null;L._resizeHint=null;L._moveHint=null},calendarInfo:function(){return x.getCulture().calendars.standard},prevGroupSlot:function(L,M,O){var P;var N=this.groups[M];var Q=N.ranges(L,L,O,false)[0].start;if(M<=0){return}if(this._isVerticallyGrouped()){if(!N.timeSlotCollectionCount()){P=N._collection(N.daySlotCollectionCount()-1,true);return P.at(Q.index)}else{P=N._collection(O?Q.index:Q.collectionIndex,false);return P.last()}}else{if(!N.timeSlotCollectionCount()){P=N._collection(Q.collectionIndex,true);return P.last()}else{P=N._collection(O?0:N.timeSlotCollectionCount()-1,O);return O?P.last():P.at(Q.index)}}},nextGroupSlot:function(M,N,P){var Q;var O=this.groups[N];var R=O.ranges(M,M,P,false)[0].start;var L;if(N>=this.groups.length-1){return}if(this._isVerticallyGrouped()){if(!O.timeSlotCollectionCount()){Q=O._collection(0,true);return Q.at(R.index)}else{L=O.daySlotCollectionCount();Q=O._collection(L?0:R.collectionIndex,L);return P?Q.first():Q.at(R.collectionIndex)}}else{if(!O.timeSlotCollectionCount()){Q=O._collection(R.collectionIndex,true);return Q.first()}else{Q=O._collection(0,P);return P?Q.first():Q.at(R.index)}}},_updateEventForMove:function(L){return},_updateEventForResize:function(L){return},_updateEventForSelection:function(L){return L}});function v(P,S,M){var L,N,R,Q,O;for(L=P.length-1;L>=0;L--){N=n(P[L]);R=N.start;O=N.end;Q=R<=S&&O>=S;if(Q||(R>=S&&O<=M)||(S<=R&&M>=R)){if(R<S){S=R}if(O>M){M=O}}}return d(P,S,M)}function n(L){return{start:L.start,end:L.end}}function d(P,Q,O){var M=[];for(var L=0;L<P.length;L++){var N=n(P[L]);if((N.start<Q&&N.end>Q)||(N.start>=Q&&N.end<=O)){M.push(P[L])}}return M}function t(L){return E(L)}function k(L){return E(L)}var m=function(R){var N=this,M=m.formats,Q,P,S,O,L;if(arguments.length===1){R=N.resolveColor(R);for(O=0;O<M.length;O++){Q=M[O].re;P=M[O].process;S=Q.exec(R);if(S){L=P(S);N.r=L[0];N.g=L[1];N.b=L[2]}}}else{N.r=arguments[0];N.g=arguments[1];N.b=arguments[2]}N.r=N.normalizeByte(N.r);N.g=N.normalizeByte(N.g);N.b=N.normalizeByte(N.b)};m.prototype={resolveColor:function(L){L=L||"#000";if(L.charAt(0)=="#"){L=L.substr(1,6)}L=L.replace(/ /g,"");L=L.toLowerCase();L=m.namedColors[L]||L;return L},normalizeByte:function(L){return(L<0||isNaN(L))?0:((L>255)?255:L)},percBrightness:function(){var L=this;return s.sqrt(0.241*L.r*L.r+0.691*L.g*L.g+0.068*L.b*L.b)},isDark:function(){var M=this;var L=M.percBrightness();return L<180}};m.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(L){return[parseInt(L[1],10),parseInt(L[2],10),parseInt(L[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(L){return[parseInt(L[1],16),parseInt(L[2],16),parseInt(L[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(L){return[parseInt(L[1]+L[1],16),parseInt(L[2]+L[2],16),parseInt(L[3]+L[3],16)]}}];m.namedColors={aqua:"00ffff",azure:"f0ffff",beige:"f5f5dc",black:"000000",blue:"0000ff",brown:"a52a2a",coral:"ff7f50",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgray:"a9a9a9",darkgreen:"006400",darkorange:"ff8c00",darkred:"8b0000",dimgray:"696969",fuchsia:"ff00ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lightblue:"add8e6",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumblue:"0000cd",navy:"000080",olive:"808000",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",pink:"ffc0cb",plum:"dda0dd",purple:"800080",red:"ff0000",royalblue:"4169e1",salmon:"fa8072",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",steelblue:"4682b4",tan:"d2b48c",teal:"008080",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};function E(M){var O=[];for(var Q=0;Q<M.length;Q++){var L=M[Q];var S=n(L);var N=null;for(var P=0,T=O.length;P<T;P++){var R=S.start>O[P].end;if(S.start<O[P].start||R){N=O[P];if(N.end<S.end){N.end=S.end}break}}if(!N){N={start:S.start,end:S.end,events:[]};O.push(N)}N.events.push(L)}return O}function g(L,N,T,S){var O=N[0];if(O){var M=[];var Q=O.dataSource.view();for(var R=0;R<Q.length;R++){var P={text:S({text:x.htmlEncode(x.getter(O.dataTextField)(Q[R])),color:x.getter(O.dataColorField)(Q[R]),field:O.field,title:O.title,name:O.name,value:x.getter(O.dataValueField)(Q[R])}),className:"k-slot-cell"};P[L]=g(L,N.slice(1),T,S);M.push(P)}return M}return T}function H(L){return function(N){if(w.isArray(N)||N instanceof x.data.ObservableArray){for(var M=0;M<N.length;M++){if(N[M]==L){return true}}return false}return N==L}}var h=/\s*k-state-selected/;function G(L){L.className=L.className.replace(h,"")+" k-state-selected"}w.extend(A.SchedulerView,{createColumns:t,createRows:k,rangeIndex:n,collidingEvents:v,groupEqFilter:H})})(window.kendo.jQuery);(function(d,f){var o=window.kendo,n=o.ui,m=o.date.setTime,a=n.SchedulerView,v=d.extend,s=d.proxy,j=o.date.getDate,e=o.date.MS_PER_MINUTE,b=o.date.MS_PER_DAY,w=o.date.getMilliseconds,u=".kendoMultiDayView";var r=o.template('<div title="(#=kendo.format("{0:t} - {1:t}", start, end)#): #=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template k-event-time">#:kendo.format("{0:t} - {1:t}", start, end)#</div><div class="k-event-template">${title}</div></div>'),h=o.template('<div title="(#=kendo.format("{0:t}", start)#): #=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template">${title}</div></div>'),i=o.template("<span class='k-link k-nav-day'>#=kendo.toString(date, 'ddd M/dd')#</span>"),t='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"#if (resources[0]) { #style="background-color:#=resources[0].color#; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#" #} else {#class="k-event"#}#><span class="k-event-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-w"></span>#}## if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}## if(data.head || data.middle) {#<span class="k-icon k-i-arrow-e"></span>#}#</span>#if(resizable && !singleDay && !data.tail && !data.middle){#<span class="k-resize-handle k-resize-w"></span>#}##if(resizable && !singleDay && !data.head && !data.middle){#<span class="k-resize-handle k-resize-e"></span>#}#</div>',x='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#" #if (resources[0]) { #style="background-color:#=resources[0].color #; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#"#} else {#class="k-event"#}#><span class="k-event-actions"># if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}#</span><span class="k-event-top-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-n"></span># } #</span><span class="k-event-bottom-actions"># if(data.head || data.middle) {#<span class="k-icon k-i-arrow-s"></span># } #</span># if(resizable && !data.tail && !data.middle) {#<span class="k-resize-handle k-resize-n"></span># } ## if(resizable && !data.head && !data.middle) {#<span class="k-resize-handle k-resize-s"></span># } #</div>';function c(y){var z=new Date(1980,1,1,0,0,0);m(z,w(y));return z}function k(A,z,y){return A>=z&&A<=y}function p(A,z,y,B){B=B?A<=y:A<y;return A>z&&B}function q(F,B,E,D){var C=F._continuousEvents;var A=C[C.length-1];var z=j(B.start.startDate()).getTime();if(D&&A&&j(A.start.startDate()).getTime()==z){var y=C.length-1;for(;y>-1;y--){if(C[y].isAllDay||j(C[y].start.startDate()).getTime()<z){break}}C.splice(y+1,0,{element:E,isAllDay:true,uid:E.attr(o.attr("uid")),start:B.start,end:B.end})}else{C.push({element:E,isAllDay:D,uid:E.attr(o.attr("uid")),start:B.start,end:B.end})}}function g(y){var z=[];var A=y.workWeekStart;z.push(A);while(y.workWeekEnd!=A){if(A>6){A-=7}else{A++}z.push(A)}return z}var l=a.extend({init:function(z,y){var A=this;a.fn.init.call(A,z,y);A.title=A.options.title||A.options.name;A._workDays=g(A.options);A._templates();A._editable();A.calculateDateRange();A._groups();A._currentTime()},_currentTimeMarkerUpdater:function(){var z=new Date();var J=this.options;if(J.currentTimeMarker.useLocalTimezone===false){var E=J.dataSource.options.schema.timezone;if(J.dataSource&&E){var G=o.timezone.offset(z,E);z=o.timezone.convert(z,z.getTimezoneOffset(),G)}}this.times.find(".k-current-time").remove();var A=!J.group||J.group.orientation=="horizontal"?1:this.groups.length;for(var H=0;H<A;H++){var I=this.groups[H];var F=o.date.toUtcTime(z);var y=I.timeSlotRanges(F,F+1);if(y.length===0){return}var D=y[0].collection;var C=D.slotByStartDate(z);if(C){var B=d("<div class='k-current-time'></div>");B.appendTo(this.times).css({top:Math.round(y[0].innerRect(z,new Date(z.getTime()+1),false).top),height:"1px",right:"1px",left:0})}}},_currentTime:function(){var z=this;var y=z.options.currentTimeMarker;if(y!==false&&y.updateInterval!==f){var A=y.updateInterval;z._currentTimeMarkerUpdater();z._currentTimeUpdateTimer=setInterval(s(this._currentTimeMarkerUpdater,z),A)}},_updateResizeHint:function(z,N,D,I){var E=z.isMultiDay();var M=this.groups[N];var A=M.ranges(D,I,E,z.isAllDay);this._removeResizeHint();for(var F=0;F<A.length;F++){var H=A[F];var C=H.startSlot();var B=C.offsetWidth;var O=C.clientHeight;var K=C.offsetTop;if(E){B=H.innerWidth()}else{var J=H.outerRect(D,I,this.options.snap);K=J.top;O=J.bottom-J.top}var G=a.fn._createResizeHint.call(this,C.offsetLeft,K,B,O);this._resizeHint=this._resizeHint.add(G)}var L="t";var y=this.content;if(E){L="M/dd";y=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day) > div");if(!y.length){y=this.content}}this._resizeHint.appendTo(y);this._resizeHint.find(".k-label-top,.k-label-bottom").text("");this._resizeHint.first().addClass("k-first").find(".k-label-top").text(o.toString(o.timezone.toLocalDate(D),L));this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(o.toString(o.timezone.toLocalDate(I),L))},_updateMoveHint:function(z,M,y){var D=z.isMultiDay();var L=this.groups[M];var B=o.date.toUtcTime(z.start)+y;var E=B+z.duration();var A=L.ranges(B,E,D,z.isAllDay);B=o.timezone.toLocalDate(B);E=o.timezone.toLocalDate(E);this._removeMoveHint();if(!D&&(w(E)===0||w(E)<w(this.startTime()))){if(A.length>1){A.pop()}}for(var C=0;C<A.length;C++){var G=A[C];var K=G.start;var F=this._createEventElement(z.clone({start:B,end:E}),!D);F.addClass("k-event-drag-hint");var H={left:K.offsetLeft+2,top:K.offsetTop};if(this._isRtl){H.left=K.clientWidth*0.1+K.offsetLeft+2}if(D){H.width=G.innerWidth()-4}else{var J=G.outerRect(B,E,this.options.snap);H.top=J.top;H.height=J.bottom-J.top;H.width=K.clientWidth*0.9-4}F.css(H);this._moveHint=this._moveHint.add(F)}var I=this.content;if(D){I=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day) > div");if(!I.length){I=this.content}}this._moveHint.appendTo(I)},_slotByPosition:function(z,E){var D;var C;if(this._isVerticallyGrouped()){C=this.content.offset();E+=this.content[0].scrollTop;z+=this.content[0].scrollLeft}else{C=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day)").find(">div").offset()}if(C){z-=C.left;E-=C.top}z=Math.ceil(z);E=Math.ceil(E);var B;var A;for(A=0;A<this.groups.length;A++){B=this.groups[A];D=B.daySlotByPosition(z,E);if(D){return D}}if(C){z+=C.left;E+=C.top}C=this.content.offset();z-=C.left;E-=C.top;if(!this._isVerticallyGrouped()){E+=this.content[0].scrollTop;z+=this.content[0].scrollLeft}z=Math.ceil(z);E=Math.ceil(E);for(A=0;A<this.groups.length;A++){B=this.groups[A];D=B.timeSlotByPosition(z,E);if(D){return D}}return null},_groupCount:function(){var y=this.groupedResources;if(y.length){if(this._groupOrientation()==="vertical"){return this._rowCountForLevel(y.length-1)}else{return this._columnCountForLevel(y.length)/this._columnOffsetForResource(y.length)}}return 1},_columnCountInResourceView:function(){var y=this.groupedResources;if(!y.length||this._isVerticallyGrouped()){return this._columnCountForLevel(0)}return this._columnOffsetForResource(y.length)},_timeSlotGroups:function(A,R){var Q=this._timeSlotInterval();var L=this.content.find("tr:not(.k-scheduler-header-all-day)");L.attr("role","row");var I=L.length;if(this._isVerticallyGrouped()){I=Math.floor(I/A)}for(var z=0;z<A;z++){var P=0;if(this._isVerticallyGrouped()){P=z}var J=P*I;var E;var M=0;if(!this._isVerticallyGrouped()){M=z}while(J<(P+1)*I){var C=L[J].children;var F=this.groups[z];if(J%I===0){E=w(new Date(+this.startTime()))}for(var H=M*R;H<(M+1)*R;H++){var y=C[H];var N=H%R;var K=F.getTimeSlotCollection(N);var G=this._dates[N];var O=Date.UTC(G.getFullYear(),G.getMonth(),G.getDate());var D=O+E;var B=D+Q;y.setAttribute("role","gridcell");y.setAttribute("aria-selected",false);K.addTimeSlot(y,D,B)}E+=Q;J++}}},_daySlotGroups:function(I,D){var G;if(this._isVerticallyGrouped()){G=this.element.find(".k-scheduler-header-all-day")}else{G=this.element.find(".k-scheduler-header-all-day tr")}G.attr("role","row");for(var K=0;K<I;K++){var B=0;if(this._isVerticallyGrouped()){B=K}var J=this.groups[K];var C=J.getDaySlotCollection(0);var L=G[B].children;var A=0;if(!this._isVerticallyGrouped()){A=K}var F=0;for(var E=A*D;E<(A+1)*D;E++){var H=L[E];if(E%D===0){F=0}var z=this._dates[F];var y=Date.UTC(z.getFullYear(),z.getMonth(),z.getDate());F++;H.setAttribute("role","gridcell");H.setAttribute("aria-selected",false);C.addDaySlot(H,y,y+o.date.MS_PER_DAY)}}},_groups:function(){var C=this._groupCount();var B=this._columnCountInResourceView();this.groups=[];for(var y=0;y<C;y++){var z=this._addResourceView(y);for(var A=0;A<B;A++){z.addTimeSlotCollection(this._dates[A],o.date.addDays(this._dates[A],1))}if(this.options.allDaySlot){z.addDaySlotCollection(this._dates[0],o.date.addDays(this._dates[this._dates.length-1],1))}}this._timeSlotGroups(C,B);if(this.options.allDaySlot){this._daySlotGroups(C,B)}},options:{name:"MultiDayView",selectedDateFormat:"{0:D}",allDaySlot:true,showWorkHours:false,title:"",startTime:o.date.today(),endTime:o.date.today(),minorTickCount:2,majorTick:60,majorTimeHeaderTemplate:"#=kendo.toString(date, 't')#",minorTimeHeaderTemplate:"&nbsp;",groupHeaderTemplate:"#=text#",slotTemplate:"&nbsp;",allDaySlotTemplate:"&nbsp;",eventTemplate:r,allDayEventTemplate:h,dateHeaderTemplate:i,editable:true,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,footer:{command:"workDay"},messages:{allDay:"all day",showFullDay:"Show full day",showWorkDay:"Show business hours"},currentTimeMarker:{updateInterval:10000,useLocalTimezone:true}},events:["remove","add","edit"],_templates:function(){var y=this.options,z=v({},o.Template,y.templateSettings);this.eventTemplate=this._eventTmpl(y.eventTemplate,x);this.allDayEventTemplate=this._eventTmpl(y.allDayEventTemplate,t);this.majorTimeHeaderTemplate=o.template(y.majorTimeHeaderTemplate,z);this.minorTimeHeaderTemplate=o.template(y.minorTimeHeaderTemplate,z);this.dateHeaderTemplate=o.template(y.dateHeaderTemplate,z);this.slotTemplate=o.template(y.slotTemplate,z);this.allDaySlotTemplate=o.template(y.allDaySlotTemplate,z);this.groupHeaderTemplate=o.template(y.groupHeaderTemplate,z)},_editable:function(){if(this.options.editable){if(this._isMobile()){this._touchEditable()}else{this._mouseEditable()}}},_mouseEditable:function(){var y=this;y.element.on("click"+u,".k-event a:has(.k-si-close)",function(z){y.trigger("remove",{uid:d(this).closest(".k-event").attr(o.attr("uid"))});z.preventDefault()});if(y.options.editable.create!==false){y.element.on("dblclick"+u,".k-scheduler-content td",function(z){if(!d(this).parent().hasClass("k-scheduler-header-all-day")){var B=y._slotByPosition(z.pageX,z.pageY);if(B){var A=y._resourceBySlot(B);y.trigger("add",{eventInfo:v({start:B.startDate(),end:B.endDate()},A)})}z.preventDefault()}}).on("dblclick"+u,".k-scheduler-header-all-day td",function(z){var B=y._slotByPosition(z.pageX,z.pageY);if(B){var A=y._resourceBySlot(B);y.trigger("add",{eventInfo:v({},{isAllDay:true,start:o.date.getDate(B.startDate()),end:o.date.getDate(B.startDate())},A)})}z.preventDefault()})}if(y.options.editable.update!==false){y.element.on("dblclick"+u,".k-event",function(z){y.trigger("edit",{uid:d(this).closest(".k-event").attr(o.attr("uid"))});z.preventDefault()})}},_touchEditable:function(){var y=this;if(y.options.editable.create!==false){y._addUserEvents=new o.UserEvents(y.element,{filter:".k-scheduler-content td",tap:function(z){if(!d(z.target).parent().hasClass("k-scheduler-header-all-day")){var B=y._slotByPosition(z.x.location,z.y.location);if(B){var A=y._resourceBySlot(B);y.trigger("add",{eventInfo:v({start:B.startDate(),end:B.endDate()},A)})}z.preventDefault()}}});y._allDayUserEvents=new o.UserEvents(y.element,{filter:".k-scheduler-header-all-day td",tap:function(z){var B=y._slotByPosition(z.x.location,z.y.location);if(B){var A=y._resourceBySlot(B);y.trigger("add",{eventInfo:v({},{isAllDay:true,start:o.date.getDate(B.startDate()),end:o.date.getDate(B.startDate())},A)})}z.preventDefault()}})}if(y.options.editable.update!==false){y._editUserEvents=new o.UserEvents(y.element,{filter:".k-event",tap:function(A){var z=d(A.target).closest(".k-event");if(!z.hasClass("k-event-active")){y.trigger("edit",{uid:z.attr(o.attr("uid"))})}A.preventDefault()}})}},_layout:function(F){var A=[];var D=[];var z=this.options;var C=this;for(var y=0;y<F.length;y++){var B={};B.text=C.dateHeaderTemplate({date:F[y]});if(o.date.isToday(F[y])){B.className="k-today"}A.push(B)}var E=this.groupedResources;if(z.allDaySlot){D.push({text:z.messages.allDay,allDay:true,cellContent:function(G){var H=G;G=E.length&&C._groupOrientation()!=="vertical"?G%F.length:G;return C.allDaySlotTemplate({date:F[G],resources:function(){return C._resourceBySlot({groupIndex:H})}})}})}this._forTimeRange(this.startTime(),this.endTime(),function(H,J,G,K){var I=J?C.majorTimeHeaderTemplate:C.minorTimeHeaderTemplate;var L={text:I({date:H}),className:K?"k-slot-cell":""};D.push(L)});if(E.length){if(this._groupOrientation()==="vertical"){D=this._createRowsLayout(E,D,this.groupHeaderTemplate)}else{A=this._createColumnsLayout(E,A,this.groupHeaderTemplate)}}return{columns:A,rows:D}},_footer:function(){var y=this.options;if(y.footer!==false){var z='<div class="k-header k-scheduler-footer">';var B=y.footer.command;if(B&&B==="workDay"){z+='<ul class="k-reset k-header">';z+='<li class="k-state-default k-scheduler-fullday"><a href="#" class="k-link"><span class="k-icon k-i-clock"></span>';z+=(y.showWorkHours?y.messages.showFullDay:y.messages.showWorkDay)+"</a></li>";z+="</ul>"}else{z+="&nbsp;"}z+="</div>";this.footer=d(z).appendTo(this.element);var A=this;this.footer.on("click"+u,".k-scheduler-fullday",function(C){C.preventDefault();A.trigger("navigate",{view:A.name||y.name,date:A.startDate(),isWorkDay:!y.showWorkHours})})}},_forTimeRange:function(K,M,L,z){K=c(K);M=c(M);var D=this,E=w(K),G=w(M),C=D.options.minorTickCount,Q=D.options.majorTick*e,O=Q/C||1,B=new Date(+K),H=B.getDate(),y,J=0,A,I="";A=b/O;if(E!=G){if(E>G){G+=b}A=((G-E)/O)}A=Math.round(A);for(;J<A;J++){var R=J%(Q/O),P=R===0,N=R<C-1,F=R===C-1;I+=L(B,P,N,F);m(B,O,false)}if(G){y=w(B);if(H<B.getDate()){y+=b}if(y>G){B=new Date(+M)}}if(z){I+=z(B)}return I},_content:function(y){var I=this;var N=I.options;var B=I.startTime();var G=this.endTime();var D=1;var K=1;var J=y.length;var H="";var C=this.groupedResources;var M=this.slotTemplate;var F=this.allDaySlotTemplate;var E=false;var A;if(C.length){E=I._groupOrientation()==="vertical";if(E){K=this._rowCountForLevel(this.rowLevels.length-2);if(N.allDaySlot){A=function(R){var P='<tr class="k-scheduler-header-all-day">';var S=function(){return I._resourceBySlot({groupIndex:R})};for(var O=0,Q=y.length;O<Q;O++){P+="<td>"+F({date:y[O],resources:S})+"</td>"}return P+"</tr>"}}}else{D=this._columnCountForLevel(this.columnLevels.length-2)}}H+="<tbody>";var L=function(R,Q){var T="";var V;var O;var S="";var U;var W=0;T="<tr"+(Q?' class="k-middle-row"':"")+">";var P=function(X){return function(){return I._resourceBySlot({groupIndex:X})}};for(;W<D;W++){for(V=0,O=J;V<O;V++){S="";if(o.date.isToday(y[V])){S+="k-today"}if(o.date.getMilliseconds(R)<o.date.getMilliseconds(I.options.workDayStart)||o.date.getMilliseconds(R)>=o.date.getMilliseconds(I.options.workDayEnd)||!I._isWorkDay(y[V])){S+=" k-nonwork-hour"}T+="<td"+(S!==""?' class="'+S+'"':"")+">";U=o.date.getDate(y[V]);o.date.setTime(U,o.date.getMilliseconds(R));T+=M({date:U,resources:P(E?z:W)});T+="</td>"}}T+="</tr>";return T};for(var z=0;z<K;z++){H+=A?A(z):"";H+=this._forTimeRange(B,G,L)}H+="</tbody>";this.content.find("table").append(H)},_isWorkDay:function(z){var y=z.getDay();var B=this._workDays;for(var A=0;A<B.length;A++){if(B[A]===y){return true}}return false},_render:function(A){var z=this;A=A||[];this._dates=A;this._startDate=A[0];this._endDate=A[(A.length-1)||0];this.createLayout(this._layout(A));this._content(A);this._footer();this.refreshLayout();var y=this.element.find(".k-scheduler-header-all-day td");if(y.length){this._allDayHeaderHeight=y.first()[0].clientHeight}z.datesHeader.on("click"+u,".k-nav-day",function(C){var B=d(C.currentTarget).closest("th");var D=B.offset();var E=z._slotByPosition(D.left,D.top+B.outerHeight());z.trigger("navigate",{view:"day",date:E.startDate()})})},startTime:function(){var y=this.options;return y.showWorkHours?y.workDayStart:y.startTime},endTime:function(){var y=this.options;return y.showWorkHours?y.workDayEnd:y.endTime},startDate:function(){return this._startDate},endDate:function(){return this._endDate},_end:function(y){var z=w(this.endTime())||b;if(y){z=0}return new Date(this._endDate.getTime()+z)},nextDate:function(){return o.date.nextDay(this.endDate())},previousDate:function(){return o.date.previousDay(this.startDate())},calculateDateRange:function(){this._render([this.options.date])},destroy:function(){var y=this;if(y._currentTimeUpdateTimer){clearInterval(y._currentTimeUpdateTimer)}if(y.datesHeader){y.datesHeader.off(u)}if(y.element){y.element.off(u)}if(y.footer){y.footer.remove()}a.fn.destroy.call(this);if(this._isMobile()&&y.options.editable){if(y.options.editable.create!==false){y._addUserEvents.destroy();y._allDayUserEvents.destroy()}if(y.options.editable.update!==false){y._editUserEvents.destroy()}}},inRange:function(A){var C=a.fn.inRange.call(this,A);var B=w(this.startTime());var z=w(this.endTime())||o.date.MS_PER_DAY;var D=w(A.start);var y=w(A.end)||o.date.MS_PER_DAY;return C&&B<=D&&y<=z},selectionByElement:function(y){var z=y.offset();return this._slotByPosition(z.left,z.top)},_timeSlotInterval:function(){var y=this.options;return(y.majorTick/y.minorTickCount)*e},_timeSlotIndex:function(A){var z=this.options;var C=w(A);var B=w(this.startTime());var y=((z.majorTick/z.minorTickCount)*e);return(C-B)/(y)},_slotIndex:function(y,z){if(z){return this._dateSlotIndex(y)}return this._timeSlotIndex(y)},_dateSlotIndex:function(z,F){var y;var B;var A=this._dates||[];var E;var C;var D=1;for(y=0,B=A.length;y<B;y++){E=o.date.getDate(A[y]);C=new Date(o.date.getDate(A[y]).getTime()+b-(F?0:1));if(k(z,E,C)){return y*D}}return -1},_positionAllDayEvent:function(y,z){var D=z.innerWidth();var C=z.start.index;var A=z.end.index;var J=a.collidingEvents(z.events(),C,A);var F=this._headerColumnCount||0;var I=2;var K=C!==A?5:4;var G=this._allDayHeaderHeight;var E=z.startSlot();y.css({left:E.offsetLeft+I,width:D-K});z.addEvent({slotIndex:C,start:C,end:A,element:y});J.push({slotIndex:C,start:C,end:A,element:y});var H=a.createRows(J);if(H.length&&H.length>F){this._headerColumnCount=H.length}var M=z.start.offsetTop;for(var L=0,B=H.length;L<B;L++){var N=H[L].events;for(var O=0,P=N.length;O<P;O++){d(N[O].element).css({top:M+L*G})}}},_arrangeColumns:function(H,K,N,I){var L=I.start;H={element:H,slotIndex:L.index,start:K,end:K+N};var E,B=L.clientWidth,F=B*0.1,J,A=I.events(),y=a.collidingEvents(A,H.start,H.end);I.addEvent(H);y.push(H);E=a.createColumns(y);var D=(B-F)/E.length;for(var M=0,C=E.length;M<C;M++){J=E[M].events;for(var G=0,z=J.length;G<z;G++){J[G].element[0].style.width=D-4+"px";J[G].element[0].style.left=(this._isRtl?F:0)+L.offsetLeft+M*D+2+"px"}}},_positionEvent:function(D,B,A){var E=D._startTime||D.start;var z=D._endTime||D.end;var C=A.innerRect(E,z,false);var y=C.bottom-C.top-2;if(y<0){y=0}B.css({top:C.top,height:y});this._arrangeColumns(B,C.top,B[0].clientHeight,A)},_createEventElement:function(L,Q,C,F){var R=Q?this.eventTemplate:this.allDayEventTemplate;var A=this.options;var K=A.editable;var J=this._isMobile();var I=K&&K.destroy!==false&&!J;var E=K&&K.resize!==false;var z=j(this.startDate());var M=j(this.endDate());var H=w(this.startTime());var B=w(this.endTime());var D=L._time("start");var P=L._time("end");var T;if(H>=B){B=w(new Date(this.endTime().getTime()+b-1))}if(!Q&&!L.isAllDay){M=new Date(M.getTime()+b)}var O=L.start;var G=L.end;if(L.isAllDay){G=j(L.end)}if((!k(j(O),z,M)&&!k(G,z,M))||(Q&&D<H&&P>B)){T=true}else{if(j(O)<z||(Q&&D<H)){F=true}else{if((G>M&&!Q)||(Q&&P>B)){C=true}}}var N=this.eventResources(L);if(L._startTime){O=new Date(D);O=o.timezone.apply(O,"Etc/UTC")}if(L.endTime){G=new Date(P);G=o.timezone.apply(G,"Etc/UTC")}var S=v({},{ns:o.ns,resizable:E,showDelete:I,middle:T,head:C,tail:F,singleDay:this._dates.length==1,resources:N,inverseColor:N&&N[0]?this._shouldInverseResourceColor(N[0]):false},L,{start:O,end:G});var y=d(R(S));this.angular("compile",function(){return{elements:y,data:[{dataItem:S}]}});return y},_isInTimeSlot:function(B){var z=this.startTime(),D=this.endTime(),A=B._startTime||B.start,y=B._endTime||B.end;if(w(D)===w(o.date.getDate(D))){D=o.date.getDate(D);m(D,b-1)}if(B._date("end")>B._date("start")){y=+B._date("end")+(b-1)}y=y-B._date("end");A=A-B._date("start");D=w(D);z=w(z);if(z===A&&A===y){return true}var C=A!==D;return p(A,z,D,C)||p(y,z,D,C)||p(z,A,y)||p(D,A,y)},_isInDateSlot:function(B){var y=this.groups[0];var D=y.firstSlot().start;var C=y.lastSlot().end-1;var A=o.date.toUtcTime(B.start);var z=o.date.toUtcTime(B.end);return(k(A,D,C)||k(z,D,C)||k(D,A,z)||k(C,A,z))&&(!k(z,D,D)||k(z,A,A)||B.isAllDay)},_updateAllDayHeaderHeight:function(y){if(this._height!==y){this._height=y;var z=this.element.find(".k-scheduler-header-all-day td");if(z.length){z.parent().add(this.element.find(".k-scheduler-times-all-day").parent()).height(y);for(var A=0;A<this.groups.length;A++){this.groups[A].refresh()}}}},_renderEvents:function(y,B){var K=this.datesHeader.find(".k-scheduler-header-wrap > div");var M;var L;var D;for(L=0,D=y.length;L<D;L++){M=y[L];if(this._isInDateSlot(M)){var N=M.isAllDay||M.end.getTime()-M.start.getTime()>=b;var I=N&&!this._isVerticallyGrouped()?K:this.content;var z;var A;var H;if(!N){if(this._isInTimeSlot(M)){H=this.groups[B];if(!H._continuousEvents){H._continuousEvents=[]}A=H.slotRanges(M);var O=A.length;for(var P=0;P<O;P++){var J=A[P];var F=M.start;var C=M.end;if(O>1){if(P===0){C=J.end.endDate()}else{if(P==O-1){F=J.start.startDate()}else{F=J.start.startDate();C=J.end.endDate()}}}var E=M.clone({start:F,end:C,_startTime:M._startTime,_endTime:M.endTime});if(this._isInTimeSlot(E)){var G=J.head;z=this._createEventElement(M,!N,G,J.tail);z.appendTo(I);this._positionEvent(E,z,J);q(H,J,z,false)}}}}else{if(this.options.allDaySlot){H=this.groups[B];if(!H._continuousEvents){H._continuousEvents=[]}A=H.slotRanges(M);if(A.length){z=this._createEventElement(M,!N);this._positionAllDayEvent(z,A[0]);q(H,A[0],z,true);z.appendTo(I)}}}}}},render:function(B){this._headerColumnCount=0;this._groups();this.element.find(".k-event").remove();B=new o.data.Query(B).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray();var A=[];this._eventsByResource(B,this.groupedResources,A);var C=this;var z=d.map(this._dates,function(E){return Math.max.apply(null,d.map(A,function(F){return d.grep(F,function(G){return G.isMultiDay()&&k(E,j(G.start),j(G.end))}).length}))});var y=Math.max.apply(null,z);this._updateAllDayHeaderHeight((y+1)*this._allDayHeaderHeight);for(var D=0;D<A.length;D++){this._renderEvents(A[D],D)}this.refreshLayout();this.trigger("activate")},_eventsByResource:function(A,E,y){var D=E[0];if(D){var z=D.dataSource.view();for(var B=0;B<z.length;B++){var C=this._resourceValue(D,z[B]);var F=new o.data.Query(A).filter({field:D.field,operator:a.groupEqFilter(C)}).toArray();if(E.length>1){this._eventsByResource(F,E.slice(1),y)}else{y.push(F)}}}else{y.push(A)}},_columnOffsetForResource:function(y){return this._columnCountForLevel(y)/this._columnCountForLevel(y-1)},_columnCountForLevel:function(z){var y=this.columnLevels[z];return y?y.length:0},_rowCountForLevel:function(z){var y=this.rowLevels[z];return y?y.length:0},clearSelection:function(){this.content.add(this.datesHeader).find(".k-state-selected").removeAttr("id").attr("aria-selected",false).removeClass("k-state-selected")},_updateDirection:function(E,A,z,C,B){var y=E.isAllDay;var F=A[0].start;var D=A[A.length-1].end;if(z){if(B){if(!y&&F.index===D.index&&F.collectionIndex===D.collectionIndex){E.backward=C}}else{if((y&&F.index===D.index)||(!y&&F.collectionIndex===D.collectionIndex)){E.backward=C}}}},_changeViewPeriod:function(C,B,z){if(!z){var A=B?this.previousDate():this.nextDate();var E=C.start;var y=C.end;C.start=new Date(A);C.end=new Date(A);var D=C.isAllDay?b:w(y);m(C.start,w(E));m(C.end,D);if(!this._isVerticallyGrouped()){C.groupIndex=B?this.groups.length-1:0}C.events=[];return true}}});v(true,n,{MultiDayView:l,DayView:l.extend({options:{name:"DayView",title:"Day"},name:"day"}),WeekView:l.extend({options:{name:"WeekView",title:"Week",selectedDateFormat:"{0:D} - {1:D}"},name:"week",calculateDateRange:function(){var z=this.options.date,C=o.date.dayOfWeek(z,this.calendarInfo().firstDay,-1),y,A,B=[];for(y=0,A=7;y<A;y++){B.push(C);C=o.date.nextDay(C)}this._render(B)}}),WorkWeekView:l.extend({options:{name:"WorkWeekView",title:"Work Week",selectedDateFormat:"{0:D} - {1:D}"},name:"workWeek",nextDate:function(){return o.date.dayOfWeek(o.date.nextDay(this.endDate()),this.options.workWeekStart,1)},previousDate:function(){return o.date.previousDay(this.startDate())},calculateDateRange:function(){var z=this.options.date,B=o.date.dayOfWeek(z,this.options.workWeekStart,-1),y=o.date.dayOfWeek(B,this.options.workWeekEnd,1),A=[];while(B<=y){A.push(B);B=o.date.nextDay(B)}this._render(A)}})})})(window.kendo.jQuery);(function(d){var f=window.kendo,h=f.ui,b=".kendoAgendaView";var e='<div class="k-task" title="#:title.replace(/"/g,"\'")#" data-#=kendo.ns#uid="#=uid#"># if (resources[0]) {#<span class="k-scheduler-mark" style="background-color:#=resources[0].color#"></span># } ## if (data.isException()) { #<span class="k-icon k-i-exception"></span># } else if (data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #{0}#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}#</div>';h.AgendaView=h.SchedulerView.extend({init:function(k,j){h.SchedulerView.fn.init.call(this,k,j);j=this.options;if(j.editable){j.editable=d.extend({"delete":true},j.editable,{create:false,update:false})}this.title=j.title;this.name="agenda";this._eventTemplate=this._eventTmpl(j.eventTemplate,e);this._dateTemplate=f.template(j.eventDateTemplate);this._groupTemplate=f.template(j.eventGroupTemplate);this._timeTemplate=f.template(j.eventTimeTemplate);this.element.on("mouseenter"+b,".k-scheduler-agenda .k-scheduler-content tr","_mouseenter").on("mouseleave"+b,".k-scheduler-agenda .k-scheduler-content tr","_mouseleave").on("click"+b,".k-scheduler-agenda .k-scheduler-content .k-link:has(.k-si-close)","_remove");this._renderLayout(j.date)},_mouseenter:function(j){d(j.currentTarget).addClass("k-state-hover")},_mouseleave:function(j){d(j.currentTarget).removeClass("k-state-hover")},_remove:function(j){j.preventDefault();this.trigger("remove",{uid:d(j.currentTarget).closest(".k-task").attr(f.attr("uid"))})},nextDate:function(){return f.date.nextDay(this.startDate())},startDate:function(){return this._startDate},endDate:function(){return this._endDate},previousDate:function(){return f.date.previousDay(this.startDate())},_renderLayout:function(j){this._startDate=j;this._endDate=f.date.addDays(j,7);this.createLayout(this._layout());this.table.addClass("k-scheduler-agenda")},_layout:function(){var k=[{text:this.options.messages.time,className:"k-scheduler-timecolumn"},{text:this.options.messages.event}];if(!this._isMobilePhoneView()){k.splice(0,0,{text:this.options.messages.date,className:"k-scheduler-datecolumn"})}var l=this.groupedResources;if(l.length){var m=[];for(var j=0;j<l.length;j++){m.push({text:"",className:"k-scheduler-groupcolumn"})}k=m.concat(k)}return{columns:k}},_tasks:function(r){var o=[];for(var q=0;q<r.length;q++){var k=r[q];var l=k.start;var n=k.end;var j=(f.date.getDate(n)-f.date.getDate(l))/f.date.MS_PER_DAY+1;var m=k.clone();m.startDate=f.date.getDate(l);if(m.startDate>=this.startDate()){o.push(m)}if(j>1){m.end=f.date.nextDay(l);m.head=true;for(var p=1;p<j;p++){l=m.end;m=k.clone();m.start=l;m.startDate=f.date.getDate(l);m.end=f.date.nextDay(l);if(p==j-1){m.end=new Date(m.start.getFullYear(),m.start.getMonth(),m.start.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds());m.tail=true}else{m.isAllDay=true;m.middle=true}if(m.end<=this.endDate()&&m.start>=this.startDate()){o.push(m)}}}}return new f.data.Query(o).sort([{field:"start",dir:"asc"},{field:"end",dir:"asc"}]).groupBy({field:"startDate"}).toArray()},_renderTaskGroups:function(u,p){var v=[];var o=this.options.editable;var j=o&&o.destroy!==false&&!this._isMobile();var k=this._isMobilePhoneView();for(var n=0;n<u.length;n++){var q=u[n].value;var r=u[n].items;var t=f.date.isToday(q);for(var s=0;s<r.length;s++){var m=r[s];var l=[];var w=!k?l:[];if(n===0&&s===0&&p.length){for(var x=0;x<p.length;x++){w.push(f.format('<td class="k-scheduler-groupcolumn{2}" rowspan="{0}">{1}</td>',p[x].rowSpan,this._groupTemplate({value:p[x].text}),p[x].className))}}if(s===0){if(k){w.push(f.format('<td class="k-scheduler-datecolumn" colspan="2">{0}</td>',this._dateTemplate({date:q})));v.push('<tr role="row" aria-selected="false"'+(t?' class="k-today">':">")+w.join("")+"</tr>")}else{l.push(f.format('<td class="k-scheduler-datecolumn{3}{2}" rowspan="{0}">{1}</td>',r.length,this._dateTemplate({date:q}),n==u.length-1&&!p.length?" k-last":"",!p.length?" k-first":""))}}if(m.head){m.format="{0:t}"}else{if(m.tail){m.format="{1:t}"}else{m.format="{0:t}-{1:t}"}}m.resources=this.eventResources(m);l.push(f.format('<td class="k-scheduler-timecolumn"><div>{0}{1}{2}</div></td><td>{3}</td>',m.tail||m.middle?'<span class="k-icon k-i-arrow-w"></span>':"",this._timeTemplate(m.clone({start:m._startTime||m.start,end:m.endTime||m.end})),m.head||m.middle?'<span class="k-icon k-i-arrow-e"></span>':"",this._eventTemplate(m.clone({showDelete:j}))));v.push('<tr role="row" aria-selected="false"'+(t?' class="k-today">':">")+l.join("")+"</tr>")}}return v.join("")},render:function(l){var m=this.content.find("table").empty();var j=[];if(l.length>0){var n=this.groupedResources;if(n.length){j=this._createGroupConfiguration(l,n,null);this._renderGroups(j,m,[])}else{j=this._tasks(l);m.append(this._renderTaskGroups(j,[]))}}var k=this._eventsList=a(j);this._angularItems(m,k);this.refreshLayout();this.trigger("activate")},_angularItems:function(k,j){this.angular("compile",function(){var m=[],l=j.map(function(n){m.push({dataItem:n});return k.find(".k-task["+f.attr("uid")+"="+n.uid+"]")});return{elements:l,data:m}})},_renderGroups:function(k,o,m){for(var j=0,n=k.length;j<n;j++){var l=m.splice(0);l.push(k[j]);if(k[j].groups){this._renderGroups(k[j].groups,o,l)}else{o.append(this._renderTaskGroups(k[j].items,l))}}},_createGroupConfiguration:function(w,l,v){var m=l[0];var k=[];var q=m.dataSource.view();var j=this._isMobilePhoneView();for(var s=0;s<q.length;s++){var u=i(m,q[s]);var p=new f.data.Query(w).filter({field:m.field,operator:h.SchedulerView.groupEqFilter(u)}).toArray();if(p.length){var n=this._tasks(p);var r=v?"":" k-first";if(s===q.length-1&&(!v||v.className.indexOf("k-last")>-1)){r+=" k-last"}var o={text:f.getter(m.dataTextField)(q[s]),value:u,rowSpan:0,className:r};if(l.length>1){o.groups=this._createGroupConfiguration(p,l.slice(1),o);if(v){v.rowSpan+=o.rowSpan}}else{o.items=n;var t=g(o.items);if(j){t+=o.items.length}o.rowSpan=t;if(v){v.rowSpan+=t}}k.push(o)}}return k},selectionByElement:function(j){var k,m;j=d(j);if(j.hasClass("k-scheduler-datecolumn")){return}if(this._isMobile()){var l=j.parent();k=l.parent().children().filter(function(){return d(this).children(":not(.k-scheduler-datecolumn)").length}).index(l)}else{k=j.parent().index()}m=this._eventsList[k];return{index:k,start:m.start,end:m.end,isAllDay:m.isAllDay,uid:m.uid}},select:function(j){this.clearSelection();var k=this.table.find(".k-task").eq(j.index).closest("tr").addClass("k-state-selected").attr("aria-selected",true)[0];this.current(k)},move:function(l,k){var n=false;var j=l.index;if(k==f.keys.UP){j--;n=true}else{if(k==f.keys.DOWN){j++;n=true}}if(n){var m=this._eventsList[j];if(m){l.start=m.start;l.end=m.end;l.isAllDay=m.isAllDay;l.events=[m.uid];l.index=j}}return n},moveToEvent:function(){return false},constrainSelection:function(j){var k=this._eventsList[0];if(k){j.start=k.start;j.end=k.end;j.isAllDay=k.isAllDay;j.events=[k.uid];j.index=0}},isInRange:function(){return true},destroy:function(){if(this.element){this.element.off(b)}h.SchedulerView.fn.destroy.call(this)},options:{title:"Agenda",name:"agenda",editable:true,selectedDateFormat:"{0:D}-{1:D}",eventTemplate:"#:title#",eventTimeTemplate:"#if(data.isAllDay) {##=this.options.messages.allDay##} else { ##=kendo.format(format, start, end)## } #",eventDateTemplate:'<strong class="k-scheduler-agendaday">#=kendo.toString(date, "dd")#</strong><em class="k-scheduler-agendaweek">#=kendo.toString(date,"dddd")#</em><span class="k-scheduler-agendadate">#=kendo.toString(date, "y")#</span>',eventGroupTemplate:'<strong class="k-scheduler-adgendagroup">#=value#</strong>',messages:{event:"Event",date:"Date",time:"Time",allDay:"all day"}}});function g(m){var k=0;for(var j=0,l=m.length;j<l;j++){k+=m[j].items.length}return k}function i(k,j){if(k.valuePrimitive){j=f.getter(k.dataValueField)(j)}return j}function a(l){var k=0,n=l.length,m,j=[];for(;k<n;k++){m=l[k];if(m.groups){m=c(m.groups);j=j.concat(m)}else{j=j.concat(c(m.items))}}return j}function c(k){var l=[].concat(k),n=l.shift(),j=[],m=[].push;while(n){if(n.groups){m.apply(l,n.groups)}else{if(n.items){m.apply(l,n.items)}else{m.call(j,n)}}n=l.shift()}return j}})(window.kendo.jQuery);(function(c){var k=window.kendo,j=k.ui,a=j.SchedulerView,n=".kendoMonthView",o=c.extend,l=c.proxy,h=k.date.getDate,b=k.date.MS_PER_DAY,q=6,d=7,p=k.template('<span class="k-link k-nav-day">#:kendo.toString(date, "dd")#</span>'),r='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"#if (resources[0]) { #style="background-color:#=resources[0].color #; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#"#} else {#class="k-event"#}#><span class="k-event-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-w"></span>#}## if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span>#}#</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}## if(data.head || data.middle) {#<span class="k-icon k-i-arrow-e"></span>#}#</span># if(resizable && !data.tail && !data.middle) {#<span class="k-resize-handle k-resize-w"></span>#}## if(resizable && !data.head && !data.middle) {#<span class="k-resize-handle k-resize-e"></span>#}#</div>',e=k.template('<div title="#=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template">#:title#</div></div>');var f=k.template('<div style="width:#=width#px;left:#=left#px;top:#=top#px" class="k-more-events k-button"><span>...</span></div>');j.MonthView=a.extend({init:function(t,s){var u=this;a.fn.init.call(u,t,s);u.title=u.options.title;u.name="month";u._templates();u._editable();u._renderLayout(u.options.date);u._groups()},_updateDirection:function(z,t,B,x,u){if(B){var y=t[0].start;var s=t[t.length-1].end;var v=y.index===s.index;var w=y.collectionIndex===s.collectionIndex;var A;if(u){A=(v&&w)||w}else{A=v&&w}if(A){z.backward=x}}},_changeViewPeriod:function(u,t,s){var v=s?7:1;if(t){v*=-1}u.start=k.date.addDays(u.start,v);u.end=k.date.addDays(u.end,v);if(!s||(s&&this._isVerticallyGrouped())){u.groupIndex=t?this.groups.length-1:0}u.events=[];return true},_continuousSlot:function(v,s,u){var t=v.backward?0:s.length-1;var w=this.groups[v.groupIndex];return w.continuousSlot(s[t].start,u)},_changeGroupContinuously:function(x,w,s,v){if(!s){var y=x.groupIndex;var t=this.groups.length-1;var u=this._isVerticallyGrouped();var z=this.groups[y];if(!w&&u){w=z[v?"lastSlot":"firstSlot"]();y+=(v?-1:1)}else{if(w&&!u){y=v?t:0}}if(y<0||y>t){y=v?t:0;w=null}x.groupIndex=y}return w},_normalizeHorizontalSelection:function(u,s,t){var v;if(t){v=s[0].start}else{v=s[s.length-1].end}return v},_normalizeVerticalSelection:function(t,s){var u;if(t.backward){u=s[0].start}else{u=s[s.length-1].end}return u},_templates:function(){var s=this.options,t=o({},k.Template,s.templateSettings);this.eventTemplate=this._eventTmpl(s.eventTemplate,r);this.dayTemplate=k.template(s.dayTemplate,t);this.groupHeaderTemplate=k.template(s.groupHeaderTemplate,t)},dateForTitle:function(){return k.format(this.options.selectedDateFormat,this._firstDayOfMonth,this._lastDayOfMonth)},nextDate:function(){return k.date.nextDay(this._lastDayOfMonth)},previousDate:function(){return k.date.previousDay(this._firstDayOfMonth)},startDate:function(){return this._startDate},endDate:function(){return this._endDate},_renderLayout:function(s){var t=this;this._firstDayOfMonth=k.date.firstDayOfMonth(s);this._lastDayOfMonth=k.date.lastDayOfMonth(s);this._startDate=g(s,this.calendarInfo());this.createLayout(this._layout());this._content();this.refreshLayout();this.content.on("click"+n,".k-nav-day,.k-more-events",function(u){var v=c(u.currentTarget).offset();var w=t._slotByPosition(v.left,v.top);u.preventDefault();t.trigger("navigate",{view:"day",date:w.startDate()})})},_editable:function(){if(this.options.editable&&!this._isMobilePhoneView()){if(this._isMobile()){this._touchEditable()}else{this._mouseEditable()}}},_mouseEditable:function(){var s=this;s.element.on("click"+n,".k-scheduler-monthview .k-event a:has(.k-si-close)",function(t){s.trigger("remove",{uid:c(this).closest(".k-event").attr(k.attr("uid"))});t.preventDefault()});if(s.options.editable.create!==false){s.element.on("dblclick"+n,".k-scheduler-monthview .k-scheduler-content td",function(t){var v=c(t.currentTarget).offset();var w=s._slotByPosition(v.left,v.top);if(w){var u=s._resourceBySlot(w);s.trigger("add",{eventInfo:o({isAllDay:true,start:w.startDate(),end:w.startDate()},u)})}t.preventDefault()})}if(s.options.editable.update!==false){s.element.on("dblclick"+n,".k-scheduler-monthview .k-event",function(t){s.trigger("edit",{uid:c(this).closest(".k-event").attr(k.attr("uid"))});t.preventDefault()})}},_touchEditable:function(){var s=this;if(s.options.editable.create!==false){s._addUserEvents=new k.UserEvents(s.element,{filter:".k-scheduler-monthview .k-scheduler-content td",tap:function(t){var v=c(t.target).offset();var w=s._slotByPosition(v.left,v.top);if(w){var u=s._resourceBySlot(w);s.trigger("add",{eventInfo:o({isAllDay:true,start:w.startDate(),end:w.startDate()},u)})}t.preventDefault()}})}if(s.options.editable.update!==false){s._editUserEvents=new k.UserEvents(s.element,{filter:".k-scheduler-monthview .k-event",tap:function(t){if(c(t.event.target).closest("a:has(.k-si-close)").length===0){s.trigger("edit",{uid:c(t.target).closest(".k-event").attr(k.attr("uid"))});t.preventDefault()}}})}},selectionByElement:function(s){var t=c(s).offset();return this._slotByPosition(t.left,t.top)},_columnCountForLevel:function(t){var s=this.columnLevels[t];return s?s.length:0},_rowCountForLevel:function(t){var s=this.rowLevels[t];return s?s.length:0},_content:function(){var s="<tbody>";var u=1;var t=this.groupedResources;if(t.length){if(this._isVerticallyGrouped()){u=this._rowCountForLevel(t.length-1)}}for(var v=0;v<u;v++){s+=this._createCalendar(v)}s+="</tbody>";this.content.find("table").html(s)},_createCalendar:function(z){var u=this.startDate();var B=d*q;var x=d;var E=[u];var y="";var C=1;var s=this._isVerticallyGrouped();var w=this.groupedResources;if(w.length){if(!s){C=this._columnCountForLevel(w.length-1)}}this._slotIndices={};for(var t=0,v=B/x;t<v;t++){y+="<tr>";E.push(u);var A=t*x;for(var D=0;D<C;D++){y+=this._createRow(u,A,x,s?z:D)}u=k.date.addDays(u,x);y+="</tr>"}this._weekStartDates=E;this._endDate=k.date.previousDay(u);return y},_createRow:function(t,B,w,D){var z=this;var x=z._firstDayOfMonth;var C=z._lastDayOfMonth;var A=z.dayTemplate;var v="";var y="";var u=function(){return z._resourceBySlot({groupIndex:D})};for(var s=0;s<w;s++){v="";if(k.date.isToday(t)){v+="k-today"}if(!k.date.isInDateRange(t,x,C)){v+=" k-other-month"}y+="<td ";if(v!==""){y+='class="'+v+'"'}y+=">";y+=A({date:t,resources:u});y+="</td>";z._slotIndices[h(t).getTime()]=B+s;t=k.date.nextDay(t)}return y},_layout:function(){var t=this.calendarInfo();var u=this._isMobile()?t.days.namesShort:t.days.names;var z=m(u,t.firstDay);var w=c.map(z,function(A){return{text:A}});var y=this.groupedResources;var x;if(y.length){if(this._isVerticallyGrouped()){var v=[];for(var s=0;s<6;s++){v.push({text:"<div>&nbsp;</div>",className:"k-hidden k-slot-cell"})}x=this._createRowsLayout(y,v,this.groupHeaderTemplate)}else{w=this._createColumnsLayout(y,w,this.groupHeaderTemplate)}}return{columns:w,rows:x}},_createEventElement:function(w){var t=this.options;var v=t.editable;var s=this._isMobile();w.showDelete=v&&v.destroy!==false&&!s;w.resizable=v&&v.resize!==false&&!s;w.ns=k.ns;w.resources=this.eventResources(w);w.inverseColor=w.resources&&w.resources[0]?this._shouldInverseResourceColor(w.resources[0]):false;var u=c(this.eventTemplate(w));this.angular("compile",function(){return{elements:u,data:[{dataItem:w}]}});return u},_isInDateSlot:function(v){var s=this.groups[0];var x=s.firstSlot().start;var w=s.lastSlot().end-1;var u=k.date.toUtcTime(v.start);var t=k.date.toUtcTime(v.end);return(i(u,x,w)||i(t,x,w)||i(x,u,t)||i(w,u,t))&&(!i(t,x,x)||i(t,u,u)||v.isAllDay)},_slotIndex:function(s){return this._slotIndices[h(s).getTime()]},_positionMobileEvent:function(w,u,A){var x=w.start;if(w.start.offsetLeft>w.end.offsetLeft){x=w.end}var z=w.start.index;var v=z;var s=3;var B=a.collidingEvents(w.events(),z,v);B.push({element:u,start:z,end:v});var C=a.createRows(B);var y=w.collection.at(z);var t=y.container;if(!t){t=c(k.format('<div class="k-events-container" style="top:{0};left:{1};width:{2}"/>',x.offsetTop+x.firstChildTop+x.firstChildHeight-3+"px",x.offsetLeft+"px",x.offsetWidth+"px"));y.container=t;this.content[0].appendChild(t[0])}if(C.length<=s){w.addEvent({element:u,start:z,end:v,groupIndex:x.groupIndex});A._continuousEvents.push({element:u,uid:u.attr(k.attr("uid")),start:w.start,end:w.end});t[0].appendChild(u[0])}},_positionEvent:function(u,t,C){var B=this.options.eventHeight;var E=u.start;if(u.start.offsetLeft>u.end.offsetLeft){E=u.end}var z=u.start.index;var v=u.end.index;var A=E.eventCount;var s=a.collidingEvents(u.events(),z,v);var F=z!==v?5:4;s.push({element:t,start:z,end:v});var D=a.createRows(s);for(var H=0,y=Math.min(D.length,A);H<y;H++){var I=D[H].events;var w=E.offsetTop+E.firstChildHeight+H*B+3*H+"px";for(var J=0,L=I.length;J<L;J++){I[J].element[0].style.top=w}}if(D.length>A){for(var K=z;K<=v;K++){var G=u.collection;var x=G.at(K);if(x.more){return}x.more=c(f({ns:k.ns,start:K,end:K,width:x.clientWidth-2,left:x.offsetLeft+2,top:x.offsetTop+x.firstChildHeight+A*B+3*A}));this.content[0].appendChild(x.more[0])}}else{u.addEvent({element:t,start:z,end:v,groupIndex:E.groupIndex});t[0].style.width=u.innerWidth()-F+"px";t[0].style.left=E.offsetLeft+2+"px";t[0].style.height=B+"px";C._continuousEvents.push({element:t,uid:t.attr(k.attr("uid")),start:u.start,end:u.end});this.content[0].appendChild(t[0])}},_slotByPosition:function(s,w){var u=this.content.offset();s-=u.left;w-=u.top;w+=this.content[0].scrollTop;s+=this.content[0].scrollLeft;s=Math.ceil(s);w=Math.ceil(w);for(var t=0;t<this.groups.length;t++){var v=this.groups[t].daySlotByPosition(s,w);if(v){return v}}return null},_createResizeHint:function(t){var w=t.startSlot().offsetLeft;var v=t.start.offsetTop;var u=t.innerWidth();var s=t.start.clientHeight-2;var x=a.fn._createResizeHint.call(this,w,v,u,s);x.appendTo(this.content);this._resizeHint=this._resizeHint.add(x)},_updateResizeHint:function(w,x,v,u){this._removeResizeHint();var y=this.groups[x];var t=y.ranges(v,u,true,w.isAllDay);for(var s=0;s<t.length;s++){this._createResizeHint(t[s])}this._resizeHint.find(".k-label-top,.k-label-bottom").text("");this._resizeHint.first().addClass("k-first").find(".k-label-top").text(k.toString(k.timezone.toLocalDate(v),"M/dd"));this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(k.toString(k.timezone.toLocalDate(u),"M/dd"))},_updateMoveHint:function(u,D,t){var w=k.date.toUtcTime(u.start)+t;var x=w+u.duration();var C=this.groups[D];var v=C.ranges(w,x,true,u.isAllDay);this._removeMoveHint();for(var y=0;y<v.length;y++){var A=v[y];var B=A.startSlot();var s=A.endSlot();var z=this._createEventElement(u.clone({head:A.head,tail:A.tail}));z.css({left:B.offsetLeft+2,top:B.offsetTop+B.firstChildHeight,height:this.options.eventHeight,width:A.innerWidth()-(B.index!==s.index?5:4)});z.addClass("k-event-drag-hint");z.appendTo(this.content);this._moveHint=this._moveHint.add(z)}},_groups:function(){var u=this._groupCount();var K=d;var C=q;this.groups=[];for(var E=0;E<u;E++){this._addResourceView(E)}var G=this.content[0].getElementsByTagName("tr");for(var t=0;t<u;t++){var A=0;var J=0;if(this._isVerticallyGrouped()){J=t}for(var D=J*C;D<(J+1)*C;D++){var z=this.groups[t];var F=z.addDaySlotCollection(k.date.addDays(this.startDate(),A),k.date.addDays(this.startDate(),A+K));var L=G[D];var v=L.children;var I=0;L.setAttribute("role","row");if(!this._isVerticallyGrouped()){I=t}for(var B=I*K;B<(I+1)*K;B++){var s=v[B];var y=s.clientHeight;var H=s.children.length?s.children[0].offsetHeight+3:0;var x=k.date.toUtcTime(k.date.addDays(this.startDate(),A));A++;var w=Math.floor((y-H-this.options.moreButtonHeight)/(this.options.eventHeight+3));s.setAttribute("role","gridcell");s.setAttribute("aria-selected",false);F.addDaySlot(s,x,x+k.date.MS_PER_DAY,w)}}}},render:function(s){this.content.children(".k-event,.k-more-events,.k-events-container").remove();this._groups();s=new k.data.Query(s).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray();var t=this.groupedResources;if(t.length){this._renderGroups(s,t,0,1)}else{this._renderEvents(s,0)}this.refreshLayout();this.trigger("activate")},_renderEvents:function(F,D){var s;var A;var v;var E=this._isMobilePhoneView();for(A=0,v=F.length;A<v;A++){s=F[A];if(this._isInDateSlot(s)){var C=this.groups[D];if(!C._continuousEvents){C._continuousEvents=[]}var t=C.slotRanges(s,true);var y=t.length;for(var x=0;x<y;x++){var z=t[x];var u=s.start;var w=s.end;if(y>1){if(x===0){w=z.end.endDate()}else{if(x==y-1){u=z.start.startDate()}else{u=z.start.startDate();w=z.end.endDate()}}}var B=s.clone({start:u,end:w,head:z.head,tail:z.tail});if(E){this._positionMobileEvent(z,this._createEventElement(B),C)}else{this._positionEvent(z,this._createEventElement(B),C)}}}}},_renderGroups:function(A,u,w,t){var v=u[0];if(v){var y=v.dataSource.view();for(var s=0;s<y.length;s++){var z=this._resourceValue(v,y[s]);var x=new k.data.Query(A).filter({field:v.field,operator:a.groupEqFilter(z)}).toArray();if(u.length>1){w=this._renderGroups(x,u.slice(1),w++,t+1)}else{this._renderEvents(x,w++)}}}return w},_groupCount:function(){var s=this.groupedResources;if(s.length){if(this._isVerticallyGrouped()){return this._rowCountForLevel(s.length-1)}else{return this._columnCountForLevel(s.length)/this._columnOffsetForResource(s.length)}}return 1},_columnOffsetForResource:function(s){return this._columnCountForLevel(s)/this._columnCountForLevel(s-1)},destroy:function(){if(this.table){this.table.removeClass("k-scheduler-monthview")}if(this.content){this.content.off(n)}if(this.element){this.element.off(n)}a.fn.destroy.call(this);if(this._isMobile()&&!this._isMobilePhoneView()&&this.options.editable){if(this.options.editable.create!==false){this._addUserEvents.destroy()}if(this.options.editable.update!==false){this._editUserEvents.destroy()}}},events:["remove","add","edit","navigate"],options:{title:"Month",name:"month",eventHeight:25,moreButtonHeight:13,editable:true,selectedDateFormat:"{0:y}",groupHeaderTemplate:"#=text#",dayTemplate:p,eventTemplate:e}});function m(t,s){return t.slice(s).concat(t.slice(0,s))}function g(v,s){var t=s.firstDay,u=new Date(v.getFullYear(),v.getMonth(),0,v.getHours(),v.getMinutes(),v.getSeconds(),v.getMilliseconds());while(u.getDay()!=t){k.date.setTime(u,-1*b)}return u}function i(v,u,s){var t=u,w=s,x;x=v;return x>=t&&x<=w}})(window.kendo.jQuery);(function(aj,o){var m=window.kendo,Q=m.timezone,ap=m.Class,D=m.ui,j=D.Widget,W=D.DropDownList,ab=m.date,g=ab.setTime,H=ab.setDayOfWeek,al=ab.adjustDST,p=ab.firstDayOfMonth,I=ab.getMilliseconds,n=[0,31,60,91,121,152,182,213,244,274,305,335,366],O=[0,31,59,90,120,151,181,212,243,273,304,334,365],w=[31,28,30,31,30,31,30,31,30,31,30,31],t={0:"SU",1:"MO",2:"TU",3:"WE",4:"TH",5:"FR",6:"SA"},d={SU:0,MO:1,TU:2,WE:3,TH:4,FR:5,SA:6},s=["yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-ddTHH","yyyy-MM-dd","yyyyMMddTHHmmssfffzzz","yyyyMMddTHHmmsszzz","yyyyMMddTHHmmss","yyyyMMddTHHmm","yyyyMMddTHH","yyyyMMdd"],i=["months","weeks","yearDays","monthDays","weekDays","hours","minutes","seconds"],ad=i.length,ae="yyyyMMddTHHmmssZ",x={months:function(ax,aw,az){var ay=az.months,av=ak(ay,ax.getMonth()+1),aA=false;if(av!==null){if(av.length){ax.setMonth(av[0]-1,1)}else{ax.setFullYear(ax.getFullYear()+1,ay[0]-1,1)}aA=true}return aA},monthDays:function(av,aw,aB){var aA,az,aD,ay=false,aC=av.getHours(),ax=function(aE){if(aE<0){aE=aA+aE}return aE};while(av<=aw){az=av.getMonth();aA=T(av);aD=ak(aB.monthDays,av.getDate(),ax);if(aD===null){return ay}ay=true;if(aD.length){av.setMonth(az,aD.sort(C)[0]);al(av,aC);if(az===av.getMonth()){break}}else{av.setMonth(az+1,1)}}return ay},yearDays:function(az,ax,aB){var aA,av,aC=false,aw=az.getHours(),ay=function(aD){if(aD<0){aD=aA+aD}return aD};while(az<ax){aA=q(az)?366:365;av=ak(aB.yearDays,b(az),ay);if(av===null){return aC}aC=true;aA=az.getFullYear();if(av.length){az.setFullYear(aA,0,av.sort(C)[0]);al(az,aw);break}else{az.setFullYear(aA+1,0,1)}}return aC},weeks:function(aw,ax,aB){var aE=aB.weekStart,aA,av,aC,az=false,aD=aw.getHours(),ay=function(aF){if(aF<0){aF=53+aF}return aF};while(aw<ax){av=ak(aB.weeks,ag(aw,aE),ay);if(av===null){return az}az=true;aA=aw.getFullYear();if(av.length){aC=(av.sort(C)[0]*7)-1;aw.setFullYear(aA,0,aC);H(aw,aE,-1);al(aw,aD);break}else{aw.setFullYear(aA+1,0,1)}}return az},weekDays:function(aw,ay,aA){var ax=aA.weekDays;var aD=aA.weekStart;var aC=P(ax,aw,aD);var aB=aw.getHours();var av,az;if(aC===null){return false}av=aC[0];if(!av){av=ax[0];H(aw,aD)}az=av.day;if(av.offset){while(aw<=ay&&!u(aw,av,aD)){if(z(aw,aD)===ah(aw,aD)){aw.setMonth(aw.getMonth()+1,1);al(aw,aB)}else{aw.setDate(aw.getDate()+7);al(aw,aB);H(aw,aD,-1)}}}if(aw.getDay()!==az){H(aw,az)}return true},hours:function(ay,ax,aB){var av=aB.hours,az=aB._startTime,aA=az.getHours(),aw=ak(av,aA),aC=false;if(aw!==null){aC=true;ay.setHours(aA);al(ay,aA);if(aw.length){aw=aw[0];ay.setHours(aw)}else{aw=ay.getHours();ay.setDate(ay.getDate()+1);al(ay,aw);aw=av[0];ay.setHours(aw);al(ay,aw)}if(aB.minutes){ay.setMinutes(0)}az.setHours(aw,ay.getMinutes())}return aC},minutes:function(az,ax,aB){var av=aB.minutes,ay=az.getMinutes(),aA=ak(av,ay),aw=aB._startTime.getHours(),aC=false;if(aA!==null){aC=true;if(aA.length){aA=aA[0]}else{aw+=1;aA=av[0]}if(aB.seconds){az.setSeconds(0)}az.setHours(aw,aA);aw=aw%24;al(az,aw);aB._startTime.setHours(aw,aA,az.getSeconds())}return aC},seconds:function(ay,ax,aA){var aw=aA.seconds,av=aA._startTime.getHours(),aC=ak(aw,ay.getSeconds()),az=ay.getMinutes(),aB=false;if(aC!==null){aB=true;if(aC.length){ay.setSeconds(aC[0])}else{az+=1;ay.setMinutes(az,aw[0]);if(az>59){az=az%60;av=(av+1)%24}}aA._startTime.setHours(av,az,ay.getSeconds())}return aB}},v=ap.extend({next:function(aw,az){var ay=az._startTime,av=ay.getDate(),ax,aA;if(az.seconds){aA=aw.getSeconds()+1;aw.setSeconds(aA);ay.setSeconds(aA);ay.setDate(av)}else{if(az.minutes){ax=aw.getMinutes()+1;aw.setMinutes(ax);ay.setMinutes(ax);ay.setDate(av)}else{return false}}return true},normalize:function(av){var aw=av.rule;if(av.idx===4&&aw.hours){aw._startTime.setHours(0);this._hour(av.date,aw)}},limit:function(aw,ax,aA){var av=aA.interval,aB,ay,aD,aC,az;while(aw<=ax){aD=ay=o;az=aw.getDate();for(aC=0;aC<ad;aC++){aB=i[aC];if(aA[aB]){aD=x[aB](aw,ax,aA);if(ay!==o&&aD){break}else{ay=aD}}if(aD){this.normalize({date:aw,rule:aA,day:az,idx:aC})}}if((av===1||!this.interval(aA,aw))&&aC===ad){break}}},interval:function(aE,aA){var aw=new Date(aE._startPeriod);var ay=new Date(aA);var aF=aA.getHours();var aI=aE.weekStart;var ax=aE.interval;var aC=aE.freq;var aH=false;var aB=0;var az=0;var aD=1;var aG;var av;if(aC==="hourly"){aG=ay.getTimezoneOffset()-aw.getTimezoneOffset();av=aE._startTime.getHours();ay=ay.getTime();if(aF!==av){ay+=(av-aF)*ab.MS_PER_HOUR}ay-=aw;if(aG){ay-=aG*ab.MS_PER_MINUTE}aG=Math.floor(ay/ab.MS_PER_HOUR);aB=A(aG,ax);if(aB!==0){this._hour(aA,aE,aB);aH=true}}else{if(aC==="daily"){ab.setTime(ay,-aw);aG=Math.floor(ay/ab.MS_PER_DAY);aB=A(aG,ax);if(aB!==0){this._date(aA,aE,aB);aH=true}}else{if(aC==="weekly"){aG=(aA.getFullYear()-aw.getFullYear())*52;aB=ag(aA,aI)-ag(aw,aI)+aG;aB=A(aB,ax);if(aB!==0){ab.setDayOfWeek(aA,aE.weekStart,-1);aA.setDate(aA.getDate()+(aB*7));al(aA,aF);aH=true}}else{if(aC==="monthly"){aG=aA.getFullYear()-aw.getFullYear();aG=aA.getMonth()-aw.getMonth()+(aG*12);aB=A(aG,ax);if(aB!==0){aD=aE._hasRuleValue?1:aA.getDate();aA.setFullYear(aA.getFullYear(),aA.getMonth()+aB,aD);al(aA,aF);aH=true}}else{if(aC==="yearly"){aG=aA.getFullYear()-aw.getFullYear();aB=A(aG,ax);if(!aE.months){az=aA.getMonth()}if(!aE.yearDays&&!aE.monthDays&&!aE.weekDays){aD=aA.getDate()}if(aB!==0){aA.setFullYear(aA.getFullYear()+aB,az,aD);al(aA,aF);aH=true}}}}}}return aH},_hour:function(ax,az,aw){var ay=az._startTime,av=ay.getHours();if(aw){av+=aw}ax.setHours(av);av=av%24;ay.setHours(av);al(ax,av)},_date:function(ax,ay,aw){var av=ax.getHours();ax.setDate(ax.getDate()+aw);if(!al(ax,av)){this._hour(ax,ay)}}}),F=v.extend({next:function(av,aw){if(!v.fn.next(av,aw)){this._hour(av,aw,1)}},normalize:function(av){var aw=av.rule;if(av.idx===4){aw._startTime.setHours(0);this._hour(av.date,aw)}}}),an=v.extend({next:function(av,aw){if(!v.fn.next(av,aw)){this[aw.hours?"_hour":"_date"](av,aw,1)}}}),M=an.extend({setup:function(aw,av){if(!aw.weekDays){aw.weekDays=[{day:av.getDay(),offset:0}]}}}),at=v.extend({next:function(ax,ay){var aw,av;if(!v.fn.next(ax,ay)){if(ay.hours){this._hour(ax,ay,1)}else{if(ay.monthDays||ay.weekDays||ay.yearDays||ay.weeks){this._date(ax,ay,1)}else{aw=ax.getDate();av=ax.getHours();ax.setMonth(ax.getMonth()+1);al(ax,av);while(ax.getDate()!==aw){ax.setDate(aw);al(ax,av)}this._hour(ax,ay)}}}},normalize:function(ax){var ay=ax.rule,aw=ax.date,av=aw.getHours();if(ax.idx===0&&!ay.monthDays&&!ay.weekDays){aw.setDate(ax.day);al(aw,av)}else{v.fn.normalize(ax)}},setup:function(ax,aw,av){if(!ax.monthDays&&!ax.weekDays){av.setDate(aw.getDate())}}}),S=at.extend({next:function(ax,ay){var aw,av=ax.getHours();if(!v.fn.next(ax,ay)){if(ay.hours){this._hour(ax,ay,1)}else{if(ay.monthDays||ay.weekDays||ay.yearDays||ay.weeks){this._date(ax,ay,1)}else{if(ay.months){aw=ax.getDate();ax.setMonth(ax.getMonth()+1);al(ax,av);while(ax.getDate()!==aw){ax.setDate(aw);al(ax,av)}this._hour(ax,ay)}else{ax.setFullYear(ax.getFullYear()+1);al(ax,av);this._hour(ax,ay)}}}}},setup:function(){}}),f={hourly:new F(),daily:new an(),weekly:new M(),monthly:new at(),yearly:new S()},ai="click";function A(ax,aw){var av;if(ax!==0&&ax<aw){av=aw-ax}else{av=ax%aw;if(av){av=aw-av}}return av}function b(av){var aw=av.getMonth();var ax=q(av)?n[aw]:O[aw];return ax+av.getDate()}function ag(aw,av){var ax,ay;aw=new Date(aw.getFullYear(),aw.getMonth(),aw.getDate());al(aw,0);ax=aw.getFullYear();if(av!==o){H(aw,av,-1);aw.setDate(aw.getDate()+4)}else{aw.setDate(aw.getDate()+(4-(aw.getDay()||7)))}al(aw,0);ay=Math.floor((aw.getTime()-new Date(ax,0,1,-6))/86400000);return 1+Math.floor(ay/7)}function z(aw,av){var ax=p(aw).getDay();var ay=7-(ax+7-(av||7))||7;if(ay<0){ay+=7}return Math.ceil((aw.getDate()-ay)/7)+1}function af(aw,av){return aw+(aw<av?7:0)}function E(aw,ay,aD){var ax=ay.offset;if(!ax){return z(aw,aD)}var av=new Date(aw.getFullYear(),aw.getMonth()+1,0);var aA=z(av,aD);var az=af(ay.day,aD);var aC=az<af(new Date(aw.getFullYear(),aw.getMonth(),1).getDay(),aD);var aB=az>af(av.getDay(),aD);if(ax<0){ax=aA+(ax+1-(aB?1:0))}else{if(aC){ax+=1}}aA-=(aB?1:0);if(ax<(aC?1:0)||ax>aA){return null}return ax}function ah(aw,av){return z(new Date(aw.getFullYear(),aw.getMonth()+1,0),av)}function u(aw,ax,av){return z(aw,av)===E(aw,ax,av)}function P(az,ay,aF){var aA=af(ay.getDay(),aF);var ax=az.length;var aw;var aB,aC;var av;var aE=[];var aD=0;for(;aD<ax;aD++){aB=az[aD];av=z(ay,aF);aw=E(ay,aB,aF);if(aw===null){continue}if(av<aw){aE.push(aB)}else{if(av===aw){aC=af(aB.day,aF);if(aA<aC){aE.push(aB)}else{if(aA===aC){return null}}}}}return aE}function ak(az,ay,aw){var av=0,ax=az.length,aB=[],aA;for(;av<ax;av++){aA=az[av];if(aw){aA=aw(aA)}if(ay===aA){return null}else{if(ay<aA){aB.push(aA)}}}return aB}function aq(az,aw){var av=0,ax=az.length,ay;for(;av<ax;av++){ay=parseInt(az[av],10);if(isNaN(ay)||ay<aw.start||ay>aw.end||(ay===0&&aw.start<0)){return null}az[av]=ay}return az.sort(C)}function e(aA){var av=0,ay=aA.length,az,ax,aw;for(;av<ay;av++){az=aA[av];ax=az.length;aw=az.substring(ax-2).toUpperCase();aw=d[aw];if(aw===o){return null}aA[av]={offset:parseInt(az.substring(0,ax-2),10)||0,day:aw}}return aA}function G(aA){var aw=0,ay=aA.length,az,ax,av=[];for(;aw<ay;aw++){az=aA[aw];if(typeof az==="string"){ax=az}else{ax=""+t[az.day];if(az.offset){ax=az.offset+ax}}av.push(ax)}return av.toString()}function T(av){var aw=av.getMonth();if(aw===1){if(new Date(av.getFullYear(),1,29).getMonth()===1){return 29}return 28}return w[aw]}function q(av){av=av.getFullYear();return((av%4===0)&&(av%100!==0))||(av%400===0)}function C(aw,av){return aw-av}function ar(ay,aw){var av=0,az,ax,aA=[];if(ay){ay=ay.split(";");az=ay.length;for(;av<az;av++){ax=h(ay[av],aw);if(ax){aA.push(ax)}}}return aA}function Z(ay,ax,aw){var aB=aj.isArray(ay)?ay:ar(ay,aw),aA=ax.getTime()-ax.getMilliseconds(),av=0,az=aB.length;for(;av<az;av++){if(aB[av].getTime()===aA){return true}}return false}function am(aA,ax){var aw=0;var az;var ay;var av=[].concat(aA);for(az=av.length;aw<az;aw++){ay=av[aw];ay=m.timezone.convert(ay,ax||ay.getTimezoneOffset(),"Etc/UTC");av[aw]=m.toString(ay,ae)}return av.join(";")+";"}function r(ax,aw){var av=new Date(ax);switch(aw.freq){case"yearly":av.setFullYear(av.getFullYear(),0,1);break;case"monthly":av.setFullYear(av.getFullYear(),av.getMonth(),1);break;case"weekly":H(av,aw.weekStart,-1);break;default:break}if(aw.hours){av.setHours(0)}if(aw.minutes){av.setMinutes(0)}if(aw.seconds){av.setSeconds(0)}return av}function U(ax,aw){var av=new Date(ax);switch(aw.freq){case"yearly":av.setFullYear(av.getFullYear(),11,31);break;case"monthly":av.setFullYear(av.getFullYear(),av.getMonth()+1,0);break;case"weekly":H(av,aw.weekStart,-1);av.setDate(av.getDate()+6);break;default:break}if(aw.hours){av.setHours(23)}if(aw.minutes){av.setMinutes(59)}if(aw.seconds){av.setSeconds(59)}return av}function V(aF,aw,aD){var ay=aF.slice(aD._startIdx);var aC=ay.length;var az=aD.positions;var aB=[];var aA;var av;for(var aE=0,ax=az.length;aE<ax;aE++){aA=az[aE];if(aA<0){aA=aC+aA}else{aA-=1}av=ay[aA];if(av&&av.start>=aw){aB.push(av)}}aF=aF.slice(0,aD._startIdx).concat(aB);aD._startIdx=aF.length;return aF}function R(aQ,aA,ax,aU){var aE=X(aQ.recurrenceRule,aU),aK,ay,aS,aR,aP,aG,aO,aC,aJ,aL,aN,aH,aT,aV,aB,aW,aw,aD,az,aF,aM,av=[];if(!aE){return[aQ]}aF=aE.positions;aM=aF?0:1;aL=aE.start;aN=aE.end;if(aL||aN){aQ=aQ.clone({start:aL?new Date(aL.value[0]):o,end:aN?new Date(aN.value[0]):o})}aw=aQ.start;aW=aw.getTime();aB=I(aw);aV=ar(aQ.recurrenceException,aU);if(!aV[0]&&aE.exdates){aV=aE.exdates.value;aQ.set("recurrenceException",am(aV,aU))}aC=aA=new Date(aA);ax=new Date(ax);aT=aE.freq;az=f[aT];aD=aE.count;if(aE.until&&aE.until<ax){ax=new Date(aE.until)}aH=aT==="yearly"||aT==="monthly"||aT==="weekly";if(aA<aW||aD||aE.interval>1||aH){aA=new Date(aW)}else{aR=aA.getHours();aP=aA.getMinutes();aG=aA.getSeconds();if(!aE.hours){aR=aw.getHours()}if(!aE.minutes){aP=aw.getMinutes()}if(!aE.seconds){aG=aw.getSeconds()}aA.setHours(aR,aP,aG,aw.getMilliseconds())}aE._startPeriod=new Date(aA);if(aF){aA=r(aA,aE);ax=U(ax,aE);var aI=I(ax)-I(aA);if(aI<0){aR=aA.getHours();ax.setHours(aR,aA.getMinutes(),aA.getSeconds(),aA.getMilliseconds());ab.adjustDST(ax,aR)}aE._startPeriod=new Date(aA);aE._endPeriod=U(aA,aE);aE._startIdx=0}aO=aQ.duration();aE._startTime=aK=ab.toInvariantTime(aA);if(az.setup){az.setup(aE,aw,aA)}az.limit(aA,ax,aE);while(aA<=ax){aS=new Date(aA);g(aS,aO);aJ=aA>=aC||aS>aC;if(aJ&&!Z(aV,aA,aU)||aF){aK=ab.toUtcTime(ab.getDate(aA))+I(aE._startTime);ay=aK+aO;if(aW!==aA.getTime()||aB!==I(aE._startTime)){av.push(aQ.toOccurrence({start:new Date(aA),end:aS,_startTime:aK,_endTime:ay}))}else{aQ._startTime=aK;aQ._endTime=ay;av.push(aQ)}}if(aF){az.next(aA,aE);az.limit(aA,ax,aE);if(aA>aE._endPeriod){av=V(av,aw,aE);aE._endPeriod=U(aA,aE);aM=av.length}if(aD&&aD===aM){break}}else{if(aD&&aD===aM){break}aM++;az.next(aA,aE);az.limit(aA,ax,aE)}}return av}function h(aw,av){aw=m.parseDate(aw,s);if(aw&&av){aw=Q.convert(aw,aw.getTimezoneOffset(),av)}return aw}function L(az,aA){var av=az.split(";");var ay;var aE;var aC;var ax;var aF,aD;for(var aB=0,aw=av.length;aB<aw;aB++){ay=av[aB].split(":");aE=ay[0];aC=ay[1];if(aE.indexOf("TZID")!==-1){ax=aE.substring(aE.indexOf("TZID")).split("=")[1]}if(aC){aC=aC.split(",");for(aF=0,aD=aC.length;aF<aD;aF++){aC[aF]=h(aC[aF],ax||aA)}}}if(aC){return{value:aC,tzid:ax}}}function X(aA,aB){var aI={};var aD,aE;var aF=0,aw;var az=false;var aC,av,ay;var aH,aJ,ax;var aG=function(aL,aK){var aN=aL.day,aM=aK.day;if(aN<aJ){aN+=7}if(aM<aJ){aM+=7}return aN-aM};if(!aA){return null}ay=aA.split("\n");if(!ay[1]&&(aA.indexOf("DTSTART")!==-1||aA.indexOf("DTEND")!==-1||aA.indexOf("EXDATE")!==-1)){ay=aA.split(" ")}for(aF=0,aw=ay.length;aF<aw;aF++){av=aj.trim(ay[aF]);if(av.indexOf("DTSTART")!==-1){aI.start=L(av,aB)}else{if(av.indexOf("DTEND")!==-1){aI.end=L(av,aB)}else{if(av.indexOf("EXDATE")!==-1){aI.exdates=L(av,aB)}else{if(av.indexOf("RRULE")!==-1){aC=av.substring(6)}else{if(aj.trim(av)){aC=av}}}}}}aC=aC.split(";");for(aF=0,aw=aC.length;aF<aw;aF++){aH=aC[aF];aD=aH.split("=");aE=aj.trim(aD[1]).split(",");switch(aj.trim(aD[0]).toUpperCase()){case"FREQ":aI.freq=aE[0].toLowerCase();break;case"UNTIL":aI.until=h(aE[0],aB);break;case"COUNT":aI.count=parseInt(aE[0],10);break;case"INTERVAL":aI.interval=parseInt(aE[0],10);break;case"BYSECOND":aI.seconds=aq(aE,{start:0,end:60});az=true;break;case"BYMINUTE":aI.minutes=aq(aE,{start:0,end:59});az=true;break;case"BYHOUR":aI.hours=aq(aE,{start:0,end:23});az=true;break;case"BYMONTHDAY":aI.monthDays=aq(aE,{start:-31,end:31});az=true;break;case"BYYEARDAY":aI.yearDays=aq(aE,{start:-366,end:366});az=true;break;case"BYMONTH":aI.months=aq(aE,{start:1,end:12});az=true;break;case"BYDAY":aI.weekDays=ax=e(aE);az=true;break;case"BYWEEKNO":aI.weeks=aq(aE,{start:-53,end:53});az=true;break;case"BYSETPOS":aI.positions=aq(aE,{start:-366,end:366});break;case"WKST":aI.weekStart=aJ=d[aE[0]];break}}if(aI.freq===o||(aI.count!==o&&aI.until)){return null}if(!aI.interval){aI.interval=1}if(aJ===o){aI.weekStart=aJ=m.culture().calendar.firstDay}if(ax){aI.weekDays=ax.sort(aG)}if(aI.positions&&!az){aI.positions=null}aI._hasRuleValue=az;return aI}function c(az,aw){var ay=az.value;var aB=az.tzid||"";var ax=ay.length;var av=0;var aA;for(;av<ax;av++){aA=ay[av];aA=Q.convert(aA,aB||aw||aA.getTimezoneOffset(),"Etc/UTC");ay[av]=m.toString(aA,"yyyyMMddTHHmmssZ")}if(aB){aB=";TZID="+aB}return aB+":"+ay.join(",")+" "}function a(aA,ay){var ax=aA.weekStart;var az="FREQ="+aA.freq.toUpperCase();var av=aA.exdates||"";var aC=aA.start||"";var aw=aA.end||"";var aB=aA.until;if(aA.interval>1){az+=";INTERVAL="+aA.interval}if(aA.count){az+=";COUNT="+aA.count}if(aB){aB=Q.convert(aB,ay||aB.getTimezoneOffset(),"Etc/UTC");az+=";UNTIL="+m.toString(aB,"yyyyMMddTHHmmssZ")}if(aA.months){az+=";BYMONTH="+aA.months}if(aA.weeks){az+=";BYWEEKNO="+aA.weeks}if(aA.yearDays){az+=";BYYEARDAY="+aA.yearDays}if(aA.monthDays){az+=";BYMONTHDAY="+aA.monthDays}if(aA.weekDays){az+=";BYDAY="+G(aA.weekDays)}if(aA.hours){az+=";BYHOUR="+aA.hours}if(aA.minutes){az+=";BYMINUTE="+aA.minutes}if(aA.seconds){az+=";BYSECOND="+aA.seconds}if(aA.positions){az+=";BYSETPOS="+aA.positions}if(ax!==o){az+=";WKST="+t[ax]}if(aC){aC="DTSTART"+c(aC,ay)}if(aw){aw="DTEND"+c(aw,ay)}if(av){av="EXDATE"+c(av,ay)}if(aC||aw||av){az=aC+aw+av+"RRULE:"+az}return az}m.recurrence={rule:{parse:X,serialize:a},expand:R,dayInYear:b,weekInYear:ag,weekInMonth:z,numberOfWeeks:ah,isException:Z,toExceptionString:am};var y=function(ay){var az=m.culture().calendar.days.namesShort,aA=az.length,aw="",av=0,ax=[];for(;av<aA;av++){ax.push(av)}az=az.slice(ay).concat(az.slice(0,ay));ax=ax.slice(ay).concat(ax.slice(0,ay));for(av=0;av<aA;av++){aw+='<label class="k-check"><input class="k-recur-weekday-checkbox" type="checkbox" value="'+ax[av]+'" /> '+az[av]+"</label>"}return aw};var k=m.template('# if (frequency !== "never") { #<div class="k-edit-label"><label>#:messages.repeatEvery#</label></div><div class="k-edit-field"><input class="k-recur-interval"/>#:messages.interval#</div># } ## if (frequency === "weekly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field">#=weekDayCheckBoxes(firstWeekDay)#</div># } else if (frequency === "monthly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field"><ul class="k-reset"><li><label><input class="k-recur-month-radio" type="radio" name="month" value="monthday" />#:messages.day#</label><input class="k-recur-monthday" /></li><li><input class="k-recur-month-radio" type="radio" name="month" value="weekday" /><input class="k-recur-weekday-offset" /><input class="k-recur-weekday" /></li></ul></div># } else if (frequency === "yearly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field"><ul class="k-reset"><li><input class="k-recur-year-radio" type="radio" name="year" value="monthday" /><input class="k-recur-month" /><input class="k-recur-monthday" /></li><li><input class="k-recur-year-radio" type="radio" name="year" value="weekday" /><input class="k-recur-weekday-offset" /><input class="k-recur-weekday" />#:messages.of#<input class="k-recur-month" /></li></ul></div># } ## if (frequency !== "never") { #<div class="k-edit-label"><label>#:end.label#</label></div><div class="k-edit-field"><ul class="k-reset"><li><label><input class="k-recur-end-never" type="radio" name="end" value="never" />#:end.never#</label></li><li><label><input class="k-recur-end-count" type="radio" name="end" value="count" />#:end.after#</label><input class="k-recur-count" />#:end.occurrence#</li><li><label><input class="k-recur-end-until" type="radio" name="end" value="until" />#:end.on#</label><input class="k-recur-until" /></li></ul></div># } #');var ao=[{day:0,offset:0},{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0},{day:6,offset:0}];var J=[{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0}];var B=[{day:0,offset:0},{day:6,offset:0}];var ac=j.extend({init:function(aw,av){var az;var ax=this;var ay=av&&av.frequencies;j.fn.init.call(ax,aw,av);ax.wrapper=ax.element;av=ax.options;av.start=az=av.start||ab.today();if(ay){av.frequencies=ay}if(typeof az==="string"){av.start=m.parseDate(az,"yyyyMMddTHHmmss")}if(av.firstWeekDay===null){av.firstWeekDay=m.culture().calendar.firstDay}ax._namespace="."+av.name},options:{value:"",start:"",timezone:"",spinners:true,firstWeekDay:null,frequencies:["never","daily","weekly","monthly","yearly"],mobile:false,messages:{frequencies:{never:"Never",hourly:"Hourly",daily:"Daily",weekly:"Weekly",monthly:"Monthly",yearly:"Yearly"},hourly:{repeatEvery:"Repeat every: ",interval:" hour(s)"},daily:{repeatEvery:"Repeat every: ",interval:" day(s)"},weekly:{interval:" week(s)",repeatEvery:"Repeat every: ",repeatOn:"Repeat on: "},monthly:{repeatEvery:"Repeat every: ",repeatOn:"Repeat on: ",interval:" month(s)",day:"Day "},yearly:{repeatEvery:"Repeat every: ",repeatOn:"Repeat on: ",interval:" year(s)",of:" of "},end:{label:"End:",mobileLabel:"Ends",never:"Never",after:"After ",occurrence:" occurrence(s)",on:"On "},offsetPositions:{first:"first",second:"second",third:"third",fourth:"fourth",last:"last"},weekdays:{day:"day",weekday:"weekday",weekend:"weekend day"}}},events:["change"],_initInterval:function(){var av=this;var aw=av._value;av._container.find(".k-recur-interval").kendoNumericTextBox({spinners:av.options.spinners,value:aw.interval||1,decimals:0,format:"#",min:1,change:function(){aw.interval=this.value();av._trigger()}})},_weekDayRule:function(av){var ax=this;var ay=(ax._weekDay.element||ax._weekDay).val();var aA=Number((ax._weekDayOffset.element||ax._weekDayOffset).val());var az=null;var aw=null;if(!av){if(ay==="day"){az=ao;aw=aA}else{if(ay==="weekday"){az=J;aw=aA}else{if(ay==="weekend"){az=B;aw=aA}else{az=[{offset:aA,day:Number(ay)}]}}}}ax._value.weekDays=az;ax._value.positions=aw},_weekDayView:function(){var aA=this;var aB=aA._value.weekDays;var aw=aA._value.positions;var ax=aA._weekDayOffset;var ay;var av;var az;var aC;if(aB){az=aB.length;if(aw){if(az===7){av="day";ay=aw}else{if(az===5){av="weekday";ay=aw}else{if(az===2){av="weekend";ay=aw}}}}if(!av){aB=aB[0];av=aB.day;ay=aB.offset||""}aC=ax.value?"value":"val";ax[aC](ay);aA._weekDay[aC](av)}},_initWeekDay:function(){var ay=this,az;var av=ay.options.messages.weekdays;var ax=ay.options.messages.offsetPositions;var aw=ay._container.find(".k-recur-weekday");var aA=function(){ay._weekDayRule();ay._trigger()};if(aw[0]){ay._weekDayOffset=new W(ay._container.find(".k-recur-weekday-offset"),{change:aA,dataTextField:"text",dataValueField:"value",dataSource:[{text:ax.first,value:"1"},{text:ax.second,value:"2"},{text:ax.third,value:"3"},{text:ax.fourth,value:"4"},{text:ax.last,value:"-1"}]});az=[{text:av.day,value:"day"},{text:av.weekday,value:"weekday"},{text:av.weekend,value:"weekend"}];ay._weekDay=new W(aw,{value:ay.options.start.getDay(),change:aA,dataTextField:"text",dataValueField:"value",dataSource:az.concat(aj.map(m.culture().calendar.days.names,function(aC,aB){return{text:aC,value:aB}}))});ay._weekDayView()}},_initWeekDays:function(){var aA=this;var aB=aA._value;var aC=aA._container.find(".k-recur-weekday-checkbox");if(aC[0]){aC.on(ai+aA._namespace,function(){aB.weekDays=aj.map(aC.filter(":checked"),function(aD){return{day:Number(aD.value),offset:0}});if(!aA.options.mobile){aA._trigger()}});if(aB.weekDays){var av,ax;var ay=0,aw=aC.length;var az=aB.weekDays.length;for(;ay<aw;ay++){ax=aC[ay];for(av=0;av<az;av++){if(ax.value==aB.weekDays[av].day){ax.checked=true}}}}}},_initMonthDay:function(){var aw=this;var ax=aw._value;var av=aw._container.find(".k-recur-monthday");if(av[0]){aw._monthDay=new m.ui.NumericTextBox(av,{spinners:aw.options.spinners,min:1,max:31,decimals:0,format:"#",value:ax.monthDays?ax.monthDays[0]:aw.options.start.getDate(),change:function(){var ay=this.value();ax.monthDays=ay?[ay]:ay;aw._trigger()}})}},_initCount:function(){var aw=this,av=aw._container.find(".k-recur-count"),ax=aw._value;aw._count=av.kendoNumericTextBox({spinners:aw.options.spinners,value:ax.count||1,decimals:0,format:"#",min:1,change:function(){ax.count=this.value();aw._trigger()}}).data("kendoNumericTextBox")},_initUntil:function(){var aw=this,av=aw._container.find(".k-recur-until"),az=aw.options.start,ax=aw._value,ay=ax.until;aw._until=av.kendoDatePicker({min:ay&&ay<az?ay:az,value:ay||az,change:function(){ax.until=this.value();aw._trigger()}}).data("kendoDatePicker")},_trigger:function(){if(!this.options.mobile){this.trigger("change")}}});var Y=ac.extend({init:function(aw,av){var ax=this;ac.fn.init.call(ax,aw,av);ax._initFrequency();ax._initContainer();ax.value(ax.options.value)},options:{name:"RecurrenceEditor"},events:["change"],destroy:function(){var av=this;av._frequency.destroy();av._container.find("input[type=radio],input[type=checkbox]").off(ai+av._namespace);m.destroy(av._container);ac.fn.destroy.call(av)},value:function(ax){var aw=this,av=aw.options.timezone;if(ax===o){if(!aw._value.freq){return""}return a(aw._value,av)}aw._value=X(ax,av)||{};aw._frequency.value(aw._value.freq||"");aw._initView(aw._frequency.value())},_initContainer:function(){var aw=this.element,av=aj('<div class="k-recur-view" />'),ax=aw.parent(".k-edit-field");if(ax[0]){av.insertAfter(ax)}else{aw.append(av)}this._container=av},_initFrequency:function(){var ax=this,av=ax.options,az=av.frequencies,aw=av.messages.frequencies,aA=aj("<input />"),ay;az=aj.map(az,function(aB){return{text:aw[aB],value:aB}});ay=az[0];if(ay&&ay.value==="never"){ay.value=""}ax.element.append(aA);ax._frequency=new W(aA,{dataTextField:"text",dataValueField:"value",dataSource:az,change:function(){ax._value={};ax._initView(ax._frequency.value());ax.trigger("change")}})},_initView:function(az){var aw=this;var ay=aw._value;var av=aw.options;var ax={frequency:az||"never",weekDayCheckBoxes:y,firstWeekDay:av.firstWeekDay,messages:av.messages[az],end:av.messages.end};m.destroy(aw._container);aw._container.html(k(ax));if(!az){aw._value={};return}ay.freq=az;if(az==="weekly"&&!ay.weekDays){ay.weekDays=[{day:av.start.getDay(),offset:0}]}aw._initInterval();aw._initWeekDays();aw._initMonthDay();aw._initWeekDay();aw._initMonth();aw._initCount();aw._initUntil();aw._period();aw._end()},_initMonth:function(){var ax=this;var az=ax._value;var ay=az.months||[ax.options.start.getMonth()+1];var av=ax._container.find(".k-recur-month");var aw;if(av[0]){aw={change:function(){az.months=[Number(this.value())];ax.trigger("change")},dataTextField:"text",dataValueField:"value",dataSource:aj.map(m.culture().calendar.months.names,function(aB,aA){return{text:aB,value:aA+1}})};ax._month1=new W(av[0],aw);ax._month2=new W(av[1],aw);if(ay){ay=ay[0];ax._month1.value(ay);ax._month2.value(ay)}}},_end:function(){var az=this;var aA=az._value;var av=az._container;var ax=az._namespace;var ay=function(aB){az._toggleEnd(aB.currentTarget.value);az.trigger("change")};var aw;az._buttonNever=av.find(".k-recur-end-never").on(ai+ax,ay);az._buttonCount=av.find(".k-recur-end-count").on(ai+ax,ay);az._buttonUntil=av.find(".k-recur-end-until").on(ai+ax,ay);if(aA.count){aw="count"}else{if(aA.until){aw="until"}}az._toggleEnd(aw)},_period:function(){var az=this;var aA=az._value;var aw=aA.freq==="monthly";var ay=aw?az._toggleMonthDay:az._toggleYear;var av=".k-recur-"+(aw?"month":"year")+"-radio";var ax=az._container.find(av);if(!aw&&aA.freq!=="yearly"){return}ax.on(ai+az._namespace,function(aB){ay.call(az,aB.currentTarget.value);az.trigger("change")});az._buttonMonthDay=ax.eq(0);az._buttonWeekDay=ax.eq(1);ay.call(az,aA.weekDays?"weekday":"monthday")},_toggleEnd:function(aw){var az=this;var ay,aA;var av,ax;if(aw==="count"){az._buttonCount.prop("checked",true);av=true;ax=false;ay=az._count.value();aA=null}else{if(aw==="until"){az._buttonUntil.prop("checked",true);av=false;ax=true;ay=null;aA=az._until.value()}else{az._buttonNever.prop("checked",true);av=ax=false;ay=aA=null}}az._count.enable(av);az._until.enable(ax);az._value.count=ay;az._value.until=aA},_toggleMonthDay:function(az){var ay=this;var ax=false;var aw=true;var av=false;var aA;if(az==="monthday"){ay._buttonMonthDay.prop("checked",true);aA=[ay._monthDay.value()];ax=true;aw=false;av=true}else{ay._buttonWeekDay.prop("checked",true);aA=null}ay._weekDay.enable(aw);ay._weekDayOffset.enable(aw);ay._monthDay.enable(ax);ay._value.monthDays=aA;ay._weekDayRule(av)},_toggleYear:function(az){var ax=this;var aw=false;var av=true;var ay;if(az==="monthday"){aw=true;av=false;ay=ax._month1.value()}else{ay=ax._month2.value()}ax._month1.enable(aw);ax._month2.enable(av);ax._value.months=[ay];ax._toggleMonthDay(az)}});D.plugin(Y);var N=m.template('<div class="k-edit-label"><label>#:headerTitle#</label></div><div class="k-edit-field k-recur-pattern k-scheduler-toolbar"></div><div class="k-recur-view"></div>');var au=m.template('# if (frequency !== "never") { #<div class="k-edit-label"><label>#:messages.repeatEvery#</label></div><div class="k-edit-field"><input class="k-recur-interval" pattern="\\\\d*"/>#:messages.interval#</div># } ## if (frequency === "weekly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field">#=weekDayCheckBoxes(firstWeekDay)#</div># } else if (frequency === "monthly") { #<div class="k-edit-label"><label>#:messages.repeatBy#</label></div><div class="k-edit-field k-scheduler-toolbar k-repeat-rule"></div><div class="k-monthday-view" style="display:none"><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><input class="k-recur-monthday" pattern="\\\\d*"/></div></div><div class="k-weekday-view" style="display:none"><div class="k-edit-label"><label>#:messages.every#</label></div><div class="k-edit-field"><select class="k-recur-weekday-offset"></select></div><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><select class="k-recur-weekday"></select></div></div># } else if (frequency === "yearly") { #<div class="k-edit-label"><label>#:messages.repeatBy#</label></div><div class="k-edit-field k-scheduler-toolbar k-repeat-rule"></div><div class="k-monthday-view" style="display:none"><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><input class="k-recur-monthday" pattern="\\\\d*"/></div></div><div class="k-weekday-view" style="display:none"><div class="k-edit-label"><label>#:messages.every#</label></div><div class="k-edit-field"><select class="k-recur-weekday-offset"></select></div><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><select class="k-recur-weekday"></select></div></div><div class="k-edit-label"><label>#:messages.month#</label></div><div class="k-edit-field"><select class="k-recur-month"></select></div># } #');var l=m.template('# if (endPattern === "count") { #<div class="k-edit-label"><label>#:messages.after#</label></div><div class="k-edit-field"><input class="k-recur-count" pattern="\\\\d*" /></div># } else if (endPattern === "until") { #<div class="k-edit-label"><label>#:messages.on#</label></div><div class="k-edit-field"><input type="date" class="k-recur-until" /></div># } #');var K=m.template('<ul class="k-reset k-header k-scheduler-navigation">#for (var i = 0, length = dataSource.length; i < length; i++) {#<li class="k-state-default #= value === dataSource[i].value ? "k-state-selected" : "" #"><a role="button" href="\\#" class="k-link" data-#=ns#value="#=dataSource[i].value#">#:dataSource[i].text#</a></li>#}#</ul>');var aa=ac.extend({init:function(aw,av){var ax=this;ac.fn.init.call(ax,aw,av);av=ax.options;ax._optionTemplate=m.template('<option value="#:value#">#:text#</option>');ax.value(av.value);ax._pane=av.pane;ax._initRepeatButton();ax._initRepeatEnd();ax._defaultValue=ax._value},options:{name:"MobileRecurrenceEditor",animations:{left:"slide",right:"slide:right"},mobile:true,messages:{cancel:"Cancel",update:"Save",endTitle:"Repeat ends",repeatTitle:"Repeat pattern",headerTitle:"Repeat event",end:{patterns:{never:"Never",after:"After...",on:"On..."},never:"Never",after:"End repeat after",on:"End repeat on"},daily:{interval:""},hourly:{interval:""},weekly:{interval:""},monthly:{interval:"",repeatBy:"Repeat by: ",dayOfMonth:"Day of the month",dayOfWeek:"Day of the week",repeatEvery:"Repeat every",every:"Every",day:"Day "},yearly:{interval:"",repeatBy:"Repeat by: ",dayOfMonth:"Day of the month",dayOfWeek:"Day of the week",repeatEvery:"Repeat every: ",every:"Every",month:"Month",day:"Day"}}},events:["change"],value:function(ax){var aw=this;var av=aw.options.timezone;if(ax===o){if(!aw._value.freq){return""}return a(aw._value,av)}aw._value=X(ax,av)||{}},destroy:function(){this._destroyView();m.destroy(this._endFields);this._repeatButton.off(ai+this._namespace);ac.fn.destroy.call(this)},_initRepeatButton:function(){var av=this;var aw=av.options.messages.frequencies[this._value.freq||"never"];av._repeatButton=aj('<a href="#" class="k-button k-scheduler-recur">'+aw+"</a>").on(ai+av._namespace,function(ax){ax.preventDefault();av._createView("repeat");av._pane.navigate("recurrence",av.options.animations.left)});av.element.append(av._repeatButton)},_initRepeatEnd:function(){var aw=this;var av=aj('<div class="k-edit-label"><label>'+aw.options.messages.end.mobileLabel+"</label></div>").insertAfter(aw.element.parent(".k-edit-field"));var ax=aj('<div class="k-edit-field"><a href="#" class="k-button k-scheduler-recur-end"></a></div>').on(ai+aw._namespace,function(ay){ay.preventDefault();if(!aw._value.freq){return}aw._createView("end");aw._pane.navigate("recurrence",aw.options.animations.left)}).insertAfter(av);aw._endFields=av.add(ax).toggleClass("k-state-disabled",!aw._value.freq);aw._endButton=ax.find(".k-scheduler-recur-end").text(aw._endText())},_endText:function(){var aw=this._value;var av=this.options.messages.end;var ax=av.never;if(aw.count){ax=m.format("{0} {1}",av.after,aw.count)}else{if(aw.until){ax=m.format("{0} {1:d}",av.on,aw.until)}}return ax},_initFrequency:function(){var aw=this;var ax=aw.options.messages.frequencies;var av=K({dataSource:aj.map(this.options.frequencies,function(ay){return{text:ax[ay],value:ay!=="never"?ay:""}}),value:aw._value.freq||"",ns:m.ns});aw._view.element.find(".k-recur-pattern").append(av).on(ai+aw._namespace,".k-scheduler-navigation li",function(az){var ay=aj(this);az.preventDefault();ay.addClass("k-state-selected").siblings().removeClass("k-state-selected");aw._value={freq:ay.children("a").attr(m.attr("value"))};aw._initRepeatView()})},_initEndNavigation:function(){var ax=this;var av=ax.options.messages.end.patterns;var az=ax._value;var ay="";if(az.count){ay="count"}else{if(az.until){ay="until"}}var aw=K({dataSource:[{text:av.never,value:""},{text:av.after,value:"count"},{text:av.on,value:"until"}],value:ay,ns:m.ns});ax._view.element.find(".k-recur-pattern").append(aw).on(ai+ax._namespace,".k-scheduler-navigation li",function(aC){var aA=aj(this);var aB=null;var aD=null;aC.preventDefault();aA.addClass("k-state-selected").siblings().removeClass("k-state-selected");ax._initEndView(aA.children("a").attr(m.attr("value")));if(ax._count){aB=ax._count.value();aD=null}else{if(ax._until){aB=null;aD=ax._until.val?m.parseDate(ax._until.val(),"yyyy-MM-dd"):ax._until.value()}}az.count=aB;az.until=aD})},_createView:function(av){var az=this;var aw=az.options;var ay=aw.messages;var aA=ay[av==="repeat"?"repeatTitle":"endTitle"];var ax='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list" id="recurrence"><div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">'+ay.cancel+"</a>"+ay.headerTitle+'<a href="#" class="k-button k-scheduler-update">'+ay.update+"</a></div>";var aB=az._pane.view().id;az._view=az._pane.append(ax+N({headerTitle:aA}));az._view.element.on(ai+az._namespace,"a.k-scheduler-cancel, a.k-scheduler-update",function(aD){aD.preventDefault();aD.stopPropagation();if(aj(this).hasClass("k-scheduler-update")){az.trigger("change");az._defaultValue=aj.extend({},az._value)}else{az._value=az._defaultValue}var aC=az._value.freq;az._endButton.text(az._endText());az._endFields.toggleClass("k-state-disabled",!aC);az._repeatButton.text(ay.frequencies[aC||"never"]);az._pane.one("viewShow",function(){az._destroyView()});az._pane.navigate(aB,az.options.animations.right)});az._container=az._view.element.find(".k-recur-view");if(av==="repeat"){az._initFrequency();az._initRepeatView()}else{az._initEndNavigation();az._initEndView()}},_destroyView:function(){if(this._view){this._view.destroy();this._view.element.remove()}this._view=null},_initRepeatView:function(){var ax=this;var aA=ax._value.freq||"never";var ay={frequency:aA,weekDayCheckBoxes:y,firstWeekDay:ax.options.firstWeekDay,messages:ax.options.messages[aA]};var aw=au(ay);var av=ax._container;var az=ax._value;m.destroy(av);av.html(aw);if(!aw){ax._value={};return}if(aA==="weekly"&&!az.weekDays){az.weekDays=[{day:ax.options.start.getDay(),offset:0}]}ax._initInterval();ax._initMonthDay();ax._initWeekDays();ax._initWeekDay();ax._initMonth();ax._period()},_initEndView:function(ax){var av=this;var ay=av._value;if(ax===o){if(ay.count){ax="count"}else{if(ay.until){ax="until"}}}var aw={endPattern:ax,messages:av.options.messages.end};m.destroy(av._container);av._container.html(l(aw));av._initCount();av._initUntil()},_initWeekDay:function(){var ay=this,az;var av=ay.options.messages.weekdays;var ax=ay.options.messages.offsetPositions;var aw=ay._container.find(".k-recur-weekday");var aA=function(){ay._weekDayRule();ay.trigger("change")};if(aw[0]){ay._weekDayOffset=ay._container.find(".k-recur-weekday-offset").html(ay._options([{text:ax.first,value:"1"},{text:ax.second,value:"2"},{text:ax.third,value:"3"},{text:ax.fourth,value:"4"},{text:ax.last,value:"-1"}])).change(aA);az=[{text:av.day,value:"day"},{text:av.weekday,value:"weekday"},{text:av.weekend,value:"weekend"}];az=az.concat(aj.map(m.culture().calendar.days.names,function(aC,aB){return{text:aC,value:aB}}));ay._weekDay=aw.html(ay._options(az)).change(aA).val(ay.options.start.getDay());ay._weekDayView()}},_initMonth:function(){var ax=this;var aA=ax._value;var aB=ax.options.start;var az=aA.months||[aB.getMonth()+1];var av=ax._container.find(".k-recur-month");var aw=m.culture().calendar.months.names;if(av[0]){var ay=aj.map(aw,function(aD,aC){return{text:aD,value:aC+1}});av.html(ax._options(ay)).change(function(){aA.months=[Number(this.value)]});ax._monthSelect=av;if(az){av.val(az[0])}}},_period:function(){var aB=this;var aC=aB._value;var ax=aB._container;var az=aB.options.messages[aC.freq];var av=ax.find(".k-repeat-rule");var aw=ax.find(".k-weekday-view");var ay=ax.find(".k-monthday-view");if(av[0]){var aD=aC.weekDays?"weekday":"monthday";var aA=K({value:aD,dataSource:[{text:az.dayOfMonth,value:"monthday"},{text:az.dayOfWeek,value:"weekday"}],ns:m.ns});var aE=function(aJ){var aG=aB._weekDay.val();var aF=aB._weekDayOffset.val();var aH=aB._monthDay.value();var aI=aB._monthSelect?aB._monthSelect.val():null;if(aJ==="monthday"){aC.weekDays=null;aC.monthDays=aH?[aH]:aH;aC.months=aI?[Number(aI)]:aI;aw.hide();ay.show()}else{aC.monthDays=null;aC.months=aI?[Number(aI)]:aI;aC.weekDays=[{offset:Number(aF),day:Number(aG)}];aw.show();ay.hide()}};av.append(aA).on(ai+aB._namespace,".k-scheduler-navigation li",function(aH){var aF=aj(this).addClass("k-state-selected");aH.preventDefault();aF.siblings().removeClass("k-state-selected");var aG=aF.children("a").attr(m.attr("value"));aE(aG)});aE(aD)}},_initUntil:function(){var ax=this;var av=ax._container.find(".k-recur-until");var aA=ax.options.start;var ay=ax._value;var az=ay.until;var aw=az&&az<aA?az:aA;if(m.support.input.date){ax._until=av.attr("min",m.toString(aw,"yyyy-MM-dd")).val(m.toString(az||aA,"yyyy-MM-dd")).on("change",function(){ay.until=m.parseDate(this.value,"yyyy-MM-dd")})}else{ax._until=av.kendoDatePicker({min:aw,value:az||aA,change:function(){ay.until=this.value()}}).data("kendoDatePicker")}},_options:function(aA,az){var av=0;var aw="";var ay=aA.length;var ax=this._optionTemplate;if(az){aw+=ax({value:"",text:az})}for(;av<ay;av++){aw+=ax(aA[av])}return aw}});D.plugin(aa)})(window.kendo.jQuery);(function(d,f){var n=window.kendo,m=n.ui,l=n.date.setTime,a=m.SchedulerView,s=d.extend,q=d.proxy,j=n.date.getDate,t=n.date.getMilliseconds,b=n.date.MS_PER_DAY,e=n.date.MS_PER_MINUTE,r=".kendoTimelineView";var h=n.template('<div><div class="k-event-template k-event-time">#:kendo.format("{0:t} - {1:t}", start, end)#</div><div class="k-event-template">${title}</div></div>'),i=n.template("<span class='k-link k-nav-day'>#=kendo.format('{0:m}', date)#</span>"),u='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"#if (resources[0]) { #style="background-color:#=resources[0].color#; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#" #} else {#class="k-event"#}#><span class="k-event-actions"># if(data.tail) {#<span class="k-icon k-i-arrow-w"></span>#}## if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}## if(data.head) {#<span class="k-icon k-i-arrow-e"></span>#}#</span>#if(resizable && !data.tail){#<span class="k-resize-handle k-resize-w"></span>#}##if(resizable && !data.head){#<span class="k-resize-handle k-resize-e"></span>#}#</div>';function c(v){var w=new Date(1980,1,1,0,0,0);l(w,t(v));return w}function k(x,w,v){return x>=w&&x<=v}function g(v){var w=[];var x=v.workWeekStart;w.push(x);while(v.workWeekEnd!=x){if(x>6){x-=7}else{x++}w.push(x)}return w}function p(v){var x=0;if(v.columns){for(var w=0;w<v.columns.length;w++){x+=p(v.columns[w])}v.colspan=x;return x}else{v.colspan=1;return 1}}var o=a.extend({init:function(w,v){var x=this;a.fn.init.call(x,w,v);x.title=x.options.title||x.options.name;x._workDays=g(x.options);x._templates();x._editable();x.calculateDateRange();x._groups();x._currentTime()},name:"timeline",_currentTimeMarkerUpdater:function(){var w=new Date();var H=this.options;this.datesHeader.find(".k-current-time").remove();if(!this._isInDateSlot({start:w,end:w})){return}if(H.currentTimeMarker.useLocalTimezone===false){var B=H.dataSource.options.schema.timezone;if(H.dataSource&&B){var E=n.timezone.offset(w,B);w=n.timezone.convert(w,w.getTimezoneOffset(),E)}}var x=!H.group||H.group.orientation=="vertical"?1:this.groups.length;for(var F=0;F<x;F++){var G=this.groups[F];var D=n.date.toUtcTime(w);var v=G.timeSlotRanges(D,D+1);if(v.length===0){return}var A=v[0].collection;var z=A.slotByStartDate(w);if(z){var y=d("<div class='k-current-time'></div>");var C=this.datesHeader;y.appendTo(C.find(".k-scheduler-header-wrap")).css({left:Math.round(v[0].innerRect(w,new Date(w.getTime()+1),false).left),width:"1px",bottom:"1px",top:0})}}},_currentTime:function(){var w=this;var v=w.options.currentTimeMarker;if(v!==false&&v.updateInterval!==f){var x=v.updateInterval;w._currentTimeMarkerUpdater();w._currentTimeUpdateTimer=setInterval(q(this._currentTimeMarkerUpdater,w),x)}},_editable:function(){if(this.options.editable){if(this._isMobile()){this._touchEditable()}else{this._mouseEditable()}}},_mouseEditable:function(){var v=this;v.element.on("click"+r,".k-event a:has(.k-si-close)",function(w){v.trigger("remove",{uid:d(this).closest(".k-event").attr(n.attr("uid"))});w.preventDefault()});if(v.options.editable.create!==false){v.element.on("dblclick"+r,".k-scheduler-content td",function(w){var y=v._slotByPosition(w.pageX,w.pageY);if(y){var x=v._resourceBySlot(y);v.trigger("add",{eventInfo:s({start:y.startDate(),end:y.endDate()},x)})}w.preventDefault()})}if(v.options.editable.update!==false){v.element.on("dblclick"+r,".k-event",function(w){v.trigger("edit",{uid:d(this).closest(".k-event").attr(n.attr("uid"))});w.preventDefault()})}},_touchEditable:function(){var v=this;if(v.options.editable.create!==false){v._addUserEvents=new n.UserEvents(v.element,{filter:".k-scheduler-content td",tap:function(w){var y=v._slotByPosition(w.x.location,w.y.location);if(y){var x=v._resourceBySlot(y);v.trigger("add",{eventInfo:s({start:y.startDate(),end:y.endDate()},x)})}w.preventDefault()}})}if(v.options.editable.update!==false){v._editUserEvents=new n.UserEvents(v.element,{filter:".k-event",tap:function(x){var w=d(x.target).closest(".k-event");if(!w.hasClass("k-event-active")){v.trigger("edit",{uid:w.attr(n.attr("uid"))})}x.preventDefault()}})}},_slotByPosition:function(v,E){var D;var z=this.content;var C=z.offset();var B;var A;v-=C.left;E-=C.top;if(this._isRtl){var w=n.support.browser;if(w.mozilla){v+=(z[0].scrollWidth-z[0].offsetWidth);v+=z[0].scrollLeft}else{if(w.msie){v-=z.scrollLeft();v+=z[0].scrollWidth-this.content[0].offsetWidth}else{if(w.webkit){v+=z[0].scrollLeft}}}}else{v+=z[0].scrollLeft}E+=z[0].scrollTop;v=Math.ceil(v);E=Math.ceil(E);for(A=0;A<this.groups.length;A++){B=this.groups[A];D=B.timeSlotByPosition(v,E);if(D){return D}}return null},options:{name:"TimelineView",title:"Timeline",selectedDateFormat:"{0:D}",date:n.date.today(),startTime:n.date.today(),endTime:n.date.today(),showWorkHours:false,minorTickCount:2,editable:true,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,majorTick:60,eventHeight:25,columnWidth:100,groupHeaderTemplate:"#=text#",majorTimeHeaderTemplate:"#=kendo.toString(date, 't')#",slotTemplate:"&nbsp;",eventTemplate:h,dateHeaderTemplate:i,footer:{command:"workDay"},currentTimeMarker:{updateInterval:10000,useLocalTimezone:true},messages:{defaultRowText:"All events",showFullDay:"Show full day",showWorkDay:"Show business hours"}},events:["remove","add","edit"],_templates:function(){var v=this.options,w=s({},n.Template,v.templateSettings);this.eventTemplate=this._eventTmpl(v.eventTemplate,u);this.majorTimeHeaderTemplate=n.template(v.majorTimeHeaderTemplate,w);this.dateHeaderTemplate=n.template(v.dateHeaderTemplate,w);this.slotTemplate=n.template(v.slotTemplate,w);this.groupHeaderTemplate=n.template(v.groupHeaderTemplate,w)},_render:function(w){var v=this;w=w||[];v._dates=w;v._startDate=w[0];v._endDate=w[(w.length-1)||0];v._calculateSlotRanges();v.createLayout(v._layout(w));v._content(w);v._footer();v._setContentWidth();v.refreshLayout();v.datesHeader.on("click"+r,".k-nav-day",function(y){var x=d(y.currentTarget).closest("th");var z=v._slotByPosition(x.offset().left,v.content.offset().top);v.trigger("navigate",{view:"timeline",date:z.startDate()})});v.timesHeader.find("table tr:last").hide();v.datesHeader.find("table tr:last").hide()},_setContentWidth:function(){var z=this.content;var w=z.width();var x=this.content.find("table");var A=x.find("tr:first").children().length;var y=100;var v=A*this.options.columnWidth;if(w<v){y=Math.ceil((v/w)*100)}x.add(this.datesHeader.find("table")).css("width",y+"%")},_calculateSlotRanges:function(){var A=this._dates;var w=this.startTime();var B=this.endTime();if(t(B)===t(n.date.getDate(B))){B=n.date.getDate(B);l(B,b-1)}B=t(B);w=t(w);var z=[];for(var v=0;v<A.length;v++){var y=j(A[v]);l(y,w);var x=j(A[v]);l(x,B);z.push({start:n.date.toUtcTime(y),end:n.date.toUtcTime(x)})}this._slotRanges=z},_forTimeRange:function(K,M,L,x){K=c(K);M=c(M);var C=this,D=t(K),E=t(M),A=C.options.minorTickCount,P=C.options.majorTick*e,N=P/A||1,z=new Date(+K),F=z.getDate(),v,J=0,y,G="";y=b/N;if(D!=E){if(D>E){E+=b}y=((E-D)/N)}y=Math.round(y);for(;J<y;J++){var Q=J%(P/N);var B=Q===0;var w=Q<A-1;var I=Q===A-1;var O=A;if(y%A!==0){var H=(y-(J+1))<A;if(B&&H){O=y%A}}G+=L(z,B,w,I,O);l(z,N,false)}if(E){v=t(z);if(F<z.getDate()){v+=b}if(v>E){z=new Date(+M)}}if(x){G+=x(z)}return G},_layout:function(v){var z=[];var x=[];var y=this;var D=[{text:y.options.messages.defaultRowText}];var B=[];for(var A=0;A<y.options.minorTickCount;A++){B.push({text:"",className:""})}this._forTimeRange(y.startTime(),y.endTime(),function(F,J,E,I,H){var G=y.majorTimeHeaderTemplate;if(J){var K={text:G({date:F}),className:I?"k-slot-cell":"",columns:B.slice(0,H)};p(K);z.push(K)}});for(var C=0;C<v.length;C++){x.push({text:y.dateHeaderTemplate({date:v[C]}),className:"k-slot-cell",columns:z.slice(0)})}var w=this.groupedResources;if(w.length){if(this._groupOrientation()==="vertical"){D=y._createRowsLayout(w,null,this.groupHeaderTemplate)}else{x=y._createColumnsLayout(w,x,this.groupHeaderTemplate)}}return{columns:x,rows:D}},_footer:function(){var v=this.options;if(v.footer!==false){var w='<div class="k-header k-scheduler-footer">';var y=v.footer.command;if(y&&y==="workDay"){w+='<ul class="k-reset k-header">';w+='<li class="k-state-default k-scheduler-fullday"><a href="#" class="k-link"><span class="k-icon k-i-clock"></span>';w+=(v.showWorkHours?v.messages.showFullDay:v.messages.showWorkDay)+"</a></li>";w+="</ul>"}else{w+="&nbsp;"}w+="</div>";this.footer=d(w).appendTo(this.element);var x=this;this.footer.on("click"+r,".k-scheduler-fullday",function(z){z.preventDefault();x.trigger("navigate",{view:x.name||v.name,date:x.startDate(),isWorkDay:!v.showWorkHours})})}},_columnCountForLevel:function(w){var v=this.columnLevels[w];return v?v.length:0},_rowCountForLevel:function(w){var v=this.rowLevels[w];return v?v.length:0},_isWorkDay:function(w){var v=w.getDay();var y=this._workDays;for(var x=0;x<y.length;x++){if(y[x]===v){return true}}return false},_content:function(v){var E=this;var L=E.options;var y=E.startTime();var C=this.endTime();var B=1;var G=1;var F=v.length;var D="";var A=this.groupedResources;var K=this.slotTemplate;var x=false;if(A.length){x=E._groupOrientation()==="vertical";if(x){G=E._groupCount()}else{B=E._groupCount()}}D+="<tbody>";var I=function(M,P){var O="";var N="";var R;var Q=function(S){return function(){return E._resourceBySlot({groupIndex:S})}};if(n.date.isToday(v[H])){N+="k-today"}if(n.date.getMilliseconds(M)<n.date.getMilliseconds(L.workDayStart)||n.date.getMilliseconds(M)>=n.date.getMilliseconds(L.workDayEnd)||!E._isWorkDay(v[H])){N+=" k-nonwork-hour"}O+="<td"+(N!==""?' class="'+N+'"':"")+">";R=n.date.getDate(v[H]);n.date.setTime(R,n.date.getMilliseconds(M));O+=K({date:R,resources:Q(x?w:J)});O+="</td>";return O};for(var w=0;w<G;w++){D+="<tr>";for(var J=0;J<B;J++){for(var H=0,z=F;H<z;H++){D+=this._forTimeRange(y,C,I)}}D+="</tr>"}D+="</tbody>";this.content.find("table").append(D)},_groups:function(){var B=this._groupCount();var z=this._dates;var y=z.length;this.groups=[];for(var v=0;v<B;v++){var x=this._addResourceView(v);var A=z[0];var w=z[(z.length-1)||0];x.addTimeSlotCollection(A,n.date.addDays(w,1))}this._timeSlotGroups(B,y)},_isVerticallyGrouped:function(){return this.groupedResources.length&&this._groupOrientation()==="vertical"},_isHorizontallyGrouped:function(){return this.groupedResources.length&&this._groupOrientation()==="horizontal"},_timeSlotGroups:function(x,N){var S=this._timeSlotInterval();var J=this._isVerticallyGrouped();var M=this.content.find("tr");var H=M.length;M.attr("role","row");if(J){H=Math.floor(H/x)}for(var w=0;w<x;w++){var R=0;var E=this.groups[w];var C;if(J){R=w}var I=R*H;var O=0;if(!J){O=w}var z=M[I].children;var B=z.length/(!J?x:1);var G=B/N;for(var K=0;K<N;K++){var P=K*G+(B*O);C=t(new Date(+this.startTime()));for(var F=0;F<G;F++){var v=z[F+P];var L=E.getTimeSlotCollection(0);var D=this._dates[K];var Q=Date.UTC(D.getFullYear(),D.getMonth(),D.getDate());var A=Q+C;var y=A+S;v.setAttribute("role","gridcell");v.setAttribute("aria-selected",false);L.addTimeSlot(v,A,y,true);C+=S}}}},startDate:function(){return this._startDate},endDate:function(){return this._endDate},startTime:function(){var v=this.options;return v.showWorkHours?v.workDayStart:v.startTime},endTime:function(){var v=this.options;return v.showWorkHours?v.workDayEnd:v.endTime},_timeSlotInterval:function(){var v=this.options;return(v.majorTick/v.minorTickCount)*e},nextDate:function(){return n.date.nextDay(this.endDate())},previousDate:function(){return n.date.previousDay(this.startDate())},calculateDateRange:function(){this._render([this.options.date])},render:function(x){this._headerColumnCount=0;this._groups();this.element.find(".k-event").remove();x=new n.data.Query(x).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray();var w=[];this._eventsByResource(x,this.groupedResources,w);var v=d.map(this._dates,function(C){return Math.max.apply(null,d.map(w,function(D){return d.grep(D,function(E){return k(C,j(E.start),j(E.end))}).length}))});var A=[];var z=0;for(var y=0;y<w.length;y++){var B={groupIndex:y,maxRowCount:0,events:{}};A.push(B);this._renderEvents(w[y],y,B);if(z<B.maxRowCount){z=B.maxRowCount}}this._setRowsHeight(A,w.length,z);this._positionEvents(A,w.length);this.trigger("activate")},_positionEvents:function(A,x){for(var z=0;z<x;z++){var y=A[z].events;for(var w in y){var v=y[w];this._positionEvent(v)}}},_setRowsHeight:function(w,x,y){var A=this.options.eventHeight+2;var C=this._getBottomRowOffset();x=this._isVerticallyGrouped()?x:1;for(var B=0;B<x;B++){var z=this._isVerticallyGrouped()?w[B].maxRowCount:y;z=z?z:1;var v=((A+2)*z)+C;var D=this.times.find(n.format("tr:nth-child({0})",B+1));var E=this.content.find(n.format("tr:nth-child({0})",B+1));D.height(v);E.height(v)}this._setContentWidth();this.refreshLayout();this._refreshSlots()},_getBottomRowOffset:function(){var y=this.options.eventHeight*0.5;var v=this._isMobile();var x;var w;if(v){x=30;w=60}else{x=15;w=30}if(y>w){y=w}else{if(y<x){y=x}}return y},_positionEvent:function(v){var z=this.options.eventHeight+2;var x=v.slotRange.innerRect(v.start,v.end,false);x.top=v.slotRange.start.offsetTop;var w=x.right-x.left-2;if(w<0){w=0}var y=x.left;if(this._isRtl){y-=(this.content[0].scrollWidth-this.content[0].offsetWidth)}v.element.css({top:v.slotRange.start.offsetTop+v.rowIndex*(z+2)+"px",left:y,width:w})},_refreshSlots:function(){for(var v=0;v<this.groups.length;v++){this.groups[v].refresh()}},_eventsByResource:function(x,B,v){var A=B[0];if(A){var w=A.dataSource.view();for(var y=0;y<w.length;y++){var z=this._resourceValue(A,w[y]);var C=new n.data.Query(x).filter({field:A.field,operator:a.groupEqFilter(z)}).toArray();if(B.length>1){this._eventsByResource(C,B.slice(1),v)}else{v.push(C)}}}else{v.push(x)}},_isInDateSlot:function(x){var w=x.start;var v=x.end;var z=j(this._startDate);var y=n.date.addDays(j(this._endDate),1);if(w<y&&z<=v){return true}return false},_isInTimeSlot:function(y){var x=y._startTime||n.date.toUtcTime(y.start);var w=y._endTime||n.date.toUtcTime(y.end);var z=this._slotRanges;if(x===w){w=w+1}for(var v=0;v<z.length;v++){if(x<z[v].end&&z[v].start<w){return true}}return false},_adjustEvent:function(v){var w=v.start;var z=v.end;var B=v._time("start");var F=v._time("end");var x=t(this.startTime());var A=t(this.endTime());var y=null;var D=null;var G;var E=false;var C=false;if(v.isAllDay){y=j(w);if(x>B){l(y,x);C=true}D=j(z);if(A===t(j(this.endTime()))){D=n.date.addDays(D,1)}else{l(D,A);E=true}}else{A=A===0?b:A;if(x>B){y=j(w);l(y,x);C=true}else{if(A<B){y=j(w);y=n.date.addDays(y,1);l(y,x);C=true}}if(A<F){D=j(z);l(D,A);E=true}else{if(x>F){D=j(z);D=n.date.addDays(D,-1);l(D,A);E=true}}}G=v.clone({start:y?y:w,end:D?D:z,_startTime:y?n.date.toUtcTime(y):v._startTime,_endTime:D?n.date.toUtcTime(D):v._endTime,isAllDay:false});return{occurrence:G,head:E,tail:C}},_renderEvents:function(I,G,B){var w;var E;var y;for(E=0,y=I.length;E<y;E++){w=I[E];if(this._isInDateSlot(w)){var z=w.isAllDay||w.end.getTime()-w.start.getTime()>=b;var x=this.content;if(z||this._isInTimeSlot(w)){var H=this._adjustEvent(w);var F=this.groups[G];if(!F._continuousEvents){F._continuousEvents=[]}var v=F.slotRanges(H.occurrence,false);var D=v[0];var C;if(this._isInTimeSlot(H.occurrence)){C=this._createEventElement(H.occurrence,w,D.head||H.head,D.tail||H.tail);C.appendTo(x).css({top:0,height:this.options.eventHeight});var A={start:H.occurrence._startTime||H.occurrence.start,end:H.occurrence._endTime||H.occurrence.end,element:C,uid:w.uid,slotRange:D,rowIndex:0,offsetTop:0};B.events[w.uid]=A;this.addContinuousEvent(F,D,C,w.isAllDay);this._arrangeRows(A,D,B)}}}}},addContinuousEvent:function(z,v,y,x){var w=z._continuousEvents;w.push({element:y,isAllDay:x,uid:y.attr(n.attr("uid")),start:v.start,end:v.end})},_createEventElement:function(J,x,G,E){var K=this.eventTemplate;var z=this.options.editable;var F=this._isMobile();var v=z&&z.destroy!==false&&!F;var w=z&&z.resize!==false;var D=x._time("start");var I=x._time("end");var C=x.start;var H=x.end;var y=this.eventResources(x);if(x._startTime){C=new Date(D);C=n.timezone.apply(C,"Etc/UTC")}if(x.endTime){H=new Date(I);H=n.timezone.apply(H,"Etc/UTC")}var B=s({},{ns:n.ns,resizable:w,showDelete:v,head:G,tail:E,singleDay:this._dates.length==1,resources:y,inverseColor:y&&y[0]?this._shouldInverseResourceColor(y[0]):false},x,{start:C,end:H});var A=d(K(B));this.angular("compile",function(){return{elements:A,data:[{dataItem:B}]}});return A},_arrangeRows:function(y,C,z){var E=C.start.index;var B=C.end.index;var F=a.collidingEvents(C.events(),E,B);C.addEvent({slotIndex:E,start:E,end:B,element:y.element,uid:y.uid});F.push({slotIndex:E,start:E,end:B,element:y.element,uid:y.uid});var G=a.createRows(F);if(z.maxRowCount<G.length){z.maxRowCount=G.length}for(var D=0,x=G.length;D<x;D++){var v=G[D].events;for(var A=0,w=v.length;A<w;A++){z.events[v[A].uid].rowIndex=D}}},_groupCount:function(){var v=this.groupedResources;if(v.length){if(this._groupOrientation()==="vertical"){return this._rowCountForLevel(v.length-1)}else{return this._columnCountForLevel(v.length-1)}}return 1},_updateEventForSelection:function(w){var v=this._adjustEvent(w.clone());return v.occurrence},_updateEventForMove:function(v){if(v.isAllDay){v.set("isAllDay",false)}},_updateEventForResize:function(v){if(v.isAllDay){v.set("isAllDay",false)}},_updateMoveHint:function(w,K,v){var J=this.groups[K];var z=w.clone({start:w.start,end:w.end});var A=z.duration();z.start=new Date(z.start.getTime()+v);z.end=new Date(+z.start+A);var L=this._adjustEvent(z);var x=J.slotRanges(L.occurrence,false);this._removeMoveHint();for(var C=0;C<x.length;C++){var E=x[C];var I=E.start;var D=this._createEventElement(L.occurrence,L.occurrence,false,false);D.addClass("k-event-drag-hint");var H=E.innerRect(L.occurrence.start,L.occurrence.end,this.options.snap);var y=H.right-H.left-2;if(y<0){y=0}var B=H.left;if(this._isRtl){B-=(this.content[0].scrollWidth-this.content[0].offsetWidth)}var F={left:B,top:I.offsetTop,height:I.offsetHeight-2,width:y};D.css(F);this._moveHint=this._moveHint.add(D)}var G=this.content;this._moveHint.appendTo(G)},_updateResizeHint:function(w,K,A,F){var J=this.groups[K];var x=J.ranges(A,F,false,false);this._removeResizeHint();for(var C=0;C<x.length;C++){var E=x[C];var z=E.startSlot();var H=E.innerRect(A,F,false);H.top=z.offsetTop;var y=H.right-H.left;var L=z.offsetHeight;var B=H.left;var G=this.content;if(this._isRtl){B-=(G[0].scrollWidth-G[0].offsetWidth)}var D=a.fn._createResizeHint.call(this,B,H.top,y,L);this._resizeHint=this._resizeHint.add(D)}var I="t";var v=this.content;this._resizeHint.appendTo(v);this._resizeHint.find(".k-label-top,.k-label-bottom").text("");this._resizeHint.first().addClass("k-first").find(".k-label-top").text(n.toString(n.timezone.toLocalDate(A),I));this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(n.toString(n.timezone.toLocalDate(F),I))},selectionByElement:function(v){var w=v.offset();return this._slotByPosition(w.left,w.top)},_updateDirection:function(A,w,v,y,x){var B=w[0].start;var z=w[w.length-1].end;if(v&&!x){if(B.index===z.index&&B.collectionIndex===z.collectionIndex){A.backward=y}}},_changeGroup:function(v,w){var y=w?"prevGroupSlot":"nextGroupSlot";var x=this[y](v.start,v.groupIndex,false);if(x){v.groupIndex+=w?-1:1}return x},prevGroupSlot:function(v,w,y){var x=this.groups[w];var A=x.ranges(v,v,y,false)[0].start;if(w<=0){return}if(this._isVerticallyGrouped()){return A}else{var z=x._collection(0,y);return z.last()}},nextGroupSlot:function(v,w,y){var x=this.groups[w];var A=x.ranges(v,v,y,false)[0].start;if(w>=this.groups.length-1){return}if(this._isVerticallyGrouped()){return A}else{var z=x._collection(0,y);return z.first()}},_verticalSlots:function(z,w,v,x){var C=x?"leftSlot":"rightSlot";var A=w[0].start;var y=w[w.length-1].end;var B=this.groups[z.groupIndex];A=B[C](A);y=B[C](y);if(!v&&this._isVerticallyGrouped()&&(!A||!y)){A=y=this._changeGroup(z,x)}return{startSlot:A,endSlot:y}},_horizontalSlots:function(z,w,v,x){var C=x?"upSlot":"downSlot";var A=w[0].start;var y=w[w.length-1].end;var B=this.groups[z.groupIndex];A=B[C](A);y=B[C](y);if(!v&&this._isHorizontallyGrouped()&&(!A||!y)){A=y=this._changeGroup(z,x)}return{startSlot:A,endSlot:y}},_changeViewPeriod:function(z,y,w){var x=y?this.previousDate():this.nextDate();var B=z.start;var v=z.end;z.start=new Date(x);z.end=new Date(x);if(this._isHorizontallyGrouped()){z.groupIndex=y?this.groups.length-1:0}var A=v-B;if(y){v=t(this.endTime());v=v===0?b:v;l(z.start,v-A);l(z.end,v)}else{B=t(this.startTime());l(z.start,B);l(z.end,B+A)}z.events=[];return true},move:function(C,E,x){var y=false;var D=this.groups[C.groupIndex];var F=n.keys;var w=D.ranges(C.start,C.end,false,false);var B,v,A,z;if(E===F.DOWN||E===F.UP){y=true;A=E===F.UP;this._updateDirection(C,w,x,A,true);z=this._verticalSlots(C,w,x,A)}else{if(E===F.LEFT||E===F.RIGHT){y=true;A=E===F.LEFT;this._updateDirection(C,w,x,A,false);z=this._horizontalSlots(C,w,x,A);if((!z.startSlot||!z.endSlot)&&!x&&this._changeViewPeriod(C,A,false)){return y}}}if(y){B=z.startSlot;v=z.endSlot;if(x){var G=C.backward;if(G&&B){C.start=B.startDate()}else{if(!G&&v){C.end=v.endDate()}}}else{if(B&&v){C.start=B.startDate();C.end=v.endDate()}}C.events=[]}return y},destroy:function(){var v=this;if(v.element){v.element.off(r)}if(v.footer){v.footer.remove()}if(v._currentTimeUpdateTimer){clearInterval(v._currentTimeUpdateTimer)}a.fn.destroy.call(this);if(this._isMobile()&&v.options.editable){if(v.options.editable.create!==false){v._addUserEvents.destroy()}if(v.options.editable.update!==false){v._editUserEvents.destroy()}}}});s(true,m,{TimelineView:o,TimelineWeekView:o.extend({options:{name:"TimelineWeekView",title:"Timeline Week",selectedDateFormat:"{0:D} - {1:D}",majorTick:120},name:"timelineWeek",calculateDateRange:function(){var w=this.options.date,z=n.date.dayOfWeek(w,this.calendarInfo().firstDay,-1),v,x,y=[];for(v=0,x=7;v<x;v++){y.push(z);z=n.date.nextDay(z)}this._render(y)}}),TimelineWorkWeekView:o.extend({options:{name:"TimelineWorkWeekView",title:"Timeline Work Week",selectedDateFormat:"{0:D} - {1:D}",majorTick:120},name:"timelineWorkWeek",nextDate:function(){return n.date.dayOfWeek(n.date.nextDay(this.endDate()),this.options.workWeekStart,1)},previousDate:function(){return n.date.previousDay(this.startDate())},calculateDateRange:function(){var w=this.options.date,y=n.date.dayOfWeek(w,this.options.workWeekStart,-1),v=n.date.dayOfWeek(y,this.options.workWeekEnd,1),x=[];while(y<=v){x.push(y);y=n.date.nextDay(y)}this._render(x)}}),TimelineMonthView:o.extend({options:{name:"TimelineMonthView",title:"Timeline Month",selectedDateFormat:"{0:D} - {1:D}",workDayStart:new Date(1980,1,1,0,0,0),workDayEnd:new Date(1980,1,1,0,0,0),footer:false,majorTick:1440,minorTickCount:1},name:"timelineMonth",calculateDateRange:function(){var x=this.options.date,A=n.date.firstDayOfMonth(x),w=n.date.lastDayOfMonth(x),v,y,z=[];for(v=0,y=w.getDate();v<y;v++){z.push(A);A=n.date.nextDay(A)}this._render(z)}})})})(window.kendo.jQuery);(function(am,v){var p=window.kendo,q=p.date,R=p.support.input,B=q.MS_PER_DAY,aw=q.getDate,U=p.date.getMilliseconds,aq=p.recurrence,E=p.keys,N=p.ui,h=N.Widget,b=N.DataBoundWidget,au="string",ag=N.Popup,s=N.Calendar,k=p.data.DataSource,A=am.isPlainObject,Z=am.extend,w=am.proxy,ae=Object.prototype.toString,a=am.isArray,at=".kendoScheduler",ak="click",C="change",X="cancel",az="remove",al="save",W="add",D="edit",ay=/(?:value:start|value:end)(?:,|$)/,e=aw(new JalaliDate()),aA="recurrenceException",i="Are you sure you want to delete this event?",I="Do you want to delete only this event occurrence or the whole series?",G="Do you want to edit only this event occurrence or the whole series?",P='<a class="k-button #=className#" #=attr# href="\\#">#=text#</a>',M=p.template('<div class="k-floatwrap k-header k-scheduler-toolbar"># if (pdf) { #<ul class="k-reset k-scheduler-tools"><li><a role="button" href="\\#" class="k-button k-pdf"><span class="k-icon k-i-pdf"></span>${messages.pdf}</a></li></ul># } #<ul class="k-reset k-scheduler-navigation"><li class="k-state-default k-header k-nav-today"><a role="button" href="\\#" class="k-link">${messages.today}</a></li><li class="k-state-default k-header k-nav-prev"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-w"></span></a></li><li class="k-state-default k-header k-nav-next"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-e"></span></a></li><li class="k-state-default k-nav-current"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-calendar"></span><span data-#=ns#bind="text: formattedDate"></span></a></li></ul><ul class="k-reset k-header k-scheduler-views">#for(var view in views){#<li class="k-state-default k-view-#= view.toLowerCase() #" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>#}#</ul></div>'),an=p.template('<div class="k-floatwrap k-header k-scheduler-toolbar"><ul class="k-reset k-header k-scheduler-navigation"><li class="k-state-default k-nav-today"><a role="button" href="\\#" class="k-link">${messages.today}</a></li></ul><ul class="k-reset k-header k-scheduler-views">#for(var view in views){#<li class="k-state-default k-view-#= view.toLowerCase() #" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>#}#</ul></div><div class="k-floatwrap k-header k-scheduler-toolbar"><ul class="k-reset k-header k-scheduler-navigation"><li class="k-state-default k-nav-prev"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-w"></span></a></li><li class="k-state-default k-nav-current"><span data-#=ns#bind="text: formattedDate"></span></li><li class="k-state-default k-nav-next"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-e"></span></a></li></ul></div>'),av=function(aG,aH){var aF={name:aH.field};var aJ=!R.date?p.attr("role")+'="datepicker" ':"";var aE=p.attr("role")+'="datetimepicker" ';var aI=aH.model.isAllDay;var aK=p.attr("validate")+"='"+(!aI)+"'";var aD=p.attr("validate")+"='"+aI+"'";aa(aF,aH);ad(aF,aH);am('<input type="datetime-local" required '+p.attr("type")+'="date" '+aE+p.attr("bind")+'="value:'+aH.field+',invisible:isAllDay" '+aK+"/>").attr(aF).appendTo(aG);am('<input type="date" required '+p.attr("type")+'="date" '+aJ+p.attr("bind")+'="value:'+aH.field+',visible:isAllDay" '+aD+"/>").attr(aF).appendTo(aG);am("<span "+p.attr("for")+'="'+aH.field+'" class="k-invalid-msg"/>').hide().appendTo(aG)},ab=function(aF,aG){var aE={name:aG.field},aH=aG.model.isAllDay,aI=p.attr("validate")+"='"+(!aH)+"' ",aD=p.attr("validate")+"='"+aH+"' ";aa(aE,aG);ad(aE,aG);am('<input type="text" required '+p.attr("type")+'="date" '+p.attr("role")+'="datetimepicker" '+p.attr("bind")+'="value:'+aG.field+',invisible:isAllDay" '+aI+"/>").attr(aE).appendTo(aF);am('<input type="text" required '+p.attr("type")+'="date" '+p.attr("role")+'="datepicker" '+p.attr("bind")+'="value:'+aG.field+',visible:isAllDay" '+aD+"/>").attr(aE).appendTo(aF);am("<span "+p.attr("bind")+'="text: '+aG.field+'Timezone"></span>').appendTo(aF);if(aG.field==="end"){am("<span "+p.attr("bind")+'="text: startTimezone, invisible: endTimezone"></span>').appendTo(aF)}am("<span "+p.attr("for")+'="'+aG.field+'" class="k-invalid-msg"/>').hide().appendTo(aF)},ar=function(aD,aE){am("<div "+p.attr("bind")+'="value:'+aE.field+'" />').attr({name:aE.field}).appendTo(aD).kendoRecurrenceEditor({start:aE.model.start,timezone:aE.timezone,messages:aE.messages})},c=function(aD,aE){am("<div "+p.attr("bind")+'="value:'+aE.field+'" />').attr({name:aE.field}).appendTo(aD).kendoMobileRecurrenceEditor({start:aE.model.start,timezone:aE.timezone,messages:aE.messages,pane:aE.pane,value:aE.model[aE.field]})},V=function(aD,aE){var aF=aB(aE.model,aE.messages.noTimezone);am('<a href="#" class="k-button k-timezone-button" data-bind="invisible:isAllDay">'+aF+"</a>").click(aE.click).appendTo(aD)},z=function(aD,aE){am('<a href="#" class="k-button" data-bind="invisible:isAllDay">'+aE.messages.timezoneEditorButton+"</a>").click(aE.click).appendTo(aD)},ai=function(aD,aE){am("<div "+p.attr("bind")+'="value:'+aE.field+'" />').attr({name:aE.field}).toggle(aE.visible).appendTo(aD).kendoMobileTimezoneEditor({optionLabel:aE.noTimezone})},ac=function(aD,aE){am("<div "+p.attr("bind")+'="value:'+aE.field+'" />').attr({name:aE.field}).toggle(aE.visible).appendTo(aD).kendoTimezoneEditor({optionLabel:aE.noTimezone})};function aB(aD,aE){aE=aE||"";if(aD.startTimezone){aE=aD.startTimezone;if(aD.endTimezone){aE+=" | "+aD.endTimezone}}return aE}function aa(aE,aD){var aF=aD.timezone;if(aF){aE[p.attr("timezone")]=aF}}function ad(aG,aF){var aE=aF.model.fields[aF.field].validation;if(aE){var aD=aE.dateCompare;if(aD&&A(aD)&&aD.message){aG[p.attr("dateCompare-msg")]=aD.message}}}function J(aE,aD){return function(aF){aF=aE(aF);af(aF,"apply",aD);return aF||[]}}function y(aE,aD){return function(aF){if(aF){if(ae.call(aF)!=="[object Array]"&&!(aF instanceof p.data.ObservableArray)){aF=[aF]}}af(aF,"remove",aD,true);aF=aE(aF);return aF||[]}}function af(aI,aJ,aH,aE){var aG,aD,aF;aI=aI||[];for(aD=0,aF=aI.length;aD<aF;aD++){aG=aI[aD];if(aE){if(aG.startTimezone||aG.endTimezone){if(aH){aG.start=p.timezone.convert(aG.start,aG.startTimezone||aG.endTimezone,aH);aG.end=p.timezone.convert(aG.end,aG.endTimezone||aG.startTimezone,aH);aG.start=p.timezone[aJ](aG.start,aH);aG.end=p.timezone[aJ](aG.end,aH)}else{aG.start=p.timezone[aJ](aG.start,aG.startTimezone||aG.endTimezone);aG.end=p.timezone[aJ](aG.end,aG.endTimezone||aG.startTimezone)}}else{if(aH){aG.start=p.timezone[aJ](aG.start,aH);aG.end=p.timezone[aJ](aG.end,aH)}}}else{if(aG.startTimezone||aG.endTimezone){aG.start=p.timezone[aJ](aG.start,aG.startTimezone||aG.endTimezone);aG.end=p.timezone[aJ](aG.end,aG.endTimezone||aG.startTimezone);if(aH){aG.start=p.timezone.convert(aG.start,aG.startTimezone||aG.endTimezone,aH);aG.end=p.timezone.convert(aG.end,aG.endTimezone||aG.startTimezone,aH)}}else{if(aH){aG.start=p.timezone[aJ](aG.start,aH);aG.end=p.timezone[aJ](aG.end,aH)}}}if(aE){delete aG.uid}}return aI}function aC(aH,aE){var aG=aH.length,aD=0,aF;for(;aD<aG;aD++){aF=aH[aD];if(aF.uid===aE){return aF}}}var o=p.Class.extend({init:function(aF,aD){var aE=aF.timezone;this.reader=aD;if(aD.model){this.model=aD.model}this.timezone=aE;this.data=J(am.proxy(this.data,this),aE);this.serialize=y(am.proxy(this.serialize,this),aE)},errors:function(aD){return this.reader.errors(aD)},parse:function(aD){return this.reader.parse(aD)},data:function(aD){return this.reader.data(aD)},total:function(aD){return this.reader.total(aD)},groups:function(aD){return this.reader.groups(aD)},aggregates:function(aD){return this.reader.aggregates(aD)},serialize:function(aD){return this.reader.serialize(aD)}});function t(aF,aE,aD){if(aD){aF=p.timezone.convert(aF,aE,aD)}else{aF=p.timezone.remove(aF,aE)}return aF}function u(aN){if(aN.filter("[name=end]").length){var aE=aN.closest(".k-scheduler-edit-form");var aD=aE.find("[name=start]:visible");var aM=aE.find("[name=end]:visible");if(aM[0]&&aD[0]){var aF,aI;var aO=p.widgetInstance(aD,p.ui);var aP=p.widgetInstance(aM,p.ui);var aG=aE.data("kendoEditable");var aJ=aG?aG.options.model:null;if(aO&&aP){aF=aO.value();aI=aP.value()}else{aF=p.parseDate(aD.val());aI=p.parseDate(aM.val())}if(aF&&aI){if(aJ){var aL=aD.attr(p.attr("timezone"));var aK=aJ.startTimezone;var aH=aJ.endTimezone;aK=aK||aH;aH=aH||aK;if(aK){aF=t(aF,aK,aL);aI=t(aI,aH,aL)}}return aF<=aI}}}return true}var F=p.data.Model.define({init:function(aE){var aD=this;p.data.Model.fn.init.call(aD,aE);aD._defaultId=aD.defaults[aD.idField]},_time:function(aF){var aD=this[aF];var aE="_"+aF+"Time";if(this[aE]){return this[aE]-p.date.toUtcTime(p.date.getDate(aD))}return U(aD)},_date:function(aE){var aD="_"+aE+"Time";if(this[aD]){return this[aD]-this._time(aE)}return p.date.getDate(this[aE])},clone:function(aD,aG){var aE=this.uid,aF=new this.constructor(am.extend({},this.toJSON(),aD));if(!aG){aF.uid=aE}return aF},duration:function(){var aD=this.end;var aF=this.start;var aE=(aD.getTimezoneOffset()-aF.getTimezoneOffset())*p.date.MS_PER_MINUTE;return aD-aF-aE},expand:function(aF,aE,aD){return aq?aq.expand(this,aF,aE,aD):[this]},update:function(aD){for(var aE in aD){this.set(aE,aD[aE])}if(this._startTime){this.set("_startTime",p.date.toUtcTime(this.start))}if(this._endTime){this.set("_endTime",p.date.toUtcTime(this.end))}},isMultiDay:function(){return this.isAllDay||this.duration()>=p.date.MS_PER_DAY},isException:function(){return !this.isNew()&&this.recurrenceId},isOccurrence:function(){return this.isNew()&&this.recurrenceId},isRecurring:function(){return !!(this.recurrenceRule||this.recurrenceId)},isRecurrenceHead:function(){return !!(this.id&&this.recurrenceRule)},toOccurrence:function(aD){aD=am.extend(aD,{recurrenceException:null,recurrenceRule:null,recurrenceId:this.id||this.recurrenceId});aD[this.idField]=this.defaults[this.idField];return this.clone(aD,true)},toJSON:function(){var aD=p.data.Model.fn.toJSON.call(this);aD.uid=this.uid;delete aD._startTime;delete aD._endTime;return aD},shouldSerialize:function(aD){return p.data.Model.fn.shouldSerialize.call(this,aD)&&aD!=="_defaultId"},set:function(aG,aH){var aF=this.isAllDay||false;p.data.Model.fn.set.call(this,aG,aH);if(aG=="isAllDay"&&aH!=aF){var aI=p.date.getDate(this.start);var aD=new Date(this.end);var aE=p.date.getMilliseconds(aD);if(aE===0&&aH){aE=B}this.set("start",aI);if(aH===true){p.date.setTime(aD,-aE);if(aD<aI){aD=aI}}else{p.date.setTime(aD,B-aE)}this.set("end",aD)}},id:"id",fields:{id:{type:"number"},title:{defaultValue:"",type:"string"},start:{type:"date",validation:{required:true}},startTimezone:{type:"string"},end:{type:"date",validation:{required:true,dateCompare:{value:u,message:"End date should be greater than or equal to the start date"}}},endTimezone:{type:"string"},recurrenceRule:{defaultValue:"",type:"string"},recurrenceException:{defaultValue:"",type:"string"},isAllDay:{type:"boolean",defaultValue:false},description:{type:"string"}}});var ax=k.extend({init:function(aD){k.fn.init.call(this,Z(true,{},{schema:{modelBase:F,model:F}},aD));this.reader=new o(this.options.schema,this.reader)},expand:function(aG,aD){var aF=this.view(),aE={};if(aG&&aD){aD=new Date(aD.getTime()+B-1);aE={logic:"or",filters:[{logic:"and",filters:[{field:"start",operator:"gte",value:aG},{field:"end",operator:"gte",value:aG},{field:"start",operator:"lte",value:aD}]},{logic:"and",filters:[{field:"start",operator:"lte",value:new Date(aG.getTime()+B-1)},{field:"end",operator:"gte",value:aG}]}]};aF=new p.data.Query(l(aF,aG,aD,this.reader.timezone)).filter(aE).toArray()}return aF},cancelChanges:function(aD){if(aD&&aD.isOccurrence()){this._removeExceptionDate(aD)}k.fn.cancelChanges.call(this,aD)},insert:function(aE,aD){if(!aD){return}if(!(aD instanceof F)){var aF=aD;aD=this._createNewModel();aD.accept(aF)}if((!this._pushCreated&&aD.isRecurrenceHead())||aD.recurrenceId){aD=aD.recurrenceId?aD:aD.toOccurrence();this._addExceptionDate(aD)}return k.fn.insert.call(this,aE,aD)},pushCreate:function(aD){this._pushCreated=true;k.fn.pushCreate.call(this,aD);this._pushCreated=false},remove:function(aD){if(aD.isRecurrenceHead()){this._removeExceptions(aD)}else{if(aD.isRecurring()){this._addExceptionDate(aD)}}return k.fn.remove.call(this,aD)},_removeExceptions:function(aD){var aF=this.data().slice(0),aE=aF.shift(),aG=aD.id;while(aE){if(aE.recurrenceId===aG){k.fn.remove.call(this,aE)}aE=aF.shift()}aD.set(aA,"")},_removeExceptionDate:function(aD){if(aD.recurrenceId){var aE=this.get(aD.recurrenceId);if(aE){var aF=aD.start;aE.set(aA,aE.recurrenceException.replace(aq.toExceptionString(aF,this.reader.timezone),""))}}},_addExceptionDate:function(aE){var aH=aE.start;var aD=this.reader.timezone;var aG=this.get(aE.recurrenceId);var aF=aG.recurrenceException||"";if(!aq.isException(aF,aH,aD)){aG.set(aA,aF+aq.toExceptionString(aH,aD))}}});function l(aG,aJ,aF,aE){var aH=aG.length,aI=[],aD=0;for(;aD<aH;aD++){aI=aI.concat(aG[aD].expand(aJ,aF,aE))}return aI}ax.create=function(aD){aD=aD&&aD.push?{data:aD}:aD;var aF=aD||{},aE=aF.data;aF.data=aE;if(!(aF instanceof ax)&&aF instanceof p.data.DataSource){throw new Error("Incorrect DataSource type. Only SchedulerDataSource instances are supported")}return aF instanceof ax?aF:new ax(aF)};Z(true,p.data,{SchedulerDataSource:ax,SchedulerDataReader:o,SchedulerEvent:F});var K={update:{text:"Save",className:"k-primary k-scheduler-update"},canceledit:{text:"Cancel",className:"k-scheduler-cancel"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-primary k-scheduler-delete",iconClass:"k-icon"}};function T(aD){delete aD.name;delete aD.prefix;delete aD.remove;delete aD.edit;delete aD.add;delete aD.navigate;return aD}function S(aD){aD=aD!=null?aD:"";return aD.type||am.type(aD)||"string"}function r(aH,aL){var aD=(aH.fields||aH)[aL];var aG=["url","email","number","date","boolean"];var aE=aD?aD.validation:{};var aJ=S(aD);var aF=p.attr("type");var aN=am.inArray;var aM;var aK;var aI={};for(aM in aE){aK=aE[aM];if(aN(aM,aG)>=0){aI[aF]=aM}else{if(!p.isFunction(aK)){aI[aM]=A(aK)?(aK.value||aM):aK}}aI[p.attr(aM+"-msg")]=aK.message}return aI}function ap(aF,aE){var aD=r(aE,aF.field);return function(aG){am(p.format('<select data-{0}bind="value:{1}">',p.ns,aF.field)).appendTo(aG).attr(aD).kendoDropDownList({dataTextField:aF.dataTextField,dataValueField:aF.dataValueField,dataSource:aF.dataSource,valuePrimitive:aF.valuePrimitive,optionLabel:"None",template:p.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',aF.dataColorField,aF.dataTextField)})}}function H(aF,aE){var aD=r(aE,aF.field);return function(aI){var aJ="";var aH=aF.dataSource.view();for(var aG=0,aK=aH.length;aG<aK;aG++){aJ+=p.format('<option value="{0}">{1}</option>',p.getter(aF.dataValueField)(aH[aG]),p.getter(aF.dataTextField)(aH[aG]))}am(p.format('<select data-{0}bind="value:{1}">{2}</select>',p.ns,aF.field,aJ)).appendTo(aI).attr(aD)}}function O(aE){var aD=r(aE.model,aE.field);return function(aF){am('<textarea name="description" class="k-textbox"/>').attr(aD).appendTo(aF)}}function d(aF,aE){var aD=r(aE,aF.field);return function(aG){am(p.format('<select data-{0}bind="value:{1}">',p.ns,aF.field)).appendTo(aG).attr(aD).kendoMultiSelect({dataTextField:aF.dataTextField,dataValueField:aF.dataValueField,dataSource:aF.dataSource,valuePrimitive:aF.valuePrimitive,itemTemplate:p.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',aF.dataColorField,aF.dataTextField),tagTemplate:p.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',aF.dataColorField,aF.dataTextField)})}}function x(aF,aE){var aD=r(aE,aF.field);return function(aI){var aJ="";var aH=aF.dataSource.view();for(var aG=0,aK=aH.length;aG<aK;aG++){aJ+=p.format('<option value="{0}">{1}</option>',p.getter(aF.dataValueField)(aH[aG]),p.getter(aF.dataTextField)(aH[aG]))}am(p.format('<select data-{0}bind="value:{1}" multiple="multiple" data-{0}value-primitive="{3}">{2}</select>',p.ns,aF.field,aJ,aF.valuePrimitive)).appendTo(aI).attr(aD)}}function L(aE,aH){var aF=aE.end.getTime()-aE.start.getTime();var aG=new Date(aE.start.getTime());p.date.setTime(aG,aH);var aD=new Date(aG.getTime());p.date.setTime(aD,aF,true);return{start:aG,end:aD}}var m={mobile:{dateRange:av,timezonePopUp:V,timezone:ai,recurrence:c,description:O,multipleResources:x,resources:ap},desktop:{dateRange:ab,timezonePopUp:z,timezone:ac,recurrence:ar,description:O,multipleResources:d,resources:ap}};var Q=p.Observable.extend({init:function(aE,aD){p.Observable.fn.init.call(this);this.element=aE;this.options=Z(true,{},this.options,aD);this.createButton=this.options.createButton;this.toggleDateValidationHandler=w(this._toggleDateValidation,this)},_toggleDateValidation:function(aJ){if(aJ.field=="isAllDay"){var aE=this.container,aI=this.editable.options.model.isAllDay,aH=p.attr("bind"),aG,aD,aF;aE.find("["+aH+"*=end],["+aH+"*=start]").each(function(){aG=am(this);if(ay.test(aG.attr(aH))){aD=aG.is("["+p.attr("role")+"=datetimepicker],[type*=datetime]");aF=aI!==aD;aG.attr(p.attr("validate"),aF)}})}},fields:function(aK,aF){var aI=this;var aE=aI.options.messages;var aJ=aI.options.timezone;var aL=function(aM){aM.preventDefault();aI._initTimezoneEditor(aF,this)};var aG=[{field:"title",title:aE.editor.title},{field:"start",title:aE.editor.start,editor:aK.dateRange,timezone:aJ},{field:"end",title:aE.editor.end,editor:aK.dateRange,timezone:aJ},{field:"isAllDay",title:aE.editor.allDayEvent}];if(p.timezone.windows_zones){aG.push({field:"timezone",title:aE.editor.timezone,editor:aK.timezonePopUp,click:aL,messages:aE.editor,model:aF});aG.push({field:"startTimezone",title:aE.editor.startTimezone,editor:aK.timezone,noTimezone:aE.editor.noTimezone});aG.push({field:"endTimezone",title:aE.editor.endTimezone,editor:aK.timezone,noTimezone:aE.editor.noTimezone})}if(!aF.recurrenceId){aG.push({field:"recurrenceRule",title:aE.editor.repeat,editor:aK.recurrence,timezone:aJ,messages:aE.recurrenceEditor,pane:this.pane})}if("description" in aF){aG.push({field:"description",title:aE.editor.description,editor:aK.description({model:aF,field:"description"})})}for(var aH=0;aH<this.options.resources.length;aH++){var aD=this.options.resources[aH];aG.push({field:aD.field,title:aD.title,editor:aD.multiple?aK.multipleResources(aD,aF):aK.resources(aD,aF)})}return aG},end:function(){return this.editable.end()},_buildEditTemplate:function(aI,aJ,aO){var aF=this.options.messages;var aE=Z({},p.Template,this.options.templateSettings);var aG=aE.paramName;var aN=this.options.editable.template;var aH="";if(aN){if(typeof aN===au){aN=window.unescape(aN)}aH+=(p.template(aN,aE))(aI)}else{for(var aM=0,aD=aJ.length;aM<aD;aM++){var aL=aJ[aM];if(aL.field==="startTimezone"){aH+='<div class="k-popup-edit-form k-scheduler-edit-form k-scheduler-timezones" style="display:none">';aH+='<div class="k-edit-form-container">';aH+='<div class="k-edit-label"></div>';aH+='<div class="k-edit-field"><label class="k-check"><input class="k-timezone-toggle" type="checkbox" />'+aF.editor.separateTimezones+"</label></div>"}aH+='<div class="k-edit-label"><label for="'+aL.field+'">'+(aL.title||aL.field||"")+"</label></div>";if((!aI.editable||aI.editable(aL.field))){aO.push(aL);aH+="<div "+p.attr("container-for")+'="'+aL.field+'" class="k-edit-field"></div>'}else{var aK="#:";if(aL.field){aL=p.expr(aL.field,aG);aK+=aL+"==null?'':"+aL}else{aK+="''"}aK+="#";aK=p.template(aK,aE);aH+='<div class="k-edit-field">'+aK(aI)+"</div>"}if(aL.field==="endTimezone"){aH+=this._createEndTimezoneButton()}}}return aH},_createEndTimezoneButton:function(){return"</div></div>"},_revertTimezones:function(aD){aD.set("startTimezone",this._startTimezone);aD.set("endTimezone",this._endTimezone);delete this._startTimezone;delete this._endTimezone}});var g=Q.extend({init:function(){Q.fn.init.apply(this,arguments);this.pane=p.mobile.ui.Pane.wrap(this.element);this.pane.element.parent().css("height",this.options.height);this.view=this.pane.view();this._actionSheetButtonTemplate=p.template('<li><a #=attr# class="k-button #=className#" href="\\#">#:text#</a></li>');this._actionSheetPopupOptions=am(document.documentElement).hasClass("km-root")?{modal:false}:{align:"bottom center",position:"bottom center",effect:"slideIn:up"}},options:{animations:{left:"slide",right:"slide:right"}},destroy:function(){this.close();this.unbind();this.pane.destroy()},_initTimezoneEditor:function(aJ){var aL=this;var aG=aL.pane;var aH=aL.options.messages;var aD=aL.timezoneView;var aF=aL.container.find(".k-scheduler-timezones");var aK=aF.find(".k-timezone-toggle");var aM=aF.find(".k-edit-label:last").add(aF.find(".k-edit-field:last"));var aE=function(aO){if(aO.field==="startTimezone"){var aN=aJ.startTimezone;aK.prop("disabled",!aN);if(!aN){aM.hide();aJ.set("endTimezone","");aK.prop("checked",false)}}};aL._startTimezone=aJ.startTimezone||"";aL._endTimezone=aJ.endTimezone||"";if(!aD){var aI='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list"><div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">'+aH.cancel+"</a>"+aH.editor.timezoneTitle+'<a href="#" class="k-button k-scheduler-update">'+aH.save+"</a></div></div>";this.timezoneView=aD=aG.append(aI);aD.contentElement().append(aF.show());aD.element.on(ak+at,".k-scheduler-cancel, .k-scheduler-update",function(aN){aN.preventDefault();aN.stopPropagation();if(am(this).hasClass("k-scheduler-cancel")){aL._revertTimezones(aJ)}aJ.unbind("change",aE);var aP=aG.element.find("#edit").data("kendoMobileView");var aO=aB(aJ,aH.editor.noTimezone);aP.contentElement().find(".k-timezone-button").text(aO);aG.navigate(aP,aL.options.animations.right)});aK.click(function(){aM.toggle(aK.prop("checked"));aJ.set("endTimezone","")});aJ.bind("change",aE)}aK.prop("checked",aJ.endTimezone).prop("disabled",!aJ.startTimezone);if(aJ.endTimezone){aM.show()}else{aM.hide()}aG.navigate(aD,aL.options.animations.left)},_createActionSheetButton:function(aD){aD.template=this._actionSheetButtonTemplate;return this.createButton(aD)},showDialog:function(aD){var aG="";var aE='<ul><li class="km-actionsheet-title">'+aD.title+"</li>";var aI=this.element.find(".k-event["+p.attr("uid")+"='"+aD.model.uid+"']");if(this.container){aI=this.container.find(".k-scheduler-delete");if(aI[0]){aG="phone"}}for(var aH=0;aH<aD.buttons.length;aH++){aE+=this._createActionSheetButton(aD.buttons[aH])}aE+="</ul>";var aF=am(aE).appendTo(this.pane.view().element).kendoMobileActionSheet({type:aG,cancel:this.options.messages.cancel,cancelTemplate:'<li class="km-actionsheet-cancel"><a class="k-button" href="\\#">#:cancel#</a></li>',close:function(){this.destroy()},command:function(aK){var aJ=aF.element.find("li:not(.km-actionsheet-cancel) > .k-button").index(am(aK.currentTarget));if(aJ>-1){aF.close();aD.buttons[aJ].click()}},popup:this._actionSheetPopupOptions}).data("kendoMobileActionSheet");aF.open(aI)},editEvent:function(aJ){var aF=this.pane;var aI="";var aH=this.options.messages;var aE=aH.save;var aN=aH.destroy;var aG=aH.cancel;var aP=aH.editor.editorTitle;aI+='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list" id="edit" '+p.attr("uid")+'="'+aJ.uid+'"><div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">'+aG+"</a>"+aP+'<a href="#" class="k-button k-scheduler-update">'+aE+"</a></div>";var aK=this.fields(m.mobile,aJ);var aL=this;var aO=[];aI+=this._buildEditTemplate(aJ,aK,aO);if(!aJ.isNew()&&this.options.editable&&this.options.editable.destroy!==false){aI+='<div class="k-edit-buttons"><a href="#" class="k-scheduler-delete k-button">'+aN+"</a></div>"}aI+="</div>";var aM=aF.append(aI);var aD=this.container=aM.element;this.editable=aD.kendoEditable({fields:aO,model:aJ,clearContainer:false,target:aL.options.target,validateOnBlur:true}).data("kendoEditable");aD.find("input[type=checkbox],input[type=radio]").parent(".k-edit-field").addClass("k-check").prev(".k-edit-label").addClass("k-check").click(function(){am(this).next().children("input").click()});if(!this.trigger("edit",{container:aD,model:aJ})){aD.on(ak+at,"a.k-scheduler-edit, a.k-scheduler-cancel, a.k-scheduler-update, a.k-scheduler-delete",function(aS){aS.preventDefault();aS.stopPropagation();var aR=am(this);if(!aR.hasClass("k-scheduler-edit")){var aQ="cancel";if(aR.hasClass("k-scheduler-update")){aQ="save"}else{if(aR.hasClass("k-scheduler-delete")){aQ="remove"}}aL.trigger(aQ,{container:aD,model:aJ})}else{aF.navigate("#edit",aL.options.animations.right)}});aF.navigate(aM,aL.options.animations.left);aJ.bind("change",aL.toggleDateValidationHandler)}else{this.trigger("cancel",{container:aD,model:aJ})}return this.editable},_views:function(){return this.pane.element.find(p.roleSelector("view")).not(this.view.element)},close:function(){if(this.container){this.pane.navigate("",this.options.animations.right);var aF=this._views();var aE;for(var aD=0,aG=aF.length;aD<aG;aD++){aE=aF.eq(aD).data("kendoMobileView");if(aE){aE.purge()}}aF.remove();this.container=null;if(this.editable){this.editable.options.model.unbind("change",this.toggleDateValidationHandler);this.editable.destroy();this.editable=null}this.timezoneView=null}}});var ao=Q.extend({destroy:function(){this.close();this.unbind()},editEvent:function(aK){var aM=this;var aG=aM.options.editable;var aJ="<div "+p.attr("uid")+'="'+aK.uid+'" class="k-popup-edit-form k-scheduler-edit-form"><div class="k-edit-form-container">';var aI=aM.options.messages;var aF=aI.save;var aH=aI.cancel;var aE=aI.destroy;var aL=this.fields(m.desktop,aK);var aO=[];aJ+=this._buildEditTemplate(aK,aL,aO);var aN;var aP=A(aG)?aG.window:{};aJ+='<div class="k-edit-buttons k-state-default">';aJ+=this.createButton({name:"update",text:aF,attr:aN})+this.createButton({name:"canceledit",text:aH,attr:aN});if(!aK.isNew()&&aG.destroy!==false){aJ+=this.createButton({name:"delete",text:aE,attr:aN})}aJ+="</div></div></div>";var aD=this.container=am(aJ).appendTo(aM.element).eq(0).kendoWindow(Z({modal:true,resizable:false,draggable:true,title:aI.editor.editorTitle,visible:false,close:function(aQ){if(aQ.userTriggered){if(aM.trigger(X,{container:aD,model:aK})){aQ.preventDefault()}}}},aP));aM.editable=aD.kendoEditable({fields:aO,model:aK,clearContainer:false,validateOnBlur:true,target:aM.options.target}).data("kendoEditable");if(!aM.trigger(D,{container:aD,model:aK})){aD.data("kendoWindow").center().open();aD.on(ak+at,"a.k-scheduler-cancel",function(aQ){aQ.preventDefault();aQ.stopPropagation();aM.trigger(X,{container:aD,model:aK})});aD.on(ak+at,"a.k-scheduler-update",function(aQ){aQ.preventDefault();aQ.stopPropagation();aM.trigger("save",{container:aD,model:aK})});aD.on(ak+at,"a.k-scheduler-delete",function(aQ){aQ.preventDefault();aQ.stopPropagation();aM.trigger(az,{container:aD,model:aK})});aK.bind("change",aM.toggleDateValidationHandler)}else{aM.trigger(X,{container:aD,model:aK})}return aM.editable},close:function(){var aE=this;var aD=function(){if(aE.editable){aE.editable.options.model.unbind("change",aE.toggleDateValidationHandler);aE.editable.destroy();aE.editable=null;aE.container=null}if(aE.popup){aE.popup.destroy();aE.popup=null}};if(aE.editable){if(aE._timezonePopup&&aE._timezonePopup.data("kendoWindow")){aE._timezonePopup.data("kendoWindow").destroy();aE._timezonePopup=null}if(aE.container.is(":visible")){aE.container.data("kendoWindow").bind("deactivate",aD).close()}else{aD()}}else{aD()}},_createEndTimezoneButton:function(){var aE=this.options.messages;var aD="";aD+='<div class="k-edit-buttons k-state-default">';aD+=this.createButton({name:"savetimezone",text:aE.save})+this.createButton({name:"canceltimezone",text:aE.cancel});aD+="</div></div></div>";return aD},showDialog:function(aE){var aF=p.format("<div class='k-popup-edit-form'><div class='k-edit-form-container'><p class='k-popup-message'>{0}</p>",aE.text);aF+='<div class="k-edit-buttons k-state-default">';for(var aG=0;aG<aE.buttons.length;aG++){aF+=this.createButton(aE.buttons[aG])}aF+="</div></div></div>";var aH=this.element;if(this.popup){this.popup.destroy()}var aD=this.popup=am(aF).appendTo(aH).eq(0).on("click",".k-button",function(aJ){aJ.preventDefault();aD.close();var aI=am(aJ.currentTarget).index();aE.buttons[aI].click()}).kendoWindow({modal:true,resizable:false,draggable:false,title:aE.title,visible:false,close:function(){this.destroy();aH.focus()}}).getKendoWindow();aD.center().open()},_initTimezoneEditor:function(aI,aK){var aL=this;var aE=aL.container.find(".k-scheduler-timezones");var aJ=aE.find(".k-timezone-toggle");var aM=aE.find(".k-edit-label:last").add(aE.find(".k-edit-field:last"));var aH=aE.find(".k-scheduler-savetimezone");var aF=aE.find(".k-scheduler-canceltimezone");var aN=aL._timezonePopup;var aD=function(aP){if(aP.field==="startTimezone"){var aO=aI.startTimezone;aJ.prop("disabled",!aO);if(!aO){aM.hide();aI.set("endTimezone","");aJ.prop("checked",false)}}};var aG;aL._startTimezone=aI.startTimezone;aL._endTimezone=aI.endTimezone;if(!aN){aL._timezonePopup=aN=aE.kendoWindow({modal:true,resizable:false,draggable:true,title:aL.options.messages.editor.timezoneEditorTitle,visible:false,close:function(aO){aI.unbind("change",aD);if(aO.userTriggered){aL._revertTimezones(aI)}if(aK){aK.focus()}}});aJ.click(function(){aM.toggle(aJ.prop("checked"));aI.set("endTimezone","")});aH.click(function(aO){aO.preventDefault();aG.close()});aF.click(function(aO){aO.preventDefault();aL._revertTimezones(aI);aG.close()});aI.bind("change",aD)}aJ.prop("checked",aI.endTimezone).prop("disabled",!aI.startTimezone);if(aI.endTimezone){aM.show()}else{aM.hide()}aG=aN.data("kendoWindow");aG.center().open()}});var j=b.extend({init:function(aE,aD){var aF=this;h.fn.init.call(aF,aE,aD);if(!aF.options.views||!aF.options.views.length){aF.options.views=["day","week"]}aF.resources=[];aF._initModel();aF._wrapper();aF._views();aF._toolbar();aF._dataSource();aF._resources();aF._resizeHandler=w(aF.resize,aF);aF.wrapper.on("mousedown"+at+" selectstart"+at,function(aG){if(!am(aG.target).is(":kendoFocusable")){aG.preventDefault()}});if(aF.options.editable&&aF.options.editable.resize!==false){aF._resizable()}aF._movable();am(window).on("resize"+at,aF._resizeHandler);if(aF.options.messages&&aF.options.messages.recurrence){aq.options=aF.options.messages.recurrence}aF._selectable();aF._ariaId=p.guid();aF._createEditor()},dataItems:function(){var aJ=this;var aK=aJ.items();var aN=aJ._data;var aI=am.map(aK,function(aO){return am(aO).attr("data-uid")});var aG;var aM;var aE={};var aF=aI.length;for(aG=0;aG<aF;aG++){aE[aI[aG]]=null}var aH=aN.length;for(aG=0;aG<aH;aG++){var aD=aN[aG];if(aE[aD.uid]!==v){aE[aD.uid]=aD}}var aL=[];for(aM in aE){aL.push(aE[aM])}return aL},_isMobile:function(){var aD=this.options;return(aD.mobile===true&&p.support.mobileOS)||aD.mobile==="phone"||aD.mobile==="tablet"},_isMobilePhoneView:function(){var aD=this.options;return(aD.mobile===true&&p.support.mobileOS&&!p.support.mobileOS.tablet)||aD.mobile==="phone"},_selectable:function(){var aF=this,aG=aF.wrapper,aE=p.support.mobileOS?"touchend":"mousedown";if(!aF.options.selectable){return}aF._tabindex();aG.on(aE+at,".k-scheduler-header-all-day td, .k-scheduler-content td, .k-event",function(aK){var aL=aK.which;var aI=aK.button;var aH=p.support.browser;var aJ=aL&&aL===3||aI&&aI==2;if(p.support.mobileOS&&aK.isDefaultPrevented()){return}if(!aJ){aF._createSelection(aK.currentTarget)}aG.focus();if(aH.msie&&aH.version<9){setTimeout(function(){aG.focus()})}});var aD=am.proxy(aF._mouseMove,aF);aG.on("mousedown"+at,".k-scheduler-header-all-day td, .k-scheduler-content td",function(aJ){var aK=aJ.which;var aH=aJ.button;var aI=aK&&aK===3||aH&&aH==2;if(!aI){aG.on("mousemove"+at,".k-scheduler-header-all-day td, .k-scheduler-content td",aD)}});aG.on("mouseup"+at+" mouseleave"+at,function(){aG.off("mousemove"+at,".k-scheduler-header-all-day td, .k-scheduler-content td",aD)});aG.on("focus"+at,function(){if(!aF._selection){aF._createSelection(am(".k-scheduler-content").find("td:first"))}aF._select()});aG.on("focusout"+at,function(){aF.view().clearSelection();aF._ctrlKey=aF._shiftKey=false});aG.on("keydown"+at,w(aF._keydown,aF));aG.on("keyup"+at,function(aH){aF._ctrlKey=aH.ctrlKey;aF._shiftKey=aH.shiftKey})},_select:function(){var aG=this;var aJ=aG.view();var aD=aG.wrapper;var aI=aJ.current();var aK=aG._selection;if(aI){aI.removeAttribute("id");aI.removeAttribute("aria-label");aD.removeAttr("aria-activedescendant")}aJ.select(aK);aI=aJ.current();if(aI&&aG._old!==aI){var aE;var aF=aK;var aL=aG._selectedEvents();var aH=aJ._selectedSlots;if(aL[0]){aF=aL[0]||aK;aE=p.format(aG.options.messages.ariaEventLabel,aF.title,aF.start,aF.start)}else{aE=p.format(aG.options.messages.ariaSlotLabel,aF.start,aF.end)}aI.setAttribute("id",aG._ariaId);aI.setAttribute("aria-label",aE);aD.attr("aria-activedescendant",aG._ariaId);aG._old=aI;aG.trigger("change",{start:aK.start,end:aK.end,events:aL,slots:aH,resources:aJ._resourceBySlot(aK)})}},_selectedEvents:function(){var aH=this._selection.events;var aG=aH.length;var aD=0;var aF;var aE=[];for(;aD<aG;aD++){aF=this.occurrenceByUid(aH[aD]);if(aF){aE.push(aF)}}return aE},_mouseMove:function(aE){var aD=this;clearTimeout(aD._moveTimer);aD._moveTimer=setTimeout(function(){var aG=aD.view();var aH=aD._selection;if(aH){var aJ=aG.selectionByElement(am(aE.currentTarget));if(aJ&&aH.groupIndex===aJ.groupIndex){var aF=aJ.startDate();var aI=aJ.endDate();if(aF>=aH.end){aH.backward=false}else{if(aI<=aH.start){aH.backward=true}}if(aH.backward){aH.start=aF}else{aH.end=aI}aD._select()}}},5)},_viewByIndex:function(aF){var aE,aD=this.views;for(aE in aD){if(!aF){return aE}aF--}},_keydown:function(aJ){var aI=this,aG=aJ.keyCode,aD=aI.view(),aF=aD.options.editable,aH=aI._selection,aE=aJ.shiftKey;aI._ctrlKey=aJ.ctrlKey;aI._shiftKey=aJ.shiftKey;if(aG===E.TAB){if(aD.moveToEvent(aH,aE)){aI._select();aJ.preventDefault()}}else{if(aF&&aG===E.ENTER){if(aH.events.length){if(aF.update!==false){aI.editEvent(aH.events[0])}}else{if(aF.create!==false){if(aH.isAllDay){aH=am.extend({},aH,{end:p.date.addDays(aH.end,-1)})}aI.addEvent(Z({},aH,aD._resourceBySlot(aH)))}}}else{if(aG===E.DELETE&&aF!==false&&aF.destroy!==false){aI.removeEvent(aH.events[0])}else{if(aG>=49&&aG<=57){aI.view(aI._viewByIndex(aG-49))}else{if(aD.move(aH,aG,aE)){if(aD.inRange(aH)){aI._select()}else{aI.date(aH.start)}aJ.preventDefault()}}}}}aI._adjustSelectedDate()},_createSelection:function(aF){var aD,aG,aE;if(!this._selection||(!this._ctrlKey&&!this._shiftKey)){this._selection={events:[],groupIndex:0}}aF=am(aF);aE=this._selection;aD=aF.attr(p.attr("uid"));aG=this.view().selectionByElement(aF);if(aG){aE.groupIndex=aG.groupIndex||0}if(aD){aG=aC(this._data,aD)}if(aG&&aG.uid){aD=[aG.uid]}this._updateSelection(aG,aD);this._adjustSelectedDate()},_updateSelection:function(aE,aF){var aG=this._selection;if(aE&&aG){var aD=this.view();if(aE.uid){aE=aD._updateEventForSelection(aE)}if(this._shiftKey&&aG.start&&aG.end){var aH=aE.end<aG.end;aG.end=aE.endDate?aE.endDate():aE.end;if(aH&&aD._timeSlotInterval){p.date.setTime(aG.end,-aD._timeSlotInterval())}}else{aG.start=aE.startDate?aE.startDate():aE.start;aG.end=aE.endDate?aE.endDate():aE.end}if("isDaySlot" in aE){aG.isAllDay=aE.isDaySlot}else{aG.isAllDay=aE.isAllDay}aG.index=aE.index;if(this._ctrlKey){aG.events=aG.events.concat(aF||[])}else{aG.events=aF||[]}}},options:{name:"Scheduler",date:e,editable:true,autoBind:true,snap:true,mobile:false,timezone:"",allDaySlot:true,min:new Date(1900,0,1),max:new Date(2099,11,31),toolbar:null,messages:{today:"Today",pdf:"Export to PDF",save:"Save",cancel:"Cancel",destroy:"Delete",deleteWindowTitle:"Delete event",ariaSlotLabel:"Selected from {0:t} to {1:t}",ariaEventLabel:"{0} on {1:D} at {2:t}",views:{day:"Day",week:"Week",workWeek:"Work Week",agenda:"Agenda",month:"Month",timeline:"Timeline",timelineWeek:"Timeline Week",timelineWorkWeek:"Timeline Work Week",timelineMonth:"Timeline Month"},recurrenceMessages:{deleteWindowTitle:"Delete Recurring Item",deleteWindowOccurrence:"Delete current occurrence",deleteWindowSeries:"Delete the series",editWindowTitle:"Edit Recurring Item",editWindowOccurrence:"Edit current occurrence",editWindowSeries:"Edit the series"},editor:{title:"Title",start:"Start",end:"End",allDayEvent:"All day event",description:"Description",repeat:"Repeat",timezone:" ",startTimezone:"Start timezone",endTimezone:"End timezone",separateTimezones:"Use separate start and end time zones",timezoneEditorTitle:"Timezones",timezoneEditorButton:"Time zone",timezoneTitle:"Time zones",noTimezone:"No timezone",editorTitle:"Event"}},height:null,width:null,resources:[],group:{resources:[],direction:"horizontal"},views:[],selectable:false},events:[az,D,X,al,"add","dataBinding","dataBound","moveStart","move","moveEnd","resizeStart","resize","resizeEnd","navigate","change"],destroy:function(){var aE=this,aD;h.fn.destroy.call(aE);if(aE.dataSource){aE.dataSource.unbind(C,aE._refreshHandler);aE.dataSource.unbind("progress",aE._progressHandler);aE.dataSource.unbind("error",aE._errorHandler)}if(aE.calendar){aE.calendar.destroy();aE.popup.destroy()}if(aE.view()){aE.view().destroy()}if(aE._editor){aE._editor.destroy()}if(this._moveDraggable){this._moveDraggable.destroy()}if(this._resizeDraggable){this._resizeDraggable.destroy()}aD=aE.element.add(aE.wrapper).add(aE.toolbar).add(aE.popup);aD.off(at);clearTimeout(aE._moveTimer);aE._model=null;aE.toolbar=null;aE.element=null;am(window).off("resize"+at,aE._resizeHandler);p.destroy(aE.wrapper)},setDataSource:function(aD){this.options.dataSource=aD;this._dataSource();if(this.options.autoBind){aD.fetch()}},items:function(){return this.wrapper.find(".k-scheduler-content").children(".k-event, .k-task")},_movable:function(){var aL;var aF;var aH;var aI;var aE;var aG;var aJ=this;var aK=aJ._isMobile();var aM=aJ.options.editable&&aJ.options.editable.move!==false;var aD=aJ.options.editable&&aJ.options.editable.resize!==false;if(aM||(aD&&aK)){aJ._moveDraggable=new p.ui.Draggable(aJ.element,{distance:0,filter:".k-event",ignore:".k-resize-handle",holdToDrag:aK});if(aM){aJ._moveDraggable.bind("dragstart",function(aP){var aN=aJ.view();var aO=aP.currentTarget;if(!aN.options.editable||aN.options.editable.move===false){aP.preventDefault();return}if(aK&&!aO.hasClass("k-event-active")){aJ.element.find(".k-event-active").removeClass("k-event-active");aP.preventDefault();return}aE=aJ.occurrenceByUid(aO.attr(p.attr("uid")));aG=aE.clone();aN._updateEventForMove(aG);aL=aN._slotByPosition(aP.x.startLocation,aP.y.startLocation);aH=aL.startOffset(aP.x.startLocation,aP.y.startLocation,aJ.options.snap);aF=aL;if(!aL||aJ.trigger("moveStart",{event:aE})){aP.preventDefault()}}).bind("drag",function(aP){var aN=aJ.view();var aR=aN._slotByPosition(aP.x.location,aP.y.location);if(!aR){return}aI=aR.startOffset(aP.x.location,aP.y.location,aJ.options.snap);var aQ=aI-aH;aN._updateMoveHint(aG,aR.groupIndex,aQ);var aO=L(aG,aQ);if(!aJ.trigger("move",{event:aE,slot:{element:aR.element,start:aR.startDate(),end:aR.endDate()},resources:aN._resourceBySlot(aR),start:aO.start,end:aO.end})){aF=aR}else{aN._updateMoveHint(aG,aR.groupIndex,aQ)}}).bind("dragend",function(aS){aJ.view()._removeMoveHint();var aU=aI-aH;var aQ=L(aG,aU);var aT=aQ.start;var aP=aQ.end;var aO=aJ.view()._resourceBySlot(aF);var aN=aJ.view()._resourceBySlot(aL);var aR=aJ.trigger("moveEnd",{event:aE,slot:{element:aF.element,start:aF.startDate(),end:aF.endDate()},start:aT,end:aP,resources:aO});if(!aR&&(aG.start.getTime()!=aT.getTime()||aG.end.getTime()!=aP.getTime()||p.stringify(aO)!=p.stringify(aN))){aJ.view()._updateEventForMove(aE);aJ._updateEvent(null,aE,am.extend({start:aT,end:aP},aO))}aS.currentTarget.removeClass("k-event-active");this.cancelHold()}).bind("dragcancel",function(){aJ.view()._removeMoveHint();this.cancelHold()})}if(aK){aJ._moveDraggable.bind("hold",function(aN){if(aJ.element.find(".k-scheduler-monthview").length){aN.preventDefault()}aJ.element.find(".k-event-active").removeClass("k-event-active");aN.currentTarget.addClass("k-event-active")});aJ._moveDraggable.userEvents.bind("press",function(aN){aN.preventDefault()})}}},_resizable:function(){var aF;var aD;var aH;var aE;var aJ;var aG=this;function aI(aL){var aM={"k-resize-e":"east","k-resize-w":"west","k-resize-n":"north","k-resize-s":"south"};for(var aK in aM){if(aL.hasClass(aK)){return aM[aK]}}}aG._resizeDraggable=new p.ui.Draggable(aG.element,{distance:0,filter:".k-resize-handle",dragstart:function(aO){var aK=am(aO.currentTarget);var aM=aK.closest(".k-event");var aN=aM.attr(p.attr("uid"));var aL=aG.view();aH=aG.occurrenceByUid(aN);aE=aH.clone();aL._updateEventForResize(aE);aJ=aL._slotByPosition(aO.x.startLocation,aO.y.startLocation);if(aG.trigger("resizeStart",{event:aH})){aO.preventDefault()}aF=p.date.toUtcTime(aE.start);aD=p.date.toUtcTime(aE.end)},drag:function(aQ){if(!aJ){return}var aK=am(aQ.currentTarget);var aN=aI(aK);var aL=aG.view();var aP=aL._slotByPosition(aQ.x.location,aQ.y.location);if(!aP||aJ.groupIndex!=aP.groupIndex){return}aJ=aP;var aO=aF;var aM=aD;if(aN=="south"){if(!aJ.isDaySlot&&aJ.end-p.date.toUtcTime(aE.start)>=aL._timeSlotInterval()){if(aE.isAllDay){aD=aJ.startOffset(aQ.x.location,aQ.y.location,aG.options.snap)}else{aD=aJ.endOffset(aQ.x.location,aQ.y.location,aG.options.snap)}}}else{if(aN=="north"){if(!aJ.isDaySlot&&p.date.toUtcTime(aE.end)-aJ.start>=aL._timeSlotInterval()){aF=aJ.startOffset(aQ.x.location,aQ.y.location,aG.options.snap)}}else{if(aN=="east"){if(aJ.isDaySlot&&p.date.toUtcTime(p.date.getDate(aJ.endDate()))>=p.date.toUtcTime(p.date.getDate(aE.start))){if(aE.isAllDay){aD=aJ.startOffset(aQ.x.location,aQ.y.location,aG.options.snap)}else{aD=aJ.endOffset(aQ.x.location,aQ.y.location,aG.options.snap)}}else{if(!aJ.isDaySlot&&aJ.end-p.date.toUtcTime(aE.start)>=aL._timeSlotInterval()){aD=aJ.endOffset(aQ.x.location,aQ.y.location,aG.options.snap)}}}else{if(aN=="west"){if(aJ.isDaySlot&&p.date.toUtcTime(p.date.getDate(aE.end))>=p.date.toUtcTime(p.date.getDate(aJ.startDate()))){aF=aJ.startOffset(aQ.x.location,aQ.y.location,aG.options.snap)}else{if(!aJ.isDaySlot&&p.date.toUtcTime(aE.end)-aJ.start>=aL._timeSlotInterval()){aF=aJ.startOffset(aQ.x.location,aQ.y.location,aG.options.snap)}}}}}}if(!aG.trigger("resize",{event:aH,slot:{element:aJ.element,start:aJ.startDate(),end:aJ.endDate()},start:p.timezone.toLocalDate(aF),end:p.timezone.toLocalDate(aD),resources:aL._resourceBySlot(aJ)})){aL._updateResizeHint(aE,aJ.groupIndex,aF,aD)}else{aF=aO;aD=aM}},dragend:function(aO){var aK=am(aO.currentTarget);var aP=new Date(aE.start.getTime());var aL=new Date(aE.end.getTime());var aM=aI(aK);aG.view()._removeResizeHint();if(aM=="south"){aL=p.timezone.toLocalDate(aD)}else{if(aM=="north"){aP=p.timezone.toLocalDate(aF)}else{if(aM=="east"){if(aJ.isDaySlot){aL=p.date.getDate(p.timezone.toLocalDate(aD))}else{aL=p.timezone.toLocalDate(aD)}}else{if(aM=="west"){if(aJ.isDaySlot){aP=new Date(p.timezone.toLocalDate(aF));aP.setHours(0);aP.setMinutes(0)}else{aP=p.timezone.toLocalDate(aF)}}}}}var aN=aG.trigger("resizeEnd",{event:aH,slot:{element:aJ.element,start:aJ.startDate(),end:aJ.endDate()},start:aP,end:aL,resources:aG.view()._resourceBySlot(aJ)});if(!aN&&aL.getTime()>=aP.getTime()){if(aE.start.getTime()!=aP.getTime()||aE.end.getTime()!=aL.getTime()){aG.view()._updateEventForResize(aH);aG._updateEvent(aM,aH,{start:aP,end:aL})}}aJ=null;aH=null},dragcancel:function(){aG.view()._removeResizeHint();aJ=null;aH=null}})},_updateEvent:function(aG,aD,aI){var aH=this;var aL=function(aM,aN){try{aH._preventRefresh=true;aM.update(aI);aH._convertDates(aM)}finally{aH._preventRefresh=false}if(!aH.trigger(al,{event:aM})){if(aN){aN()}aH._updateSelection(aM);aH.dataSource.sync()}};var aF=function(aM){if(aM.recurrenceRule){return aH.dataSource.getByUid(aM.uid)}else{return aH.dataSource.get(aM.recurrenceId)}};var aJ=function(){var aN=aF(aD);if(aG=="south"||aG=="north"){if(aI.start){var aO=p.date.getDate(aN.start);p.date.setTime(aO,U(aI.start));aI.start=aO}if(aI.end){var aM=p.date.getDate(aN.end);p.date.setTime(aM,U(aI.end));aI.end=aM}}aH.dataSource._removeExceptions(aN);aL(aN)};var aE=function(){var aN=aF(aD);var aO=function(){aH._convertDates(aN)};var aM=aN.toOccurrence({start:aD.start,end:aD.end});aL(aH.dataSource.add(aM),aO)};var aK=aH.options.messages.recurrenceMessages;if(aD.recurrenceRule||aD.isOccurrence()){aH.showDialog({model:aD,title:aK.editWindowTitle,text:aK.editRecurring?aK.editRecurring:G,buttons:[{text:aK.editWindowOccurrence,click:aE},{text:aK.editWindowSeries,click:aJ}]})}else{aL(aH.dataSource.getByUid(aD.uid))}},_modelForContainer:function(aD){aD=am(aD).closest("["+p.attr("uid")+"]");return this.dataSource.getByUid(aD.attr(p.attr("uid")))},showDialog:function(aD){this._editor.showDialog(aD)},focus:function(){this.wrapper.focus()},_confirmation:function(aI,aD){var aE=this.options.editable;if(aE===true||aE.confirmation!==false){var aG=this.options.messages;var aH=typeof aE.confirmation===au?aE.confirmation:i;var aF=[{name:"destroy",text:aG.destroy,click:function(){aI()}}];if(!(this._isMobile()&&p.mobile.ui.Pane)){aF.push({name:"canceledit",text:aG.cancel,click:function(){aI(true)}})}this.showDialog({model:aD,text:aH,title:aG.deleteWindowTitle,buttons:aF})}else{aI()}},addEvent:function(aG){var aD=this._editor.editable;var aH=this.dataSource;var aE;aG=aG||{};var aF=this.trigger("add",{event:aG});if(!aF&&((aD&&aD.end())||!aD)){this.cancelEvent();if(aG&&aG.toJSON){aG=aG.toJSON()}aE=aH.add(aG);if(aE){this.cancelEvent();this._editEvent(aE)}}},saveEvent:function(){var aG=this._editor;if(!aG){return}var aF=aG.editable;var aD=aG.container;var aE=this._modelForContainer(aD);if(aD&&aF&&aF.end()&&!this.trigger(al,{container:aD,event:aE})){if(aE.isRecurrenceHead()){this.dataSource._removeExceptions(aE)}if(!aE.dirty&&!aE.isOccurrence()){this._convertDates(aE,"remove")}this.dataSource.sync()}},cancelEvent:function(){var aF=this._editor;var aD=aF.container;var aE;if(aD){aE=this._modelForContainer(aD);if(aE&&aE.isOccurrence()){this._convertDates(aE,"remove");this._convertDates(this.dataSource.get(aE.recurrenceId),"remove")}this.dataSource.cancelChanges(aE);aF.close()}},editEvent:function(aE){var aD=typeof aE=="string"?this.occurrenceByUid(aE):aE;if(!aD){return}this.cancelEvent();if(aD.isRecurring()){this._editRecurringDialog(aD)}else{this._editEvent(aD)}},_editEvent:function(aD){this._createPopupEditor(aD)},_editRecurringDialog:function(aE){var aF=this;var aH=function(){if(aE.isException()){aF._editEvent(aE)}else{aF.addEvent(aE)}};var aG=function(){if(aE.recurrenceId){aE=aF.dataSource.get(aE.recurrenceId)}aF._editEvent(aE)};var aD=aF.options.messages.recurrenceMessages;aF.showDialog({model:aE,title:aD.editWindowTitle,text:aD.editRecurring?aD.editRecurring:G,buttons:[{text:aD.editWindowOccurrence,click:aH},{text:aD.editWindowSeries,click:aG}]})},_createButton:function(aG){var aF=aG.template||P,aE=typeof aG===au?aG:aG.name||aG.text,aD={className:"k-scheduler-"+(aE||"").replace(/\s/g,""),text:aE,attr:""};if(!aE&&!(A(aG)&&aG.template)){throw new Error("Custom commands should have name specified")}if(A(aG)){if(aG.className){aG.className+=" "+aD.className}if(aE==="edit"&&A(aG.text)){aG=Z(true,{},aG);aG.text=aG.text.edit}aD=Z(true,aD,K[aE],aG)}else{aD=Z(true,aD,K[aE])}return p.template(aF)(aD)},_convertDates:function(aG,aJ){var aH=this.dataSource.reader.timezone;var aD=aG.startTimezone;var aF=aG.endTimezone;var aI=aG.start;var aE=aG.start;aJ=aJ||"apply";aD=aD||aF;aF=aF||aD;if(aD){if(aH){if(aJ==="apply"){aI=p.timezone.convert(aG.start,aH,aD);aE=p.timezone.convert(aG.end,aH,aF)}else{aI=p.timezone.convert(aG.start,aD,aH);aE=p.timezone.convert(aG.end,aF,aH)}}else{aI=p.timezone[aJ](aG.start,aD);aE=p.timezone[aJ](aG.end,aF)}aG._set("start",aI);aG._set("end",aE)}},_createEditor:function(){var aE=this;var aD;if(this._isMobile()&&p.mobile.ui.Pane){aD=aE._editor=new g(this.wrapper,Z({},this.options,{target:this,timezone:aE.dataSource.reader.timezone,resources:aE.resources,createButton:w(this._createButton,this)}))}else{aD=aE._editor=new ao(this.wrapper,Z({},this.options,{target:this,createButton:w(this._createButton,this),timezone:aE.dataSource.reader.timezone,resources:aE.resources}))}aD.bind("cancel",function(aF){if(aE.trigger("cancel",{container:aF.container,event:aF.model})){aF.preventDefault();return}aE.cancelEvent();aE.focus()});aD.bind("edit",function(aF){if(aE.trigger(D,{container:aF.container,event:aF.model})){aF.preventDefault()}});aD.bind("save",function(){aE.saveEvent()});aD.bind("remove",function(aF){aE.removeEvent(aF.model)})},_createPopupEditor:function(aD){var aE=this._editor;if(!aD.isNew()||aD.isOccurrence()){if(aD.isOccurrence()){this._convertDates(aD.recurrenceId?this.dataSource.get(aD.recurrenceId):aD)}this._convertDates(aD)}this.editable=aE.editEvent(aD)},removeEvent:function(aE){var aF=this,aD=typeof aE=="string"?aF.occurrenceByUid(aE):aE;if(!aD){return}if(aD.isRecurring()){aF._deleteRecurringDialog(aD)}else{aF._confirmation(function(aG){if(!aG){aF._removeEvent(aD)}},aD)}},occurrenceByUid:function(aD){var aE=this.dataSource.getByUid(aD);if(!aE){aE=aC(this._data,aD)}return aE},occurrencesInRange:function(aE,aD){return new p.data.Query(this._data).filter({logic:"or",filters:[{logic:"and",filters:[{field:"start",operator:"gte",value:aE},{field:"end",operator:"gte",value:aE},{field:"start",operator:"lt",value:aD}]},{logic:"and",filters:[{field:"start",operator:"lte",value:aE},{field:"end",operator:"gt",value:aE}]}]}).toArray()},_removeEvent:function(aD){if(!this.trigger(az,{event:aD})){if(this.dataSource.remove(aD)){this.dataSource.sync()}}},_deleteRecurringDialog:function(aF){var aH=this;var aD=aF;var aG=function(){var aK=aD.recurrenceId?aD:aD.toOccurrence();var aJ=aH.dataSource.get(aK.recurrenceId);aH._convertDates(aJ);aH._removeEvent(aK)};var aI=function(){if(aD.recurrenceId){aD=aH.dataSource.get(aD.recurrenceId)}aH._removeEvent(aD)};var aE=aH.options.messages.recurrenceMessages;aH.showDialog({model:aF,title:aE.deleteWindowTitle,text:aE.deleteRecurring?aE.deleteRecurring:I,buttons:[{text:aE.deleteWindowOccurrence,click:aG},{text:aE.deleteWindowSeries,click:aI}]})},_unbindView:function(aD){var aE=this;aE.angular("cleanup",function(){return{elements:aE.items()}});aD.destroy()},_bindView:function(aD){var aE=this;if(aE.options.editable){if(aE._viewRemoveHandler){aD.unbind(az,aE._viewRemoveHandler)}aE._viewRemoveHandler=function(aF){aE.removeEvent(aF.uid)};aD.bind(az,aE._viewRemoveHandler);if(aE._viewAddHandler){aD.unbind(W,aE._viewAddHandler)}aE._viewAddHandler=function(aF){aE.addEvent(aF.eventInfo)};aD.bind(W,this._viewAddHandler);if(aE._viewEditHandler){aD.unbind(D,aE._viewEditHandler)}aE._viewEditHandler=function(aF){aE.editEvent(aF.uid)};aD.bind(D,this._viewEditHandler)}if(aE._viewNavigateHandler){aD.unbind("navigate",aE._viewNavigateHandler)}aE._viewNavigateHandler=function(aG){if(aG.view){var aH="isWorkDay" in aG;var aF=aH?"changeWorkDay":"changeView";if(!aE.trigger("navigate",{view:aG.view,isWorkDay:aG.isWorkDay,action:aF,date:aG.date})){if(aH){aE._workDayMode=aG.isWorkDay}aE._selectView(aG.view);aE.date(aG.date)}}};aD.bind("navigate",aE._viewNavigateHandler);if(aE._viewActivateHandler){aD.unbind("activate",aE._viewActivateHandler)}aE._viewActivateHandler=function(){var aF=this;if(aE._selection){aF.constrainSelection(aE._selection);aE._select();aE._adjustSelectedDate()}};aD.bind("activate",aE._viewActivateHandler)},_selectView:function(aD){var aE=this;if(aD&&aE.views[aD]){if(aE._selectedView){aE._unbindView(aE._selectedView)}aE._selectedView=aE._renderView(aD);aE._selectedViewName=aD;aE.toolbar.find(".k-scheduler-views li").removeClass("k-state-selected").end().find(".k-view-"+aD.replace(/\./g,"\\.").toLowerCase()).addClass("k-state-selected")}},view:function(aD){var aE=this;if(aD){aE._selectView(aD);aE.rebind();return}return aE._selectedView},_renderView:function(aE){var aD=this._initializeView(aE);this._bindView(aD);this._model.set("formattedDate",aD.dateForTitle());return aD},resize:function(aG){var aF=this.getSize();var aE=this._size;var aD=this.view();if(!aD||!aD.groups){return}if(aG||!aE||aF.width!==aE.width||aF.height!==aE.height){this.refresh({action:"resize"});this._size=aF}},_adjustSelectedDate:function(){var aD=this._model.selectedDate,aE=this._selection,aF=aE.start;if(aF&&!p.date.isInDateRange(aD,aw(aF),aw(aE.end))){aD.setFullYear(aF.getFullYear(),aF.getMonth(),aF.getDate())}},_initializeView:function(aF){var aD=this.views[aF];if(aD){var aE=A(aD),aG=aD.type;if(typeof aG===au){aG=p.getter(aD.type)(window)}if(aG){aD=new aG(this.wrapper,T(Z(true,{},this.options,aE?aD:{},{resources:this.resources,date:this.date(),showWorkHours:this._workDayMode})))}else{throw new Error("There is no such view")}}return aD},_views:function(){var aM=this.options.views;var aK;var aI;var aH;var aD;var aE;var aJ;var aL;var aF;this.views={};for(aL=0,aF=aM.length;aL<aF;aL++){var aG=false;aK=aM[aL];aD=A(aK);if(aD){aJ=aE=aK.type?aK.type:aK;if(typeof aJ!==au){aE=aK.title;aG=true}}else{aJ=aE=aK}aI=f[aE];if(aI&&!aG){aK.type=aI.type;aI.title=this.options.messages.views[aE];if(aI.type==="day"){aI.messages={allDay:this.options.messages.allDay}}else{if(aI.type==="agenda"){aI.messages={event:this.options.messages.event,date:this.options.messages.date,time:this.options.messages.time}}}}aK=Z({title:aE},aI,aD?aK:{});if(aE){this.views[aE]=aK;if(!aH||aK.selected){aH=aE}}}if(aH){this._selectedViewName=aH}},rebind:function(){this.dataSource.fetch()},_dataSource:function(){var aE=this,aD=aE.options,aF=aD.dataSource;aF=a(aF)?{data:aF}:aF;if(aD.timezone&&!(aF instanceof ax)){aF=Z(true,aF,{schema:{timezone:aD.timezone}})}else{if(aF instanceof ax){aD.timezone=aF.schema?aF.schema.timezone:""}}if(aE.dataSource&&aE._refreshHandler){aE.dataSource.unbind(C,aE._refreshHandler).unbind("progress",aE._progressHandler).unbind("error",aE._errorHandler)}else{aE._refreshHandler=w(aE.refresh,aE);aE._progressHandler=w(aE._requestStart,aE);aE._errorHandler=w(aE._error,aE)}aE.dataSource=p.data.SchedulerDataSource.create(aF).bind(C,aE._refreshHandler).bind("progress",aE._progressHandler).bind("error",aE._errorHandler);aE.options.dataSource=aE.dataSource},_error:function(){this._progress(false)},_requestStart:function(){this._progress(true)},_progress:function(aD){var aE=this.element.find(".k-scheduler-content");p.ui.progress(aE,aD)},_resources:function(){var aF=this;var aI=aF.options.resources;for(var aD=0;aD<aI.length;aD++){var aG=aI[aD];var aH=aG.field;var aJ=aG.dataSource;if(!aH||!aJ){throw new Error('The "field" and "dataSource" options of the scheduler resource are mandatory.')}aF.resources.push({field:aH,name:aG.name||aH,title:aG.title||aH,dataTextField:aG.dataTextField||"text",dataValueField:aG.dataValueField||"value",dataColorField:aG.dataColorField||"color",valuePrimitive:aG.valuePrimitive!=null?aG.valuePrimitive:true,multiple:aG.multiple||false,dataSource:p.data.DataSource.create(aJ)})}var aE=am.map(aF.resources,function(aK){return aK.dataSource.fetch()});am.when.apply(null,aE).then(function(){if(aF.options.autoBind){aF.view(aF._selectedViewName)}else{aF._selectView(aF._selectedViewName)}})},_initModel:function(){var aD=this;aD._model=p.observable({selectedDate:new Date(this.options.date),formattedDate:""});aD._model.bind("change",function(aE){if(aE.field==="selectedDate"){aD.view(aD._selectedViewName)}})},_wrapper:function(){var aG=this;var aE=aG.options;var aD=aE.height;var aF=aE.width;aG.wrapper=aG.element.addClass("k-widget k-scheduler k-floatwrap").attr("role","grid").attr("aria-multiselectable",true);if(aG._isMobile()){aG.wrapper.addClass("k-scheduler-mobile")}if(aG._isMobilePhoneView()){aG.wrapper.addClass("k-scheduler-phone")}if(aD){aG.wrapper.height(aD)}if(aF){aG.wrapper.width(aF)}},date:function(aD){if(aD!=null&&aw(aD)>=aw(this.options.min)&&aw(aD)<=aw(this.options.max)){this._model.set("selectedDate",aD)}return aw(this._model.get("selectedDate"))},_toolbar:function(){var aH=this;var aE=aH.options;var aD=[];if(aE.toolbar){aD=am.isArray(aE.toolbar)?aE.toolbar:[aE.toolbar]}var aF=this._isMobilePhoneView()?an:M;var aG=am(aF({messages:aE.messages,pdf:am.grep(aD,function(aI){return aI=="pdf"||aI.name=="pdf"}).length>0,ns:p.ns,views:aH.views}));aH.wrapper.append(aG);aH.toolbar=aG;p.bind(aH.toolbar,aH._model);aG.on(ak+at,".k-pdf",function(aI){aI.preventDefault();aH.saveAsPDF()});aG.on(ak+at,".k-scheduler-navigation li",function(aL){var aI=am(this);var aJ=new Date(aH.date());var aK="";aL.preventDefault();if(aI.hasClass("k-nav-today")){aK="today";aJ=new Date()}else{if(aI.hasClass("k-nav-next")){aK="next";aJ=aH.view().nextDate()}else{if(aI.hasClass("k-nav-prev")){aK="previous";aJ=aH.view().previousDate()}else{if(aI.hasClass("k-nav-current")&&!aH._isMobilePhoneView()){aH._showCalendar();return}}}}if(!aH.trigger("navigate",{view:aH._selectedViewName,action:aK,date:aJ})){aH.date(aJ)}});aG.on(ak+at,".k-scheduler-views li",function(aJ){aJ.preventDefault();var aI=am(this).attr(p.attr("name"));if(!aH.trigger("navigate",{view:aI,action:"changeView",date:aH.date()})){aH.view(aI)}});aG.find("li").hover(function(){am(this).addClass("k-state-hover")},function(){am(this).removeClass("k-state-hover")})},_showCalendar:function(){var aE=this,aF=aE.toolbar.find(".k-nav-current"),aD=am('<div class="k-calendar-container"><div class="k-scheduler-calendar"/></div>');if(!aE.popup){aE.popup=new ag(aD,{anchor:aF,activate:function(){if(!aE.calendar){aE.calendar=new s(this.element.find(".k-scheduler-calendar"),{change:function(){var aG=this.value();if(!aE.trigger("navigate",{view:aE._selectedViewName,action:"changeDate",date:aG})){aE.date(aG);aE.popup.close()}},min:aE.options.min,max:aE.options.max})}aE.calendar.value(aE.date())},copyAnchorStyles:false})}aE.popup.open()},refresh:function(aF){var aE=this;var aD=this.view();this._progress(false);this.angular("cleanup",function(){return{elements:aE.items()}});aF=aF||{};if(!aD){return}if(aF&&aF.action==="itemchange"&&(this._editor.editable||this._preventRefresh)){return}if(this.trigger("dataBinding",{action:aF.action||"rebind",index:aF.index,items:aF.items})){return}if(!(aF&&aF.action==="resize")&&this._editor){this._editor.close()}this._data=this.dataSource.expand(aD.startDate(),aD.endDate());aD.render(this._data);this.trigger("dataBound")},slotByPosition:function(aD,aG){var aE=this.view();if(!aE._slotByPosition){return null}var aF=aE._slotByPosition(aD,aG);if(!aF){return null}return{startDate:aF.startDate(),endDate:aF.endDate(),groupIndex:aF.groupIndex,element:aF.element,isDaySlot:aF.isDaySlot}},slotByElement:function(aD){var aE=am(aD).offset();return this.slotByPosition(aE.left,aE.top)},resourcesBySlot:function(aD){return this.view()._resourceBySlot(aD)}});var f={day:{type:"kendo.ui.DayView"},week:{type:"kendo.ui.WeekView"},workWeek:{type:"kendo.ui.WorkWeekView"},agenda:{type:"kendo.ui.AgendaView"},month:{type:"kendo.ui.MonthView"},timeline:{type:"kendo.ui.TimelineView"},timelineWeek:{type:"kendo.ui.TimelineWeekView"},timelineWorkWeek:{type:"kendo.ui.TimelineWorkWeekView"},timelineMonth:{type:"kendo.ui.TimelineMonthView"}};N.plugin(j);if(p.PDFMixin){p.PDFMixin.extend(j.prototype)}var ah=h.extend({init:function(aF,aE){var aG=this,aD=p.timezone.windows_zones;if(!aD||!p.timezone.zones_titles){throw new Error("kendo.timezones.min.js is not included.")}h.fn.init.call(aG,aF,aE);aG.wrapper=aG.element;aG._zonesQuery=new p.data.Query(aD);aG._zoneTitleId=p.guid();aG._zoneTitlePicker();aG._zonePicker();aG.value(aG.options.value)},options:{name:"TimezoneEditor",value:"",optionLabel:"No timezone"},events:["change"],_zoneTitlePicker:function(){var aE=this,aD=am('<input id="'+aE._zoneTitleId+'"/>').appendTo(aE.wrapper);aE._zoneTitle=new p.ui.DropDownList(aD,{dataSource:p.timezone.zones_titles,dataValueField:"other_zone",dataTextField:"name",optionLabel:aE.options.optionLabel,cascade:function(){if(!this.value()){aE._zone.wrapper.hide()}}})},_zonePicker:function(){var aE=this,aD=am("<input />").appendTo(this.wrapper);aE._zone=new p.ui.DropDownList(aD,{dataValueField:"zone",dataTextField:"territory",dataSource:aE._zonesQuery.data,cascadeFrom:aE._zoneTitleId,cascade:function(){aE._value=this.value();aE.trigger("change")},dataBound:function(){aE._value=this.value();this.wrapper.toggle(this.dataSource.view().length>1)}});aE._zone.wrapper.hide()},destroy:function(){h.fn.destroy.call(this);p.destroy(this.wrapper)},value:function(aF){var aE=this,aD;if(aF===v){return aE._value}aD=aE._zonesQuery.filter({field:"zone",operator:"eq",value:aF}).data[0];if(aD){aE._zoneTitle.value(aD.other_zone);aE._zone.value(aD.zone)}else{aE._zoneTitle.value("")}}});N.plugin(ah);var n=p.template('<option value="#=other_zone#">#=name#</option>');var aj=p.template('<option value="#=zone#">#=territory#</option>');var Y=h.extend({init:function(aF,aE){var aG=this,aD=p.timezone.windows_zones;if(!aD||!p.timezone.zones_titles){throw new Error("kendo.timezones.min.js is not included.")}h.fn.init.call(aG,aF,aE);aG.wrapper=aG.element;aG._zonesQuery=new p.data.Query(aD);aG._zoneTitlePicker();aG._zonePicker();aG.value(aG.options.value)},options:{name:"MobileTimezoneEditor",optionLabel:"No timezone",value:""},events:["change"],_bindZones:function(aE){var aD=aE?this._filter(aE):[];this._zone.html(this._options(aD,aj))},_filter:function(aD){return this._zonesQuery.filter({field:"other_zone",operator:"eq",value:aD}).data},_options:function(aI,aF,aH){var aD=0;var aE="";var aG=aI.length;if(aH){aE+=aF({other_zone:"",name:aH})}for(;aD<aG;aD++){aE+=aF(aI[aD])}return aE},_zoneTitlePicker:function(){var aE=this;var aD=aE._options(p.timezone.zones_titles,n,aE.options.optionLabel);aE._zoneTitle=am("<select>"+aD+"</select>").appendTo(aE.wrapper).change(function(){var aG=this.value;var aF=aE._zone;aE._bindZones(aG);if(aG&&aF[0].children.length>1){aF.show()}else{aF.hide()}aE._value=aF[0].value;aE.trigger("change")})},_zonePicker:function(){var aD=this;aD._zone=am('<select style="display:none"></select>').appendTo(this.wrapper).change(function(){aD._value=this.value;aD.trigger("change")});aD._bindZones(aD._zoneTitle.val());aD._value=aD._zone[0].value},destroy:function(){h.fn.destroy.call(this);p.destroy(this.wrapper)},value:function(aI){var aH=this;var aG=aH._zone;var aE="";var aF="";var aD;if(aI===v){return aH._value}aD=aH._zonesQuery.filter({field:"zone",operator:"eq",value:aI}).data[0];if(aD){aF=aD.zone;aE=aD.other_zone}aH._zoneTitle.val(aE);aH._bindZones(aE);aG.val(aF);aF=aG[0].value;if(aF&&aG[0].children.length>1){aG.show()}else{aG.hide()}aH._value=aF}});N.plugin(Y)})(window.kendo.jQuery);(function(d,c){var e=window.kendo,g=e.ui.Widget,f=d.proxy,i=Math.abs,h=20;var b=e.Class.extend({init:function(k,l,j){j=d.extend({minXDelta:30,maxYDelta:20,maxDuration:1000},j);new e.UserEvents(k,{surface:j.surface,allowSelection:true,start:function(m){if(i(m.x.velocity)*2>=i(m.y.velocity)){m.sender.capture()}},move:function(o){var p=o.touch,n=o.event.timeStamp-p.startTime,m=p.x.initialDelta>0?"right":"left";if(i(p.x.initialDelta)>=j.minXDelta&&i(p.y.initialDelta)<j.maxYDelta&&n<j.maxDuration){l({direction:m,touch:p,target:p.target});p.cancel()}}})}});var a=g.extend({init:function(k,j){var m=this;g.fn.init.call(m,k,j);j=m.options;k=m.element;function l(o){return function(p){m._triggerTouch(o,p)}}function n(o){return function(p){m.trigger(o,{touches:p.touches,distance:p.distance,center:p.center,event:p.event})}}m.events=new e.UserEvents(k,{filter:j.filter,surface:j.surface,minHold:j.minHold,multiTouch:j.multiTouch,allowSelection:true,press:l("touchstart"),hold:l("hold"),tap:f(m,"_tap"),gesturestart:n("gesturestart"),gesturechange:n("gesturechange"),gestureend:n("gestureend")});if(j.enableSwipe){m.events.bind("start",f(m,"_swipestart"));m.events.bind("move",f(m,"_swipemove"))}else{m.events.bind("start",f(m,"_dragstart"));m.events.bind("move",l("drag"));m.events.bind("end",l("dragend"))}e.notify(m)},events:["touchstart","dragstart","drag","dragend","tap","doubletap","hold","swipe","gesturestart","gesturechange","gestureend"],options:{name:"Touch",surface:null,global:false,multiTouch:false,enableSwipe:false,minXDelta:30,maxYDelta:20,maxDuration:1000,minHold:800,doubleTapTimeout:800},cancel:function(){this.events.cancel()},_triggerTouch:function(j,k){if(this.trigger(j,{touch:k.touch,event:k.event})){k.preventDefault()}},_tap:function(k){var j=this,m=j.lastTap,l=k.touch;if(m&&(l.endTime-m.endTime<j.options.doubleTapTimeout)&&e.touchDelta(l,m).distance<h){j._triggerTouch("doubletap",k);j.lastTap=null}else{j._triggerTouch("tap",k);j.lastTap=l}},_dragstart:function(j){this._triggerTouch("dragstart",j)},_swipestart:function(j){if(i(j.x.velocity)*2>=i(j.y.velocity)){j.sender.capture()}},_swipemove:function(n){var k=this,j=k.options,o=n.touch,m=n.event.timeStamp-o.startTime,l=o.x.initialDelta>0?"right":"left";if(i(o.x.initialDelta)>=j.minXDelta&&i(o.y.initialDelta)<j.maxYDelta&&m<j.maxDuration){k.trigger("swipe",{direction:l,touch:n.touch});o.cancel()}}});window.jQuery.fn.kendoMobileSwipe=function(k,j){this.each(function(){new b(this,k,j)})};e.ui.plugin(a)})(window.kendo.jQuery);(function(e){var k=window.kendo;var m=k.dom;var o=m.element;var c=m.text;var t=k.support.browser;var l=k.support.mobileOS;var j=k.ui;var d=j.Widget;var q=e.extend;var u=e.map;var b=e.isFunction;var i=k.keys;var v={title:"Title",start:"Start Time",end:"End Time",percentComplete:"% Done",parentId:"Predecessor ID",id:"ID",orderId:"Order ID"};var h="string";var p=".kendoGanttList";var f="click";var n=".";var g={wrapper:"k-treelist k-grid k-widget",header:"k-header",alt:"k-alt",editCell:"k-edit-cell",group:"k-treelist-group",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",gridContentWrap:"k-grid-content",selected:"k-state-selected",icon:"k-icon",iconCollapse:"k-i-collapse",iconExpand:"k-i-expand",iconHidden:"k-i-none",iconPlaceHolder:"k-icon k-i-none",input:"k-input",dropPositions:"k-insert-top k-insert-bottom k-add k-insert-middle",dropTop:"k-insert-top",dropBottom:"k-insert-bottom",dropAdd:"k-add",dropMiddle:"k-insert-middle",dropDenied:"k-denied",dragStatus:"k-drag-status",dragClue:"k-drag-clue",dragClueText:"k-clue-text"};function s(w){var y=[];var z=w.className;for(var x=0,A=w.level;x<A;x++){y.push(o("span",{className:z}))}return y}function a(){var w=k._activeElement();if(w.nodeName.toLowerCase()!=="body"){e(w).blur()}}var r=j.GanttList=d.extend({init:function(x,w){d.fn.init.call(this,x,w);if(this.options.columns.length===0){this.options.columns.push("title")}this.dataSource=this.options.dataSource;this._columns();this._layout();this._domTrees();this._header();this._sortable();this._editable();this._selectable();this._draggable();this._attachEvents();this._adjustHeight()},_adjustHeight:function(){this.content.height(this.element.height()-this.header.parent().outerHeight())},destroy:function(){d.fn.destroy.call(this);if(this._reorderDraggable){this._reorderDraggable.destroy()}if(this._tableDropArea){this._tableDropArea.destroy()}if(this._contentDropArea){this._contentDropArea.destroy()}if(this.touch){this.touch.destroy()}this.content.off(p);this.header=null;this.content=null;this.levels=null;k.destroy(this.element)},options:{name:"GanttList",selectable:true,editable:true},_attachEvents:function(){var w=this;var x=r.styles;w.content.on(f+p,"td > span."+x.icon+":not(."+x.iconHidden+")",function(A){var z=e(this);var y=w._modelFromElement(z);y.set("expanded",!y.get("expanded"));A.stopPropagation()})},_domTrees:function(){this.headerTree=new m.Tree(this.header[0]);this.contentTree=new m.Tree(this.content[0])},_columns:function(){var x=this.options.columns;var y;var w=function(){this.field="";this.title="";this.editable=false;this.sortable=false};this.columns=u(x,function(z){z=typeof z==="string"?{field:z,title:v[z]}:z;return q(new w(),z)})},_layout:function(){var w=this.element;var x=r.styles;w.addClass(x.wrapper).append("<div class='"+x.gridHeader+"'><div class='"+x.gridHeaderWrap+"'></div></div>").append("<div class='"+x.gridContentWrap+"'></div>");this.header=w.find(n+x.gridHeaderWrap);this.content=w.find(n+x.gridContent)},_header:function(){var z=this.headerTree;var w;var y;var x;w=o("colgroup",null,this._cols());y=o("thead",{role:"rowgroup"},[o("tr",{role:"row"},this._ths())]);x=o("table",{style:{"min-width":this.options.listWidth+"px"},role:"grid"},[w,y]);z.render([x])},_render:function(z){var w;var x;var y;this.levels=[{field:null,value:0}];w=o("colgroup",null,this._cols());x=o("tbody",{role:"rowgroup"},this._trs(z));y=o("table",{style:{"min-width":this.options.listWidth+"px"},tabIndex:0,role:"treegrid"},[w,x]);this.contentTree.render([y]);this.trigger("render")},_ths:function(){var z=this.columns;var A;var w;var x=[];for(var y=0,B=z.length;y<B;y++){A=z[y];w={"data-field":A.field,"data-title":A.title,className:r.styles.header,role:"columnheader"};x.push(o("th",w,[c(A.title)]))}return x},_cols:function(){var x=this.columns;var A;var z;var y;var C=[];for(var w=0,B=x.length;w<B;w++){A=x[w];y=A.width;if(y&&parseInt(y,10)!==0){z={style:{width:typeof y===h?y:y+"px"}}}else{z=null}C.push(o("col",z,[]))}return C},_trs:function(A){var y;var E=[];var C;var D=[];var w;var z=r.styles;for(var B=0,x=A.length;B<x;B++){y=A[B];w=this._levels({idx:y.parentId,id:y.id,summary:y.summary});C={"data-uid":y.uid,"data-level":w,role:"row"};if(y.summary){C["aria-expanded"]=y.expanded}if(B%2!==0){D.push(z.alt)}if(y.summary){D.push(z.group)}if(D.length){C.className=D.join(" ")}E.push(this._tds({task:y,attr:C,level:w}));D=[]}return E},_tds:function(x){var A=[];var z=this.columns;var B;for(var y=0,w=z.length;y<w;y++){B=z[y];A.push(this._td({task:x.task,column:B,level:x.level}))}return o("tr",x.attr,A)},_td:function(E){var w=[];var D=this.options.resourcesField;var y=r.styles;var x=E.task;var z=E.column;var C=x.get(z.field)||[];var B;if(z.field==D){B=[];for(var A=0;A<C.length;A++){B.push(k.format("{0} [{1}]",C[A].get("name"),C[A].get("formatedValue")))}B=B.join(", ")}else{B=z.format?k.format(z.format,C):C}if(z.field==="title"){w=s({level:E.level,className:y.iconPlaceHolder});w.push(o("span",{className:y.icon+" "+(x.summary?(x.expanded?y.iconCollapse:y.iconExpand):y.iconHidden)}))}w.push(o("span",null,[c(B)]));return o("td",{role:"gridcell"},w)},_levels:function(y){var B=this.levels;var D;var x=y.summary;var w=y.idx;var C=y.id;for(var z=0,A=B.length;z<A;z++){D=B[z];if(D.field==w){if(x){B.push({field:C,value:D.value+1})}return D.value}}},_sortable:function(){var D=this.options.resourcesField;var A=this.columns;var B;var y;var z=this.header.find("th");var x;for(var w=0,C=z.length;w<C;w++){B=A[w];if(B.sortable&&B.field!==D){x=z.eq(w);y=x.data("kendoColumnSorter");if(y){y.destroy()}x.attr("data-"+k.ns+"field",B.field).kendoColumnSorter({dataSource:this.dataSource})}}z=null},_selectable:function(){var x=this;var w=this.options.selectable;if(w){this.content.on(f+p,"tr",function(z){var y=e(this);if(!z.ctrlKey){x.select(y)}else{x.clearSelection()}})}},select:function(y){var x=this.content.find(y);var w=r.styles.selected;if(x.length){x.siblings(n+w).removeClass(w).attr("aria-selected",false).end().addClass(w).attr("aria-selected",true);this.trigger("change");return}return this.content.find(n+w)},clearSelection:function(){var w=this.select();if(w.length){w.removeClass(r.styles.selected);this.trigger("change")}},_setDataSource:function(w){this.dataSource=w},_editable:function(){var y=this;var A=r.styles;var z="span."+A.icon+":not("+A.iconHidden+")";var w=function(){if(y.editable&&y.editable.end()){y._closeCell()}};var x=function(C){var B=e(C.currentTarget);if(!B.hasClass(A.editCell)){a()}};if(!this.options.editable){return}this._startEditHandler=function(C){var D=C.currentTarget?e(C.currentTarget):C;var B=y._columnFromElement(D);if(y.editable){return}if(B.editable){y._editCell({cell:D,column:B})}};y.content.on("focusin"+p,function(){clearTimeout(y.timer);y.timer=null}).on("focusout"+p,function(){y.timer=setTimeout(w,1)}).on("keydown"+p,function(E){var D=E.keyCode;var B;var C;switch(D){case i.ENTER:a();w();break;case i.ESC:if(y.editable){B=y._editableContainer;C=y._modelFromElement(B);if(!y.trigger("cancel",{model:C,cell:B})){y._closeCell(true)}}break}});if(!l){y.content.on("mousedown"+p,"td",function(B){x(B)}).on("dblclick"+p,"td",function(B){if(!e(B.target).is(z)){y._startEditHandler(B)}})}else{y.touch=y.content.kendoTouch({filter:"td",touchstart:function(B){x(B.touch)},doubletap:function(B){if(!e(B.touch.initialTouch).is(z)){y._startEditHandler(B.touch)}}}).data("kendoTouch")}},_editCell:function(I){var H=this.options.resourcesField;var x=r.styles;var G=I.cell;var y=I.column;var A=this._modelFromElement(G);var D=this.dataSource._createNewModel(A.toJSON());var E=D.fields[y.field]||D[y.field];var w=E.validation;var F=k.attr("type");var z=k.attr("bind");var C={name:y.field,required:E.validation?E.validation.required===true:false};var B;if(y.field===H){y.editor(G,D);return}this._editableContent=G.children().detach();this._editableContainer=G;G.data("modelCopy",D);if((E.type==="date"||e.type(E)==="date")&&/H|m|s|F|g|u/.test(y.format)){if(y.field==="start"){delete E.validation.dateCompare}C[z]="value:"+y.field;C[F]="date";B=function(J,K){e('<input type="text"/>').attr(C).appendTo(J).kendoDateTimePicker({format:K.format})}}this.editable=G.addClass(x.editCell).kendoEditable({fields:{field:y.field,format:y.format,editor:y.editor||B},model:D,clearContainer:false}).data("kendoEditable");if(w&&w.dateCompare&&b(w.dateCompare)&&w.message){e("<span "+k.attr("for")+'="'+y.field+'" class="k-invalid-msg"/>').hide().appendTo(G);G.find("[name="+y.field+"]").attr(k.attr("dateCompare-msg"),w.message)}if(this.trigger("edit",{model:A,cell:G})){this._closeCell(true)}},_closeCell:function(A){var C=r.styles;var w=this._editableContainer;var x=this._modelFromElement(w);var z=this._columnFromElement(w);var B=z.field;var D=w.data("modelCopy");var y={};y[B]=D.get(B);w.empty().removeData("modelCopy").removeClass(C.editCell).append(this._editableContent);this.editable.destroy();this.editable=null;this._editableContainer=null;this._editableContent=null;if(!A){if(B==="start"){y.end=new Date(y.start.getTime()+x.duration())}this.trigger("update",{task:x,updateInfo:y})}},_draggable:function(){var E=this;var F=null;var H=true;var w;var x=r.styles;var y="tr["+k.attr("level")+" = 0]:last";var z={};var B=function(){F=null;w=null;H=true;z={}};var C=function(I){var J=I;while(J){if(F.get("id")===J.get("id")){H=false;break}J=E.dataSource.taskParent(J)}};var D=function(){var I=e(w).height();var J=k.getOffset(w).top;q(w,{beforeLimit:J+I*0.25,afterLimit:J+I*0.75})};var G=function(N){var I=N.location;var K=x.dropAdd;var L="add";var M=parseInt(w.attr(k.attr("level")),10);var J;if(I<=w.beforeLimit){J=w.prev();K=x.dropTop;L="insert-before"}else{if(I>=w.afterLimit){J=w.next();K=x.dropBottom;L="insert-after"}}if(J&&parseInt(J.attr(k.attr("level")),10)===M){K=x.dropMiddle}z.className=K;z.command=L};var A=function(){return E._reorderDraggable.hint.children(n+x.dragStatus).removeClass(x.dropPositions)};if(!this.options.editable){return}this._reorderDraggable=this.content.kendoDraggable({distance:10,holdToDrag:l,group:"listGroup",filter:"tr[data-uid]",ignore:n+x.input,hint:function(I){return e('<div class="'+x.header+" "+x.dragClue+'"/>').css({width:300,paddingLeft:I.css("paddingLeft"),paddingRight:I.css("paddingRight"),lineHeight:I.height()+"px",paddingTop:I.css("paddingTop"),paddingBottom:I.css("paddingBottom")}).append('<span class="'+x.icon+" "+x.dragStatus+'" /><span class="'+x.dragClueText+'"/>')},cursorOffset:{top:-20,left:0},container:this.content,dragstart:function(I){if(E.editable){I.preventDefault()}F=E._modelFromElement(I.currentTarget);this.hint.children(n+x.dragClueText).text(F.get("title"))},drag:function(I){if(H){G(I.y);A().addClass(z.className)}},dragend:function(I){B()},dragcancel:function(I){B()}}).data("kendoDraggable");this._tableDropArea=this.content.kendoDropTargetArea({distance:0,group:"listGroup",filter:"tr[data-uid]",dragenter:function(I){w=I.dropTarget;C(E._modelFromElement(w));D();A().toggleClass(x.dropDenied,!H)},dragleave:function(I){H=true;A()},drop:function(L){var K=E._modelFromElement(w);var I=K.orderId;var J={parentId:K.parentId};if(H){switch(z.command){case"add":J.parentId=K.id;break;case"insert-before":if(K.parentId===F.parentId&&K.orderId>F.orderId){J.orderId=I-1}else{J.orderId=I}break;case"insert-after":if(K.parentId===F.parentId&&K.orderId>F.orderId){J.orderId=I}else{J.orderId=I+1}break}E.trigger("update",{task:F,updateInfo:J})}}}).data("kendoDropTargetArea");this._contentDropArea=this.element.kendoDropTargetArea({distance:0,group:"listGroup",filter:n+x.gridContent,drop:function(L){var K=E._modelFromElement(E.content.find(y));var I=K.orderId;var J={parentId:null,orderId:F.parentId!==null?I+1:I};E.trigger("update",{task:F,updateInfo:J})}}).data("kendoDropTargetArea")},_modelFromElement:function(x){var y=x.closest("tr");var w=this.dataSource.getByUid(y.attr(k.attr("uid")));return w},_columnFromElement:function(x){var z=x.closest("td");var y=z.parent();var w=y.children().index(z);return this.columns[w]}});q(true,j.GanttList,{styles:g})})(window.kendo.jQuery);(function(s){var c=kendo.ui.Widget;var x=kendo.dom.element;var A=kendo.dom.text;var F=s.isPlainObject;var h=s.extend;var D=s.proxy;var a=kendo.support.browser;var u=kendo.support.mobileOS;var q=kendo.keys;var w=kendo.data.Query;var v=".kendoGanttTimeline";var z="click";var l="dblclick";var C="mousemove";var d="mouseenter";var j="mouseleave";var G="keydown";var k=".";var o=kendo.template("#=kendo.toString(start, 't')#");var m=kendo.template("#=kendo.toString(start, 'ddd M/dd')#");var b=kendo.template("#=kendo.toString(start, 'ddd M/dd')# - #=kendo.toString(kendo.date.addDays(end, -1), 'ddd M/dd')#");var y=kendo.template("#=kendo.toString(start, 'MMM')#");var t=kendo.template("#=kendo.toString(start, 'yyyy')#");var B=kendo.template('<div class="#=styles.marquee#"><div class="#=styles.marqueeColor#"></div></div>');var H=kendo.template('<div style="z-index: 100002;" class="#=styles.tooltipWrapper#"><div class="#=styles.tooltipContent#"><div>#=messages.start#: #=kendo.toString(start, format)#</div><div>#=messages.end#: #=kendo.toString(end, format)#</div></div></div>');var i=kendo.template('<div style="z-index: 100002;" class="#=styles.tooltipWrapper#" ><div class="#=styles.tooltipContent#">#=text#%</div><div class="#=styles.tooltipCallout#" style="left:13px;"></div></div>');var E=kendo.template('<div class="#=styles.taskDetails#"><strong>#=task.title#</strong><div class="#=styles.taskDetailsPercent#">#=kendo.toString(task.percentComplete, "p0")#</div><ul class="#=styles.reset#"><li>#=messages.start#: #=kendo.toString(task.start, "h:mm tt ddd, MMM d")#</li><li>#=messages.end#: #=kendo.toString(task.end, "h:mm tt ddd, MMM d")#</li></ul></div>');var r={day:{type:"kendo.ui.GanttDayView"},week:{type:"kendo.ui.GanttWeekView"},month:{type:"kendo.ui.GanttMonthView"},year:{type:"kendo.ui.GanttYearView"}};function I(K){delete K.name;delete K.prefix;delete K.views;return K}function J(K){var L=[];var M=K.workWeekStart;L.push(M);while(K.workWeekEnd!=M){if(M>6){M-=7}else{M++}L.push(M)}return L}function n(){var K=kendo._activeElement();if(K.nodeName.toLowerCase()!=="body"){s(K).blur()}}var p={alt:"k-alt",reset:"k-reset",nonWorking:"k-nonwork-hour",header:"k-header",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",rowsTable:"k-gantt-rows",columnsTable:"k-gantt-columns",tasksTable:"k-gantt-tasks",resource:"k-resource",resourceAlt:"k-resource k-alt",task:"k-task",taskSingle:"k-task-single",taskMilestone:"k-task-milestone",taskSummary:"k-task-summary",taskWrap:"k-task-wrap",taskMilestoneWrap:"k-milestone-wrap",resourcesWrap:"k-resources-wrap",taskDot:"k-task-dot",taskDotStart:"k-task-start",taskDotEnd:"k-task-end",taskDragHandle:"k-task-draghandle",taskContent:"k-task-content",taskTemplate:"k-task-template",taskActions:"k-task-actions",taskDelete:"k-task-delete",taskComplete:"k-task-complete",taskDetails:"k-task-details",taskDetailsPercent:"k-task-pct",link:"k-link",icon:"k-icon",iconDelete:"k-si-close",taskResizeHandle:"k-resize-handle",taskResizeHandleWest:"k-resize-w",taskResizeHandleEast:"k-resize-e",taskSummaryProgress:"k-task-summary-progress",taskSummaryComplete:"k-task-summary-complete",line:"k-line",lineHorizontal:"k-line-h",lineVertical:"k-line-v",arrowWest:"k-arrow-w",arrowEast:"k-arrow-e",dragHint:"k-drag-hint",dependencyHint:"k-dependency-hint",tooltipWrapper:"k-widget k-tooltip k-popup k-group k-reset",tooltipContent:"k-tooltip-content",tooltipCallout:"k-callout k-callout-s",callout:"k-callout",marquee:"k-marquee k-gantt-marquee",marqueeColor:"k-marquee-color"};var f=kendo.ui.GanttView=c.extend({init:function(L,K){c.fn.init.call(this,L,K);this.title=this.options.title||this.options.name;this.header=this.element.find(k+f.styles.gridHeader);this.content=this.element.find(k+f.styles.gridContent);this.contentWidth=this.content.width();this._workDays=J(this.options);this._headerTree=K.headerTree;this._taskTree=K.taskTree;this._dependencyTree=K.dependencyTree;this._taskCoordinates={};this._currentTime()},destroy:function(){c.fn.destroy.call(this);this.headerRow=null;this.header=null;this.content=null;this._dragHint=null;this._resizeHint=null;this._resizeTooltip=null;this._taskTooltip=null;this._percentCompleteResizeTooltip=null;this._headerTree=null;this._taskTree=null;this._dependencyTree=null},options:{showWorkHours:false,showWorkDays:false,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,hourSpan:1,slotSize:100,currentTimeMarker:{updateInterval:10000}},renderLayout:function(){this._slots=this._createSlots();this._tableWidth=this._calculateTableWidth();this.createLayout(this._layout());this._slotDimensions();this._adjustHeight()},_adjustHeight:function(){this.content.height(this.element.height()-this.header.outerHeight())},createLayout:function(N){var O=this._headers(N);var L=this._colgroup();var K=this._headerTree;var P=x("thead",null,O);var M=x("table",{style:{width:this._tableWidth+"px"}},[L,P]);K.render([M]);this.headerRow=this.header.find("table:first tr").last()},_slotDimensions:function(){var N=this.headerRow[0].children;var L=this._timeSlots();var P;var O;for(var K=0,M=N.length;K<M;K++){O=N[K];P=L[K];P.offsetLeft=O.offsetLeft;P.offsetWidth=O.offsetWidth}},render:function(R){var O=R.length;var N=f.styles;var K;var M=this._rowsTable(O);var P=this._columnsTable(O);var Q=this._tasksTable(R);var L=this.options.currentTimeMarker;this._taskTree.render([M,P,Q]);K=this.content.find(k+N.rowsTable);this._contentHeight=K.height();this._rowHeight=K.find("tr").height();this.content.find(k+N.columnsTable).height(this._contentHeight);if(L!==false&&L.updateInterval!==undefined){this._renderCurrentTime()}},_rowsTable:function(L){var O=[];var P;var N=f.styles;var K=[null,{className:N.alt}];for(var M=0;M<L;M++){P=x("tr",K[M%2],[x("td",null,[A("\u00a0")])]);O.push(P)}return this._createTable(1,O,{className:N.rowsTable})},_columnsTable:function(Q){var T=[];var U;var S=f.styles;var N=this._timeSlots();var P=N.length;var R;var K;var O=0;var L;for(var M=0;M<P;M++){R=N[M];L={};K=R.span;O+=K;if(K!==1){L.colspan=K}if(R.isNonWorking){L.className=S.nonWorking}T.push(x("td",L,[A("\u00a0")]))}U=x("tr",null,T);return this._createTable(O,[U],{className:S.columnsTable})},_tasksTable:function(O){var aa=[];var Z;var U;var Q;var L;var X=f.styles;var T=this._taskCoordinates={};var Y=this._calculateMilestoneWidth();var M=Math.round(Y.width);var W=this.options.resourcesField;var S=[X.resource,X.resourceAlt];var V;var R=this._calculateResourcesMargin();var K=function(ad){var ac;var ab;ac=Q.left;ab=ac+Q.width;if(L.isMilestone()){ac-=M/2;ab=ac+M}T[L.id]={start:ac,end:ab,rowIndex:ad}};for(var P=0,N=O.length;P<N;P++){L=O[P];Q=this._taskPosition(L);Z=x("tr",null);U=x("td",null,[this._renderTask(O[P],Q)]);if(L[W]&&L[W].length){V=Math.max((Q.width||Y.clientWidth),0)+Q.left;U.children.push(x("div",{className:X.resourcesWrap,style:{left:V+"px",width:(this._tableWidth-(V+R))+"px"}},this._renderResources(L[W],S[P%2])))}Z.children.push(U);aa.push(Z);K(P)}return this._createTable(1,aa,{className:f.styles.tasksTable})},_createTable:function(Q,O,N){var P=[];var K;var L;for(var M=0;M<Q;M++){P.push(x("col"))}K=x("colgroup",null,P);L=x("tbody",null,O);if(!N.style){N.style={}}N.style.width=this._tableWidth+"px";return x("table",N,[K,L])},_calculateTableWidth:function(){var P=this._timeSlots();var L=0;var M=0;var N;var K;for(var O=0,Q=P.length;O<Q;O++){N=P[O].span;M+=N;if(N>L){L=N}}K=Math.round((M*this.options.slotSize)/L);return K},_calculateMilestoneWidth:function(){var K;var L=f.styles.task+" "+f.styles.taskMilestone;var M=s("<div class='"+L+"' style='visibility: hidden; position: absolute'>");this.content.append(M);K={width:M[0].getBoundingClientRect().width,clientWidth:M[0].clientWidth};M.remove();return K},_calculateResourcesMargin:function(){var K;var L=s("<div class='"+f.styles.resourcesWrap+"' style='visibility: hidden; position: absolute'>");this.content.append(L);K=parseInt(L.css("margin-left"),10);L.remove();return K},_renderTask:function(L,P){var R;var K;var M=this.options.editable;var Q;var O=P.left;var S=f.styles;var N=S.taskWrap;if(L.summary){K=this._renderSummary(L,P)}else{if(L.isMilestone()){K=this._renderMilestone(L,P);N+=" "+S.taskMilestoneWrap}else{K=this._renderSingleTask(L,P)}}R=x("div",{className:N,style:{left:O+"px"}},[K]);if(M){R.children.push(x("div",{className:S.taskDot+" "+S.taskDotStart}));R.children.push(x("div",{className:S.taskDot+" "+S.taskDotEnd}))}if(!L.summary&&!L.isMilestone()&&M){Q=Math.round(P.width*L.percentComplete);R.children.push(x("div",{className:S.taskDragHandle,style:{left:Q+"px"}}))}return R},_renderSingleTask:function(M,K){var P=f.styles;var L=Math.round(K.width*M.percentComplete);var O=x("div",{className:P.taskContent},[x("div",{className:P.taskTemplate},[A(M.title)])]);if(this.options.editable){O.children.push(x("span",{className:P.taskActions},[x("a",{className:P.link+" "+P.taskDelete,href:"#"},[x("span",{className:P.icon+" "+P.iconDelete})])]));O.children.push(x("span",{className:P.taskResizeHandle+" "+P.taskResizeHandleWest}));O.children.push(x("span",{className:P.taskResizeHandle+" "+P.taskResizeHandleEast}))}var N=x("div",{className:P.task+" "+P.taskSingle,"data-uid":M.uid,style:{width:Math.max((K.width-2),0)+"px"}},[x("div",{className:P.taskComplete,style:{width:L+"px"}}),O]);return N},_renderMilestone:function(L,K){var N=f.styles;var M=x("div",{className:N.task+" "+N.taskMilestone,"data-uid":L.uid});return M},_renderSummary:function(M,K){var O=f.styles;var L=Math.round(K.width*M.percentComplete);var N=x("div",{className:O.task+" "+O.taskSummary,"data-uid":M.uid,style:{width:K.width+"px"}},[x("div",{className:O.taskSummaryProgress,style:{width:L+"px"}},[x("div",{className:O.taskSummaryComplete,style:{width:K.width+"px"}})])]);return N},_renderResources:function(P,M){var L=[];var O;for(var K=0,N=P.length;K<N;K++){O=P[K];L.push(x("span",{className:M,style:{color:O.get("color")}},[A(O.get("name"))]))}return L},_taskPosition:function(M){var L=Math.round;var N=L(this._offset(M.start));var K=L(this._offset(M.end));return{left:N,width:K-N}},_offset:function(L){var O=this._timeSlots();var Q;var K;var N;var M;var P;if(!O.length){return 0}P=this._slotIndex("start",L);Q=O[P];if(Q.end<L){return Q.offsetLeft+Q.offsetWidth}if(Q.start>L){return Q.offsetLeft}K=L-Q.start;N=Q.end-Q.start;M=(K/N)*Q.offsetWidth;return Q.offsetLeft+M},_slotIndex:function(P,O){var N=this._timeSlots();var M=0;var L=N.length-1;var K;do{K=Math.ceil((L+M)/2);if(N[K][P]<O){M=K}else{if(K===L){K--}L=K}}while(M!==L);return M},_timeByPosition:function(L,K,M){var Q=this._slotByPosition(L);if(K){return M?Q.end:Q.start}var O=L-(this.content.offset().left-this.content.scrollLeft());var P=Q.end-Q.start;var N=P*((O-Q.offsetLeft)/Q.offsetWidth);return new Date(Q.start.getTime()+N)},_slotByPosition:function(K){var M=K-(this.content.offset().left-this.content.scrollLeft());var L=this._slotIndex("offsetLeft",M);return this._timeSlots()[L]},_renderDependencies:function(O){var N=[];var K=this._dependencyTree;for(var M=0,L=O.length;M<L;M++){N.push.apply(N,this._renderDependency(O[M]))}K.render(N)},_renderDependency:function(L){var N=this._taskCoordinates[L.predecessorId];var K=this._taskCoordinates[L.successorId];var P;var Q;if(!N||!K){return[]}Q="_render"+["FF","FS","SF","SS"][L.type];P=this[Q](N,K);for(var M=0,O=P.length;M<O;M++){P[M].attr["data-uid"]=L.uid}return P},_renderFF:function(M,L){var K=this._dependencyFF(M,L,false);K[K.length-1].children[0]=this._arrow(true);return K},_renderSS:function(M,L){var K=this._dependencyFF(L,M,true);K[0].children[0]=this._arrow(false);return K.reverse()},_renderFS:function(M,L){var K=this._dependencyFS(M,L,false);K[K.length-1].children[0]=this._arrow(false);return K},_renderSF:function(M,L){var K=this._dependencyFS(L,M,true);K[0].children[0]=this._arrow(true);return K.reverse()},_dependencyFF:function(Z,P,T){var R=this;var M=[];var Q=0;var V=0;var Y=0;var W=0;var X=T?"start":"end";var ab;var L=2;var U=1;var O=this._rowHeight;var N=10;var K=Z.rowIndex*O+Math.floor(O/2)-1;var ad=P.rowIndex*O+Math.floor(O/2)-1;var S=f.styles;var ac=function(){M.push(R._line(S.line+" "+S.lineHorizontal,{left:Q+"px",top:V+"px",width:Y+"px"}))};var aa=function(){M.push(R._line(S.line+" "+S.lineVertical,{left:Q+"px",top:V+"px",height:W+"px"}))};Q=Z[X];V=K;Y=N;ab=P[X]-Z[X];if((ab)>0!==T){Y=Math.abs(ab)+N}if(T){Q-=Y;Y-=U;ac()}else{ac();Q+=Y-L}if(ad<V){W=V-ad;W+=L;V=ad;aa()}else{W=ad-V;W+=L;aa();V+=(W-L)}Y=Math.abs(Q-P[X]);if(!T){Y-=U;Q-=Y}ac();return M},_dependencyFS:function(aa,P,T){var R=this;var M=[];var Q=0;var X=0;var Z=0;var Y=0;var O=this._rowHeight;var U=Math.floor(O/2);var N=10;var V=2*N;var ac=P.start-aa.end;var L=2;var W=1;var K=aa.rowIndex*O+Math.floor(O/2)-1;var ae=P.rowIndex*O+Math.floor(O/2)-1;var S=f.styles;var ad=function(){M.push(R._line(S.line+" "+S.lineHorizontal,{left:Q+"px",top:X+"px",width:Z+"px"}))};var ab=function(){M.push(R._line(S.line+" "+S.lineVertical,{left:Q+"px",top:X+"px",height:Y+"px"}))};Q=aa.end;X=K;Z=N;if(T){Q+=W;if(ac>V){Z=ac-(N-L)}Z-=W}ad();Q+=Z-L;if((ac)<=V){Y=T?Math.abs(ae-K)-U:U;if(ae<K){X-=Y;Y+=L;ab()}else{ab();X+=Y}Z=(aa.end-P.start)+V;if(Z<N){Z=N}Q-=Z-L;ad()}if(ae<K){Y=X-ae;X=ae;Y+=L;ab()}else{Y=ae-X;ab();X+=Y}Z=P.start-Q;if(!T){Z-=W}ad();return M},_line:function(K,L){return x("div",{className:K,style:L})},_arrow:function(K){return x("span",{className:K?f.styles.arrowWest:f.styles.arrowEast})},_colgroup:function(){var M=this._timeSlots();var O=M.length;var P=[];for(var L=0;L<O;L++){for(var K=0,N=M[L].span;K<N;K++){P.push(x("col"))}}return x("colgroup",null,P)},_createDragHint:function(K){this._dragHint=K.clone().addClass(f.styles.dragHint).css("cursor","move");K.parent().append(this._dragHint)},_updateDragHint:function(L){var K=this._offset(L);this._dragHint.css({left:K})},_removeDragHint:function(){this._dragHint.remove();this._dragHint=null},_createResizeHint:function(L){var P=f.styles;var K=this._taskCoordinates[L.id].rowIndex*this._rowHeight;var Q;var N;var M=this.options;var O=M.messages;this._resizeHint=s(B({styles:P})).css({top:0,height:this._contentHeight});this.content.append(this._resizeHint);this._resizeTooltip=s(H({styles:P,start:L.start,end:L.end,messages:O.views,format:M.resizeTooltipFormat})).css({top:0,left:0});this.content.append(this._resizeTooltip);this._resizeTooltipWidth=this._resizeTooltip.outerWidth();Q=this._resizeTooltip.outerHeight();N=K-Q;if(N<0){N=K+this._rowHeight}this._resizeTooltipTop=N},_updateResizeHint:function(K,N,R){var M=this._offset(K);var S=this._offset(N);var L=S-M;var T=R?M:S;var Q=this._tableWidth-17;var P=this._resizeTooltipWidth;var U=this.options;var O=U.messages;this._resizeHint.css({left:M,width:L});if(this._resizeTooltip){this._resizeTooltip.remove()}T-=Math.round(P/2);if(T<0){T=0}else{if(T+P>Q){T=Q-P}}this._resizeTooltip=s(H({styles:f.styles,start:K,end:N,messages:O.views,format:U.resizeTooltipFormat})).css({top:this._resizeTooltipTop,left:T,"min-width":P});this.content.append(this._resizeTooltip)},_removeResizeHint:function(){this._resizeHint.remove();this._resizeHint=null;this._resizeTooltip.remove();this._resizeTooltip=null},_updatePercentCompleteTooltip:function(P,O,Q){this._removePercentCompleteTooltip();var N=this._percentCompleteResizeTooltip=s(i({styles:f.styles,text:Q})).appendTo(this.element);var K=Math.round(N.outerWidth()/2);var M=N.find(k+f.styles.callout);var L=Math.round(M.outerWidth()/2);N.css({top:P-(N.outerHeight()+L),left:O-K});M.css("left",K-L)},_removePercentCompleteTooltip:function(){if(this._percentCompleteResizeTooltip){this._percentCompleteResizeTooltip.remove()}this._percentCompleteResizeTooltip=null},_updateDependencyDragHint:function(M,L,K){this._removeDependencyDragHint();if(K){this._creteVmlDependencyDragHint(M,L)}else{this._creteDependencyDragHint(M,L)}},_creteDependencyDragHint:function(Q,P){var N=f.styles;var L=P.x-Q.x;var K=P.y-Q.y;var M=Math.sqrt(L*L+K*K);var O=Math.atan(K/L);if(L<0){O+=Math.PI}s("<div class='"+N.line+" "+N.lineHorizontal+" "+N.dependencyHint+"'></div>").css({top:Q.y,left:Q.x,width:M,"transform-origin":"0% 0","-ms-transform-origin":"0% 0","-webkit-transform-origin":"0% 0",transform:"rotate("+O+"rad)","-ms-transform":"rotate("+O+"rad)","-webkit-transform":"rotate("+O+"rad)"}).appendTo(this.content)},_creteVmlDependencyDragHint:function(M,L){var K=s("<kvml:line class='"+f.styles.dependencyHint+"' style='position:absolute; top: 0px;' strokecolor='black' strokeweight='2px' from='"+M.x+"px,"+M.y+"px' to='"+L.x+"px,"+L.y+"px'></kvml:line>").appendTo(this.content);K[0].outerHTML=K[0].outerHTML},_removeDependencyDragHint:function(){this.content.find(k+f.styles.dependencyHint).remove()},_createTaskTooltip:function(K,N,S){var T=f.styles;var W=this.options;var P=this.content;var M=this.content.offset();var V=s(N).parents("tr").first();var O=V.offset();var R=(W.tooltip&&W.tooltip.template)?kendo.template(W.tooltip.template):E;var L=S-(M.left-P.scrollLeft());var Q=(O.top+V.outerHeight()-M.top)+P.scrollTop();var U=this._taskTooltip=s('<div style="z-index: 100002;" class="'+T.tooltipWrapper+'" ><div class="'+T.taskContent+'"></div></div>');U.css({left:L,top:Q}).appendTo(P).find(k+T.taskContent).append(R({styles:T,task:K,messages:W.messages.views}));if(U.outerHeight()<O.top-M.top){U.css("top",((O.top-M.top)-U.outerHeight())+P.scrollTop())}if((U.outerWidth()+L)-P.scrollLeft()>P.width()){U.css("left",L-U.outerWidth())}},_removeTaskTooltip:function(){if(this._taskTooltip){this._taskTooltip.remove()}this._taskTooltip=null},_scrollTo:function(R){var O=R.offset().left;var W=R.width();var S=O+W;var aa=R.closest("tr");var M=aa.offset().top;var L=aa.height();var N=M+L;var U=this.content;var P=U.offset();var Y=P.top;var X=U.height();var Z=Y+X;var Q=P.left;var K=U.width();var V=Q+K;var T=kendo.support.scrollbar();if(M<Y){U.scrollTop(U.scrollTop()+(M-Y))}else{if(N>Z){U.scrollTop(U.scrollTop()+(N+T-Z))}}if(O<Q&&W>K&&S<V||S>V&&W<K){U.scrollLeft(U.scrollLeft()+(S+T-V))}else{if(S>V&&W>K&&O>Q||O<Q&&W<K){U.scrollLeft(U.scrollLeft()+(O-Q))}}},_timeSlots:function(){if(!this._slots||!this._slots.length){return[]}return this._slots[this._slots.length-1]},_headers:function(S){var U=[];var K;var L;var O;var P;var T=f.styles;for(var N=0,M=S.length;N<M;N++){K=S[N];L=[];for(var R=0,Q=K.length;R<Q;R++){O=K[R];P=A(O.text);L.push(x("th",{colspan:O.span,className:T.header+(O.isNonWorking?(" "+T.nonWorking):"")},[P]))}U.push(x("tr",null,L))}return U},_hours:function(K,M){var L;var O=[];var T=this.options;var R=T.workDayStart.getHours();var P=T.workDayEnd.getHours();var S;var Q;var N=T.hourSpan;K=new Date(K);M=new Date(M);while(K<M){L=new Date(K);Q=L.getHours();S=Q>=R&&Q<P;L.setHours(L.getHours()+N);if(Q==L.getHours()){L.setHours(L.getHours()+2*N)}if(!T.showWorkHours||S){O.push({start:K,end:L,isNonWorking:!S,span:1})}K=L}return O},_days:function(O,K){var M;var L=[];var N;O=new Date(O);K=new Date(K);while(O<K){M=kendo.date.nextDay(O);N=this._isWorkDay(O);if(!this.options.showWorkDays||N){L.push({start:O,end:M,isNonWorking:!N,span:1})}O=M}return L},_weeks:function(Q,K){var P;var N=[];var L=this.calendarInfo().firstDay;var O;var M;Q=new Date(Q);K=new Date(K);while(Q<K){P=kendo.date.dayOfWeek(kendo.date.addDays(Q,1),L,1);if(P>K){P=K}O=this._days(Q,P);M=O.length;if(M>0){N.push({start:O[0].start,end:O[M-1].end,span:M})}Q=P}return N},_months:function(P,K){var O;var M=[];var N;var L;P=new Date(P);K=new Date(K);while(P<K){O=new Date(P);O.setMonth(O.getMonth()+1);N=this._days(P,O);L=N.length;if(L>0){M.push({start:N[0].start,end:N[L-1].end,span:L})}P=O}return M},_years:function(N,K){var M;var L=[];N=new Date(N);K=new Date(K);while(N<K){M=new Date(N);M.setFullYear(M.getFullYear()+1);L.push({start:N,end:M,span:12});N=M}return L},_slotHeaders:function(O,N){var M=[];var P;for(var L=0,K=O.length;L<K;L++){P=O[L];M.push({text:N(P),isNonWorking:!!P.isNonWorking,span:P.span})}return M},_isWorkDay:function(M){var L=M.getDay();var O=this._workDays;for(var N=0,K=O.length;N<K;N++){if(O[N]===L){return true}}return false},calendarInfo:function(){return kendo.getCulture().calendars.standard},_renderCurrentTime:function(){var M=this._getCurrentTime();var K=this._offset(M);var L=s("<div class='k-current-time'></div>");var N;if(!this.content||!this._timeSlots().length){return}this.content.find(".k-current-time").remove();N=this._timeSlots()[this._slotIndex("start",M)];if(M<N.start||M>N.end){return}L.css({left:K+"px",top:"0px",width:"1px",height:this._contentHeight+"px"});this.content.append(L)},_getCurrentTime:function(){return new Date()},_currentTime:function(){var K=this.options.currentTimeMarker;if(K!==false&&K.updateInterval!==undefined){this._renderCurrentTime();this._currentTimeUpdateTimer=setInterval(D(this._renderCurrentTime,this),K.updateInterval)}}});h(true,f,{styles:p});kendo.ui.GanttDayView=f.extend({name:"day",options:{timeHeaderTemplate:o,dayHeaderTemplate:m,resizeTooltipFormat:"h:mm tt ddd, MMM d"},range:function(K){this.start=kendo.date.getDate(K.start);this.end=kendo.date.getDate(K.end);if(kendo.date.getMilliseconds(K.end)>0||this.end.getTime()===this.start.getTime()){this.end=kendo.date.addDays(this.end,1)}},_createSlots:function(){var Q;var P;var O;var L;var N=[];Q=this._days(this.start,this.end);O=[];for(var M=0,K=Q.length;M<K;M++){P=Q[M];L=this._hours(P.start,P.end);P.span=L.length;O.push.apply(O,L)}N.push(Q);N.push(O);return N},_layout:function(){var L=[];var K=this.options;L.push(this._slotHeaders(this._slots[0],kendo.template(K.dayHeaderTemplate)));L.push(this._slotHeaders(this._slots[1],kendo.template(K.timeHeaderTemplate)));return L}});kendo.ui.GanttWeekView=f.extend({name:"week",options:{dayHeaderTemplate:m,weekHeaderTemplate:b,resizeTooltipFormat:"h:mm tt ddd, MMM d"},range:function(M){var K=this.calendarInfo();var L=K.firstDay;var N=M.end;if(L===N.getDay()){N.setDate(N.getDate()+7)}this.start=kendo.date.getDate(kendo.date.dayOfWeek(M.start,L,-1));this.end=kendo.date.getDate(kendo.date.dayOfWeek(N,L,1))},_createSlots:function(){var K=[];K.push(this._weeks(this.start,this.end));K.push(this._days(this.start,this.end));return K},_layout:function(){var L=[];var K=this.options;L.push(this._slotHeaders(this._slots[0],kendo.template(K.weekHeaderTemplate)));L.push(this._slotHeaders(this._slots[1],kendo.template(K.dayHeaderTemplate)));return L}});kendo.ui.GanttMonthView=f.extend({name:"month",options:{weekHeaderTemplate:b,monthHeaderTemplate:y,resizeTooltipFormat:"dddd, MMM d, yyyy"},range:function(K){this.start=kendo.date.firstDayOfMonth(K.start);this.end=kendo.date.addDays(kendo.date.getDate(kendo.date.lastDayOfMonth(K.end)),1)},_createSlots:function(){var K=[];K.push(this._months(this.start,this.end));K.push(this._weeks(this.start,this.end));return K},_layout:function(){var L=[];var K=this.options;L.push(this._slotHeaders(this._slots[0],kendo.template(K.monthHeaderTemplate)));L.push(this._slotHeaders(this._slots[1],kendo.template(K.weekHeaderTemplate)));return L}});kendo.ui.GanttYearView=f.extend({name:"year",options:{yearHeaderTemplate:t,monthHeaderTemplate:y,resizeTooltipFormat:"dddd, MMM d, yyyy"},range:function(K){this.start=kendo.date.firstDayOfMonth(new Date(K.start.setMonth(0)));this.end=kendo.date.firstDayOfMonth(new Date(K.end.setMonth(12)))},_createSlots:function(){var L=[];var K=this._months(this.start,this.end);s(K).each(function(M,N){N.span=1});L.push(this._years(this.start,this.end));L.push(K);return L},_layout:function(){var L=[];var K=this.options;L.push(this._slotHeaders(this._slots[0],kendo.template(K.yearHeaderTemplate)));L.push(this._slotHeaders(this._slots[1],kendo.template(K.monthHeaderTemplate)));return L}});var e={wrapper:"k-timeline k-grid k-widget",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",gridContentWrap:"k-grid-content",tasksWrapper:"k-gantt-tables",dependenciesWrapper:"k-gantt-dependencies",task:"k-task",line:"k-line",taskResizeHandle:"k-resize-handle",taskResizeHandleWest:"k-resize-w",taskDragHandle:"k-task-draghandle",taskComplete:"k-task-complete",taskDelete:"k-task-delete",taskWrapActive:"k-task-wrap-active",taskWrap:"k-task-wrap",taskDot:"k-task-dot",taskDotStart:"k-task-start",taskDotEnd:"k-task-end",hovered:"k-state-hover",selected:"k-state-selected",origin:"k-origin"};var g=kendo.ui.GanttTimeline=c.extend({init:function(L,K){c.fn.init.call(this,L,K);if(!this.options.views||!this.options.views.length){this.options.views=["day","week","month"]}this._wrapper();this._domTrees();this._views();this._selectable();this._draggable();this._resizable();this._percentResizeDraggable();this._createDependencyDraggable();this._attachEvents();this._tooltip()},options:{name:"GanttTimeline",messages:{views:{day:"Day",week:"Week",month:"Month",year:"Year",start:"Start",end:"End"}},snap:true,selectable:true,editable:true},destroy:function(){c.fn.destroy.call(this);if(this._currentTimeUpdateTimer){clearInterval(this._currentTimeUpdateTimer)}this._unbindView(this._selectedView);if(this._moveDraggable){this._moveDraggable.destroy()}if(this._resizeDraggable){this._resizeDraggable.destroy()}if(this._percentDraggable){this._percentDraggable.destroy()}if(this._dependencyDraggable){this._dependencyDraggable.destroy()}if(this.touch){this.touch.destroy()}this._headerTree=null;this._taskTree=null;this._dependencyTree=null;this.wrapper.off(v);kendo.destroy(this.wrapper)},_wrapper:function(){var K=g.styles;this.wrapper=this.element.addClass(K.wrapper).append("<div class='"+K.gridHeader+"'><div class='"+K.gridHeaderWrap+"'></div></div>").append("<div class='"+K.gridContentWrap+"'><div class='"+K.tasksWrapper+"'></div><div class='"+K.dependenciesWrapper+"'></div></div>")},_domTrees:function(){var L=g.styles;var K=kendo.dom.Tree;var M=this.wrapper;this._headerTree=new K(M.find(k+L.gridHeaderWrap)[0]);this._taskTree=new K(M.find(k+L.tasksWrapper)[0]);this._dependencyTree=new K(M.find(k+L.dependenciesWrapper)[0])},_views:function(){var M=this.options.views;var L;var O;var N;var R;var Q;this.views={};for(var P=0,K=M.length;P<K;P++){L=M[P];O=F(L);if(O&&L.selectable===false){continue}N=O?((typeof L.type!=="string")?L.title:L.type):L;R=r[N];if(R){if(O){L.type=R.type}R.title=this.options.messages.views[N]}L=h({title:N},R,O?L:{});if(N){this.views[N]=L;if(!Q||L.selected){Q=N}}}if(Q){this._selectedViewName=Q}},view:function(K){if(K){this._selectView(K);this.trigger("navigate",{view:K,action:"changeView"})}return this._selectedView},_selectView:function(K){if(K&&this.views[K]){if(this._selectedView){this._unbindView(this._selectedView)}this._selectedView=this._initializeView(K);this._selectedViewName=K}},_viewByIndex:function(M){var L;var K=this.views;for(L in K){if(!M){return L}M--}},_initializeView:function(L){var K=this.views[L];if(K){var M=K.type;if(typeof M==="string"){M=kendo.getter(K.type)(window)}if(M){K=new M(this.wrapper,I(h(true,{headerTree:this._headerTree,taskTree:this._taskTree,dependencyTree:this._dependencyTree},K,this.options)))}else{throw new Error("There is no such view")}}return K},_unbindView:function(K){if(K){K.destroy()}},_range:function(O){var M={field:"start",dir:"asc"};var L={field:"end",dir:"desc"};if(!O||!O.length){return{start:new Date(),end:new Date()}}var N=new w(O).sort(M).toArray()[0].start||new Date();var K=new w(O).sort(L).toArray()[0].end||new Date();return{start:new Date(N),end:new Date(K)}},_render:function(M){var K=this.view();var L=this._range(M);this._tasks=M;K.range(L);K.renderLayout();K.render(M)},_renderDependencies:function(K){this.view()._renderDependencies(K)},_taskByUid:function(M){var O=this._tasks;var N=O.length;var K;for(var L=0;L<N;L++){K=O[L];if(K.uid===M){return K}}},_draggable:function(){var P=this;var N;var M;var R;var L;var K=this.options.snap;var O=g.styles;var Q=function(){P.view()._removeDragHint();if(N){N.css("opacity",1)}N=null;M=null;P.dragInProgress=false};if(!this.options.editable){return}this._moveDraggable=new kendo.ui.Draggable(this.wrapper,{distance:0,filter:k+O.task,holdToDrag:kendo.support.mobileOS,ignore:k+O.taskResizeHandle});this._moveDraggable.bind("dragstart",function(T){var S=P.view();N=T.currentTarget.parent();M=P._taskByUid(T.currentTarget.attr("data-uid"));if(P.trigger("moveStart",{task:M})){T.preventDefault();return}R=M.start;L=S._timeByPosition(T.x.location,K)-R;S._createDragHint(N);N.css("opacity",0.5);clearTimeout(P._tooltipTimeout);P.dragInProgress=true}).bind("drag",kendo.throttle(function(U){if(!P.dragInProgress){return}var S=P.view();var T=new Date(S._timeByPosition(U.x.location,K)-L);if(!P.trigger("move",{task:M,start:T})){R=T;S._updateDragHint(R)}},15)).bind("dragend",function(S){P.trigger("moveEnd",{task:M,start:R});Q()}).bind("dragcancel",function(S){Q()}).userEvents.bind("select",function(S){n()})},_resizable:function(){var Q=this;var P;var L;var K;var M;var R;var O=this.options.snap;var S=g.styles;var N=function(){Q.view()._removeResizeHint();P=null;L=null;Q.dragInProgress=false};if(!this.options.editable){return}this._resizeDraggable=new kendo.ui.Draggable(this.wrapper,{distance:0,filter:k+S.taskResizeHandle,holdToDrag:false});this._resizeDraggable.bind("dragstart",function(T){R=T.currentTarget.hasClass(S.taskResizeHandleWest);P=T.currentTarget.closest(k+S.task);L=Q._taskByUid(P.attr("data-uid"));if(Q.trigger("resizeStart",{task:L})){T.preventDefault();return}K=L.start;M=L.end;Q.view()._createResizeHint(L);clearTimeout(Q._tooltipTimeout);Q.dragInProgress=true}).bind("drag",kendo.throttle(function(V){if(!Q.dragInProgress){return}var T=Q.view();var U=T._timeByPosition(V.x.location,O,!R);if(R){if(U<M){K=U}else{K=M}}else{if(U>K){M=U}else{M=K}}if(!Q.trigger("resize",{task:L,start:K,end:M})){T._updateResizeHint(K,M,R)}},15)).bind("dragend",function(U){var T=R?K:M;Q.trigger("resizeEnd",{task:L,resizeStart:R,start:K,end:M});N()}).bind("dragcancel",function(T){N()}).userEvents.bind("select",function(T){n()})},_percentResizeDraggable:function(){var O=this;var L;var K;var T;var S;var R;var W;var P;var N;var U;var V=g.styles;var M=function(){O.view()._removePercentCompleteTooltip();K=null;L=null;O.dragInProgress=false};var Q=function(X){K.find(k+V.taskComplete).width(X).end().siblings(k+V.taskDragHandle).css("left",X)};if(!this.options.editable){return}this._percentDraggable=new kendo.ui.Draggable(this.wrapper,{distance:0,filter:k+V.taskDragHandle,holdToDrag:false});this._percentDraggable.bind("dragstart",function(X){K=X.currentTarget.siblings(k+V.task);L=O._taskByUid(K.attr("data-uid"));P=L.percentComplete;T=K.offset();S=this.element.offset();R=K.find(k+V.taskComplete).width();W=K.outerWidth();clearTimeout(O._tooltipTimeout);O.dragInProgress=true}).bind("drag",kendo.throttle(function(Y){if(!O.dragInProgress){return}var X=Math.max(0,Math.min(W,R+Y.x.initialDelta));P=Math.round((X/W)*100);Q(X);N=T.top-S.top;U=T.left+X-S.left;O.view()._updatePercentCompleteTooltip(N,U,P)},15)).bind("dragend",function(X){O.trigger("percentResizeEnd",{task:L,percentComplete:P/100});M()}).bind("dragcancel",function(X){Q(R);M()}).userEvents.bind("select",function(X){n()})},_createDependencyDraggable:function(){var R=this;var L;var V=s();var T=s();var Q;var P;var S;var O;var M=a.msie&&a.version<9;var U=g.styles;var N=function(){L.css("display","").removeClass(U.hovered);L.parent().removeClass(U.origin);L=null;K(false);T=s();V=s();R.view()._removeDependencyDragHint();R.dragInProgress=false};var K=function(W){if(!T.hasClass(U.origin)){T.find(k+U.taskDot).css("display",W?"block":"");V.toggleClass(U.hovered,W)}};if(!this.options.editable){return}if(M&&document.namespaces){document.namespaces.add("kvml","urn:schemas-microsoft-com:vml","#default#VML")}this._dependencyDraggable=new kendo.ui.Draggable(this.wrapper,{distance:0,filter:k+U.taskDot,holdToDrag:false});this._dependencyDraggable.bind("dragstart",function(X){L=X.currentTarget.css("display","block").addClass(U.hovered);L.parent().addClass(U.origin);var W=L.offset();S=R.view().content;O=S.offset();Q=Math.round(W.left+S.scrollLeft()-O.left+(L.outerHeight()/2));P=Math.round(W.top+S.scrollTop()-O.top+(L.outerWidth()/2));clearTimeout(R._tooltipTimeout);R.dragInProgress=true}).bind("drag",kendo.throttle(function(Z){if(!R.dragInProgress){return}R.view()._removeDependencyDragHint();var Y=s(kendo.elementUnderCursor(Z));var X=Z.x.location+S.scrollLeft()-O.left;var W=Z.y.location+S.scrollTop()-O.top;R.view()._updateDependencyDragHint({x:Q,y:P},{x:X,y:W},M);K(false);V=(Y.hasClass(U.taskDot))?Y:s();T=Y.closest(k+U.taskWrap);K(true)},15)).bind("dragend",function(ab){if(V.length){var X=L.hasClass(U.taskDotStart);var Y=V.hasClass(U.taskDotStart);var aa=X?(Y?3:2):(Y?1:0);var Z=R._taskByUid(L.siblings(k+U.task).attr("data-uid"));var W=R._taskByUid(V.siblings(k+U.task).attr("data-uid"));if(Z!==W){R.trigger("dependencyDragEnd",{type:aa,predecessor:Z,successor:W})}}N()}).bind("dragcancel",function(W){N()}).userEvents.bind("select",function(W){n()})},_selectable:function(){var L=this;var K=g.styles;if(this.options.selectable){this.wrapper.on(z+v,k+K.task,function(M){M.stopPropagation();if(!M.ctrlKey){L.trigger("select",{uid:s(this).attr("data-uid")})}else{L.trigger("clear")}}).on(z+v,k+K.tasksWrapper,function(M){if(L.selectDependency().length>0){L.clearSelection()}else{L.trigger("clear")}}).on(z+v,k+K.line,function(M){M.stopPropagation();L.selectDependency(this)})}},select:function(M){var K=this.wrapper.find(M);var L=g.styles;if(K.length){this.clearSelection();K.addClass(L.selected);if(kendo.support.mobileOS){K.parent().addClass(L.taskWrapActive)}return}return this.wrapper.find(k+L.task+k+L.selected)},selectDependency:function(N){var L=this.wrapper.find(N);var K;var M=g.styles;if(L.length){this.clearSelection();this.trigger("clear");K=s(L).attr("data-uid");this.wrapper.find(k+M.line+"[data-uid='"+K+"']").addClass(M.selected);return}return this.wrapper.find(k+M.line+k+M.selected)},clearSelection:function(){var K=g.styles;this.wrapper.find(k+K.selected).removeClass(K.selected);if(kendo.support.mobileOS){this.wrapper.find(k+K.taskWrapActive).removeClass(K.taskWrapActive)}},_attachEvents:function(){var L=this;var K=g.styles;if(this.options.editable){this._tabindex();this.wrapper.on(z+v,k+K.taskDelete,function(M){L.trigger("removeTask",{uid:s(this).closest(k+K.task).attr("data-uid")});M.stopPropagation();M.preventDefault()}).on(G+v,function(N){var M;if(N.keyCode===q.DELETE){M=L.selectDependency();if(M.length){L.trigger("removeDependency",{uid:M.attr("data-uid")});L.clearSelection()}}});if(!u){this.wrapper.on(l+v,k+K.task,function(M){L.trigger("editTask",{uid:s(this).attr("data-uid")});M.stopPropagation();M.preventDefault()})}else{this.touch=this.wrapper.kendoTouch({filter:k+K.task,doubletap:function(M){L.trigger("editTask",{uid:s(M.touch.currentTarget).attr("data-uid")})}}).data("kendoTouch")}}},_tooltip:function(){var N=this;var L=this.options.tooltip;var M=g.styles;var O;var K=function(P){O=P.clientX};if(L&&L.visible===false){return}this.wrapper.on(d+v,k+M.task,function(R){var Q=this;var P=N._taskByUid(s(this).attr("data-uid"));if(N.dragInProgress){return}N._tooltipTimeout=setTimeout(function(){N.view()._createTaskTooltip(P,Q,O)},800);s(this).on(C,K)}).on(j+v,k+M.task,function(P){clearTimeout(N._tooltipTimeout);N.view()._removeTaskTooltip();s(this).off(C,K)})}});h(true,g,{styles:e})})(window.kendo.jQuery);(function(H,o){var I=window.kendo;var c=I.support.browser;var f=I.Observable;var h=I.ui.Widget;var K=I.data.DataSource;var p=I.data.ObservableObject;var r=I.data.ObservableArray;var L=I.data.Query;var z=H.isArray;var Z=H.inArray;var q=I.isFunction;var U=H.proxy;var n=H.extend;var ab=H.isPlainObject;var E=H.map;var C=I.keys;var J=".kendoGantt";var a="p0";var B="tabIndex";var P="click";var g="width";var V="string";var X={down:{origin:"bottom center",position:"top center"},up:{origin:"top center",position:"bottom center"}};var O="aria-activedescendant";var D="gantt_active_cell";var d="action-option-focused";var x=".";var l="Are you sure you want to delete this task?";var u="Are you sure you want to delete this dependency?";var Q='<button class="#=styles.button# #=className#" #if (action) {#data-action="#=action#"#}#><span class="#=iconClass#"></span>#=text#</button>';var S='<a class="#=className#" #=attr# href="\\#">#=text#</a>';var v=I.template('<ul class="#=styles.viewsWrapper#">#for(var view in views){#<li class="#=styles.viewButtonDefault# #=styles.viewButton#-#= view.toLowerCase() #" data-#=ns#name="#=view#"><a href="\\#" class="#=styles.link#">#=views[view].title#</a></li>#}#</ul>');var aa=I.template('<div class="#=styles.popupWrapper#"><ul class="#=styles.popupList#" role="listbox">#for(var i = 0, l = actions.length; i < l; i++){#<li class="#=styles.item#" data-action="#=actions[i].data#" role="option">#=actions[i].text#</span>#}#</ul></div>');var Y=function(ae,ag){var ad={name:ag.field};var af=ag.model.fields[ag.field].validation;if(af&&ab(af)&&af.message){ad[I.attr("dateCompare-msg")]=af.message}H('<input type="text" required '+I.attr("type")+'="date" '+I.attr("role")+'="datetimepicker" '+I.attr("bind")+'="value:'+ag.field+'" '+I.attr("validate")+"='true' />").attr(ad).appendTo(ae);H("<span "+I.attr("for")+'="'+ag.field+'" class="k-invalid-msg"/>').hide().appendTo(ae)};var e=function(ad,ae){H('<a href="#" class="'+ae.styles.button+'">'+ae.messages.assingButton+"</a>").click(ae.click).appendTo(ad)};var w={wrapper:"k-widget k-gantt",listWrapper:"k-gantt-layout k-gantt-treelist",list:"k-gantt-treelist",timelineWrapper:"k-gantt-layout k-gantt-timeline",timeline:"k-gantt-timeline",splitBarWrapper:"k-splitbar k-state-default k-splitbar-horizontal k-splitbar-draggable-horizontal k-gantt-layout",splitBar:"k-splitbar",splitBarHover:"k-splitbar-horizontal-hover",popupWrapper:"k-list-container",popupList:"k-list k-reset",resizeHandle:"k-resize-handle",icon:"k-icon",item:"k-item",line:"k-line",buttonDelete:"k-gantt-delete",buttonCancel:"k-gantt-cancel",buttonSave:"k-gantt-update",primary:"k-primary",hovered:"k-state-hover",selected:"k-state-selected",focused:"k-state-focused",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",popup:{form:"k-popup-edit-form",editForm:"k-gantt-edit-form",formContainer:"k-edit-form-container",resourcesFormContainer:"k-resources-form-container",message:"k-popup-message",buttonsContainer:"k-edit-buttons k-state-default",button:"k-button",editField:"k-edit-field",editLabel:"k-edit-label",resourcesField:"k-gantt-resources"},toolbar:{headerWrapper:"k-floatwrap k-header k-gantt-toolbar",footerWrapper:"k-floatwrap k-header k-gantt-toolbar",toolbar:"k-gantt-toolbar",views:"k-gantt-views",viewsWrapper:"k-reset k-header k-gantt-views",actions:"k-gantt-actions",button:"k-button k-button-icontext",iconPlus:"k-icon k-i-plus",iconPdf:"k-icon k-i-pdf",viewButtonDefault:"k-state-default",viewButton:"k-view",link:"k-link",pdfButton:"k-gantt-pdf",appendButton:"k-gantt-create"}};function j(ad){return"["+I.attr("uid")+(ad?"='"+ad+"']":"]")}function ac(ad){delete ad.name;delete ad.prefix;delete ad.remove;delete ad.edit;delete ad.add;delete ad.navigate;return ad}function W(ae){if(ae.filter("[name=end], [name=start]").length){var aj=ae.attr("name");var ag=I.widgetInstance(ae,I.ui);var ai={};var ad=ae;var ah;var af;while(ad!==window&&!ah){ad=ad.parent();ah=ad.data("kendoEditable")}af=ah?ah.options.model:null;if(!af){return true}ai.start=af.start;ai.end=af.end;ai[aj]=ag?ag.value():I.parseDate(ae.value());return ai.start<=ai.end}return true}function b(af,ai){var ah=af.parents("["+I.attr("role")+'="gantt"]');var ad=[];var ae=M(ah);af.attr(B,0);if(ai){ae.each(function(aj,ak){ad[aj]=H(ak).scrollTop()})}try{af[0].setActive()}catch(ag){af[0].focus()}if(ai){ae.each(function(aj,ak){H(ak).scrollTop(ad[aj])})}}function M(ad){return H(ad).parentsUntil("body").filter(function(af,ag){var ae=I.getComputedStyles(ag,["overflow"]);return ae.overflow!="visible"}).add(window)}var N={append:{text:"Add Task",action:"add",className:w.toolbar.appendButton,iconClass:w.toolbar.iconPlus},pdf:{text:"Export to PDF",className:w.toolbar.pdfButton,iconClass:w.toolbar.iconPdf}};var t=f.extend({init:function(ae,ad){f.fn.init.call(this);this.element=ae;this.options=n(true,{},this.options,ad);this._popup()},options:{direction:"down",navigatable:false},_current:function(ag){var af=F.styles;var ae=this.list.find(x+af.focused);var ad=ae[ag]();if(ad.length){ae.removeClass(af.focused).removeAttr("id");ad.addClass(af.focused).attr("id",d);this.list.find("ul").removeAttr(O).attr(O,d)}},_popup:function(){var ae=this;var af=F.styles;var ad="li"+x+af.item;var ah=this.options.messages.actions;var ag=this.options.navigatable;this.list=H(aa({styles:af,actions:[{data:"add",text:ah.addChild},{data:"insert-before",text:ah.insertBefore},{data:"insert-after",text:ah.insertAfter}]}));this.element.append(this.list);this.popup=new I.ui.Popup(this.list,n({anchor:this.element,open:function(ai){ae._adjustListWidth()},animation:this.options.animation},X[this.options.direction]));this.element.on(P+J,x+af.toolbar.appendButton,function(ak){var aj=H(this);var ai=aj.attr(I.attr("action"));ak.preventDefault();if(ai){ae.trigger("command",{type:ai})}else{ae.popup.open();if(ag){ae.list.find("li:first").addClass(af.focused).attr("id",d).end().find("ul").attr({TABINDEX:0,"aria-activedescendant":d}).focus()}}});this.list.find(ad).hover(function(){H(this).addClass(af.hovered)},function(){H(this).removeClass(af.hovered)}).end().on(P+J,ad,function(ai){ae.trigger("command",{type:H(this).attr(I.attr("action"))});ae.popup.close()});if(ag){this.popup.bind("close",function(){ae.list.find(ad).removeClass(af.focused).end().find("ul").attr(B,0);ae.element.parents("["+I.attr("role")+'="gantt"]').find(x+af.gridContent+" > table:first").focus()});this.list.find("ul").on("keydown"+J,function(aj){var ai=aj.keyCode;switch(ai){case C.UP:aj.preventDefault();ae._current("prev");break;case C.DOWN:aj.preventDefault();ae._current("next");break;case C.ENTER:ae.list.find(x+af.focused).click();break;case C.ESC:aj.preventDefault();ae.popup.close();break}})}},_adjustListWidth:function(){var ag=this.list;var af=ag[0].style.width;var ah=this.element;var ae;var ad;if(!ag.data(g)&&af){return}ae=window.getComputedStyle?window.getComputedStyle(ah[0],null):0;ad=ae?parseFloat(ae.width):ah.outerWidth();if(ae&&(c.mozilla||c.msie)){ad+=parseFloat(ae.paddingLeft)+parseFloat(ae.paddingRight)+parseFloat(ae.borderLeftWidth)+parseFloat(ae.borderRightWidth)}if(ag.css("box-sizing")!=="border-box"){af=ad-(ag.outerWidth()-ag.width())}else{af=ad}ag.css({fontFamily:ah.css("font-family"),width:af}).data(g,af)},destroy:function(){this.popup.destroy();this.element.off(J);this.list.off(J);this.unbind()}});var R=function(ae,ad){return function(af){af=z(ah)?{data:af}:af;var ah=af||{};var ag=ah.data;ah.data=ag;if(!(ah instanceof ae)&&ah instanceof K){throw new Error("Incorrect DataSource type. Only "+ad+" instances are supported")}return ah instanceof ae?ah:new ae(ah)}};var k=I.data.Model.define({id:"id",fields:{id:{type:"number"},predecessorId:{type:"number"},successorId:{type:"number"},type:{type:"number"}}});var m=K.extend({init:function(ad){K.fn.init.call(this,n(true,{},{schema:{modelBase:k,model:k}},ad))},successors:function(ad){return this._dependencies("predecessorId",ad)},predecessors:function(ad){return this._dependencies("successorId",ad)},dependencies:function(af){var ae=this.predecessors(af);var ad=this.successors(af);ae.push.apply(ae,ad);return ae},_dependencies:function(af,ag){var ae=this.view();var ad={field:af,operator:"eq",value:ag};ae=new L(ae).filter(ad).toArray();return ae}});m.create=R(m,"GanttDependencyDataSource");var T=I.data.Model.define({duration:function(){var ad=this.end;var ae=this.start;return ad-ae},isMilestone:function(){return this.duration()===0},_offset:function(ae){var ag=["start","end"];var af;for(var ad=0;ad<ag.length;ad++){af=new Date(this.get(ag[ad]).getTime()+ae);this.set(ag[ad],af)}},id:"id",fields:{id:{type:"number"},parentId:{type:"number",defaultValue:null,validation:{required:true}},orderId:{type:"number",validation:{required:true}},title:{type:"string",defaultValue:""},start:{type:"date",validation:{required:true,dateCompare:W,message:"Start date should be before or equal to the end date"}},end:{type:"date",validation:{required:true,dateCompare:W,message:"End date should be after or equal to the start date"}},percentComplete:{type:"number",validation:{required:true,min:0,max:1,step:0.01}},summary:{type:"boolean"},expanded:{type:"boolean",defaultValue:true}}});var i=K.extend({init:function(ad){K.fn.init.call(this,n(true,{},{schema:{modelBase:T,model:T}},ad))},remove:function(ad){var af=ad.get("parentId");var ae=this.taskAllChildren(ad);this._removeItems(ae);ad=K.fn.remove.call(this,ad);this._childRemoved(af,ad.get("orderId"));return ad},add:function(ad){if(!ad){return}ad=this._toGanttTask(ad);return this.insert(this.taskSiblings(ad).length,ad)},insert:function(ae,ad){if(!ad){return}ad=this._toGanttTask(ad);ad.set("orderId",ae);ad=K.fn.insert.call(this,ae,ad);this._reorderSiblings(ad,this.taskSiblings(ad).length-1);this._resolveSummaryFields(this.taskParent(ad));return ad},taskChildren:function(ae){var ah=this.view();var ag={field:"parentId",operator:"eq",value:null};var ad=this._sort||{field:"orderId",dir:"asc"};var af;if(!!ae){af=ae.get("id");if(af===o||af===null){return[]}ag.value=af}ah=new L(ah).filter(ag).sort(ad).toArray();return ah},taskAllChildren:function(ad){var af=[];var ae=this;var ag=function(ah){var ai=ae.taskChildren(ah);af.push.apply(af,ai);E(ai,ag)};if(!!ad){ag(ad)}else{af=this.view()}return af},taskSiblings:function(ad){if(!ad){return null}var ae=this.taskParent(ad);return this.taskChildren(ae)},taskParent:function(ad){if(!ad||ad.get("parentId")===null){return null}return this.get(ad.parentId)},taskLevel:function(ad){var af=0;var ae=this.taskParent(ad);while(ae!==null){af+=1;ae=this.taskParent(ae)}return af},taskTree:function(ae){var ah=[];var ai;var aj=this.taskChildren(ae);for(var ag=0,ad=aj.length;ag<ad;ag++){ai=aj[ag];ah.push(ai);if(ai.get("expanded")){var af=this.taskTree(ai);ah.push.apply(ah,af)}}return ah},update:function(ad,ag){var ah=this;var ae;var af=function(an,ao){var am=ah.taskAllChildren(an);for(var al=0,ak=am.length;al<ak;al++){am[al]._offset(ao)}};var aj=function(am){var al=am.field;var ak=am.sender;switch(al){case"start":ah._resolveSummaryStart(ah.taskParent(ak));af(ak,ak.get(al).getTime()-ae.getTime());break;case"end":ah._resolveSummaryEnd(ah.taskParent(ak));break;case"percentComplete":ah._resolveSummaryPercentComplete(ah.taskParent(ak));break;case"orderId":ah._reorderSiblings(ak,ae);break}};if(ag.parentId!==o){ae=ad.get("parentId");if(ae!==ag.parentId){ad.set("parentId",ag.parentId);ah._childRemoved(ae,ad.get("orderId"));ad.set("orderId",ah.taskSiblings(ad).length-1);ah._resolveSummaryFields(ah.taskParent(ad))}delete ag.parentId}ad.bind("change",aj);for(var ai in ag){ae=ad.get(ai);ad.set(ai,ag[ai])}ad.unbind("change",aj)},_resolveSummaryFields:function(ad){if(!ad){return}this._updateSummary(ad);if(!this.taskChildren(ad).length){return}this._resolveSummaryStart(ad);this._resolveSummaryEnd(ad);this._resolveSummaryPercentComplete(ad)},_resolveSummaryStart:function(ad){var af=this;var ae=function(ak){var aj=af.taskChildren(ak);var ai=aj[0].start.getTime();var al;for(var ah=1,ag=aj.length;ah<ag;ah++){al=aj[ah].start.getTime();if(al<ai){ai=al}}return new Date(ai)};this._updateSummaryRecursive(ad,"start",ae)},_resolveSummaryEnd:function(ae){var af=this;var ad=function(al){var aj=af.taskChildren(al);var ag=aj[0].end.getTime();var ak;for(var ai=1,ah=aj.length;ai<ah;ai++){ak=aj[ai].end.getTime();if(ak>ag){ag=ak}}return new Date(ag)};this._updateSummaryRecursive(ae,"end",ad)},_resolveSummaryPercentComplete:function(ae){var af=this;var ad=function(ai){var ag=af.taskChildren(ai);var ah=new L(ag).aggregate([{field:"percentComplete",aggregate:"average"}]);return ah.percentComplete.average};this._updateSummaryRecursive(ae,"percentComplete",ad)},_updateSummaryRecursive:function(ad,ag,ah){if(!ad){return}var af=ah(ad);ad.set(ag,af);var ae=this.taskParent(ad);if(ae){this._updateSummaryRecursive(ae,ag,ah)}},_childRemoved:function(ai,ae){var ah=ai===null?null:this.get(ai);var ag=this.taskChildren(ah);for(var af=ae,ad=ag.length;af<ad;af++){ag[af].set("orderId",af)}this._resolveSummaryFields(ah)},_reorderSiblings:function(ad,af){var ae=ad.get("orderId");var aj=ae>af;var ak=aj?af:ae;var ah=aj?ae:af;var al=aj?ak:ak+1;var ai=this.taskSiblings(ad);ah=Math.min(ah,ai.length-1);for(var ag=ak;ag<=ah;ag++){if(ai[ag]===ad){continue}ai[ag].set("orderId",al);al+=1}},_updateSummary:function(ae){if(ae!==null){var ad=this.taskChildren(ae).length;ae.set("summary",ad>0)}},_toGanttTask:function(ad){if(!(ad instanceof T)){var ae=ad;ad=this._createNewModel();ad.accept(ae)}return ad}});i.create=R(i,"GanttDataSource");n(true,I.data,{GanttDataSource:i,GanttTask:T,GanttDependencyDataSource:m,GanttDependency:k});var A={desktop:{dateRange:Y,resources:e}};var y=I.Observable.extend({init:function(ae,ad){I.Observable.fn.init.call(this);this.element=ae;this.options=n(true,{},this.options,ad);this.createButton=this.options.createButton},fields:function(aj,af){var ai=this;var ae=this.options;var ah=ae.messages.editor;var ak=ae.resources;var ad;var ag=function(al){al.preventDefault();ak.editor(ai.container.find(x+F.styles.popup.resourcesField),af)};if(ae.editable.template){ad=H.map(af.fields,function(am,al){return{field:al}})}else{ad=[{field:"title",title:ah.title},{field:"start",title:ah.start,editor:aj.dateRange},{field:"end",title:ah.end,editor:aj.dateRange},{field:"percentComplete",title:ah.percentComplete,format:a}];if(af.get(ak.field)){ad.push({field:ak.field,title:ah.resources,messages:ah,editor:aj.resources,click:ag,styles:F.styles.popup})}}return ad},_buildEditTemplate:function(aj,ak,ap){var ae=this.options.resources;var ao=this.options.editable.template;var af=n({},I.Template,this.options.templateSettings);var ai=af.paramName;var al=F.styles.popup;var ah="";if(ao){if(typeof ao===V){ao=window.unescape(ao)}ah+=(I.template(ao,af))(aj)}else{for(var ag=0,ad=ak.length;ag<ad;ag++){var an=ak[ag];ah+='<div class="'+al.editLabel+'"><label for="'+an.field+'">'+(an.title||an.field||"")+"</label></div>";if(an.field===ae.field){ah+='<div class="'+al.resourcesField+'" style="display:none"></div>'}if((!aj.editable||aj.editable(an.field))){ap.push(an);ah+="<div "+I.attr("container-for")+'="'+an.field+'" class="'+al.editField+'"></div>'}else{var am="#:";if(an.field){an=I.expr(an.field,ai);am+=an+"==null?'':"+an}else{am+="''"}am+="#";am=I.template(am,af);ah+='<div class="'+al.editField+'">'+am(aj)+"</div>"}}}return ah}});var G=y.extend({destroy:function(){this.close();this.unbind()},editTask:function(ad){this.editable=this._createPopupEditor(ad)},close:function(){var ae=this;var ad=function(){if(ae.editable){ae.editable.destroy();ae.editable=null;ae.container=null}if(ae.popup){ae.popup.destroy();ae.popup=null}};if(this.editable&&this.container.is(":visible")){this.container.data("kendoWindow").bind("deactivate",ad).close()}else{ad()}},showDialog:function(ae){var aj=ae.buttons;var ah=F.styles.popup;var ag=I.format('<div class="{0}"><div class="{1}"><p class="{2}">{3}</p><div class="{4}">',ah.form,ah.formContainer,ah.message,ae.text,ah.buttonsContainer);for(var af=0,ai=aj.length;af<ai;af++){ag+=this.createButton(aj[af])}ag+="</div></div></div>";var ak=this.element;if(this.popup){this.popup.destroy()}var ad=this.popup=H(ag).appendTo(ak).eq(0).on("click",x+ah.button,function(am){am.preventDefault();ad.close();var al=H(am.currentTarget).index();aj[al].click()}).kendoWindow({modal:true,resizable:false,draggable:false,title:ae.title,visible:false,close:function(){this.destroy();ak.focus()}}).getKendoWindow();ad.center().open()},_createPopupEditor:function(af){var aj=this;var an={};var ag=this.options.messages;var ak=F.styles;var al=ak.popup;var ah=I.format('<div {0}="{1}" class="{2} {3}"><div class="{4}">',I.attr("uid"),af.uid,al.form,al.editForm,al.formContainer);var ai=this.fields(A.desktop,af);var am=[];ah+=this._buildEditTemplate(af,ai,am);ah+='<div class="'+al.buttonsContainer+'">';ah+=this.createButton({name:"update",text:ag.save,className:F.styles.primary});ah+=this.createButton({name:"cancel",text:ag.cancel});ah+=this.createButton({name:"delete",text:ag.destroy});ah+="</div></div></div>";var ad=this.container=H(ah).appendTo(this.element).eq(0).kendoWindow(n({modal:true,resizable:false,draggable:true,title:ag.editor.editorTitle,visible:false,close:function(ao){if(ao.userTriggered){if(aj.trigger("cancel",{container:ad,model:af})){ao.preventDefault()}}}},an));var ae=ad.kendoEditable({fields:am,model:af,clearContainer:false,validateOnBlur:true,target:aj.options.target}).data("kendoEditable");if(!this.trigger("edit",{container:ad,model:af})){ad.data("kendoWindow").center().open();ad.on(P+J,x+ak.buttonCancel,function(ao){ao.preventDefault();ao.stopPropagation();aj.trigger("cancel",{container:ad,model:af})});ad.on(P+J,x+ak.buttonSave,function(au){au.preventDefault();au.stopPropagation();var ao=aj.fields(A.desktop,af);var aq={};var at;for(var ap=0,ar=ao.length;ap<ar;ap++){at=ao[ap].field;aq[at]=af.get(at)}aj.trigger("save",{container:ad,model:af,updateInfo:aq})});ad.on(P+J,x+ak.buttonDelete,function(ao){ao.preventDefault();ao.stopPropagation();aj.trigger("remove",{container:ad,model:af})})}else{aj.trigger("cancel",{container:ad,model:af})}return ae}});var s=h.extend({init:function(ae,ad){h.fn.init.call(this,ae,ad);this.wrapper=this.element;this.model=this.options.model;this.resourcesField=this.options.resourcesField;this.createButton=this.options.createButton;this._initContainer();this._attachHandlers()},events:["save"],open:function(){this.window.center().open();this.grid.resize(true)},close:function(){this.window.bind("deactivate",U(this.destroy,this)).close()},destroy:function(){this._dettachHandlers();this.grid.destroy();this.grid=null;this.window.destroy();this.window=null;h.fn.destroy.call(this);I.destroy(this.wrapper);this.element=this.wrapper=null},_attachHandlers:function(){var af=F.styles;var ad=this.grid;var ae=this._cancelProxy=U(this._cancel,this);this.container.on(P+J,x+af.buttonCancel,this._cancelProxy);this._saveProxy=U(this._save,this);this.container.on(P+J,x+af.buttonSave,this._saveProxy);this.window.bind("close",function(ag){if(ag.userTriggered){ae(ag)}});ad.wrapper.on(P+J,"input[type='checkbox']",function(aj){var ah=H(this);var ak=H(ah).closest("tr");var ag=ad.dataSource.getByUid(ak.attr(I.attr("uid")));var ai=H(ah).is(":checked")?1:"";ag.set("value",ai)})},_dettachHandlers:function(){this._cancelProxy=null;this._saveProxy=null;this.container.off(J);this.grid.wrapper.off()},_cancel:function(ad){ad.preventDefault();this.close()},_save:function(ad){ad.preventDefault();this._updateModel();if(!this.wrapper.is(x+F.styles.popup.resourcesField)){this.trigger("save",{container:this.wrapper,model:this.model})}this.close()},_initContainer:function(){var ad=F.styles.popup;var ae=I.format('<div class="{0} {1}"><div class="{2} {3}"/></div>"',ad.form,ad.editForm,ad.formContainer,ad.resourcesFormContainer);ae=H(ae);this.container=ae.find(x+ad.resourcesFormContainer);this.window=ae.kendoWindow({modal:true,resizable:false,draggable:true,visible:false,title:this.options.messages.resourcesEditorTitle}).data("kendoWindow");this._resourceGrid();this._createButtons()},_resourceGrid:function(){var af=this;var ae=this.options.messages;var ad=H('<div id="resources-grid"/>').appendTo(this.container);this.grid=new I.ui.Grid(ad,{columns:[{field:"name",title:ae.resourcesHeader,template:"<label><input type='checkbox' value='#=name#'# if (value > 0 && value !== null) {#checked='checked'# } #/>#=name#</labe>"},{field:"value",title:ae.unitsHeader,template:function(ag){var ai=ag.format;var ah=ag.value!==null?ag.value:"";return ai?I.toString(ah,ai):ah}}],height:280,sortable:true,editable:true,filterable:true,dataSource:{data:af.options.data,schema:{model:{id:"id",fields:{id:{from:"id",type:"number"},name:{from:"name",type:"string",editable:false},value:{from:"value",type:"number",defaultValue:""},format:{from:"format",type:"string"}}}}},save:function(ah){var ag=!!ah.values.value;ah.container.parent().find("input[type='checkbox']").prop("checked",ag)}})},_createButtons:function(){var ag=this.options.buttons;var ae='<div class="'+F.styles.popup.buttonsContainer+'">';for(var ad=0,af=ag.length;ad<af;ad++){ae+=this.createButton(ag[ad])}ae+="</div>";this.container.append(ae)},_updateModel:function(){var ah=[];var ag;var af=this.grid.dataSource.data();for(var ad=0,ae=af.length;ad<ae;ad++){ag=af[ad].get("value");if(ag!==null&&ag>0){ah.push(af[ad])}}this.model[this.resourcesField]=ah}});var F=h.extend({init:function(ae,ad){if(z(ad)){ad={dataSource:ad}}h.fn.init.call(this,ae,ad);this._wrapper();this._resources();this._timeline();this._toolbar();this._footer();this._adjustDimensions();this._preventRefresh=true;this.view(this.timeline._selectedViewName);this._preventRefresh=false;this._dataSource();this._assignments();this._dropDowns();this._list();this._dependencies();this._resizable();this._scrollable();this._dataBind();this._attachEvents();this._createEditor();I.notify(this)},events:["dataBinding","dataBound","add","edit","remove","cancel","save","change","navigate","moveStart","move","moveEnd","resizeStart","resize","resizeEnd"],options:{name:"Gantt",autoBind:true,navigatable:false,selectable:true,editable:true,columns:[],views:[],dataSource:{},dependencies:{},resources:{},assignments:{},messages:{save:"Save",cancel:"Cancel",destroy:"Delete",deleteTaskWindowTitle:"Delete task",deleteDependencyWindowTitle:"Delete dependency",views:{day:"Day",week:"Week",month:"Month",year:"Year",start:"Start",end:"End"},actions:{append:"Add Task",addChild:"Add Child",insertBefore:"Add Above",insertAfter:"Add Below",pdf:"Export to PDF"},editor:{editorTitle:"Task",resourcesEditorTitle:"Resources",title:"Title",start:"Start",end:"End",percentComplete:"Complete",resources:"Resources",assingButton:"Assign",resourcesHeader:"Resources",unitsHeader:"Units"}},showWorkHours:true,showWorkDays:true,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,hourSpan:1,snap:true,height:600,listWidth:"30%"},select:function(ae){var ad=this.list;if(!ae){return ad.select()}ad.select(ae);return},clearSelection:function(){this.list.clearSelection()},destroy:function(){h.fn.destroy.call(this);if(this.dataSource){this.dataSource.unbind("change",this._refreshHandler);this.dataSource.unbind("progress",this._progressHandler);this.dataSource.unbind("error",this._errorHandler)}if(this.dependencies){this.dependencies.unbind("change",this._dependencyRefreshHandler);this.dependencies.unbind("error",this._dependencyErrorHandler)}if(this.timeline){this.timeline.unbind();this.timeline.destroy()}if(this.list){this.list.unbind();this.list.destroy()}if(this.footerDropDown){this.footerDropDown.destroy()}if(this.headerDropDown){this.headerDropDown.destroy()}if(this._editor){this._editor.destroy()}if(this._resizeDraggable){this._resizeDraggable.destroy()}this.toolbar.off(J);H(window).off("resize"+J,this._resizeHandler);H(this.wrapper).off(J);this.toolbar=null;this.footer=null},_attachEvents:function(){this._resizeHandler=U(this.resize,this);H(window).on("resize"+J,this._resizeHandler)},_wrapper:function(){var ah=F.styles;var ag=[ah.icon,ah.resizeHandle].join(" ");var ae=this.options;var ad=ae.height;var af=ae.width;this.wrapper=this.element.addClass(ah.wrapper).append("<div class='"+ah.listWrapper+"'><div></div></div>").append("<div class='"+ah.splitBarWrapper+"'><div class='"+ag+"'></div></div>").append("<div class='"+ah.timelineWrapper+"'><div></div></div>");this.wrapper.find(x+ah.list).width(ae.listWidth);if(ad){this.wrapper.height(ad)}if(af){this.wrapper.width(af)}},_toolbar:function(){var af=this;var ag=F.styles;var ae=x+ag.toolbar.views+" > li";var ai=x+ag.toolbar.pdfButton;var ak=ag.hovered;var ad=this.options.toolbar;var al=H("<div class='"+ag.toolbar.actions+"'>");var ah;var aj;if(!q(ad)){ad=(typeof ad===V?ad:this._actions(ad));ad=U(I.template(ad),this)}aj=H(v({ns:I.ns,views:this.timeline.views,styles:ag.toolbar}));al.append(ad({}));ah=H("<div class='"+ag.toolbar.headerWrapper+"'>").append(al).append(aj);this.wrapper.prepend(ah);this.toolbar=ah;ah.on(P+J,ae,function(an){an.preventDefault();var am=H(this).attr(I.attr("name"));if(!af.trigger("navigate",{view:am})){af.view(am)}}).on(P+J,ai,function(am){af.saveAsPDF()});this.wrapper.find(x+ag.toolbar.toolbar+" li").hover(function(){H(this).addClass(ak)},function(){H(this).removeClass(ak)})},_actions:function(){var ad=this.options;var ah=ad.toolbar;var af="";if(!z(ah)){if(ad.editable){ah=["append"]}else{return af}}for(var ae=0,ag=ah.length;ae<ag;ae++){af+=this._createButton(ah[ae])}return af},_footer:function(){if(!this.options.editable){return}var ag=F.styles.toolbar;var af=this.options.messages.actions;var ad=H(I.template(Q)(n(true,{styles:ag},N.append,{text:af.append})));var ae=H("<div class='"+ag.actions+"'>").append(ad);var ah=H("<div class='"+ag.footerWrapper+"'>").append(ae);this.wrapper.append(ah);this.footer=ah},_createButton:function(ai){var ag=ai.template||Q;var ah=this.options.messages.actions;var ae=typeof ai===V?ai:ai.name||ai.text;var af=N[ae]?N[ae].className:"k-gantt-"+(ae||"").replace(/\s/g,"");var ad={iconClass:"",action:"",text:ae,className:af,styles:F.styles.toolbar};if(!ae&&!(ab(ai)&&ai.template)){throw new Error("Custom commands should have name specified")}ad=n(true,ad,N[ae],{text:ah[ae]});if(ab(ai)){if(ai.className&&Z(ad.className,ai.className.split(" "))<0){ai.className+=" "+ad.className}ad=n(true,ad,ai)}return I.template(ag)(ad)},_adjustDimensions:function(){var ae=this.element;var ah=F.styles;var aj=x+ah.list;var ak=x+ah.timeline;var an=x+ah.splitBar;var am=this.toolbar.outerHeight();var al=this.footer?this.footer.outerHeight():0;var ag=ae.height();var af=ae.width();var ai=ae.find(an).outerWidth();var ad=ae.find(aj).outerWidth();ae.children([aj,ak,an].join(",")).height(ag-(am+al)).end().children(ak).width(af-(ai+ad))},_scrollTo:function(ag){var ae=this.timeline.view();var ad=I.attr("uid");var ah=typeof ag==="string"?ag:ag.closest("tr"+j()).attr(ad);var af=ae.content.find(j(ah));if(af.length!==0){ae._scrollTo(af)}},_dropDowns:function(){var ag=this;var ad=x+F.styles.toolbar.actions;var ah=this.options.messages.actions;var ai=this.dataSource;var af=this.timeline;var ae=function(aq){var ao=aq.type;var aj;var al=ai._createNewModel();var an=ag.dataItem(ag.select());var am=ai.taskParent(an);var ak=af.view()._timeSlots()[0];var ap=ao==="add"?an:am;al.set("title","New task");if(ap){al.set("parentId",ap.get("id"));al.set("start",ap.get("start"));al.set("end",ap.get("end"))}else{al.set("start",ak.start);al.set("end",ak.end)}if(ao!=="add"){aj=an.get("orderId");aj=ao==="insert-before"?aj:aj+1}ag._createTask(al,aj)};if(!this.options.editable){return}this.footerDropDown=new t(this.footer.children(ad).eq(0),{messages:{actions:ah},direction:"up",animation:{open:{effects:"slideIn:up"}},navigatable:ag.options.navigatable});this.headerDropDown=new t(this.toolbar.children(ad).eq(0),{messages:{actions:ah},navigatable:ag.options.navigatable});this.footerDropDown.bind("command",ae);this.headerDropDown.bind("command",ae)},_list:function(){var aj=this;var al=aj.options.navigatable;var ak=F.styles;var ah=this.wrapper.find(x+ak.list);var ag=ah.find("> div");var am=this.wrapper.find(x+ak.toolbar.actions+" > button");var an={columns:this.options.columns||[],dataSource:this.dataSource,selectable:this.options.selectable,editable:this.options.editable,listWidth:ah.outerWidth(),resourcesField:this.resources.field};var ae=an.columns;var ad;var ai=function(){if(al){aj._current(aj._cachedCurrent);b(aj.list.content.find("table"),true)}delete aj._cachedCurrent};for(var af=0;af<ae.length;af++){ad=ae[af];if(ad.field===this.resources.field&&typeof ad.editor!=="function"){ad.editor=U(this._createResourceEditor,this)}}this.list=new I.ui.GanttList(ag,an);this.list.bind("render",function(){aj._navigatable()},true).bind("edit",function(ao){aj._cachedCurrent=ao.cell;if(aj.trigger("edit",{task:ao.model,container:ao.cell})){ao.preventDefault()}}).bind("cancel",function(ao){if(aj.trigger("cancel",{task:ao.model,container:ao.cell})){ao.preventDefault()}ai()}).bind("update",function(ao){aj._updateTask(ao.task,ao.updateInfo);ai()}).bind("change",function(){aj.trigger("change");var ao=aj.list.select();if(ao.length){am.removeAttr("data-action","add");aj.timeline.select("[data-uid='"+ao.attr("data-uid")+"']")}else{am.attr("data-action","add");aj.timeline.clearSelection()}})},_timeline:function(){var af=this;var ag=F.styles;var ad=ac(n(true,{resourcesField:this.resources.field},this.options));var ae=this.wrapper.find(x+ag.timeline+" > div");this.timeline=new I.ui.GanttTimeline(ae,ad);this.timeline.bind("navigate",function(ah){af.toolbar.find(x+ag.toolbar.views+" > li").removeClass(ag.selected).end().find(x+ag.toolbar.viewButton+"-"+ah.view.replace(/\./g,"\\.").toLowerCase()).addClass(ag.selected);af.refresh()}).bind("moveStart",function(ah){if(af.trigger("moveStart",{task:ah.task})){ah.preventDefault()}}).bind("move",function(aj){var ai=aj.task;var ak=aj.start;var ah=new Date(ak.getTime()+ai.duration());if(af.trigger("move",{task:ai,start:ak,end:ah})){aj.preventDefault()}}).bind("moveEnd",function(aj){var ai=aj.task;var ak=aj.start;var ah=new Date(ak.getTime()+ai.duration());if(!af.trigger("moveEnd",{task:ai,start:ak,end:ah})){af._updateTask(af.dataSource.getByUid(ai.uid),{start:ak,end:ah})}}).bind("resizeStart",function(ah){if(af.trigger("resizeStart",{task:ah.task})){ah.preventDefault()}}).bind("resize",function(ah){if(af.trigger("resize",{task:ah.task,start:ah.start,end:ah.end})){ah.preventDefault()}}).bind("resizeEnd",function(aj){var ah=aj.task;var ai={};if(aj.resizeStart){ai.start=aj.start}else{ai.end=aj.end}if(!af.trigger("resizeEnd",{task:ah,start:aj.start,end:aj.end})){af._updateTask(af.dataSource.getByUid(ah.uid),ai)}}).bind("percentResizeEnd",function(ah){af._updateTask(af.dataSource.getByUid(ah.task.uid),{percentComplete:ah.percentComplete})}).bind("dependencyDragEnd",function(ai){var ah=af.dependencies._createNewModel({type:ai.type,predecessorId:ai.predecessor.id,successorId:ai.successor.id});af._createDependency(ah)}).bind("select",function(ah){af.select("[data-uid='"+ah.uid+"']")}).bind("editTask",function(ah){af.editTask(ah.uid)}).bind("clear",function(ah){af.clearSelection()}).bind("removeTask",function(ah){af.removeTask(af.dataSource.getByUid(ah.uid))}).bind("removeDependency",function(ah){af.removeDependency(af.dependencies.getByUid(ah.uid))})},_dataSource:function(){var ad=this.options;var ae=ad.dataSource;ae=z(ae)?{data:ae}:ae;if(this.dataSource&&this._refreshHandler){this.dataSource.unbind("change",this._refreshHandler).unbind("progress",this._progressHandler).unbind("error",this._errorHandler)}else{this._refreshHandler=U(this.refresh,this);this._progressHandler=U(this._requestStart,this);this._errorHandler=U(this._error,this)}this.dataSource=I.data.GanttDataSource.create(ae).bind("change",this._refreshHandler).bind("progress",this._progressHandler).bind("error",this._errorHandler)},_dependencies:function(){var ad=this.options.dependencies||{};var ae=z(ad)?{data:ad}:ad;if(this.dependencies&&this._dependencyRefreshHandler){this.dependencies.unbind("change",this._dependencyRefreshHandler).unbind("error",this._dependencyErrorHandler)}else{this._dependencyRefreshHandler=U(this.refreshDependencies,this);this._dependencyErrorHandler=U(this._error,this)}this.dependencies=I.data.GanttDependencyDataSource.create(ae).bind("change",this._dependencyRefreshHandler).bind("error",this._dependencyErrorHandler)},_resources:function(){var ad=this.options.resources;var ae=ad.dataSource||{};this.resources={field:"resources",dataTextField:"name",dataColorField:"color",dataFormatField:"format"};n(this.resources,ad);this.resources.dataSource=I.data.DataSource.create(ae)},_assignments:function(){var ad=this.options.assignments;var ae=ad.dataSource||{};if(this.assignments){this.assignments.dataSource.unbind("change",this._assignmentsRefreshHandler)}else{this._assignmentsRefreshHandler=U(this.refresh,this)}this.assignments={dataTaskIdField:"taskId",dataResourceIdField:"resourceId",dataValueField:"value"};n(this.assignments,ad);this.assignments.dataSource=I.data.DataSource.create(ae);this.assignments.dataSource.bind("change",this._assignmentsRefreshHandler)},_createEditor:function(af){var ae=this;var ad=this._editor=new G(this.wrapper,n({},this.options,{target:this,resources:{field:this.resources.field,editor:U(this._createResourceEditor,this)},createButton:U(this._createPopupButton,this)}));ad.bind("cancel",function(ah){var ag=ae.dataSource.getByUid(ah.model.uid);if(ae.trigger("cancel",{container:ah.container,task:ag})){ah.preventDefault();return}ae.cancelTask()}).bind("edit",function(ah){var ag=ae.dataSource.getByUid(ah.model.uid);if(ae.trigger("edit",{container:ah.container,task:ag})){ah.preventDefault()}}).bind("save",function(ah){var ag=ae.dataSource.getByUid(ah.model.uid);ae.saveTask(ag,ah.updateInfo)}).bind("remove",function(ag){ae.removeTask(ag.model.uid)})},_createResourceEditor:function(ad,af){var ai=this;var ae=af instanceof p?af:af.model;var ak=ae.get("id");var ah=this.options.messages;var aj=ai.resources.field;var ag=this._resourceEditor=new s(ad,{resourcesField:aj,data:this._wrapResourceData(ak),model:ae,messages:n({},ah.editor),buttons:[{name:"update",text:ah.save,className:F.styles.primary},{name:"cancel",text:ah.cancel}],createButton:U(this._createPopupButton,this),save:function(al){ai._updateAssignments(al.model.get("id"),al.model.get(aj))}});ag.open()},_createPopupButton:function(af){var ae=af.name||af.text;var ad={className:F.styles.popup.button+" k-gantt-"+(ae||"").replace(/\s/g,""),text:ae,attr:""};if(!ae&&!(ab(af)&&af.template)){throw new Error("Custom commands should have name specified")}if(ab(af)){if(af.className){af.className+=" "+ad.className}ad=n(true,ad,af)}return I.template(S)(ad)},view:function(ad){return this.timeline.view(ad)},dataItem:function(af){if(!af){return null}var ae=this.list;var ad=ae.content.find(af);return ae._modelFromElement(ad)},setDataSource:function(ad){this.options.dataSource=ad;this._dataSource();this.list._setDataSource(this.dataSource);if(this.options.autoBind){ad.fetch()}},setDependenciesDataSource:function(ad){this.options.dependencies=ad;this._dependencies();if(this.options.autoBind){ad.fetch()}},items:function(){return this.wrapper.children(".k-task")},_updateAssignments:function(af,ai){var ad=this.assignments.dataSource;var ap=this.assignments.dataTaskIdField;var an=this.assignments.dataResourceIdField;var ar=this.assignments.dataValueField;var ao=false;var ae=new L(ad.view()).filter({field:ap,operator:"eq",value:af}).toArray();var ah;var ak;var aq;while(ae.length){ah=ae[0];for(var am=0,ag=ai.length;am<ag;am++){ak=ai[am];if(ah.get(an)===ak.get("id")){aq=ai[am].get("value");ah.set(ar,aq);ai.splice(am,1);ao=true;break}}if(!ao){ad.remove(ah)}ao=false;ae.shift()}for(var al=0,aj=ai.length;al<aj;al++){ak=ai[al];ah=ad._createNewModel();ah[ap]=af;ah[an]=ak.get("id");ah[ar]=ak.get("value");ad.add(ah)}ad.sync()},cancelTask:function(){var ae=this._editor;var ad=ae.container;if(ad){ae.close()}},editTask:function(ae){var ad=typeof ae==="string"?this.dataSource.getByUid(ae):ae;if(!ad){return}var af=this.dataSource._createNewModel(ad.toJSON());af.uid=ad.uid;this.cancelTask();this._editTask(af)},_editTask:function(ad){this._editor.editTask(ad)},saveTask:function(ae,ag){var ah=this._editor;var ad=ah.container;var af=ah.editable;if(ad&&af&&af.end()){this._updateTask(ae,ag)}},_updateTask:function(ad,ae){var af=this.resources.field;if(!this.trigger("save",{task:ad,values:ae})){this._preventRefresh=true;this.dataSource.update(ad,ae);if(ae[af]){this._updateAssignments(ad.get("id"),ae[af])}this._syncDataSource()}},removeTask:function(ae){var af=this;var ad=typeof ae==="string"?this.dataSource.getByUid(ae):ae;if(!ad){return}this._taskConfirm(function(ag){if(!ag){af._removeTask(ad)}},ad)},_createTask:function(ad,ae){if(!this.trigger("add",{task:ad,dependency:null})){var af=this.dataSource;this._preventRefresh=true;if(ae===o){af.add(ad)}else{af.insert(ae,ad)}this._scrollToUid=ad.uid;this._syncDataSource()}},_createDependency:function(ad){if(!this.trigger("add",{task:null,dependency:ad})){this._preventDependencyRefresh=true;this.dependencies.add(ad);this._preventDependencyRefresh=false;this.dependencies.sync()}},removeDependency:function(ae){var af=this;var ad=typeof ae==="string"?this.dependencies.getByUid(ae):ae;if(!ad){return}this._dependencyConfirm(function(ag){if(!ag){af._removeDependency(ad)}},ad)},_removeTaskDependencies:function(ad,ag){this._preventDependencyRefresh=true;for(var ae=0,af=ag.length;ae<af;ae++){this.dependencies.remove(ag[ae])}this._preventDependencyRefresh=false;this.dependencies.sync()},_removeResourceAssignments:function(ae){var ai=this.assignments.dataSource;var ad=ai.view();var ag={field:this.assignments.dataTaskIdField,operator:"eq",value:ae.get("id")};ad=new L(ad).filter(ag).toArray();this._preventRefresh=true;for(var af=0,ah=ad.length;af<ah;af++){ai.remove(ad[af])}this._preventRefresh=false;ai.sync()},_removeTask:function(ad){var ae=this.dependencies.dependencies(ad.id);if(!this.trigger("remove",{task:ad,dependencies:ae})){this._removeTaskDependencies(ad,ae);this._removeResourceAssignments(ad);this._preventRefresh=true;if(this.dataSource.remove(ad)){this._syncDataSource()}this._preventRefresh=false}},_removeDependency:function(ad){if(!this.trigger("remove",{task:null,dependencies:[ad]})){if(this.dependencies.remove(ad)){this.dependencies.sync()}}},_taskConfirm:function(ae,ad){this._confirm(ae,{model:ad,text:l,title:this.options.messages.deleteTaskWindowTitle})},_dependencyConfirm:function(ae,ad){this._confirm(ae,{model:ad,text:u,title:this.options.messages.deleteDependencyWindowTitle})},_confirm:function(ah,ad){var ae=this.options.editable;var ag;var af;if(ae===true||ae.confirmation!==false){ag=this.options.messages;af=[{name:"delete",text:ag.destroy,className:F.styles.primary,click:function(){ah()}},{name:"cancel",text:ag.cancel,click:function(){ah(true)}}];this.showDialog(n(true,{},ad,{buttons:af}))}else{ah()}},showDialog:function(ad){this._editor.showDialog(ad)},refresh:function(ah){if(this._preventRefresh||this.list.editable){return}this._progress(false);var aj=this.dataSource;var ag=aj.taskTree();var ai=this._scrollToUid;var af;var ae;var ad=-1;if(this.current){ae=this.current.closest("tr").attr(I.attr("uid"));ad=this.current.index()}if(this.trigger("dataBinding")){return}if(this.resources.dataSource.data().length!==0){this._assignResources(ag)}if(this._editor){this._editor.close()}this.clearSelection();this.list._render(ag);this.timeline._render(ag);this.timeline._renderDependencies(this.dependencies.view());if(ai){this._scrollTo(ai);this.select(j(ai))}if((ai||ae)&&ad>=0){af=this.list.content.find("tr"+j((ai||ae))+" > td:eq("+ad+")");this._current(af)}this._scrollToUid=null;this.trigger("dataBound")},refreshDependencies:function(ad){if(this._preventDependencyRefresh){return}if(this.trigger("dataBinding")){return}this.timeline._renderDependencies(this.dependencies.view());this.trigger("dataBound")},_assignResources:function(ad){var al=this;var ah=this.resources;var ae=this.assignments;var am=function(){var an=ae.dataSource.view();var ao={field:ae.dataTaskIdField};an=new L(an).group(ao).toArray();return an};var ai=am();var ak=function(an,ar){var ap=an.get("id");I.setter(ah.field)(an,new r([]));for(var ao=0,aq=ai.length;ao<aq;ao++){if(ai[ao].value===ap){ar(an,ai[ao].items)}}};var af=function(ao,au){for(var aq=0,an=au.length;aq<an;aq++){var aw=au[aq];var ap=ah.dataSource.get(aw.get(ae.dataResourceIdField));var av=aw.get(ae.dataValueField);var ax=aw.get(ae.dataResourceIdField);var at=ap.get(ah.dataFormatField)||a;var ar=I.toString(av,at);ao[ah.field].push(new p({id:ax,name:ap.get(ah.dataTextField),color:ap.get(ah.dataColorField),value:av,formatedValue:ar}))}};for(var aj=0,ag=ad.length;aj<ag;aj++){ak(ad[aj],af)}},_wrapResourceData:function(ae){var ak=this;var am=[];var ah;var ag=this.resources.dataSource.view();var ad=this.assignments.dataSource.view();var ai=new L(ad).filter({field:ak.assignments.dataTaskIdField,operator:"eq",value:ae}).toArray();var al=function(ao){var an=null;new L(ai).filter({field:ak.assignments.dataResourceIdField,operator:"eq",value:ao}).select(function(ap){an+=ap.get(ak.assignments.dataValueField)});return an};for(var aj=0,af=ag.length;aj<af;aj++){ah=ag[aj];am.push({id:ah.get("id"),name:ah.get(ak.resources.dataTextField),format:ah.get(ak.resources.dataFormatField)||a,value:al(ah.id)})}return am},_syncDataSource:function(){this._preventRefresh=false;this._requestStart();this.dataSource.sync()},_requestStart:function(){this._progress(true)},_error:function(){this._progress(false)},_progress:function(ad){I.ui.progress(this.element,ad)},_resizable:function(){var ak=this.wrapper;var ai=F.styles;var af=x+ai.gridContent;var ae=ak.find(x+ai.list);var aj=ak.find(x+ai.timeline);var ag;var ah;var ad;this._resizeDraggable=ak.find(x+ai.splitBar).height(ae.height()).hover(function(al){H(this).addClass(ai.splitBarHover)},function(al){H(this).removeClass(ai.splitBarHover)}).end().kendoResizable({orientation:"horizontal",handle:x+ai.splitBar,start:function(al){ag=ae.width();ah=aj.width();ad=aj.find(af).scrollLeft()},resize:function(al){var am=al.x.initialDelta;if(ag+am<0||ah-am<0){return}ae.width(ag+am);aj.width(ah-am);aj.find(af).scrollLeft(ad+am)}}).data("kendoResizable")},_scrollable:function(){var ag=F.styles;var ae=x+ag.gridContent;var af=x+ag.gridHeaderWrap;var ah=this.timeline.element;var ad=this.list.element;ah.find(ae).on("scroll",function(ai){ah.find(af).scrollLeft(this.scrollLeft);ad.find(ae).scrollTop(this.scrollTop)});ad.find(ae).on("scroll",function(ai){ad.find(af).scrollLeft(this.scrollLeft)}).on("DOMMouseScroll"+J+" mousewheel"+J,function(ak){var ai=ah.find(ae);var aj=ai.scrollTop();var al=I.wheelDeltaY(ak);if(al){ak.preventDefault();H(ak.currentTarget).one("wheel"+J,false);ai.scrollTop(aj+(-al))}})},_navigatable:function(){var ah=this;var an=this.options.navigatable;var ae=this.options.editable;var aq=this.list.header.find("table");var ar=this.list.content.find("table");var al=F.styles;var af=this.timeline.element.find(x+al.gridContent);var at=aq.add(ar);var aj=j();var ak;var ad={collapse:false,expand:true};var ap=function(au){var av=ah.timeline.view()._timeSlots()[0].offsetWidth;af.scrollLeft(af.scrollLeft()+(au?-av:av))};var ag=function(ax){var av=ah.current.parent("tr"+j());var au=ah.current.index();var aw=av[ax]();if(ah.select().length!==0){ah.clearSelection()}if(aw.length!==0){ah._current(aw.children("td:eq("+au+")"));ah._scrollTo(ah.current)}else{if(ah.current.is("td")&&ax=="prev"){b(aq)}else{if(ah.current.is("th")&&ax=="next"){b(ar)}}}};var ao=function(av){var au=ah.current[av]();if(au.length!==0){ah._current(au);ak=ah.current.index()}};var am=function(av){var au=ah.dataItem(ah.current);if(au.summary&&au.expanded!==av){au.set("expanded",av)}};var ai=function(){if(!ah.options.editable||ah.list.editable){return}var au=ah.select();var av=I.attr("uid");if(au.length){ah.removeTask(au.attr(av))}};H(this.wrapper).on("mousedown"+J,"tr"+aj+", div"+aj+":not("+x+al.line+")",function(ax){var aw=H(ax.currentTarget);var au=H(ax.target).is(":button,a,:input,a>.k-icon,textarea,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap");var av;if(ax.ctrlKey){return}if(an){if(aw.is("tr")){av=H(ax.target).closest("td")}else{av=ah.list.content.find("tr"+j(aw.attr(I.attr("uid")))+" > td:first")}ah._current(av)}if((an||ae)&&!au){setTimeout(function(){b(ah.list.content.find("table"),true)},2)}});if(an!==true){ar.on("keydown"+J,function(au){if(au.keyCode==C.DELETE){ai()}});return}at.on("focus"+J,function(ay){var au=this===ar.get(0)?"td":"th";var aw=H(this);var av=ah.select();var ax=ah.current||H((av.length?av:this)).find(au+":eq("+(ak||0)+")");ah._current(ax)}).on("blur"+J,function(){ah._current();if(this==aq){H(this).attr(B,-1)}}).on("keydown"+J,function(aw){var av=aw.keyCode;var au;if(!ah.current){return}au=ah.current.is("td");switch(av){case C.RIGHT:aw.preventDefault();if(aw.altKey){ap()}else{if(aw.ctrlKey){am(ad.expand)}else{ao("next")}}break;case C.LEFT:aw.preventDefault();if(aw.altKey){ap(true)}else{if(aw.ctrlKey){am(ad.collapse)}else{ao("prev")}}break;case C.UP:aw.preventDefault();ag("prev");break;case C.DOWN:aw.preventDefault();ag("next");break;case C.SPACEBAR:aw.preventDefault();if(au){ah.select(ah.current.closest("tr"))}break;case C.ENTER:aw.preventDefault();if(au){if(ah.options.editable){ah._cachedCurrent=ah.current;ah.list._startEditHandler(ah.current);aw.stopPropagation()}}else{ah.current.children("a.k-link").click()}break;case C.ESC:aw.stopPropagation();break;case C.DELETE:if(au){ai()}break;default:if(av>=49&&av<=57){ah.view(ah.timeline._viewByIndex(av-49))}break}})},_current:function(ad){var af=F.styles;var ae;if(this.current&&this.current.length){this.current.removeClass(af.focused).removeAttr("id")}if(ad&&ad.length){this.current=ad.addClass(af.focused).attr("id",D);ae=H(I._activeElement());if(ae.is("table")&&this.wrapper.find(ae).length>0){ae.removeAttr(O).attr(O,D)}}else{this.current=null}},_dataBind:function(){var ae=this;if(ae.options.autoBind){this._preventRefresh=true;this._preventDependencyRefresh=true;var ad=H.map([this.dataSource,this.dependencies,this.resources.dataSource,this.assignments.dataSource],function(af){return af.fetch()});H.when.apply(null,ad).done(function(){ae._preventRefresh=false;ae._preventDependencyRefresh=false;ae.refresh()})}},_resize:function(){this._adjustDimensions();this.timeline.view()._adjustHeight();this.list._adjustHeight()}});if(I.PDFMixin){I.PDFMixin.extend(F.prototype)}I.ui.plugin(F);n(true,F,{styles:w})})(window.kendo.jQuery);(function(s,d){var O=kendo.data;var c=s.extend;var f=kendo.dom;var D=f.element;var H=f.text;var e=f.html;var B=kendo.ui;var p=B.DataBoundWidget;var x=O.DataSource;var g=O.ObservableArray;var y=O.Query;var K=O.Model;var L=s.proxy;var o=s.map;var P=s.grep;var M="string";var q="change";var u="error";var m="progress";var i=".";var w=".kendoTreeList";var F="click";var z="mousedown";var E="edit";var G="save";var v="expand";var l="collapse";var a="remove";var J="dataBinding";var b="dataBound";var C="cancel";var n="filterMenuInit";var k={wrapper:"k-treelist k-grid k-widget",header:"k-header",button:"k-button",alt:"k-alt",editCell:"k-edit-cell",group:"k-treelist-group",gridToolbar:"k-grid-toolbar",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",gridContentWrap:"k-grid-content",gridFilter:"k-grid-filter",footerTemplate:"k-footer-template",loading:"k-loading",refresh:"k-i-refresh",retry:"k-request-retry",selected:"k-state-selected",status:"k-status",link:"k-link",withIcon:"k-with-icon",filterable:"k-filterable",icon:"k-icon",iconFilter:"k-filter",iconCollapse:"k-i-collapse",iconExpand:"k-i-expand",iconHidden:"k-i-none",iconPlaceHolder:"k-icon k-i-none",input:"k-input",dropPositions:"k-insert-top k-insert-bottom k-add k-insert-middle",dropTop:"k-insert-top",dropBottom:"k-insert-bottom",dropAdd:"k-add",dropMiddle:"k-insert-middle",dropDenied:"k-denied",dragStatus:"k-drag-status",dragClue:"k-drag-clue",dragClueText:"k-clue-text"};var A={create:{imageClass:"k-add",className:"k-grid-add",methodName:"addRow"},createchild:{imageClass:"k-add",className:"k-grid-add",methodName:"addRow"},destroy:{imageClass:"k-delete",className:"k-grid-delete",methodName:"removeRow"},edit:{imageClass:"k-edit",className:"k-grid-edit",methodName:"editRow"},update:{imageClass:"k-update",className:"k-primary k-grid-update",methodName:"saveRow"},canceledit:{imageClass:"k-cancel",className:"k-grid-cancel",methodName:"_cancelEdit"},excel:{imageClass:"k-i-excel",className:"k-grid-excel",methodName:"saveAsExcel"},pdf:{imageClass:"k-i-pdf",className:"k-grid-pdf",methodName:"saveAsPDF"}};var N=K.define({id:"id",fields:{id:{type:"number"},parentId:{type:"number",nullable:true}},init:function(Q){K.fn.init.call(this,Q);this._loaded=false},loaded:function(Q){if(Q!==d){this._loaded=Q}else{return this._loaded}},shouldSerialize:function(Q){return K.fn.shouldSerialize.call(this,Q)&&Q!=="_loaded"&&Q!="_error"&&Q!="_edit"}});var I=x.extend({init:function(Q){x.fn.init.call(this,c(true,{},{schema:{modelBase:N,model:N}},Q))},_readData:function(S){var Q=[];var U=this.data();var R,T;for(R=0,T=U.length;R<T;R++){Q.push(U[R])}return Q.concat(x.fn._readData.call(this,S))},_readAggregates:function(R){var Q=c(this._aggregateResult,this.reader.aggregates(R));if("" in Q){Q[this._defaultParentId()]=Q[""];delete Q[""]}return Q},remove:function(Q){var R=this._subtree(this._childrenMap(this.data()),Q.id);this._removeItems(R);x.fn.remove.call(this,Q)},_filterCallback:function(V){var Q=[];var U=V.toArray();var W={};var R,S,T;for(R=0;R<U.length;R++){T=U[R];while(T){W[T.id]=true;if(!W[T.parentId]){W[T.parentId]=true;T=this.parentNode(T);if(T){Q.push(T)}}else{break}}}return new y(U.concat(Q))},_subtree:function(T,V){var R=T[V]||[];var U=this._defaultParentId();for(var S=0,Q=R.length;S<Q;S++){if(R[S].id!==U){R=R.concat(this._subtree(T,R[S].id))}}return R},_childrenMap:function(S){var T={};var Q,R,V,U;S=this._observeView(S);for(Q=0;Q<S.length;Q++){R=S[Q];V=R.id;U=R.parentId;T[V]=T[V]||[];T[U]=T[U]||[];T[U].push(R)}return T},_calculateAggregates:function(T,Y){Y=Y||{};var Z={};var X,W,U,S,V;var R=Y.filter;if(R){T=y.process(T,{filter:R,filterCallback:L(this._filterCallback,this)}).data}var Q=this._childrenMap(T);Z[this._defaultParentId()]=new y(this._subtree(Q,this._defaultParentId())).aggregate(Y.aggregate);for(U=0;U<T.length;U++){X=T[U];W=this._subtree(Q,X.id);Z[X.id]=new y(W).aggregate(Y.aggregate)}return Z},_queryProcess:function(S,X){X=X||{};X.filterCallback=L(this._filterCallback,this);var V=this._defaultParentId();var Y=y.process(S,X);var Q=this._childrenMap(Y.data);var U,T,W,R;S=Q[V]||[];for(T=0;T<S.length;T++){W=S[T];if(W.id===V){continue}R=Q[W.id];U=!!(R&&R.length);if(!W.loaded()){W.loaded(U)}if(W.loaded()||W.hasChildren!==true){W.hasChildren=U}if(U){S.splice.apply(S,[T+1,0].concat(R))}}Y.data=S;return Y},_queueRequest:function(Q,R){R.call(this)},_modelLoaded:function(R){var Q=this.get(R);Q.loaded(true);Q.hasChildren=this.childNodes(Q).length>0},_modelError:function(R,Q){this.get(R)._error=Q},read:function(Q){if(!Q||!Q.id){this._data=this._observe([])}return x.fn.read.call(this,Q)},load:function(Q){var R="_query";if(!Q.loaded()&&Q.hasChildren){R="read"}return this[R]({id:Q.id}).then(L(this._modelLoaded,this,Q.id),L(this._modelError,this,Q.id))},_byParentId:function(V,S){var Q=[];var R=this.view();var U;if(V===S){return[]}for(var T=0;T<R.length;T++){U=R.at(T);if(U.parentId==V){Q.push(U)}}return Q},_defaultParentId:function(){return this.reader.model.fn.defaults.parentId},childNodes:function(Q){return this._byParentId(Q.id,this._defaultParentId())},rootNodes:function(){return this._byParentId(this._defaultParentId())},parentNode:function(Q){return this.get(Q.parentId)},level:function(R){var Q=-1;if(!(R instanceof N)){R=this.get(R)}do{R=this.parentNode(R);Q++}while(R);return Q},filter:function(R){var Q=x.fn.filter;if(R===d){return Q.call(this,R)}Q.call(this,R)}});I.create=function(Q){if(s.isArray(Q)){Q={data:Q}}else{if(Q instanceof g){Q={data:Q.toJSON()}}}return Q instanceof I?Q:new I(Q)};function h(Q){var S=[];var T=Q.className;for(var R=0,U=Q.level;R<U;R++){S.push(D("span",{className:T}))}return S}var j=kendo.Observable.extend({init:function(R,Q){kendo.Observable.fn.init.call(this);Q=this.options=c(true,{},this.options,Q);this.element=R;this.bind(this.events,Q);this.model=this.options.model;this.fields=this._fields(this.options.columns);this._initContainer();this.createEditable()},events:[],_initContainer:function(){this.wrapper=this.element},createEditable:function(){var Q=this.options;this.editable=new B.Editable(this.wrapper,{fields:this.fields,target:Q.target,clearContainer:Q.clearContainer,model:this.model})},_isEditable:function(Q){return Q.field&&this.model.editable(Q.field)},_fields:function(S){var R=[];var Q,U,T;for(Q=0,U=S.length;Q<U;Q++){T=S[Q];if(this._isEditable(T)){R.push({field:T.field,format:T.format,editor:T.editor})}}return R},end:function(){return this.editable.end()},close:function(){this.destroy()},destroy:function(){this.editable.destroy();this.editable.element.find("["+kendo.attr("container-for")+"]").empty();this.model=this.wrapper=this.element=this.columns=this.editable=null}});var r=j.extend({init:function(R,Q){j.fn.init.call(this,R,Q);this._attachHandlers();this.open()},events:[C,G],options:{window:{modal:true,resizable:false,draggable:true,title:"Edit",visible:false}},_initContainer:function(){var Q=this.options;var R=[];this.wrapper=s('<div class="k-popup-edit-form"/>').attr(kendo.attr("uid"),this.model.uid).append('<div class="k-edit-form-container"/>');if(Q.template){this._appendTemplate(R);this.fields=[]}else{this._appendFields(R)}this._appendButtons(R);new f.Tree(this.wrapper.children()[0]).render(R);this.wrapper.appendTo(Q.appendTo);this.window=new B.Window(this.wrapper,Q.window)},_appendTemplate:function(R){var Q=this.options.template;if(typeof Q===M){Q=window.unescape(Q)}Q=kendo.template(Q)(this.model);R.push(e(Q))},_appendFields:function(V){var Q,U,T;var R=this.model;var S=this.options.columns;for(Q=0,U=S.length;Q<U;Q++){T=S[Q];if(T.command){continue}V.push(e('<div class="k-edit-label"><label for="'+T.field+'">'+(T.title||T.field||"")+"</label></div>"));if(this._isEditable(T)){V.push(e("<div "+kendo.attr("container-for")+'="'+T.field+'" class="k-edit-field"></div>'))}else{V.push(D("div",{"class":"k-edit-field"},[this.options.fieldRenderer(T,this.model)]))}}},_appendButtons:function(Q){Q.push(D("div",{"class":"k-edit-buttons k-state-default"},this.options.commandRenderer()))},_attachHandlers:function(){var Q=this._cancelProxy=L(this._cancel,this);this.wrapper.on(F+w,".k-grid-cancel",this._cancelProxy);this._saveProxy=L(this._save,this);this.wrapper.on(F+w,".k-grid-update",this._saveProxy);this.window.bind("close",function(R){if(R.userTriggered){Q(R)}})},_dettachHandlers:function(){this._cancelProxy=null;this._saveProxy=null;this.wrapper.off(w)},_cancel:function(Q){this.trigger(C,Q)},_save:function(Q){this.trigger(G)},open:function(){this.window.center().open()},close:function(){this.window.bind("deactivate",L(this.destroy,this)).close()},destroy:function(){this.window.destroy();this.window=null;this._dettachHandlers();j.fn.destroy.call(this)}});var t=p.extend({init:function(R,Q){p.fn.init.call(this,R,Q);this._dataSource(this.options.dataSource);this._columns();this._layout();this._sortable();this._filterable();this._selectable();this._attachEvents();this._toolbar();this._scrollable();if(this.options.autoBind){this.dataSource.fetch()}this._adjustHeight();kendo.notify(this)},_scrollable:function(){if(this.options.scrollable){var R=this.header.closest(".k-grid-header-wrap");this.content.closest(".k-grid-content").bind("scroll"+w,function(){R.scrollLeft(this.scrollLeft)});var Q=kendo.touchScroller(this.content.closest("div"));if(Q&&Q.movable){this._touchScroller=Q}}},_progress:function(){var Q=this.options.messages;if(!this.content.find("tr").length){this._showStatus(kendo.template("<span class='#= className #' /> #: messages.loading #")({className:k.icon+" "+k.loading,messages:Q}))}},_error:function(Q){if(!this.dataSource.rootNodes().length){this._render({error:Q})}},refresh:function(Q){Q=Q||{};if(Q.action=="itemchange"&&this.editor){return}if(this.trigger(J)){return}this._angularItems("cleanup");this._angularFooters("cleanup");this._cancelEditor();this._render();this._adjustHeight();this._angularItems("compile");this._angularFooters("compile");this.trigger(b)},_angularFooters:function(T){var S,V,U;var Q=this.dataSource.aggregates();var R=this.content.find("tr").filter(function(){return s(this).hasClass(k.footerTemplate)});for(S=0;S<R.length;S++){V=R.eq(S);U=Q[V.attr("data-parentId")];this._angularFooter(T,V.find("td").get(),U)}},_angularFooter:function(S,Q,T){var R=this.columns;this.angular(S,function(){return{elements:Q,data:o(R,function(U,V){return{column:U,aggregate:T&&T[U.field]}})}})},items:function(){return this.content.find("tr").filter(function(){return !s(this).hasClass(k.footerTemplate)})},_showStatus:function(R){var Q=this.element.find(".k-status");if(!Q.length){Q=s("<div class='k-status' />").appendTo(this.element)}this._contentTree.render([]);this.content.closest(i+k.gridContent).hide();Q.html(R)},_hideStatus:function(){this.element.find(".k-status").remove();this.content.closest(i+k.gridContent).show()},_adjustHeight:function(){var Q=this.element;var U=Q.find(i+k.gridContentWrap);var T=Q.find(i+k.gridHeader);var R=Q.find(i+k.gridToolbar);Q.height(this.options.height);var S=function(X){var W,V;if(X[0].style.height){return true}else{W=X.height()}X.height("auto");V=X.height();X.height("");return(W!=V)};if(S(Q)){U.height(Q.height()-T.outerHeight()-R.outerHeight())}},destroy:function(){p.fn.destroy.call(this);var Q=this.dataSource;Q.unbind(q,this._refreshHandler);Q.unbind(u,this._errorHandler);Q.unbind(m,this._progressHandler);this._destroyEditor();this.element.off(w);if(this._touchScroller){this._touchScroller.destroy()}this._refreshHandler=this._errorHandler=this._progressHandler=null;this.header=this.content=this.element=null;this._statusTree=this._headerTree=this._contentTree=null},options:{name:"TreeList",columns:[],autoBind:true,scrollable:true,selectable:false,sortable:false,toolbar:null,height:null,messages:{noRows:"No records to display",loading:"Loading...",requestFailed:"Request failed.",retry:"Retry",commands:{edit:"Edit",update:"Update",canceledit:"Cancel",create:"Add new record",createchild:"Add child record",destroy:"Delete",excel:"Export to Excel",pdf:"Export to PDF"}},excel:{hierarchy:true},filterable:false,editable:false},events:[q,E,G,a,v,l,J,b,C,n],_toggle:function(R,S){var Q=R.loaded();if(R._error){R.expanded=false;R._error=d}if(!Q&&R.expanded){return}if(typeof S=="undefined"){S=!R.expanded}R.expanded=S;if(!Q){this.dataSource.load(R).always(L(this.refresh,this))}this.refresh()},expand:function(Q){this._toggle(this.dataItem(Q),true)},collapse:function(Q){this._toggle(this.dataItem(Q),false)},_toggleChildren:function(T){var R=s(T.currentTarget);var Q=this.dataItem(R);var S=!Q.expanded?v:l;if(!this.trigger(S,{model:Q})){this._toggle(Q)}T.preventDefault()},_attachEvents:function(){var R=i+k.iconCollapse+", ."+k.iconExpand+", ."+k.refresh;var Q=i+k.retry;var S=this.dataSource;this.element.on(z+w,R,L(this._toggleChildren,this)).on(F+w,Q,L(S.fetch,S)).on(F+w,".k-button[data-command]",L(this._commandClick,this))},_commandByName:function(S){var U=this.columns;var T,R,Q;S=S.toLowerCase();if(A[S]){return A[S]}for(T=0;T<U.length;T++){Q=U[T].command;if(Q){for(R=0;R<Q.length;R++){if(Q[R].name.toLowerCase()==S){return Q[R]}}}}},_commandClick:function(S){var R=s(S.currentTarget);var Q=R.attr("data-command");var U=this._commandByName(Q);var T=R.closest("tr");T=T.length?T:d;if(U){if(U.methodName){this[U.methodName](T)}else{if(U.click){U.click.call(this,S)}}}},_columns:function(){var Q=this.options.columns||[];this.columns=o(Q,function(S){S=(typeof S==="string")?{field:S}:S;return c({encoded:true},S)});var R=P(this.columns,function(S){return S.expandable});if(this.columns.length&&!R.length){this.columns[0].expandable=true}this._columnTemplates();this._columnAttributes()},_columnTemplates:function(){var Q,T,S;var R=this.columns;for(Q=0,T=R.length;Q<T;Q++){S=R[Q];if(S.template){S.template=kendo.template(S.template)}if(S.headerTemplate){S.headerTemplate=kendo.template(S.headerTemplate)}if(S.footerTemplate){S.footerTemplate=kendo.template(S.footerTemplate)}}},_columnAttributes:function(){var R,U,T;var S=this.columns;function Q(V){var X,W,Y;if(V&&V.style){X=V.style.split(";");V.style={};for(W=0;W<X.length;W++){Y=X[W].split(":");V.style[Y[0]]=Y[1]}}}for(R=0,U=S.length;R<U;R++){Q(S[R].attributes);Q(S[R].headerAttributes)}},_layout:function(){var S=this.element;var Q=this._colgroup();var T="";this.wrapper=S.addClass(k.wrapper);T="<div class='#= gridHeader #' style=\"padding-right: "+kendo.support.scrollbar()+"px;\"><div class='#= gridHeaderWrap #'><table role='grid'>"+Q+"<thead role='rowgroup' /></table></div></div><div class='#= gridContentWrap #'><table role='treegrid' tabindex='0'>"+Q+"<tbody /></table></div>";if(!this.options.scrollable){T="<table role='treegrid' tabindex='0'>"+Q+"<thead class='#= gridHeader #' role='rowgroup' /><tbody /></table>"}if(this.options.toolbar){T="<div class='#= header # #= gridToolbar #' />"+T}S.append(kendo.template(T)(k)+"<div class='k-status' />");this.toolbar=S.find(i+k.gridToolbar);var U=this.header=S.find(i+k.gridHeader).find("thead").addBack().filter("thead");this._headerTree=new f.Tree(this.header[0]);this._headerTree.render([D("tr",{role:"row"},this._ths())]);var R=this.columns;this.angular("compile",function(){return{elements:U.find("th.k-header").get(),data:o(R,function(V){return{column:V}})}});this.content=S.find(i+k.gridContentWrap).find("tbody");if(!this.content.length){this.content=S.find("tbody")}this._contentTree=new f.Tree(this.content[0]);this._statusTree=new f.Tree(this.element.children(".k-status")[0])},_toolbar:function(){var Q=this.options.toolbar;var S=this.toolbar;if(!Q){return}if(s.isArray(Q)){var R=this._buildCommands(Q);new f.Tree(S[0]).render(R)}else{S.append(kendo.template(Q)({}))}this.angular("compile",function(){return{elements:S.get()}})},_render:function(Q){Q=Q||{};var R=this.options.messages;var S=this.dataSource.rootNodes();var T=this.dataSource.aggregates();this._absoluteIndex=0;if(Q.error){this._showStatus(kendo.template("#: messages.requestFailed # <button class='#= buttonClass #'>#: messages.retry #</button>")({buttonClass:[k.button,k.retry].join(" "),messages:R}))}else{if(!S.length){this._showStatus(kendo.htmlEncode(R.noRows))}else{this._hideStatus();this._contentTree.render(this._trs({aggregates:Q.aggregates,data:S,visible:true,level:0}))}}},_ths:function(){var V=this.columns;var Q=this.options.filterable;var R=[];var U,Z,T,Y,X;for(var W=0,S=V.length;W<S;W++){U=V[W];T=[];Y=[k.header];if(U.headerTemplate){Z=U.headerTemplate({})}else{Z=U.title||U.field||""}if(U.sortable){T.push(D("a",{href:"#",className:k.link},[H(Z)]))}else{if(U.headerTemplate){T.push(e(Z))}else{T.push(H(Z))}}X={"data-field":U.field,"data-title":U.title,className:Y.join(" "),role:"columnheader"};if(U.headerAttributes){c(X,U.headerAttributes)}R.push(D("th",X,T))}return R},_colgroup:function(){var R=this.columns;var V=[];var T,S;for(var Q=0,U=R.length;Q<U;Q++){V.push("<col ");S=R[Q].width;if(S&&parseInt(S,10)!==0){V.push("style='width:");V.push(typeof S==="string"?S:S+"px");V.push("'")}V.push("/>")}return"<colgroup>"+V.join("")+"</colgroup>"},_trs:function(ad){var W,Z,aa,X,ab,U,S,V;var ac=[];var R=ad.level;var T=ad.data;var Q=this.dataSource;var Y=Q.aggregates()||{};for(U=0,S=T.length;U<S;U++){aa=[];W=T[U];ab=W.loaded()&&Q.childNodes(W);X=ab&&ab.length;Z={"data-uid":W.uid,role:"row"};if(X){Z["aria-expanded"]=!!W.expanded}if(this._absoluteIndex%2!==0){aa.push(k.alt)}if(ad.visible){this._absoluteIndex++}else{Z.style={display:"none"}}if(X){aa.push(k.group)}if(W._edit){aa.push("k-grid-edit-row")}Z.className=aa.join(" ")||d;ac.push(this._tds({model:W,attr:Z,level:R},L(this._td,this)));if(X){ac=ac.concat(this._trs({parentId:W.id,aggregates:Y,visible:ad.visible&&!!W.expanded,data:ab,level:R+1}))}}if(this._hasFooterTemplate()){V=ad.parentId||null;Z={className:k.footerTemplate,"data-parentId":V};if(!ad.visible){Z.style={display:"none"}}ac.push(this._tds({model:Y[V],attr:Z,level:R},this._footerTd))}return ac},_footerTd:function(R){var U=[];var T=R.column;var S=R.column.footerTemplate||s.noop;var V=R.model[T.field]||{};var Q={role:"gridcell"};if(T.expandable){U=U.concat(h({level:R.level+1,className:k.iconPlaceHolder}))}if(T.attributes){c(Q,T.attributes)}U.push(e(S(V)||""));return D("td",Q,U)},_hasFooterTemplate:function(){return !!P(this.columns,function(Q){return Q.footerTemplate}).length},_tds:function(R,W){var U=[];var T=this.columns;var V;for(var S=0,Q=T.length;S<Q;S++){V=T[S];U.push(W({model:R.model,column:V,level:R.level}))}return D("tr",R.attr,U)},_td:function(T){var U=[];var S=T.model;var V=T.column;var R;var Q={role:"gridcell"};if(S._edit&&V.field&&S.editable(V.field)){Q[kendo.attr("container-for")]=V.field}else{if(V.expandable){U=h({level:T.level,className:k.iconPlaceHolder});R=[k.icon];if(S.hasChildren){R.push(S.expanded?k.iconCollapse:k.iconExpand)}else{R.push(k.iconHidden)}if(S._error){R.push(k.refresh)}else{if(!S.loaded()&&S.expanded){R.push(k.loading)}}U.push(D("span",{className:R.join(" ")}))}if(V.attributes){c(Q,V.attributes)}if(V.command){if(S._edit){U=this._buildCommands(["update","canceledit"])}else{U=this._buildCommands(V.command)}}else{U.push(this._cellContent(V,S))}}return D("td",Q,U)},_cellContent:function(R,Q){var S;if(R.template){S=R.template(Q)}else{if(R.field){S=Q.get(R.field);if(R.format){S=kendo.format(R.format,S)}}}if(typeof S=="undefined"){S=""}if(R.template||!R.encoded){return e(S)}else{return H(S)}},_buildCommands:function(R){var S,Q=[];for(S=0;S<R.length;S++){Q.push(this._button(R[S]))}return Q},_button:function(T){var Q=(T.name||T).toLowerCase();var S=this.options.messages.commands[Q];var R=[];T=c({},A[Q],{text:S},T);if(T.imageClass){R.push(D("span",{className:["k-icon",T.imageClass].join(" ")}))}return D("button",{"data-command":Q,className:["k-button","k-button-icontext",T.className].join(" ")},R.concat([H(T.text||T.name)]))},_sortable:function(){var S=this.columns;var R;var Y;var X=this.header.find("th");var W,V,Q;var U=kendo.attr("field");var T=this.options.sortable;if(!T){return}for(V=0,Q=X.length;V<Q;V++){R=S[V];if(R.sortable!==false&&!R.command&&R.field){W=X.eq(V);Y=W.data("kendoColumnSorter");if(Y){Y.destroy()}W.attr(U,R.field).kendoColumnSorter(c({},T,R.sortable,{dataSource:this.dataSource}))}}},_filterable:function(){var S=this.header.find("th");var V=this.options.filterable;var R,U,T,Q,W;if(!V){return}var X=L(function(Y){this.trigger(n,{field:Y.field,container:Y.container})},this);for(R=0,U=S.length;R<U;R++){T=this.columns[R];Q=S.eq(R);W=Q.data("kendoFilterMenu");if(W){W.destroy()}if(T.command||T.filterable===false){continue}Q.kendoFilterMenu(c(true,{},V,T.filterable,{dataSource:this.dataSource,init:X}))}},_change:function(){this.trigger(q)},_selectable:function(){var Q=this.options.selectable;var R;if(Q){Q=kendo.ui.Selectable.parseOptions(Q);R=">tr:not(.k-footer-template)";if(Q.cell){R=R+">td"}this.selectable=new kendo.ui.Selectable(this.content,{filter:R,aria:true,multiple:Q.multiple,change:L(this._change,this)})}},select:function(R){var Q=this.selectable;if(typeof R!=="undefined"&&!Q.options.multiple){Q.clear();R=R.first()}return Q.value(R)},clearSelection:function(){var Q=this.select();if(Q.length){this.selectable.clear();this.trigger(q)}},_dataSource:function(R){var Q=this.dataSource;if(Q){Q.unbind(q,this._refreshHandler);Q.unbind(u,this._errorHandler);Q.unbind(m,this._progressHandler)}this._refreshHandler=L(this.refresh,this);this._errorHandler=L(this._error,this);this._progressHandler=L(this._progress,this);Q=this.dataSource=I.create(R);Q.bind(q,this._refreshHandler);Q.bind(u,this._errorHandler);Q.bind(m,this._progressHandler)},setDataSource:function(Q){this._dataSource(Q);this._sortable();this._filterable();this._contentTree.render([]);if(this.options.autoBind){this.dataSource.fetch()}},dataItem:function(R){var S=s(R).closest("tr");var Q=this.dataSource.getByUid(S.attr(kendo.attr("uid")));return Q},editRow:function(R){var Q;if(typeof R===M){R=this.content.find(R)}Q=this.dataItem(R);if(!Q){return}if(this._editMode()!="popup"){Q._edit=true}this._cancelEditor();this._render();this._createEditor(Q);this.trigger(E,{container:this.editor.element,model:Q})},_cancelEdit:function(Q){Q=c(Q,{container:this.editor.wrapper,model:this.editor.model});if(this.trigger(C,Q)){return}this.cancelRow()},cancelRow:function(){this._cancelEditor();this._render()},saveRow:function(){var R=this.editor;var Q;if(!R){return}Q={model:R.model,container:R.element};if(R.end()&&!this.trigger(G,Q)){this.dataSource.sync()}},addRow:function(T){var S=this.editor;var R=0;var Q={};if(S&&!S.end()){return}if(T){if(!(T instanceof N)){T=this.dataItem(T)}Q.parentId=T.id;R=this.dataSource.indexOf(T)+1;T.set("expanded",true);this.dataSource.load(T).then(L(this._insertAt,this,Q,R));return}this._insertAt(Q,R)},_insertAt:function(R,Q){R=this.dataSource.insert(Q,R);var S=this.content.find("["+kendo.attr("uid")+"="+R.uid+"]");this.editRow(S)},removeRow:function(S){var R=this.dataItem(S);var Q={model:R,row:S};if(R&&!this.trigger(a,Q)){this.dataSource.remove(R);this.dataSource.sync()}},_cancelEditor:function(){var Q;var R=this.editor;if(R){Q=R.model;this._destroyEditor();this.dataSource.cancelChanges(Q);Q._edit=false}},_destroyEditor:function(){if(!this.editor){return}this.editor.close();this.editor=null},_createEditor:function(R){var T=this.content.find("["+kendo.attr("uid")+"="+R.uid+"]");var S=this._editMode();var Q={columns:this.columns,model:R,target:this,clearContainer:false,template:this.options.editable.template};if(S=="inline"){this.editor=new j(T,Q)}else{c(Q,{window:this.options.editable.window,commandRenderer:L(function(){return this._buildCommands(["update","canceledit"])},this),fieldRenderer:this._cellContent,save:L(this.saveRow,this),cancel:L(this._cancelEdit,this),appendTo:this.wrapper});this.editor=new r(T,Q)}},_editMode:function(){var R="inline",Q=this.options.editable;if(Q!==true){if(typeof Q=="string"){R=Q}else{R=Q.mode||R}}return R.toLowerCase()}});if(kendo.ExcelMixin){kendo.ExcelMixin.extend(t.prototype)}if(kendo.PDFMixin){kendo.PDFMixin.extend(t.prototype)}c(true,kendo.data,{TreeListDataSource:I,TreeListModel:N});c(true,kendo.ui,{TreeList:t});B.plugin(t)})(window.kendo.jQuery);(function(f,b){var k=window.kendo,l=k.ui,m=l.Widget,n=".kendoPivotConfigurator",i="mouseenter"+n+" mouseleave"+n,e=k.template('<p class="k-reset"><span class="k-icon #=icon#"></span>${name}</p><div class="k-list-container k-reset"/>');function d(s){var r;var p=0;var q=s.length;for(;p<q;p++){if(s[p].type==2){r=true;break}}if(r){s.splice(p+1,0,{caption:"KPIs",defaultHierarchy:"[KPIs]",name:"KPIs",uniqueName:"[KPIs]"})}}function o(p){return{name:p.uniqueName,type:p.type}}function h(r){for(var p=0,q=r.length;p<q;p++){r[p].uniqueName=r[p].name;r[p].type="kpi"}return r}function j(p){var q=f(p).closest(".k-pivot-setting");if(q.length){return q.data("kendoPivotSettingTarget")}return null}var a=m.extend({init:function(q,p){m.fn.init.call(this,q,p);this.element.addClass("k-widget k-fieldselector k-alt k-edit-form-container");this._dataSource();this._layout();this.refresh();k.notify(this)},events:[],options:{name:"PivotConfigurator",filterable:false,sortable:false,messages:{measures:"Drop Data Fields Here",columns:"Drop Column Fields Here",rows:"Drop Rows Fields Here",measuresLabel:"Measures",columnsLabel:"Columns",rowsLabel:"Rows",fieldsLabel:"Fields"}},_dataSource:function(){if(this.dataSource&&this._refreshHandler){this.dataSource.unbind("change",this._refreshHandler)}else{this._refreshHandler=f.proxy(this.refresh,this)}this.dataSource=k.data.PivotDataSource.create(this.options.dataSource);this.dataSource.bind("change",this._refreshHandler)},setDataSource:function(p){this.options.dataSource=p;this._dataSource();if(this.measures){this.measures.setDataSource(p)}if(this.rows){this.rows.setDataSource(p)}if(this.columns){this.columns.setDataSource(p)}this.refresh()},_treeViewDataSource:function(){var p=this;return k.data.HierarchicalDataSource.create({schema:{model:{id:"uniqueName",hasChildren:function(q){return !("hierarchyUniqueName" in q)&&!("aggregator" in q)}}},transport:{read:function(q){var t;var r;var s;if(f.isEmptyObject(q.data)){t=p.dataSource.schemaDimensions();t.done(function(u){if(!p.dataSource.cubeBuilder){d(u)}q.success(u)}).fail(q.error)}else{r=p.treeView.dataSource.get(q.data.uniqueName);if(r.uniqueName==="[KPIs]"){s=true;t=p.dataSource.schemaKPIs();t.done(function(u){q.success(h(u))}).fail(q.error)}else{if(r.type=="kpi"){s=true;q.success(g(r))}}if(!s){if(r.type==2){t=p.dataSource.schemaMeasures()}else{if(r.dimensionUniqueName){t=p.dataSource.schemaLevels(q.data.uniqueName)}else{t=p.dataSource.schemaHierarchies(q.data.uniqueName)}}t.done(q.success).fail(q.error)}}}}})},_layout:function(){this.form=f('<div class="k-columns k-state-default k-floatwrap"/>').appendTo(this.element);this._fields();this._targets()},_fields:function(){var p=f('<div class="k-state-default"><p class="k-reset"><span class="k-icon k-i-group"></span>'+this.options.messages.fieldsLabel+"</p></div>").appendTo(this.form);var r=this;var q='# if (item.type == 2 || item.uniqueName == "[KPIs]") { #<span class="k-icon k-i-#= (item.type == 2 ? "sum" : "kpi") #"></span># } else if (item.type && item.type !== "kpi") { #<span class="k-icon k-i-dimension"></span># } ##: item.caption || item.name #';this.treeView=f("<div/>").appendTo(p).kendoTreeView({template:q,dataTextField:"caption",dragAndDrop:true,autoBind:false,dataSource:this._treeViewDataSource(),dragstart:function(t){var s=this.dataItem(t.sourceNode);if((!s.hasChildren&&!s.aggregator&&!s.measure)||(s.type==2)||s.uniqueName==="[KPIs]"){t.preventDefault()}},drag:function(u){var s="k-denied";var t=j(u.dropTarget);if(t&&t.validate(this.dataItem(u.sourceNode))){s="k-add"}u.setStatusClass(s)},drop:function(y){y.preventDefault();var u=j(y.dropTarget);var w=this.dataItem(y.sourceNode);var s,v,x;var t;if(u&&u.validate(w)){t=w.defaultHierarchy||w.uniqueName;if(w.type==="kpi"){x=g(w);v=x.length;t=[];for(s=0;s<v;s++){t.push(o(x[s]))}}else{if(w.kpi){t=[o(w)]}}u.add(t)}}}).data("kendoTreeView")},_createTarget:function(r,p){var s='<li class="k-item k-header" data-'+k.ns+'name="${data.name}">${data.name}';var t=p.sortable;var q="";if(t){q+="#if (data.sortIcon) {#";q+='<span class="k-icon ${data.sortIcon} k-setting-sort"></span>';q+="#}#"}if(p.filterable||t){q+='<span class="k-icon k-i-arrowhead-s k-setting-fieldmenu"></span>'}q+='<span class="k-icon k-si-close k-setting-delete"></span>';s+='<span class="k-field-actions">'+q+"</span></li>";return new k.ui.PivotSettingTarget(r,f.extend({dataSource:this.dataSource,hint:function(u){var v=f('<div class="k-fieldselector"><ul class="k-list k-reset"></ul></div>');v.find(".k-list").append(u.clone());return v},template:s,emptyTemplate:'<li class="k-item k-empty">${data}</li>'},p))},_targets:function(){var r=f('<div class="k-state-default"/>').appendTo(this.form);var q=f(e({name:this.options.messages.columnsLabel,icon:"k-i-vbars"})).appendTo(r);var t=f('<ul class="k-pivot-configurator-settings k-list k-reset" />').appendTo(q.last());var w=f(e({name:this.options.messages.rowsLabel,icon:"k-i-hbars"})).appendTo(r);var u=f('<ul class="k-pivot-configurator-settings k-list k-reset" />').appendTo(w.last());var p=f(e({name:this.options.messages.measuresLabel,icon:"k-i-sum"})).appendTo(r);var v=f('<ul class="k-pivot-configurator-settings k-list k-reset" />').appendTo(p.last());var s=this.options;this.columns=this._createTarget(t,{filterable:s.filterable,sortable:s.sortable,connectWith:u,messages:{empty:s.messages.columns,fieldMenu:s.messages.fieldMenu}});this.rows=this._createTarget(u,{filterable:s.filterable,setting:"rows",connectWith:t,messages:{empty:this.options.messages.rows,fieldMenu:this.options.messages.fieldMenu}});this.measures=this._createTarget(v,{setting:"measures",messages:{empty:s.messages.measures}});t.add(u).add(v).on(i,".k-item:not(.k-empty)",this._toggleHover)},_toggleHover:function(p){f(p.currentTarget).toggleClass("k-state-hover",p.type==="mouseenter")},_resize:function(){var s=this.element;var q=this.options.height;var r,p;if(!q){return}if(s.is(":visible")){s.height(q);p=s.children(".k-columns").children("div.k-state-default");r=(s.outerHeight()-s.innerHeight())/2;q=q-(p.outerHeight(true)-p.height())-r;p.height(q)}},refresh:function(){var p=this.dataSource;if(p.cubeBuilder||this._cube!==p.cube()||this._catalog!==p.catalog()){this.treeView.dataSource.fetch()}this._catalog=this.dataSource.catalog();this._cube=this.dataSource.cube();this._resize()},destroy:function(){m.fn.destroy.call(this);this.dataSource.unbind("change",this._refreshHandler);this.form.find(".k-list").off(n);this.rows.destroy();this.columns.destroy();this.measures.destroy();this.treeView.destroy();this.element=null;this._refreshHandler=null}});function c(p,r,q){return{hierarchyUniqueName:p,uniqueName:r,caption:r,measure:r,name:r,type:q,kpi:true}}function g(q){var p=q.name;return[c(p,q.value,"value"),c(p,q.goal,"goal"),c(p,q.status,"status"),c(p,q.trend,"trend")]}l.plugin(a)})(window.kendo.jQuery);(function(i,t,j){if(!t){return}var a=t.module("kendo.directives",[]),y=t.injector(["ng"]),h=y.get("$parse"),I=y.get("$timeout"),v,x=y.get("$log");function l(K){var J=I;try{I=function(L){return L()};return K()}finally{I=J}}var m;var D=(function(){var J={TreeList:"TreeListDataSource",TreeView:"HierarchicalDataSource",Scheduler:"SchedulerDataSource",PanelBar:"$PLAIN",Menu:"$PLAIN",ContextMenu:"$PLAIN"};var K=function(M,L){if(L=="$PLAIN"){return M}return kendo.data[L].create(M)};return function(N,L,Q,P){var M=J[Q]||"DataSource";var O=K(N.$eval(P),M);N.$watch(P,function(T,R){var S=w(L);if(S&&!(T instanceof kendo.data.ObservableArray)){if(T!==R){if(typeof S.setDataSource=="function"){S.setDataSource(K(T,M))}}else{if(S.dataSource&&typeof S.dataSource.data=="function"){S.dataSource.data(T)}}}},true);return O}}());var s={kDataSource:true,kOptions:true,kRebind:true,kNgModel:true,kNgDelay:true};var A={name:true,title:true,style:true};function c(L,K,J,M){K[J]=t.copy(L.$eval(M));if(K[J]===j&&M.match(/^\w*$/)){x.warn(J+" attribute resolved to undefined. Maybe you meant to use a string literal like: '"+M+"'?")}}function H(V,N,T,O,J,K){var U=T.kNgDelay,R=V.$eval(U);K=K||[];var M=K[0],L=K[1];if(U&&!R){var P=V.$root||V;var S=function(){var W=V.$watch(U,function(Y,X){if(Y!==X){W();N.removeAttr(T.$attr.kNgDelay);U=null;I(Q)}})};if(/^\$(digest|apply)$/.test(P.$$phase)){S()}else{V.$apply(S)}return}else{return Q()}function Q(){var ad;if(T.kRebind){ad=i(i(N)[0].cloneNode(true))}var aa=O.replace(/^kendo/,"");var ae=t.extend({},T.defaultOptions,V.$eval(T.kOptions||T.options));var ac=i(N)[O];if(!ac){window.console.error("Could not find: "+O);return null}var Y=ac.widget.prototype.options;var ab=ac.widget.prototype.events;i.each(T,function(ai,ak){if(ai==="source"||ai==="kDataSource"){return}var af="data"+ai.charAt(0).toUpperCase()+ai.slice(1);if(ai.indexOf("on")===0){var ah=ai.replace(/^on./,function(al){return al.charAt(2).toLowerCase()});if(ab.indexOf(ah)>-1){ae[ah]=ak}}if(Y.hasOwnProperty(af)){c(V,ae,af,ak)}else{if(Y.hasOwnProperty(ai)&&!A[ai]){c(V,ae,ai,ak)}else{if(!s[ai]){var ag=ai.match(/^k(On)?([A-Z].*)/);if(ag){var aj=ag[2].charAt(0).toLowerCase()+ag[2].slice(1);if(ag[1]&&ai!="kOnLabel"){ae[aj]=ak}else{if(ai=="kOnLabel"){aj="onLabel"}c(V,ae,aj,ak)}}}}}});var X=T.kDataSource||T.source;if(X){ae.dataSource=D(V,N,aa,X)}ae.$angular=[V];if(N.is("select")){(function(af){if(af.length>0){var ag=i(af[0]);if(!/\S/.test(ag.text())&&/^\?/.test(ag.val())){ag.remove()}}}(N[0].options))}var Z=ac.call(N,m=ae).data(O);r(Z,V,T,O,J);V.$emit("kendoWidgetCreated",Z);var W=k(V,Z);if(T.kRebind){u(Z,V,N,ad,T.kRebind,W)}if(T.kNgModel){g(Z,V,T.kNgModel)}if(M){C(Z,V,N,M,L)}B(Z,N);return Z}}function r(N,L,K,M,J){if(K[J]){var O=h(K[J]).assign;if(O){O(L,N)}else{throw new Error(J+" attribute used but expression in it is not assignable: "+K[M])}}}function n(J){if(/checkbox|radio/i.test(J.attr("type"))){return J.prop("checked")}return J.val()}var z=/^(input|select|textarea)$/i;function b(J){return z.test(J[0].tagName)}function C(N,R,M,L,K){if(!N.value){return}var P;if(b(M)){P=function(){return n(M)}}else{P=function(){return N.value()}}L.$render=function(){var S=L.$viewValue;if(S===j){S=L.$modelValue}setTimeout(function(){if(N){N.value(S)}},0)};var Q=false;if(b(M)){M.on("change",function(){Q=true})}var O=function(S){return function(){var T;if(Q){return}Q=false;if(S&&K){T=K.$pristine}L.$setViewValue(P());if(S){L.$setPristine();if(T){K.$setPristine()}}E(R)}};N.first("change",O(false));N.first("dataBound",O(true));var J=P();if(J!=L.$viewValue){if(!L.$isEmpty(L.$viewValue)){N.value(L.$viewValue)}else{if(J!=null&&J!==""&&J!=L.$viewValue){L.$setViewValue(J)}}}L.$setPristine()}function g(N,M,K){if(typeof N.value!="function"){x.warn("k-ng-model specified on a widget that does not have the value() method: "+(N.options.name));return}var J=h(K);var O=J.assign;var L=false;N.$angular_setLogicValue(J(M));M.$apply(function(){var P=function(R,Q){if(R===j){R=null}if(L){return}if(R===Q){return}N.$angular_setLogicValue(R)};if(kendo.ui.MultiSelect&&N instanceof kendo.ui.MultiSelect){M.$watchCollection(K,P)}else{M.$watch(K,P)}});N.first("change",function(){L=true;M.$apply(function(){O(M,N.$angular_getLogicValue())});L=false})}function k(J,L){var K=J.$on("$destroy",function(){K();if(L){if(L.element){L=w(L.element);if(L){L.destroy()}}L=null}});return K}function B(O,J){if(!(window.MutationObserver&&O.wrapper)){return}var L=[].slice.call(i(J)[0].classList);var N=new MutationObserver(function(P){K();if(!O){return}P.forEach(function(S){var Q=i(O.wrapper)[0];switch(S.attributeName){case"class":var R=[].slice.call(S.target.classList);R.forEach(function(T){if(L.indexOf(T)<0){Q.classList.add(T);if(kendo.ui.ComboBox&&O instanceof kendo.ui.ComboBox){O.input[0].classList.add(T)}}});L.forEach(function(T){if(R.indexOf(T)<0){Q.classList.remove(T);if(kendo.ui.ComboBox&&O instanceof kendo.ui.ComboBox){O.input[0].classList.remove(T)}}});L=R;break;case"disabled":if(typeof O.enable=="function"){O.enable(!i(S.target).attr("disabled"))}break;case"readonly":if(typeof O.readonly=="function"){O.readonly(!!i(S.target).attr("readonly"))}break}});M()});function K(){N.disconnect()}function M(){N.observe(i(J)[0],{attributes:true})}M();O.first("destroy",K)}function u(P,N,M,J,K,O){var L=N.$watch(K,function(U,R){if(U!==R){L();var T=i(P.wrapper)[0];var Q=i(P.element)[0];var S=M.injector().get("$compile");P.destroy();if(O){O()}P=null;if(T&&Q){T.parentNode.replaceChild(Q,T);i(M).replaceWith(J)}S(J)(N)}},true);E(N)}a.factory("directiveFactory",["$compile",function(L){var J=0;var M=false;v=L;var K=function(O,N){return{restrict:"AC",require:["?ngModel","^?form"],scope:false,controller:["$scope","$attrs","$element",function(R,P,Q){this.template=function(S,T){P[S]=kendo.stringify(T)}}],link:function(U,T,S,V){var R=i(T);var Q=O.replace(/([A-Z])/g,"-$1");var P=R.css("visibility")!=="hidden";R.attr(Q,R.attr("data-"+Q));R[0].removeAttribute("data-"+Q);if(P){R.css("visibility","hidden")}++J;I(function(){if(P){R.css("visibility","")}var W=H(U,T,S,O,N,V);if(!W){return}--J;if(J===0){U.$emit("kendoRendered");if(!M){M=true;i("form").each(function(){var X=i(this).controller("form");if(X){X.$setPristine()}})}}})}}};return{create:K}}]);var F={Editor:"textarea",NumericTextBox:"input",DatePicker:"input",DateTimePicker:"input",TimePicker:"input",AutoComplete:"input",ColorPicker:"input",MaskedTextBox:"input",MultiSelect:"input",Upload:"input",Validator:"form",Button:"button",MobileButton:"a",MobileBackButton:"a",MobileDetailButton:"a",ListView:"ul",MobileListView:"ul",TreeView:"ul",Menu:"ul",ContextMenu:"ul",ActionSheet:"ul"};var p=["MobileView","MobileLayout","MobileSplitView","MobilePane","MobileModalView"];var d=["MobileApplication","MobileView","MobileModalView","MobileLayout","MobileActionSheet","MobileDrawer","MobileSplitView","MobilePane","MobileScrollView","MobilePopOver"];t.forEach(["MobileNavBar","MobileButton","MobileBackButton","MobileDetailButton","MobileTabStrip","MobileScrollView"],function(J){d.push(J);J="kendo"+J;a.directive(J,function(){return{restrict:"A",link:function(M,L,K,N){H(M,L,K,J,J)}}})});function G(M,L){function N(S,R){a.directive(S,["directiveFactory",function(T){return T.create(R,S)}])}var O=L?"Mobile":"";O+=M.fn.options.name;var P=O;var K="kendo"+O.charAt(0)+O.substr(1).toLowerCase();O="kendo"+O;var J=O.replace(/([A-Z])/g,"-$1");if(p.indexOf(O.replace("kendo",""))==-1){var Q=O===K?[O]:[O,K];t.forEach(Q,function(R){a.directive(R,function(){return{restrict:"E",replace:true,template:function(U,T){var S=F[P]||"div";return"<"+S+" "+J+">"+U.html()+"</"+S+">"}}})})}if(d.indexOf(O.replace("kendo",""))>-1){return}N(O,O);if(K!=O){N(K,O)}}(function(){function J(K){return function(L){t.forEach(L,function(M){if(M.fn&&M.fn.options&&M.fn.options.name&&(/^[A-Z]/).test(M.fn.options.name)){G(M,K)}})}}t.forEach([kendo.ui,kendo.dataviz&&kendo.dataviz.ui],J(false));t.forEach([kendo.mobile&&kendo.mobile.ui],J(true))})();function w(J){J=i(J);return kendo.widgetInstance(J,kendo.ui)||kendo.widgetInstance(J,kendo.mobile.ui)||kendo.widgetInstance(J,kendo.dataviz.ui)}function E(L,M){var J=L.$root||L;var K=/^\$(digest|apply)$/.test(J.$$phase);if(M){if(K){M()}else{J.$apply(M)}}else{if(!K){J.$digest()}}}function o(K,J){K.$destroy();if(J){i(J).removeData("$scope").removeData("$isolateScope").removeData("$isolateScopeNoTemplate").removeClass("ng-scope")}}var q=[];function f(K,M,N){if(i.isArray(K)){return t.forEach(K,function(P){f(P,M,N)})}if(typeof K=="string"){var L=K.split(".");var J=kendo;while(J&&L.length>0){J=J[L.shift()]}if(!J){q.push([K,M,N]);return false}K=J.prototype}var O=K[M];K[M]=function(){var P=this,Q=arguments;return N.apply({self:P,next:function(){return O.apply(P,arguments.length>0?arguments:Q)}},Q)};return true}f(kendo.ui,"plugin",function(J,K,L){this.next();q=i.grep(q,function(M){return !f.apply(null,M)});G(J,L=="Mobile")});f(["ui.Widget","mobile.ui.Widget"],"angular",function(M,J){var K=this.self;if(M=="init"){if(!J&&m){J=m}m=null;if(J&&J.$angular){K.$angular_scope=J.$angular[0];K.$angular_init(K.element,J)}return}var L=K.$angular_scope;if(L){l(function(){var N=J(),Q=N.elements,P=N.data;if(Q.length>0){switch(M){case"cleanup":t.forEach(Q,function(S){var T=t.element(S).scope();if(T&&T!==L&&T.$$kendoScope){o(T,S)}});break;case"compile":var R=K.element.injector();var O=R?R.get("$compile"):v;t.forEach(Q,function(T,S){var U;if(N.scopeFrom){U=t.element(N.scopeFrom).scope()}else{var V=P&&P[S];if(V!==j){U=i.extend(L.$new(),V);U.$$kendoScope=true}}O(T)(U||L)});E(L);break}}})}});f("ui.Widget","$angular_getLogicValue",function(){return this.self.value()});f("ui.Widget","$angular_setLogicValue",function(J){this.self.value(J)});f("ui.Select","$angular_getLogicValue",function(){var J=this.self.dataItem();if(J){if(this.self.options.valuePrimitive){return J[this.self.options.dataValueField]}else{return J.toJSON()}}else{return null}});f("ui.Select","$angular_setLogicValue",function(M){var J=this.self;var L=J.options;var K=L.dataValueField;if(K&&!L.valuePrimitive){M=M!=null?M[L.dataValueField||L.dataTextField]:null}J.value(M)});f("ui.MultiSelect","$angular_getLogicValue",function(){var K=this.self.dataItems().slice(0);var J=this.self.options.dataValueField;if(J&&this.self.options.valuePrimitive){K=i.map(K,function(L){return L[J]})}return K});f("ui.MultiSelect","$angular_setLogicValue",function(L){if(L==null){L=[]}var J=this.self,K=J.options.dataValueField;if(K&&!J.options.valuePrimitive){L=i.map(L,function(M){return M[K]})}J.value(L)});f("ui.AutoComplete","$angular_getLogicValue",function(){var S=this.self.options;var Q=this.self.value().split(S.separator);var K=S.valuePrimitive;var N=this.self.dataSource.data();var P=[];for(var O=0,L=N.length;O<L;O++){var R=N[O];var J=S.dataTextField?R[S.dataTextField]:R;for(var M=0;M<Q.length;M++){if(J===Q[M]){if(K){P.push(J)}else{P.push(R.toJSON())}break}}}return P});f("ui.AutoComplete","$angular_setLogicValue",function(K){if(K==null){K=[]}var J=this.self,L=J.options.dataTextField;if(L&&!J.options.valuePrimitive){K=i.map(K,function(M){return M[L]})}J.value(K)});f("ui.Widget","$angular_init",function(M,K){var J=this.self;if(K&&!i.isArray(K)){var O=J.$angular_scope;for(var L=J.events.length;--L>=0;){var P=J.events[L];var N=K[P];if(N&&typeof N=="string"){K[P]=J.$angular_makeEventHandler(P,O,N)}}}});f("ui.Widget","$angular_makeEventHandler",function(L,K,J){J=h(J);return function(M){E(K,function(){J(K,{kendoEvent:M})})}});f(["ui.Grid","ui.ListView","ui.TreeView"],"$angular_makeEventHandler",function(L,K,J){if(L!="change"){return this.next()}J=h(J);return function(U){var S=U.sender;var X=S.options;var V,Y,O={kendoEvent:U},N,T,P,R;if(t.isString(X.selectable)){V=X.selectable.indexOf("cell")!==-1;Y=X.selectable.indexOf("multiple")!==-1}N=O.selected=this.select();T=O.data=[];P=O.columns=[];for(var Q=0;Q<N.length;Q++){var W=V?N[Q].parentNode:N[Q];var M=S.dataItem(W);if(V){if(t.element.inArray(M,T)<0){T.push(M)}R=t.element(N[Q]).index();if(t.element.inArray(R,P)<0){P.push(R)}}else{T.push(M)}}if(!Y){O.dataItem=O.data=T[0];O.selected=N[0]}E(K,function(){J(K,O)})}});f("ui.Grid","$angular_init",function(K,J){this.next();if(J.columns){var L=i.extend({},kendo.Template,J.templateSettings);t.forEach(J.columns,function(M){if(M.field&&!M.template&&!M.format&&!M.values&&(M.encoded===j||M.encoded)){M.template="<span ng-bind='"+kendo.expr(M.field,"dataItem")+"'>#: "+kendo.expr(M.field,L.paramName)+"#</span>"}})}});f("mobile.ui.ButtonGroup","value",function(K){var J=this.self;if(K!=null){J.select(J.element.children("li.km-button").eq(K));J.trigger("change");J.trigger("select",{index:J.selectedIndex})}return J.selectedIndex});f("mobile.ui.ButtonGroup","_select",function(){this.next();this.self.trigger("change")});a.directive("kendoMobileApplication",function(){return{terminal:true,link:function(L,K,J,M){H(L,K,J,"kendoMobileApplication","kendoMobileApplication")}}}).directive("kendoMobileView",function(){return{scope:true,link:{pre:function(L,K,J,M){J.defaultOptions=L.viewOptions;J._instance=H(L,K,J,"kendoMobileView","kendoMobileView")},post:function(L,K,J){J._instance._layout();J._instance._scroller()}}}}).directive("kendoMobileDrawer",function(){return{scope:true,link:{pre:function(L,K,J,M){J.defaultOptions=L.viewOptions;J._instance=H(L,K,J,"kendoMobileDrawer","kendoMobileDrawer")},post:function(L,K,J){J._instance._layout();J._instance._scroller()}}}}).directive("kendoMobileModalView",function(){return{scope:true,link:{pre:function(L,K,J,M){J.defaultOptions=L.viewOptions;J._instance=H(L,K,J,"kendoMobileModalView","kendoMobileModalView")},post:function(L,K,J){J._instance._layout();J._instance._scroller()}}}}).directive("kendoMobileSplitView",function(){return{terminal:true,link:{pre:function(L,K,J,M){J.defaultOptions=L.viewOptions;J._instance=H(L,K,J,"kendoMobileSplitView","kendoMobileSplitView")},post:function(L,K,J){J._instance._layout()}}}}).directive("kendoMobilePane",function(){return{terminal:true,link:{pre:function(L,K,J,M){J.defaultOptions=L.viewOptions;H(L,K,J,"kendoMobilePane","kendoMobilePane")}}}}).directive("kendoMobileLayout",function(){return{link:{pre:function(L,K,J,M){H(L,K,J,"kendoMobileLayout","kendoMobileLayout")}}}}).directive("kendoMobileActionSheet",function(){return{restrict:"A",link:function(L,K,J,M){K.find("a[k-action]").each(function(){i(this).attr("data-"+kendo.ns+"action",i(this).attr("k-action"))});H(L,K,J,"kendoMobileActionSheet","kendoMobileActionSheet")}}}).directive("kendoMobilePopOver",function(){return{terminal:true,link:{pre:function(L,K,J,M){J.defaultOptions=L.viewOptions;H(L,K,J,"kendoMobilePopOver","kendoMobilePopOver")}}}}).directive("kendoViewTitle",function(){return{restrict:"E",replace:true,template:function(K,J){return"<span data-"+kendo.ns+"role='view-title'>"+K.html()+"</span>"}}}).directive("kendoMobileHeader",function(){return{restrict:"E",link:function(L,K,J,M){K.addClass("km-header").attr("data-role","header")}}}).directive("kendoMobileFooter",function(){return{restrict:"E",link:function(L,K,J,M){K.addClass("km-footer").attr("data-role","footer")}}}).directive("kendoMobileScrollViewPage",function(){return{restrict:"E",replace:true,template:function(K,J){return"<div data-"+kendo.ns+"role='page'>"+K.html()+"</div>"}}});t.forEach(["align","icon","rel","transition","actionsheetContext"],function(J){var K="k"+J.slice(0,1).toUpperCase()+J.slice(1);a.directive(K,function(){return{restrict:"A",priority:2,link:function(N,M,L){M.attr(kendo.attr(kendo.toHyphens(J)),N.$eval(L[K]))}}})});var e={TreeMap:["Template"],MobileListView:["HeaderTemplate","Template"],MobileScrollView:["EmptyTemplate","Template"],Grid:["AltRowTemplate","DetailTemplate","RowTemplate"],ListView:["EditTemplate","Template","AltTemplate"],Pager:["SelectTemplate","LinkTemplate"],PivotGrid:["ColumnHeaderTemplate","DataCellTemplate","RowHeaderTemplate"],Scheduler:["AllDayEventTemplate","DateHeaderTemplate","EventTemplate","MajorTimeHeaderTemplate","MinorTimeHeaderTemplate"],TreeView:["Template"],Validator:["ErrorTemplate"]};(function(){var J={};t.forEach(e,function(K,L){t.forEach(K,function(M){if(!J[M]){J[M]=[]}J[M].push("?^^kendo"+L)})});t.forEach(J,function(L,N){var K="k"+N;var M=kendo.toHyphens(K);a.directive(K,function(){return{restrict:"A",require:L,terminal:true,compile:function(P,O){if(O[K]!==""){return}P.removeAttr(M);var Q=P[0].outerHTML;return function(U,T,S,V){var R;while(!R&&V.length){R=V.shift()}if(!R){x.warn(M+" without a matching parent widget found. It can be one of the following: "+L.join(", "))}else{R.template(K,Q);P.remove()}}}}})})})()})(window.kendo.jQuery,window.angular);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b){b()});(function(){kendo.cultures["fa-IR"]={name:"fa-IR",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{pattern:["-$n","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"£"}},calendars:{standard:{days:{names:["يکشنبه","دوشنبه","سه شنبه","چهارشنبه","پنج شنبه","جمعه","شنبه"],namesAbbr:["يک","دو","سه","چهار","پنج","جمعه","شنبه"],namesShort:["ي","د","س","چ","پ","ج","ش"]},months:{names:["فروردين","ارديبهشت","خرداد","تير","مرداد","شهريور","مهر","آبان","آذر","دي","بهمن","اسفند",""],namesAbbr:["فروردين","ارديبهشت","خرداد","تير","مرداد","شهريور","مهر","آبان","آذر","دي","بهمن","اسفند",""]},AM:["ق.ض","ق.ض","ق.ض"],PM:["ب.ض","ب.ض","ب.ض"],patterns:{d:"yyyy/MM/dd",D:"yyyy/MM/dd",F:"yyyy/MM/dd HH:mm:ss",g:"yyyy/MM/dd HH:mm",G:"yyyy/MM/dd HH:mm:ss",m:"dd MMMM",M:"dd MMMM",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",t:"HH:mm",T:"HH:mm:ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM yyyy",Y:"MMMM yyyy"},"/":"/",":":":",firstDay:6}}}})(this);kendo.culture("fa-IR");